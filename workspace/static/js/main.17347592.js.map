{"version":3,"file":"static/js/main.17347592.js","mappings":"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","sources":["../node_modules/@glue42/desktop/node_modules/@glue42/core/dist/core.es.js","../node_modules/@glue42/desktop/src/activity/entities/activityEntity.ts","../node_modules/@glue42/desktop/src/activity/helpers/util.ts","../node_modules/@glue42/desktop/src/activity/entities/activityType.ts","../node_modules/@glue42/desktop/src/activity/entities/windowType.ts","../node_modules/@glue42/desktop/src/activity/contracts/entityEvent.ts","../node_modules/@glue42/desktop/src/activity/core/activityAGM.ts","../node_modules/@glue42/desktop/src/activity/entities/attachedActivityDescriptor.ts","../node_modules/@glue42/desktop/src/activity/helpers/promiseExtensions.ts","../node_modules/@glue42/desktop/src/activity/entities/activity.ts","../node_modules/@glue42/desktop/src/activity/helpers/logger.ts","../node_modules/@glue42/desktop/src/activity/entities/activityWindow.ts","../node_modules/@glue42/desktop/src/activity/contracts/activityStatus.ts","../node_modules/@glue42/desktop/src/activity/bridges/gw3Bridge.ts","../node_modules/@glue42/desktop/src/activity/API/activityMyAPI.ts","../node_modules/@glue42/desktop/src/activity/helpers/readyMarker.ts","../node_modules/@glue42/desktop/src/activity/helpers/entityObservableCollection.ts","../node_modules/@glue42/desktop/src/activity/core/activityManager.ts","../node_modules/@glue42/desktop/src/activity/API/activityManagementAPI.ts","../node_modules/@glue42/desktop/src/activity/API/activityAPI.ts","../node_modules/@glue42/desktop/src/activity/activityModule.ts","../node_modules/@glue42/desktop/src/app-manager/const/agm-names.ts","../node_modules/@glue42/desktop/node_modules/callback-registry/lib/index.js","../node_modules/@glue42/desktop/src/app-manager/helper.ts","../node_modules/@glue42/desktop/src/app-manager/application.ts","../node_modules/@glue42/desktop/src/app-manager/instance.ts","../node_modules/@glue42/desktop/src/app-manager/app-manager.ts","../node_modules/@glue42/desktop/src/app-manager/entitlements.ts","../node_modules/@glue42/desktop/src/app-manager/snapshot.ts","../node_modules/@glue42/desktop/src/app-manager/const/event-names.ts","../node_modules/@glue42/desktop/src/app-manager/data-subscription.ts","../node_modules/@glue42/desktop/src/app-manager/in-memory.ts","../node_modules/@glue42/desktop/src/app-manager/main.ts","../node_modules/@glue42/desktop/src/windows/store.ts","../node_modules/@glue42/desktop/src/utils.ts","../node_modules/@glue42/desktop/src/windows/window.ts","../node_modules/@glue42/desktop/node_modules/shortid/lib/random/random-from-seed.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/alphabet.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/random/random-byte-browser.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/encode.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/decode.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/build.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/is-valid.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/index.js","../node_modules/@glue42/desktop/node_modules/shortid/index.js","../node_modules/@glue42/desktop/src/windows/environment/gd/executor.ts","../node_modules/@glue42/desktop/src/windows/environment/helpers.ts","../node_modules/@glue42/desktop/src/windows/environment/gd/gd.ts","../node_modules/@glue42/desktop/src/windows/environment/detector.ts","../node_modules/@glue42/desktop/src/windows/group.ts","../node_modules/@glue42/desktop/src/windows/groups.ts","../node_modules/@glue42/desktop/src/windows/main.ts","../node_modules/@glue42/desktop/src/layouts/store.ts","../node_modules/@glue42/desktop/src/layouts/contextProvider.ts","../node_modules/@glue42/desktop/src/layouts/transform.ts","../node_modules/@glue42/desktop/src/layouts/layout.ts","../node_modules/@glue42/desktop/src/layouts/layouts.ts","../node_modules/@glue42/desktop/src/layouts/stream/acsStream.ts","../node_modules/@glue42/desktop/src/layouts/main.ts","../node_modules/@glue42/desktop/src/displays/displayManager.ts","../node_modules/@glue42/desktop/src/channels/agm.ts","../node_modules/@glue42/desktop/src/channels/contexts.ts","../node_modules/@glue42/desktop/src/channels/channels.ts","../node_modules/@glue42/desktop/src/channels/main.ts","../node_modules/@glue42/desktop/src/hotkeys/hotkeys.ts","../node_modules/@glue42/desktop/src/hotkeys/main.ts","../node_modules/@glue42/desktop/src/config.ts","../node_modules/@glue42/desktop/src/notifications/notification.ts","../node_modules/@glue42/desktop/src/notifications/panel.ts","../node_modules/@glue42/desktop/src/notifications/main.ts","../node_modules/@glue42/desktop/src/themes/themes.ts","../node_modules/@glue42/desktop/src/themes/main.ts","../node_modules/@glue42/desktop/src/intents/intents.ts","../node_modules/@glue42/desktop/src/glue.ts","../node_modules/@glue42/desktop/src/initInfo.ts","../node_modules/@glue42/desktop/src/prefs/index.ts","../node_modules/@glue42/desktop/src/index.ts","../node_modules/object-assign/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../node_modules/shortid/index.js","../node_modules/shortid/lib/alphabet.js","../node_modules/shortid/lib/build.js","../node_modules/shortid/lib/decode.js","../node_modules/shortid/lib/encode.js","../node_modules/shortid/lib/index.js","../node_modules/shortid/lib/is-valid.js","../node_modules/shortid/lib/random/random-byte-browser.js","../node_modules/shortid/lib/random/random-from-seed.js","../node_modules/shortid/lib/util/cluster-worker-id-browser.js","../node_modules/ws/browser.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@glue42/react-hooks/src/Glue.tsx","../node_modules/@glue42/react-hooks/src/useGlueInit.ts","../node_modules/@glue42/workspaces-ui-react/node_modules/tslib/tslib.es6.js","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/HeaderButton.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../node_modules/@glue42/workspaces-ui-react/src/withGlueInstance.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/Feedback.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/helpers.ts","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-core/dist/export.js","../node_modules/@glue42/workspaces-ui-react/src/workspacesManager.ts","../node_modules/@glue42/workspaces-ui-react/node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../node_modules/@glue42/workspaces-ui-react/src/WorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/Portal.tsx","../node_modules/@glue42/workspaces-ui-react/src/WorkspacesWrapper.tsx","../node_modules/@glue42/workspaces-ui-react/src/WorkspacesElementCreationWrapper.tsx","../node_modules/@glue42/workspaces-ui-react/src/index.tsx","App.tsx","reportWebVitals.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@glue42/web/dist/web.es.js","../node_modules/@glue42/workspaces-api/node_modules/callback-registry/lib/index.js","../node_modules/@glue42/workspaces-api/node_modules/decoder-validate/dist/index.es5.js","../node_modules/@glue42/workspaces-api/src/shared/decoders.ts","../node_modules/@glue42/workspaces-api/src/communication/constants.ts","../node_modules/@glue42/workspaces-api/src/communication/bridge.ts","../node_modules/@glue42/workspaces-api/src/communication/interop-transport.ts","../node_modules/@glue42/workspaces-api/src/shared/promisePlus.ts","../node_modules/@glue42/workspaces-api/src/builders/parentBuilder.ts","../node_modules/@glue42/workspaces-api/src/builders/baseBuilder.ts","../node_modules/@glue42/workspaces-api/src/builders/workspaceBuilder.ts","../node_modules/@glue42/workspaces-api/src/models/row.ts","../node_modules/@glue42/workspaces-api/src/models/column.ts","../node_modules/@glue42/workspaces-api/src/models/group.ts","../node_modules/@glue42/workspaces-api/src/models/workspace.ts","../node_modules/@glue42/workspaces-api/src/models/window.ts","../node_modules/@glue42/workspaces-api/src/models/frame.ts","../node_modules/@glue42/workspaces-api/src/shared/privateDataManager.ts","../node_modules/@glue42/workspaces-api/src/models/base/base.ts","../node_modules/@glue42/workspaces-api/src/controllers/base.ts","../node_modules/@glue42/workspaces-api/src/controllers/main.ts","../node_modules/@glue42/workspaces-api/src/shared/ioc.ts","../node_modules/@glue42/workspaces-api/src/main.ts","../node_modules/@glue42/workspaces-api/src/index.ts","index.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                var _a;\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                var className = target ? (_a = target.getAttribute(\"class\")) !== null && _a !== void 0 ? _a : \"\" : \"\";\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: className,\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 3];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            target.postMessage(message, _this.defaultTargetString);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.6.3\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        else ;\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import ActivityManager from \"../core/activityManager\";\n\n/**\n * Base class for activity entities with reference to the activity manager\n * @private\n */\nexport default class ActivityEntity {\n\n  public _manager: ActivityManager;\n  public _id: string;\n\n  constructor(id: string) {\n    this._id = id;\n  }\n\n  public get id(): string {\n    return this._id;\n  }\n\n  /**\n   * Updates the properties of the current object using the properties of another object\n   * These two should have the same id.\n   */\n  public _update(other: ActivityEntity) {\n    if (other._id !== this._id) {\n      throw Error(\"Can not update from entity with different id.\");\n    }\n    this._updateCore(other);\n  }\n\n  public _updateCore(other: ActivityEntity) {\n    return;\n  }\n\n  public _beforeDelete(other: ActivityEntity) {\n    return;\n  }\n}\n","// some small useful functions (so we don't reference underscore or lodash)\n\nexport function isNumber(arg: any) {\n  return typeof arg === \"number\";\n}\n\nexport function isString(arg: any) {\n  return typeof arg === \"string\";\n}\n\nexport function isObject(arg: any) {\n  return typeof arg === \"object\" && arg !== null;\n}\n\nexport function isArray(arg: any) {\n  // TODO optimize\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return toString.call(arg) === \"[object Array]\";\n}\nexport function isUndefined(arg: any) {\n  return typeof arg === \"undefined\";\n}\n\nexport function isUndefinedOrNull(arg: any) {\n  return arg === null || typeof arg === \"undefined\";\n}\n\nexport function isNullOrWhiteSpace(str: string) {\n  return (typeof str !== \"string\" || !str || str.length === 0 || /^\\s*$/.test(str));\n}\n\nexport function isBoolean(obj: any) {\n  return obj === true || obj === false || toString.call(obj) === \"[object Boolean]\";\n}\n\n/**\n *  Checks if an object is empty (has no properties)\n * @private\n */\nexport function isEmpty(arg: any) {\n  for (const prop in arg) {\n    if (arg.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function isFunction(arg: any) {\n  return !!(arg && arg.constructor && arg.call && arg.apply);\n}\n\nexport function some<T>(array: T[], predicate: (el: any, index: number) => boolean) {\n  for (let index = 0; index < array.length; index++) {\n    if (predicate(array[index], index)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function first<T>(array: T[], predicate: (el: any, index: number) => boolean) {\n  for (let index = 0; index < array.length; index++) {\n    if (predicate(array[index], index)) {\n      return array[index];\n    }\n  }\n  return undefined;\n}\n\nexport function ifNotUndefined<T>(what: T, doWithIt: (what: T) => void) {\n  if (typeof what !== \"undefined\") {\n    doWithIt(what);\n  }\n}\n\nexport function promisify(promise: Promise<any>, successCallback: () => void, errorCallback: () => void) {\n  \"use strict\";\n  if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\n    return promise;\n  }\n\n  if (typeof successCallback !== \"function\") {\n    successCallback = () => { return; };\n  } else if (typeof errorCallback !== \"function\") {\n    errorCallback = () => { return; };\n  }\n\n  promise.then(successCallback, errorCallback);\n}\n","import * as contracts from \"../contracts/contracts\";\nimport Activity from \"./activity\";\nimport ActivityEntity from \"./activityEntity\";\nimport WindowType from \"./windowType\";\nimport { ifNotUndefined } from \"../helpers/util\";\nimport { WindowDefinition } from \"./windowDefinition\";\n\nimport { Glue42 } from \"../../../glue\";\ntype OverrideTypeDefinition = Glue42.Activities.OverrideTypeDefinition;\n\n/**\n * An activity type is a definition template for an activity, consisting of a collection of window types,\n * their layout and an initial activity context.\n *\n * @module activityType\n */\nexport default class ActivityType extends ActivityEntity {\n\n  public _name: string;\n  public _description: string;\n  public _ownerWindow: WindowType;\n  public _helperWindows: WindowType[];\n\n  constructor(name: string, ownerWindow: WindowType, helperWindows?: WindowType[], description?: string) {\n    super(name);\n    this._name = name;\n    this._description = description;\n    this._ownerWindow = ownerWindow;\n    this._helperWindows = helperWindows || [];\n  }\n\n  /**\n   * @var {string} name Name of the activity type\n   */\n  public get name(): string {\n    return this._name;\n  }\n\n  /**\n   * @var {string} description description for the activity type\n   */\n  public get description(): string {\n    return this._description;\n  }\n\n  /**\n   * A list of window types that should be created when initiating a new instance of that activity type\n   * @var {windowDefinition[]} helperWindows\n   */\n  public get helperWindows(): WindowType[] {\n    return this._helperWindows.map((hw) => this.covertToWindowDef(hw));\n  }\n\n  /**\n   * @var {windowDefinition} ownerWindow Returns the definition of the owner window for that activity type\n   */\n  public get ownerWindow(): WindowType {\n    return this.covertToWindowDef(this._ownerWindow);\n  }\n\n  /**\n   * Initiates a new activity of this type\n   *\n   * @function initiate\n   * @param {object} context The initial context to be used for the new activity\n   * @param callback\n   * @param configuration\n   * @returns {Promise<activity>}\n   */\n  public initiate(context: object, callback?: contracts.Callback<Activity>, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<Activity> {\n    return this._manager.initiate(this._name, context, callback, configuration);\n  }\n\n  public _updateCore(other: ActivityType) {\n    super._updateCore(other);\n    ifNotUndefined(other._description, (x) => this._description = x);\n    ifNotUndefined(other._ownerWindow, (x) => this._ownerWindow = x);\n    ifNotUndefined(other._helperWindows, (x) => this._helperWindows = x);\n  }\n\n  private covertToWindowDef(windowType: any): any {\n    // GD2 + old glue js backward compatible\n    return {\n      type: windowType?.id?.type,\n      name: windowType?.id?.name\n    };\n  }\n}\n","import ActivityEntity from \"./activityEntity\";\nimport ActivityWindow from \"./activityWindow\";\nimport { WindowDefinition } from \"./windowDefinition\";\nimport Activity from \"./activity\";\nimport { Glue42 } from \"../../../glue\";\n\n/**\n * A window type is a definition of a window, typically configured in ACS.\n *\n * @module windowType\n */\nexport default class WindowType extends ActivityEntity {\n\n  public _name: string;\n  public _appByWindowTypeGetter: (name: string) => void;\n\n  constructor(name: string, appByWindowTypeGetter: (wt: string) => Glue42.AppManager.Application) {\n    super(name);\n    this._name = name;\n    this._appByWindowTypeGetter = appByWindowTypeGetter;\n  }\n\n  /**\n   * Name of the window type\n   * @var {string} name\n   */\n  public get name(): string {\n    return this._name;\n  }\n\n  /**\n   * Returns the ACS configuration related to this window type (as application object from AppManager API)\n   * @returns {any}\n   */\n  public get config(): any {\n    return this._appByWindowTypeGetter(this._name);\n  }\n\n  /**\n   * @var {activityWindow[]} windows All windows from that type\n   */\n  public get windows(): ActivityWindow[] {\n    return this._manager.getWindows({ type: this._name });\n  }\n\n  public create(activity: Activity, configuration: any): Promise<ActivityWindow> {\n    const definition: WindowDefinition = (Object as any).assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\n    return this._manager.createWindow(activity, definition);\n  }\n}\n","import { ActivityStatus } from \"./activityStatus\";\n\nexport class EntityEvent<T> {\n    public entity: T;\n    public context: EntityEventContext;\n\n    constructor(entitiy: T, context: EntityEventContext) {\n        this.entity = entitiy;\n        this.context = context;\n    }\n}\n\nexport class EntityEventContext {\n    public type: string;\n\n    constructor(eventType: string) {\n        this.type = eventType;\n    }\n}\n\nexport class ActivityStatusChangeEventContext extends EntityEventContext {\n    public oldStatus: ActivityStatus;\n    public newStatus: ActivityStatus;\n\n    constructor(newStatus: ActivityStatus, oldStatus: ActivityStatus) {\n        super(EntityEventType.StatusChange);\n        this.newStatus = newStatus;\n        this.oldStatus = oldStatus;\n    }\n}\n\nexport class ActivityContextChangedEventContext extends EntityEventContext {\n    public context: object;\n    public updated: object;\n    public removed: string[];\n\n    constructor(context: string | object, updated: object, removed: string[]) {\n        super(EntityEventType.ActivityContextChange);\n        this.context = typeof context === \"string\" ? JSON.parse(context) : context;\n        this.updated = updated;\n        this.removed = removed;\n    }\n}\n\nexport class EntityEventType {\n    public static Added: string = \"added\";\n    public static Removed: string = \"removed\";\n    public static Updated: string = \"updated\";\n    public static Closed: string = \"closed\";\n    public static StatusChange: string = \"statusChange\";\n    public static ActivityContextChange: string = \"activityContextUpdate\";\n    public static ActivityWindowEvent: string = \"activityWindowEvent\";\n    // #deleteme TODO: these are not implemented in HC\n    public static ActivityWindowJoinedActivity: string = \"joined\";\n    public static ActivityWindowLeftActivity: string = \"left\";\n}\n\nexport class ActivityState {\n    public static Created: string = \"created\";\n    public static Started: string = \"started\";\n    public static Destroyed: string = \"destroyed\";\n}\n","import Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport * as util from \"../helpers/util\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { promisify } from \"../helpers/util\";\n\n// A helper class that provides lame activity AGM implementation\n// Can be initialized with or without activity - in case no activity (independent windows outside activity) only\n// subset of the methods work\nexport class ActivityAGM {\n    public static AGM: Glue42Core.AGM.API;\n\n    private _activity: Activity;\n\n    constructor(activity: Activity) {\n        this._activity = activity;\n    }\n\n    public register(definition: string | Glue42Core.AGM.MethodDefinition, handler: (args: object, caller: Glue42Core.AGM.Instance) => object) {\n        this._ensureHasAgm();\n        ActivityAGM.AGM.register(definition, handler);\n    }\n\n    public servers(): Glue42Core.AGM.Instance[] {\n        this._ensureHasAgm();\n\n        if (util.isUndefinedOrNull(this._activity)) {\n            // or return ActivityAGM.AGM.servers()\n            return [];\n        }\n\n        return this._activity.windows.map(\n            (w: ActivityWindow) => {\n                return w.instance;\n            });\n    }\n\n    public methods(): Glue42Core.AGM.MethodDefinition[] {\n        this._ensureHasAgm();\n\n        if (util.isUndefinedOrNull(this._activity)) {\n            // or return ActivityAGM.AGM.methods()\n            return [];\n        }\n\n        const windows = this._activity.windows;\n        const methodNames: string[] = [];\n        const methods: Glue42Core.AGM.MethodDefinition[] = [];\n\n        // get all windows and their methods, then assemble distinct methods\n        windows.forEach((window) => {\n            const windowMethods = this.methodsForWindow(window);\n            windowMethods.forEach((currentWindowMethod) => {\n                if (methodNames.indexOf(currentWindowMethod.name) === -1) {\n                    methodNames.push(currentWindowMethod.name);\n                    methods.push(currentWindowMethod);\n                }\n            });\n        });\n\n        return methods;\n    }\n\n    public methodsForWindow(window: ActivityWindow): Glue42Core.AGM.MethodDefinition[] {\n        this._ensureHasAgm();\n        // get instance and use agm to get methods for instance\n        if (!window.instance) {\n            return [];\n        }\n\n        return ActivityAGM.AGM.methodsForInstance(window.instance);\n    }\n\n    /** Possible invoke targets\n     *\n     * \"activity.all\" - [default]\n     * \"activity.best\"\n     * ActivityWindow\n     * [ActivityWindow] -\n     *\n     * classic AGM\n     * \"all\" - agm all\n     * \"best\" - agm best\n     * instance - agm\n     * [ instances ]\n     *\n     */\n    public invoke(\n        methodName: string,\n        arg: object,\n        target: string | Glue42Core.AGM.Instance | ActivityWindow | Glue42Core.AGM.Instance[] | ActivityWindow[],\n        options?: Glue42Core.AGM.InvokeOptions,\n        success?: () => void,\n        error?: () => void): Promise<object> {\n\n        this._ensureHasAgm();\n        const activityServers = this.servers();\n        let serversToInvokeAgainst: Glue42Core.AGM.Instance[] = [];\n\n        if (util.isUndefinedOrNull(target)) {\n            target = \"activity.all\";\n        }\n\n        if (util.isString(target)) {\n            if (target === \"activity.all\") {\n                serversToInvokeAgainst = activityServers;\n            } else if (target === \"activity.best\") {\n                const potentialTargets = activityServers.filter((server) => {\n                    const methods = ActivityAGM.AGM.methodsForInstance(server);\n                    return methods.filter((m) => {\n                        return m.name === methodName;\n                    }).length > 0;\n                });\n                if (potentialTargets.length > 0) {\n                    serversToInvokeAgainst = [potentialTargets[0]];\n                }\n            } else if (target === \"all\" || target === \"best\") {\n                return promisify(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\n            } else {\n                throw new Error(\"Invalid invoke target \" + target);\n            }\n        } else if (util.isArray(target)) {\n            // if the array is not empty\n            if ((target as any).length >= 0) {\n                const firstElem = (target as any)[0];\n                // check argument type\n                if (this._isInstance(firstElem)) {\n                    serversToInvokeAgainst = (target as Glue42Core.AGM.Instance[]).map((instance: Glue42Core.AGM.Instance) => instance);\n                } else if (this._isActivityWindow(firstElem)) {\n                    serversToInvokeAgainst = (target as ActivityWindow[]).map((win: ActivityWindow) => win.instance);\n                } else {\n                    throw new Error(\"Unknown target object\");\n                }\n            }\n        } else {\n            if (this._isInstance(target)) {\n                serversToInvokeAgainst = [target as Glue42Core.AGM.Instance];\n            } else if (this._isActivityWindow(target)) {\n                serversToInvokeAgainst = [(target as ActivityWindow).instance];\n            } else {\n                throw new Error(\"Unknown target object\");\n            }\n        }\n\n        throw new Error(\"Not implemented\");\n        // return promisify(ActivityAGM.AGM.invoke(methodName, arg, serversToInvokeAgainst, options), success, error);\n    }\n\n    public unregister(definition: string | Glue42Core.AGM.MethodDefinition) {\n        this._ensureHasAgm();\n        return ActivityAGM.AGM.unregister(definition);\n    }\n\n    public createStream(methodDefinition: string | Glue42Core.AGM.MethodDefinition,\n                        subscriptionAddedHandler: (request: Glue42Core.AGM.StreamSubscription) => void,\n                        subscriptionRemovedHandler: (request: Glue42Core.AGM.StreamSubscription) => void) {\n        this._ensureHasAgm();\n\n        ActivityAGM.AGM.createStream(methodDefinition, {\n            subscriptionAddedHandler,\n            subscriptionRemovedHandler,\n            subscriptionRequestHandler: undefined\n        });\n    }\n\n    public subscribe(methodDefinition: string | Glue42Core.AGM.MethodDefinition, parameters: object, target: string | Glue42Core.AGM.Instance | Glue42Core.AGM.Instance[]): Promise<Glue42Core.AGM.Subscription> {\n        this._ensureHasAgm();\n        // #deleteme TODO: check servers needed?\n        // const servers = this.servers();\n\n        return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\n    }\n\n    public _ensureHasAgm() {\n        if (util.isUndefinedOrNull(ActivityAGM.AGM)) {\n            throw new Error(\"Agm should be configured to be used in activity\");\n        }\n    }\n\n    public _isInstance(obj: any) {\n        // lame check\n        return obj.application !== undefined;\n    }\n\n    public _isActivityWindow(obj: any) {\n        return obj.instance !== undefined;\n    }\n}\n","import { ActivityDescriptor } from \"./activityDescriptor\";\nimport ActivityManager from \"../core/activityManager\";\nimport Activity from \"./activity\";\n\nexport class AttachedActivityDescriptor implements ActivityDescriptor {\n  private _manager: ActivityManager;\n  private _state: ActivityDescriptor;\n  private _ownerActivityId: string;\n\n  constructor(\n    manager: ActivityManager,\n    ownerActivityId: string,\n    state: ActivityDescriptor) {\n    this._manager = manager;\n    this._ownerActivityId = ownerActivityId;\n    this._state = state;\n  }\n\n  public get ownerId() {\n    return this._state.ownerId;\n  }\n\n  public get windowIds() {\n    return this._state.windowIds;\n  }\n\n  public get frameColor() {\n    return this._state.frameColor;\n  }\n\n  public get context() {\n    return this._state.context;\n  }\n\n  public get tag() {\n    return this._state.tag;\n  }\n\n  public detach(descriptor?: ActivityDescriptor): Promise<Activity> {\n\n    descriptor = descriptor || {};\n\n    const merged: ActivityDescriptor = {};\n\n    Object.keys(this._state).forEach((prop) => {\n      merged[prop] = this._state[prop];\n    });\n\n    merged.context = descriptor.context || merged.context;\n    merged.frameColor = descriptor.frameColor || merged.frameColor;\n\n    return this._manager.detachActivities(this._ownerActivityId, merged);\n  }\n}\n","import * as util from \"../helpers/util\";\n\nconst nextTick = (cb: () => void) => {\n  setTimeout(cb, 0);\n};\n\n/**\n * Convert a Promise to node style callback\n * @private\n */\nexport function nodeify<T>(promise: Promise<T>, callback: any): Promise<T> {\n  if (!util.isFunction(callback)) {\n    return promise;\n  }\n\n  promise.then(\n    (resp) => {\n      nextTick( () => { // not sure if this is needed, promises should be already executed on the event pool\n        callback(null, resp);\n      });\n    },\n    (err) => {\n      nextTick(() => {\n        callback(err, null);\n      });\n    });\n}\n","import * as contracts from \"../contracts/contracts\";\nimport ActivityType from \"./activityType\";\nimport ActivityWindow from \"./activityWindow\";\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport ActivityEntity from \"./activityEntity\";\nimport { WindowDefinition } from \"./windowDefinition\";\nimport { ActivityAGM } from \"../core/activityAGM\";\nimport { CloneOptions } from \"./cloneOptions\";\nimport { AttachedActivityDescriptor } from \"./attachedActivityDescriptor\";\nimport { nodeify } from \"../helpers/promiseExtensions\";\nimport { ifNotUndefined } from \"../helpers/util\";\n\n/**\n * Activity is an instance of an activity type just like an object is an instance of a class\n * in class-based languages (and just like ‘John’ is an instance of a 'Person’).\n *\n * Activity is often used as a synonym for activity instance.\n *\n * Each activity instance has a single owner window and can optionally have one or more helper windows.\n *\n * @module activity\n */\nexport default class Activity extends ActivityEntity {\n\n  public _id: string;\n  public _actType: string;\n  public _status: ActivityStatus;\n  public _context: object;\n  public _ownerId: string;\n  public _agm: ActivityAGM;\n  public _attached: any;\n\n  constructor(\n    id: string,\n    actType: string,\n    status: ActivityStatus,\n    context: object,\n    ownerId: string) {\n    super(id);\n    this._id = id;\n    this._actType = actType;\n    this._status = status;\n    this._context = context;\n    this._ownerId = ownerId;\n    this._agm = new ActivityAGM(this);\n  }\n\n  /**\n   * Activity type\n   * @var {module:activityType} type\n   */\n  public get type(): ActivityType {\n    if (this._manager) {\n      return this._manager.getActivityType(this._actType);\n    }\n    return undefined;\n  }\n\n  /**\n   * Get current activity context. To update use updateContext , to replace setContext\n   * @var {object} context\n   */\n  public get context(): object {\n    return this._context;\n  }\n\n  /**\n   * Get activity status\n   * @var {activityStatus} status\n   */\n  public get status(): ActivityStatus {\n    return this._status;\n  }\n\n  /**\n   * The owner window\n   * @var {module:activityWindow} owner\n   */\n  public get owner(): ActivityWindow {\n    if (!this._ownerId) {\n      return null;\n    }\n    return this._manager.getWindows({ id: this._ownerId })[0];\n  }\n\n  /**\n   * All windows participating in the activity\n   * @var {module:activityWindow[]} windows\n   */\n  public get windows(): ActivityWindow[] {\n    return this._manager.getWindows({ activityId: this._id });\n  }\n\n  /**\n   * @var {module:activityAGM} agm\n   */\n  public get agm(): ActivityAGM {\n    return this._agm;\n  }\n\n  /**\n   * Joins a specific window to the activity\n   *\n   * @private\n   * @function join\n   * @param window    The window to join\n   * @param callback  (Optional) Result callback\n   * @returns         Promise for ActivityWindow\n   */\n  public addWindow(window: ActivityWindow, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.addWindowToActivity(this, window, callback);\n  }\n\n  /**\n   * Creates a new window and joins it to the activity\n   *\n   * @function createWindow\n   * @param {string|windowDefinition} windowType The type of the window to be created\n   * @param callback\n   * @returns {Promise<module:activityWindow>}\n   */\n  public createWindow(windowType: string | WindowDefinition, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.createWindow(this, windowType, callback);\n  }\n\n  /**\n   * Creates a stacked set of windows and joins them to the\n   *\n   * @function createStackedWindows\n   * @param {string[] | windowDefinition[]} windowTypes The types of the windows to be created\n   * @param {number} timeout\n   * @param callback\n   * @returns {Promise<module:activityWindow[]>}\n   */\n  public createStackedWindows(windowTypes: Array<string | WindowDefinition>, timeout?: number, callback?: contracts.Callback<ActivityWindow[]>): Promise<ActivityWindow[]> {\n    return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\n  }\n\n  /**\n   * Removes a window from the activity\n   *\n   * @private\n   * @param window\n   * @param callback\n   * @returns     Promise for ActivityWindow\n   */\n  public leave(window: ActivityWindow, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.leaveWindowFromActivity(this, window, callback);\n  }\n\n  /**\n   * Get all windows participating in the activity from a given type\n   *\n   * @param {string} windowType\n   * @returns {module:activityWindow[]}\n   */\n  public getWindowsByType(windowType: string): ActivityWindow[] {\n    const filter = { activityId: this._id, type: windowType };\n    return this._manager.getWindows(filter);\n  }\n\n  /**\n   * Replaces the activity context with a new one.\n   *\n   * @function setContext\n   * @param {object} context   The new context\n   * @param callback\n   * @returns {Promise<Object>}\n   */\n  public setContext(context: object, callback?: contracts.Callback<Activity>): Promise<object> {\n    return this._manager.setActivityContext(this, context, callback);\n  }\n\n  /**\n   * Updates activity context using the properties from the context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @function updateContext\n   * @param {object} context\n   * @param callback\n   * @return {Promise<object>}\n   */\n  public updateContext(context: object, callback?: contracts.Callback<Activity>): Promise<object> {\n    return this._manager.updateActivityContext(this, context, callback);\n  }\n\n  /**\n   * Subscribe for status change events\n   *\n   * @function onStatusChange\n   *\n   * @param {activityStatusChangeHandler} handler Handler function that will receive status notifications\n   */\n  public onStatusChange(handler: (activity: Activity, newStatus: ActivityStatus, oldStatus: ActivityStatus) => void): () => void {\n    return this._manager.subscribeActivityEvents((a, ns, os) => {\n      if (a.id === this.id) {\n        handler(a, ns, os);\n      }\n    });\n  }\n\n  /**\n   * Subscribe for window related events, like joined, removed from activity\n   *\n   * @function onWindowEvent\n   * @param {windowEventHandler} handler Handler function that will receive windows events\n   */\n  public onWindowEvent(handler: contracts.ActivityWindowEventHandler): () => void {\n    return this._manager.subscribeWindowEvents((a, w, e) => {\n      if (a.id === this.id) {\n        handler(a, w, e);\n      }\n    });\n  }\n\n  /**\n   * Subscribe for context updates\n   *\n   * @function onContextChanged\n   * @param {contextChangedHandler} handler Handler function that will receive context related events\n   */\n  public onContextChanged(handler: contracts.ContextUpdateHandler) {\n    this._manager.subscribeActivityContextChanged((act, context, updated, removed) => {\n      if (act.id === this.id) {\n        handler(context, updated, removed, act);\n      }\n    });\n\n    try {\n      // replay the context at the time of subscribing, swallow user exceptions\n      handler(this.context, this.context, [], this);\n    } catch (e) {\n      return;\n    }\n  }\n\n  /**\n   * Stops the activity\n   * @function stop\n   */\n  public stop() {\n    this._manager.stopActivity(this);\n  }\n\n  /**\n   * Clones the activity into a new one\n   * @function clone\n   * @param {CloneOptions} options\n   */\n  public clone(options: CloneOptions) {\n    return this._manager.clone(this, options);\n  }\n\n  public attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor> {\n    let activityId;\n    if (typeof activity === \"string\") {\n      activityId = activity;\n    } else {\n      activityId = activity.id;\n    }\n    return this._manager.attachActivities(activityId, this.id, tag);\n  }\n\n  public onActivityAttached(callback: (descriptor: AttachedActivityDescriptor) => void) {\n    this._manager.subscribeActivitiesAttached((newActId: string, oldActId: string, descriptor: AttachedActivityDescriptor) => {\n      if (newActId !== this._id) {\n        return;\n      }\n\n      callback(descriptor);\n    });\n  }\n\n  public onDetached(callback: (newAct: Activity, state: any) => void) {\n    this._manager.subscribeActivitiesDetached((newAct: Activity, originalActivity: Activity, state: any) => {\n      if (originalActivity.id !== this._id) {\n        return;\n      }\n\n      callback(newAct, state);\n    });\n  }\n\n  public _updateCore(other: Activity) {\n    super._updateCore(other);\n    ifNotUndefined(other._actType, (x) => this._actType = x);\n    ifNotUndefined(other._context, (x) => this._context = x);\n    ifNotUndefined(other._ownerId, (x) => this._ownerId = x);\n    if (other._status && (!this._status || (this._status.state !== other._status.state))) {\n      this._status = other._status;\n    }\n  }\n\n  public _updateDescriptors(allStates: any) {\n    this._attached = allStates.map((s: any) => {\n      return new AttachedActivityDescriptor(this._manager, this._id, s);\n    });\n  }\n\n  public get attached(): AttachedActivityDescriptor[] {\n    return this._attached;\n  }\n\n  public setFrameColor(color: string, callback: () => void): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n\n      let callbacksToWait = this.windows.length;\n      if (callbacksToWait === 0) {\n        resolve(this);\n      }\n\n      this.windows.forEach((w) => {\n        w.underlyingWindow.setFrameColor(color, () => {\n          callbacksToWait--;\n          if (callbacksToWait <= 0) {\n            resolve(this);\n          }\n        });\n      });\n\n      setTimeout(() => {\n\n        if (callbacksToWait > 0) {\n          reject(this.id + \" - timed out waiting for setFrameColor with\" + color);\n        }\n\n      }, 5000);\n\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public getFrameColor(): string {\n\n    if (!this.windows || this.windows.length === 0) {\n      return \"\";\n    }\n\n    return this.windows[0].underlyingWindow.frameColor;\n  }\n}\n","/* tslint:disable */\n\nimport * as util from \"./util\";\nimport {Glue42Core} from \"@glue42/core\";\n\nexport class LogLevel {\n  public static Trace: string = \"trace\";\n  public static Debug: string = \"debug\";\n  public static Info: string = \"info\";\n  public static Warn: string = \"warn\";\n  public static Error: string = \"error\";\n}\n\nexport class Logger {\n\n  public static Level: string = LogLevel.Info;\n  public static GlueLogger: Glue42Core.Logger.API;\n\n  private _glueLogger: Glue42Core.Logger.API;\n\n  public static GetNamed(name: string): Logger {\n    return new Logger(name);\n  }\n\n  public static Get(owner: Object): Logger {\n    return new Logger(Logger.GetTypeName(owner));\n  }\n\n  public _name: string;\n\n  constructor(name: string) {\n    this._name = name;\n    // we have a glue logger let's create a new logger for it\n    if (!util.isUndefinedOrNull(Logger.GlueLogger)) {\n      this._glueLogger = Logger.GlueLogger.subLogger(name);\n    }\n  }\n\n  public trace(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.trace(message);\n    } else {\n      if (Logger.Level === LogLevel.Trace) {\n        console.info(this._getMessage(message, LogLevel.Trace));\n      }\n    }\n  }\n\n  public debug(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.debug(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace) {\n        console.info(this._getMessage(message, LogLevel.Debug));\n      }\n    }\n  }\n\n  public info(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.info(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace ||\n        Logger.Level === LogLevel.Info) {\n        console.info(this._getMessage(message, LogLevel.Info));\n      }\n    }\n  }\n\n  public warn(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.warn(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace ||\n        Logger.Level === LogLevel.Info ||\n        Logger.Level === LogLevel.Warn) {\n        console.info(this._getMessage(message, LogLevel.Info));\n      }\n    }\n  }\n\n  public error(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.error(message);\n    } else {\n      console.error(this._getMessage(message, LogLevel.Error));\n      console.trace();\n    }\n  }\n\n  public _getMessage(message: string, level: string): string {\n    return \"[\" + level + \"] \" + this._name + \" - \" + message;\n  }\n\n  /**\n   * Returns the function name for a given object (same as constructor.name but cross-browser)\n   */\n  public static GetTypeName(object: object): string {\n    const funcNameRegex = /function (.{1,})\\(/;\n    const results = (funcNameRegex).exec(object.constructor.toString());\n    return (results && results.length > 1) ? results[1] : \"\";\n  }\n}\n","import * as contracts from \"../contracts/contracts\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\n\nimport WindowType from \"./windowType\";\nimport ActivityEntity from \"./activityEntity\";\nimport Activity from \"./activity\";\n\nimport { Logger } from \"../helpers/logger\";\nimport * as util from \"../helpers/util\";\nimport { ifNotUndefined } from \"../helpers/util\";\nimport { EntityEventType } from \"../contracts/entityEvent\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../glue\";\n\n/**\n * A window participating in an activity\n *\n * @module activityWindow\n */\nexport default class ActivityWindow extends ActivityEntity {\n\n    private _logger: Logger = Logger.Get(\"window\");\n\n    private _type: string;\n    private _activityId: string;\n    private _name: string;\n    private _instance: Glue42Core.AGM.Instance;\n    private _isIndependent: boolean;\n    private _windowGetter: () => Glue42.Windows.GDWindow;\n    private _hcWindowId: string;\n\n    constructor(id: string, name: string, type: string, activityId: string, instance: Glue42Core.AGM.Instance, isIndependent: boolean, windowGetter: any,\n                hcWindowId: string) {\n        super(id);\n        this._type = type;\n        this._activityId = activityId;\n        this._name = name;\n        this._instance = instance;\n        this._isIndependent = isIndependent;\n        this._windowGetter = windowGetter;\n        this._hcWindowId = hcWindowId;\n    }\n\n    /**\n     * Return window's title\n     * @function getBounds\n     * @return {Promise<WindowBounds>}\n     */\n    public getBounds(): Promise<WindowBounds> {\n        return this._manager.getWindowBounds(this.id);\n    }\n\n    /**\n     * @var {string} name The window name\n     */\n    public get name(): string {\n        return this._name;\n    }\n\n    /**\n     * @var {bool} isIndependent True if this is an independent window\n     */\n    public get isIndependent(): boolean {\n        return this._isIndependent;\n    }\n\n    /**\n     * @var {module:windowType} type The window type\n     */\n    public get type(): WindowType {\n        if (this._manager) {\n            return this._manager.getWindowType(this._type);\n        }\n        return undefined;\n    }\n\n    /**\n     * @var {module:activity} activity The activity that the window is part of\n     */\n    public get activity(): Activity {\n        if (util.isUndefined(this._activityId)) {\n            return undefined;\n        }\n        return this._manager.getActivityById(this._activityId);\n    }\n\n    /**\n     * @var {bool} isOwner True if the window is the owner of the activity.\n     */\n    public get isOwner(): boolean {\n        const act = this.activity;\n        if (util.isUndefined(act)) {\n            return false;\n        }\n\n        return act.owner.id === this.id;\n    }\n\n    /**\n     * Sets window's visibility\n     *\n     * @function setVisible\n     * @param {boolean} isVisible\n     * @returns {Promise<module:activityWindow>}\n     */\n    public setVisible(isVisible: boolean, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n        return this._manager.setWindowVisibility(this.id, isVisible);\n    }\n\n    /**\n     * Activate window\n     * @function activate\n     * @param {boolean} focus If true then activate window with focus otherwise activate window without focus\n     */\n    public activate(focus: boolean): Promise<ActivityWindow> {\n        return this._manager.activateWindow(this.id, focus);\n    }\n\n    /**\n     * Sets window's bounds\n     * @function setBounds\n     *\n     * @param {bounds} bounds The new bounds to be applied\n     * @returns  {Promise<module:activityWindow>}\n     */\n    public setBounds(bounds: WindowBounds, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n        return this._manager.setWindowBounds(this.id, bounds, callback);\n    }\n\n    /**\n     * Closes the window\n     *\n     * @function close\n     * @returns {Promise}\n     */\n    public close(): Promise<any> {\n        return this._manager.closeWindow(this.id);\n    }\n\n    /**\n     * @var {agmInstance} instance The agm instance of that window. You can use this to invoke AGM methods against that window\n     */\n    public get instance(): Glue42Core.AGM.Instance {\n        return this._instance;\n    }\n\n    /**\n     * Returns the window as object from Windows API (glue.windows).\n     *\n     * @var {window} underlyingWindow\n     */\n    public get underlyingWindow(): any {\n        const window = this._windowGetter();\n        if (!window) {\n            // we don't have the window object any more, let's return as much as we can\n            return {\n                id: this._hcWindowId\n            };\n        }\n        return window;\n    }\n\n    public onActivityJoined(callback: (activity: Activity) => void) {\n        this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\n    }\n\n    public onActivityRemoved(callback: (activity: Activity) => void) {\n        this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\n    }\n\n    public _updateCore(other: ActivityWindow) {\n        ifNotUndefined(other._activityId, (x) => this._activityId = x);\n        ifNotUndefined(other._isIndependent, (x) => this._isIndependent = x);\n        ifNotUndefined(other._hcWindowId, (x) => this._hcWindowId = x);\n        ifNotUndefined(other._type, (x) => this._type = x);\n        ifNotUndefined(other._name, (x) => this._name = x);\n\n        if (!util.isUndefinedOrNull(other._instance)) {\n            this._instance = other._instance;\n        }\n    }\n\n    public _subscribeForActivityWindowEvent(eventName: string, callback: (activity: Activity) => void) {\n        this._manager.subscribeWindowEvents((activity, window, event) => {\n            // ignore events not related to this window\n            if (window.id !== this.id) {\n                return;\n            }\n\n            if (event === eventName) {\n                callback(activity);\n            }\n        });\n    }\n\n    public _beforeDelete(other: ActivityWindow) {\n        this._hcWindowId = other._hcWindowId;\n    }\n}\n","/**\n * @typedef {Object} activityStatus Defines activity instance status\n * @property {string} state Current state\n * @property {string} message Message\n * @property {Date} time Time of the last status update\n */\nexport class ActivityStatus {\n  public state: string;\n  public message: string;\n  public time: Date;\n\n  constructor(state: string, message: string, time: Date) {\n    this.state = state;\n    this.message = message;\n    this.time = time;\n  }\n\n  public getState(): string {\n    return this.state;\n  }\n\n  public getMessage(): string {\n    return this.message;\n  }\n\n  public getTime(): Date {\n    return this.time;\n  }\n}\n","import { AnnouncementInfo } from \"../contracts/announcementInfo\";\n\nimport { ActivityBridge } from \"./activityBridge\";\nimport ActivityType from \"../entities/activityType\";\nimport WindowType from \"../entities/windowType\";\nimport { EventHandlerCallback } from \"../contracts/contracts\";\nimport { WindowDefinition } from \"../entities/windowDefinition\";\nimport {\n    ActivityContextChangedEventContext,\n    ActivityStatusChangeEventContext,\n    EntityEvent,\n    EntityEventContext,\n    EntityEventType,\n} from \"../contracts/entityEvent\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\nimport {\n    ActivityGwMessage,\n    ActivityTypeGwMessage,\n    ActivityTypeGwMessageEntity,\n    GwMessage,\n    PeerCreatedGwMessage,\n    PeerFactoryGwMessage,\n    PeerFactoryGwMessageEntity,\n    PeerRequestedGwMessage,\n} from \"./gw3BridgeMessages\";\nimport { ActivityDescriptor } from \"../entities/activityDescriptor\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { Glue42 } from \"../../../glue\";\n\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport { ActivityConfig } from \"../activityConfig\";\nimport { Glue42Core } from \"@glue42/core\";\n\nimport { Glue42 as glue42 } from \"../../../glue\";\ntype OverrideTypeDefinition = glue42.Activities.OverrideTypeDefinition;\n\nconst gwMessageSuccess = \"success\";\nconst gwMmessageError = \"error\";\n\nconst gwMessageAddActivityTypes = \"add-types\";\nconst gwMmessageActivityTypesAdded = \"types-added\";\nconst gwMessageRemoveActivityTypes = \"remove-types\";\nconst gwMessageActivityTypesRemoved = \"types-removed\";\n\nconst gwMessageActivityCreated = \"created\";\nconst gwMessageActivityDestroyed = \"destroyed\";\nconst gwMessageActivityInitiated = \"initiated\";\nconst gwMmessageJoinActivity = \"join-activity\";\nconst gwMessageJoinedActivity = \"joined\";\nconst gwMessageActivityJoined = \"activity-joined\";\nconst gwMessageLeaveActivity = \"leave-activity\";\nconst gwMessageActivityLeft = \"left\";\nconst gwNmessageMergeActivities = \"merge\";\nconst gwMessageSplitActivities = \"split\";\nconst gwMessageChildrenChanged = \"children-changed\";\nconst gwMessageOwnerChanged = \"owner-changed\";\n\nconst gwMessageAddPeerFactories = \"add-peer-factories\";\nconst gwMessagePeerFactoriesAdded = \"peer-factories-added\";\nconst gwMessageRemovePeerFactories = \"remove-peer-factories\";\nconst gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\n\nconst gwMessageCreateActivity = \"create\";\nconst gwMessageCreatePeer = \"create-peer\";\nconst gwMessagePeerRequested = \"peer-requested\";\nconst gwMessageReady = \"ready\";\nconst gwMessagePeerCreated = \"peer-created\";\n\nconst gwMessageDestroyActivity = \"destroy\";\nconst gwMessageDisposePeer = \"dispose-peer\";\nconst gwMessageDestroyPeer = \"destroy-peer\";\n\ndeclare let window: any;\ndeclare let process: any;\n\nexport default class GW3Bridge implements ActivityBridge {\n\n    private static activityTypeGwMessageEntityToActivityType(\n        entity: ActivityTypeGwMessageEntity,\n        description: string): ActivityType {\n\n        const nameToWindowType =\n            (windowName: any) =>\n                new WindowType(\n                    windowName,\n                    undefined);\n\n        return new ActivityType(\n            entity.name,\n            entity.owner_type && nameToWindowType(entity.owner_type),\n            entity.helper_types && entity.helper_types.map(nameToWindowType),\n            description);\n    }\n\n    private static peerFactoryGwMessageEntityToWindowType(entity: PeerFactoryGwMessageEntity): WindowType {\n        return new WindowType(\n            entity.peer_type,\n      /* #deleteme TODO: review - appmanager configuration? */(_) => undefined);\n    }\n\n    private static activityGwMessageToActivity(msg: ActivityGwMessage, status: ActivityStatus): Activity {\n        const ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\n        return new Activity(\n            msg.activity_id,\n            msg.activity_type,\n            status,\n            msg.context_snapshot,\n            ownerId);\n    }\n\n    private static activityToActivityStatusChangeEvent(act: Activity) {\n        return new EntityEvent<Activity>(act, new ActivityStatusChangeEventContext(act.status, undefined));\n    }\n\n    private _connection: Glue42.Connection.API;\n    private _logger: any;\n    private _contexts: Glue42.Contexts.API;\n    private _windows: Glue42.Windows.API;\n\n    private _gw3Session: Glue42Core.Connection.GW3DomainSession;\n\n    // callbacks\n\n    private _activityChangeCallbacks: Array<EventHandlerCallback<EntityEvent<Activity>>> = [];\n    private _activityTypeStatusChangeCallbacks: Array<EventHandlerCallback<EntityEvent<ActivityType>>> = [];\n    private _activityWindowChangeCallbacks: Array<EventHandlerCallback<EntityEvent<ActivityWindow>>> = [];\n    private _windowTypeStatusChangeCallbacks: Array<EventHandlerCallback<EntityEvent<WindowType>>> = [];\n\n    // state tracking\n    private _peerIdAndFactoryIdToPeerType: any = {};\n    private _peerFactoriesRegisteredByUs: { [index: string]: WindowFactory } = {};\n    private _gw3Subscriptions: any[] = [];\n    private _contextSubscriptions: any = {};\n    private _activityTypesInitiatedFromMe: any = {};\n\n    private _sessionJoinedPromise: Promise<GW3Bridge>;\n    private _sessionJoinedPromiseResolve: (bridge: GW3Bridge) => void;\n    private _activityJoinedPromise: Promise<object>;\n    private _activityJoinedPromiseResolve: (obj: object) => void;\n    private _config: ActivityConfig;\n\n    constructor(config: ActivityConfig) {\n        this._config = config;\n        this._connection = config.connection;\n        this._logger = config.logger;\n        this._contexts = config.contexts;\n        this._windows = config.windows;\n\n        this._sessionJoinedPromise = new Promise<GW3Bridge>((resolve /*, reject */) => {\n            this._sessionJoinedPromiseResolve = resolve;\n        });\n\n        this._activityJoinedPromise = new Promise<object>((resolve /*, reject */) => {\n            this._activityJoinedPromiseResolve = resolve;\n        });\n\n        if (!this._config.activityId) {\n            this._activityJoinedPromiseResolve({});\n        }\n\n        this._gw3Session = this._connection.domain(\n            \"activity\",\n            [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\n\n        if (typeof window !== \"undefined\") {\n            const glue42gd = (window as any).glue42gd;\n            // G4E-1343\n            if (glue42gd && typeof glue42gd.addRefreshHandler === \"function\") {\n                glue42gd.addRefreshHandler((success: any, error: any) => {\n                    this._gw3Session\n                        .send(\n                            {\n                                type: \"reload\"\n                            })\n                        .then(\n                            (msg: any) => {\n                                if (!msg.token) {\n                                    error(\"Expected gateway token for refreshing.\");\n                                    return;\n                                }\n                                try {\n                                    glue42gd.setGWToken(msg.token as string);\n                                } catch (e) {\n                                    error(e.message || e);\n                                    return;\n                                }\n                                success();\n                            },\n                            error);\n                });\n            }\n        }\n    }\n\n    public get bridgeType(): \"GW3\" {\n        return \"GW3\";\n    }\n\n    public init() {\n        // activity types\n        this.forwardActivityTypeMessagesToStatusEventHandlers();\n\n        // activities\n        this.subscribe<ActivityGwMessage>(\n            gwMessageActivityCreated,\n            this.handleActivityCreatedMessage);\n\n        this.subscribe<ActivityGwMessage>(\n            gwMessageActivityDestroyed,\n            this.handleActivityDestroyedMessage);\n\n        this.forwardActivityMessagesToStatusEventHandlers();\n\n        this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\n\n        // window types / peer factories\n\n        // NB: this forward must happen before the handlePeerFactoriesRemoved subscription\n        // since the latter clears state which is used by peerFactoryIdAndOwnerIdToWindowType\n        this.forwardPeerFactoryMessagesToStatusEventHandlers();\n\n        this.forwardPeerFactoryMessagesToPeerFactoryRequests();\n\n        this.subscribe(\n            gwMessagePeerFactoriesAdded,\n            this.handlePeerFactoriesAdded);\n\n        this.subscribe(\n            gwMessagePeerFactoriesRemoved,\n            this.handlePeerFactoriesRemoved);\n\n        // activity windows\n\n        this.forwardActivityWindowMessagesToEventHandlers();\n        //\n\n        this.subscribe(\n            gwMessageDisposePeer,\n      /*(msg)*/() => {\n                if (this._config.disposeRequestHandling === \"dispose\") {\n                    this.dispose();\n                    return;\n                }\n                if (this._config.disposeRequestHandling === \"exit\") {\n                    if (this._windows && typeof this._windows.my() !== \"undefined\") {\n                        this._windows.my().close();\n                        return;\n                    }\n                    if (typeof window !== \"undefined\" && typeof (window as any).close === \"function\") {\n                        window.close();\n                        return;\n                    }\n                    if (typeof process !== \"undefined\" && typeof (process as any).exit === \"function\") {\n                        process.exit();\n                        return;\n                    }\n                }\n            });\n\n        // start domain join handshake\n        this._gw3Session.onJoined(() => {\n\n            if (this._config.mode === \"trackMyOnly\" ||\n                this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\n                this._sessionJoinedPromiseResolve(this);\n            } else {\n                this._gw3Session\n                    .send(\n                        {\n                            type: \"subscribe\",\n                            activity_types:\n                                (this._config.mode === \"trackAll\" ? [] :\n                                    this._config.mode === \"trackTypes\" ? this._config.typesToTrack : [])\n                        })\n                    .then(() => {\n                        this._sessionJoinedPromiseResolve(this);\n                    });\n            }\n        });\n        this._gw3Session.join();\n    }\n\n    public dispose() {\n        this._gw3Subscriptions.forEach((sub) => sub && this._connection.off(sub));\n        this._gw3Subscriptions.length = 0;\n    }\n\n    // ActivityBridge interface\n\n    public ready(): Promise<object> {\n        return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\n    }\n\n    public initReady(): Promise<ActivityBridge> {\n        return this._sessionJoinedPromise;\n    }\n\n    public onActivityTypeStatusChange(callback: EventHandlerCallback<EntityEvent<ActivityType>>) {\n        this._activityTypeStatusChangeCallbacks.push(callback);\n    }\n\n    public registerActivityType(\n        activityTypeName: string,\n        ownerWindow: WindowDefinition,\n        helperWindows?: WindowDefinition[],\n        config?: any,\n        description?: string): Promise<ActivityType> {\n\n        const entity: ActivityTypeGwMessageEntity = {};\n        entity.name = activityTypeName;\n        const toActivityPeerConfig = (windowDefinition: WindowDefinition) => ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition });\n\n        entity.owner_type = toActivityPeerConfig(ownerWindow);\n        entity.helper_types = helperWindows.map(toActivityPeerConfig);\n\n        return this._gw3Session\n            .send(\n                {\n                    type: gwMessageAddActivityTypes,\n                    types: [entity]\n                })\n            .then(() => {\n                const activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\n                this.invokeCallbacks(\n                    this._activityTypeStatusChangeCallbacks,\n                    new EntityEvent<ActivityType>(\n                        activityType,\n                        new EntityEventContext(EntityEventType.Added)),\n                    gwMessageAddActivityTypes);\n                return activityType;\n            });\n    }\n\n    public unregisterActivityType(activityTypeName: string): Promise<void> {\n        return this._gw3Session\n            .send(\n                {\n                    type: gwMessageRemoveActivityTypes,\n                    types: [activityTypeName]\n                })\n            .then(() => {\n                const activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\n                this.invokeCallbacks(\n                    this._activityTypeStatusChangeCallbacks,\n                    new EntityEvent<ActivityType>(\n                        activityType,\n                        new EntityEventContext(EntityEventType.Removed)),\n                    gwMessageAddActivityTypes);\n            });\n    }\n\n    public onWindowTypeStatusChange(callback: EventHandlerCallback<EntityEvent<WindowType>>): void {\n        this._windowTypeStatusChangeCallbacks.push(callback);\n    }\n\n    // NB: in GW3, peer factories have ids separate from the ids of the peers they create\n    // in this implementation we keep the two equal for simplicity\n    // NB: we assume only one peer will register a peer factory for a given type; otherwise the\n    // add/remove window types event logic will get messy\n    public registerWindowFactory(\n        windowType: string,\n        factory: WindowFactory,\n        parameters?: any): Promise<void> {\n        if (this._peerFactoriesRegisteredByUs[windowType]) {\n            return Promise.reject(new Error(`Factory for windowType ${windowType} already registered.`));\n        }\n\n        this._peerFactoriesRegisteredByUs[windowType] = factory;\n\n        // #deleteme TODO: review success/failure code paths\n        // #deleteme TODO: review - should we create the window type here?\n        const entity = {\n            id: windowType,\n            peer_type: windowType,\n            configuration: parameters\n        };\n        return this._gw3Session.send({\n            type: gwMessageAddPeerFactories,\n            factories: [entity]\n        })\n            .then(() => {\n                this.invokeCallbacks(\n                    this._windowTypeStatusChangeCallbacks,\n                    new EntityEvent(\n                        GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity),\n                        new EntityEventContext(EntityEventType.Added)),\n                    gwMessageAddPeerFactories);\n            })\n            .catch(() => {\n                delete this._peerFactoriesRegisteredByUs[windowType];\n            });\n    }\n\n    public unregisterWindowFactory(windowType: string): Promise<void> {\n        const factory = this._peerFactoriesRegisteredByUs[windowType];\n        if (!factory) {\n            return Promise.reject(new Error(`Factory for windowType ${windowType} not registered.`));\n        }\n\n        delete this._peerFactoriesRegisteredByUs[windowType];\n\n        return this._gw3Session.send({\n            type: gwMessageRemovePeerFactories,\n            factory_ids: [windowType]\n        }).then(() => {\n            this.invokeCallbacks(\n                this._windowTypeStatusChangeCallbacks,\n                new EntityEvent(\n                    new WindowType(windowType, undefined),\n                    new EntityEventContext(EntityEventType.Removed)),\n                gwMessageAddPeerFactories);\n        });\n    }\n\n    public onActivityStatusChange(callback: EventHandlerCallback<EntityEvent<Activity>>) {\n        this._activityChangeCallbacks.push(callback);\n    }\n\n    public initiateActivity(activityType: string, context?: object, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<string> {\n        const initiateMsg: any = {\n            type: gwMessageCreateActivity,\n            activity_type: activityType,\n            initial_context: context,\n        };\n\n        if (this.isOverrideTypeDefinition(configuration)) {\n            initiateMsg.types_override = {\n                owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\n                helper_types: configuration.helpers && configuration.helpers.map((wd) => ({ type: wd.type, name: wd.name, configuration: wd }))\n            };\n        } else {\n            initiateMsg.configuration = configuration && configuration.map((wd) => ({ type: wd.type, name: wd.name, configuration: wd }));\n        }\n\n        return this.sendCreateAndMapResultingMessagesToPromise(\n            initiateMsg,\n            gwMessageActivityInitiated,\n            (msg, requestId) => msg.request_id === requestId,\n            gwMessageActivityCreated,\n            (msg, requestId, initMsg) => msg.activity_id === initMsg.activity_id,\n            gwMessageActivityDestroyed,\n            (msg, requestId, initMsg) => msg.activity_id === initMsg.activity_id,\n            (msg) => msg.activity_id,\n            null).then((id) => {\n                if (this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\n                    if (!this._activityTypesInitiatedFromMe[activityType]) {\n                        this._activityTypesInitiatedFromMe[activityType] = true;\n\n                        return this._gw3Session\n                            .send(\n                                {\n                                    type: \"subscribe\",\n                                    activity_types: [activityType]\n                                })\n                            .then(() => {\n                                return id;\n                            });\n                    }\n                }\n                return id;\n            });\n    }\n\n    public stopActivity(activity: Activity): Promise<boolean> {\n        return this._gw3Session.send({\n            type: gwMessageDestroyActivity,\n            activity_id: activity.id,\n            reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\n            reason: \"Destroying activity\"\n        }).then((_) => true);\n    }\n\n    public updateActivityContext(activity: Activity, context: any, fullReplace: boolean, removedKeys?: string[]): Promise<void> {\n        if (fullReplace) {\n            // this will currently fail on GW3\n            return this._contexts.set(activity.id, context);\n        } else {\n            removedKeys = removedKeys || [];\n            for (const x of removedKeys) {\n                context[x] = null;\n            }\n            return this._contexts.update(activity.id, context);\n        }\n    }\n\n    public announceWindow(windowType?: string, activityWindowId?: string) {\n        // in the GW3 case we are only joined to an activity after we announce ourselves\n        // so all announcement calls should go in 'registerWindow', not here\n        // (registerWindow registers a window that's not part of an activity, at least yet)\n        throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\n    }\n\n    public registerWindow(type: string, name: string, independent: boolean): Promise<string> {\n\n        let shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\n        const peerId = this._connection.peerId;\n\n        // if running in GD3 (glue42gd is there) we should send ready only if we have the activityInfo object in glue\n        if (typeof window !== \"undefined\") {\n            const glue42gd = window.glue42gd;\n            if (glue42gd) {\n                shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\n            }\n        }\n\n        if (shouldSendReady) {\n            this._gw3Session.send({\n                type: gwMessageReady,\n            });\n        }\n\n        this.invokeCallbacks(\n            this._activityWindowChangeCallbacks,\n            new EntityEvent<ActivityWindow>(\n                new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined),\n                new EntityEventContext(EntityEventType.Added)),\n            \"register window\");\n\n        return Promise.resolve(peerId);\n    }\n\n    public onActivityWindowChange(callback: EventHandlerCallback<EntityEvent<ActivityWindow>>) {\n        this._activityWindowChangeCallbacks.push(callback);\n    }\n\n    public createWindow(activityId: string, windowDefinition: WindowDefinition): Promise<string> {\n\n        // if the user hasn't provided a layout option but has some of left,top,width,height\n        // insert a layout\n        if (!windowDefinition.layout) {\n            if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\n                windowDefinition.layout = {\n                    mode: \"pixels\",\n                    cellSize: 1,\n                };\n            }\n        }\n\n        const joinPeer = (id: string) => {\n            if (!activityId) {\n                return;\n            }\n            return this.joinActivity(activityId, id, windowDefinition.name)\n                .then(() => {\n                    return id;\n                });\n        };\n\n        return this.sendCreateAndMapResultingMessagesToPromise(\n            {\n                type: gwMessageCreatePeer,\n                peer_type: windowDefinition.type,\n                peer_name: windowDefinition.name || windowDefinition.type,\n                configuration: windowDefinition,\n                activity_id: activityId,\n            },\n            undefined,\n            undefined,\n            gwMessagePeerCreated,\n            (msg, requestId) => msg.request_id === requestId,\n            undefined,\n            undefined,\n            (msg) => msg.created_id,\n            joinPeer)\n            .then(joinPeer);\n    }\n\n    public closeWindow(id: string): Promise<void> {\n        return this._gw3Session.send({\n            type: gwMessageDestroyPeer,\n            destroy_peer_id: id\n        }).then((_) => undefined);\n    }\n\n    public getAnnouncementInfo(): AnnouncementInfo {\n        let activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\n        let activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\n        let activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\n        let activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\n\n        if (typeof window !== \"undefined\" &&\n            typeof window.location !== \"undefined\" &&\n            window.location.search &&\n            typeof URLSearchParams === \"function\") {\n            const searchParams = new URLSearchParams(location.search.slice(1));\n            activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\n            activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\n            if (typeof activityWindowIndependent === \"undefined\") {\n                activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\n            }\n            activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\n            activityId = activityId || searchParams.get(\"t42ActivityId\");\n        }\n\n        activityWindowType = activityWindowType || \"unknown\";\n        activityWindowIndependent = activityWindowIndependent || false;\n        activityWindowName = activityWindowName || this._connection.peerId;\n\n        return {\n            activityWindowId: undefined, // not member of activity from the get go\n            activityId,\n            activityWindowType,\n            activityWindowIndependent,\n            activityWindowName,\n        };\n    }\n\n    public joinActivity(activityId: string, windowId: string, name?: string): Promise<void> {\n        const maybeName = (name && { name }) || {};\n        return this._gw3Session.send({\n            type: gwMmessageJoinActivity,\n            target_id: windowId,\n            activity_id: activityId,\n            ...maybeName\n        }).then(() => {\n            this.invokeCallbacks(\n                this._activityWindowChangeCallbacks,\n                new EntityEvent<ActivityWindow>(\n                    new ActivityWindow(windowId, undefined, undefined, activityId, this.getAgmInstance(windowId), undefined, this.generateWindowGetter(windowId), undefined),\n                    new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                \"activity joined - ActivityWindow\");\n\n            this.invokeCallbacks(\n                this._activityChangeCallbacks,\n                new EntityEvent<Activity>(\n                    new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined),\n                    new EntityEventContext(EntityEventType.Updated)),\n                \"activity joined - Activity\");\n        });\n    }\n\n    public leaveActivity(activityId: string, windowId: string): Promise<void> {\n        return this._gw3Session.send({\n            type: gwMessageLeaveActivity,\n            target_id: windowId,\n            activity_id: activityId\n        }).then(() => {\n            this.invokeCallbacks(\n                this._activityWindowChangeCallbacks,\n                new EntityEvent<ActivityWindow>(\n                    new ActivityWindow(windowId, undefined, undefined, null, this.getAgmInstance(windowId), undefined, this.generateWindowGetter(windowId), undefined),\n                    new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)),\n                \"activity left - ActivityWindow\");\n\n            this.invokeCallbacks(\n                this._activityChangeCallbacks,\n                new EntityEvent<Activity>(\n                    new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined),\n                    new EntityEventContext(EntityEventType.Updated)),\n                \"activity left - Activity\");\n        });\n    }\n\n    // purposefully returning empty arrays\n    public getActivityTypes(): Promise<ActivityType[]> {\n        return Promise.resolve([]);\n    }\n\n    public getWindowTypes(): Promise<WindowType[]> {\n        return Promise.resolve([]);\n    }\n\n    public getActivities(): Promise<Activity[]> {\n        return Promise.resolve([]);\n    }\n\n    public getActivityWindows(): Promise<ActivityWindow[]> {\n        return Promise.resolve([]);\n    }\n\n    // N/A\n\n    // ignore for now\n\n    // POSTPONED\n    public createStackedWindows(id: string, windowDefinitions: WindowDefinition[], timeout: number): Promise<string[]> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public getWindowBounds(id: string): Promise<WindowBounds> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public setWindowBounds(id: string, bounds: WindowBounds): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public activateWindow(id: string, focus: boolean): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public setWindowVisibility(id: string, visible: boolean): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public cloneActivity(id: string, cloneOptions: CloneOptions): Promise<string> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public attachActivities(from: string, to: string, tag: object): Promise<any> {\n        return this._gw3Session.send({\n            type: gwNmessageMergeActivities,\n            into: to,\n            merge: from\n        });\n    }\n\n    // POSTPONED\n    public detachActivities(activityId: string, newActivityInfo: ActivityDescriptor): Promise<string> {\n        return this._gw3Session.send({\n            type: gwMessageSplitActivities,\n            from: activityId,\n            // split: from\n        }).then(() => \"\");\n    }\n\n    // POSTPONED\n    public onActivitiesAttached(callback: (info: any) => void) {\n        // POSTPONED\n    }\n\n    // POSTPONED\n    public onActivitiesDetached(callback: (info: any) => void) {\n        // POSTPONED\n    }\n\n    public onActivityAttachedDescriptorsRefreshed(callback: (info: any) => void): void {\n        // POSTPONED\n    }\n\n    // POSTPONED\n    public getAttachedDescriptors(): Promise<any[]> {\n        return Promise.resolve([]);\n    }\n\n    // helpers\n\n    // Protocol handling\n\n    private getRandomRequestId() {\n        return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\n    }\n\n    private forwardAddedAndRemovedMessagesToEventHandler<TMessage, TEntity>(\n        addedMessageType: string,\n        removedMessageType: string,\n        mapper: (msg: TMessage, isAdded: boolean) => TEntity[],\n        handlers: Array<EventHandlerCallback<EntityEvent<TEntity>>>) {\n\n        const getGetEntityEvent = (isAdded: boolean) => (entity: any) => new EntityEvent<TEntity>(\n            entity,\n            new EntityEventContext(\n                isAdded ?\n                    EntityEventType.Added :\n                    EntityEventType.Removed));\n\n        let sub1;\n        let sub2;\n\n        sub1 = addedMessageType && this.forwardMessageToEventHandler<TMessage, TEntity>(\n            addedMessageType,\n            (msg) => mapper(msg, true),\n            getGetEntityEvent(true),\n            handlers);\n\n        sub2 = removedMessageType && this.forwardMessageToEventHandler<TMessage, TEntity>(\n            removedMessageType,\n            (msg) => mapper(msg, false),\n            getGetEntityEvent(false),\n            handlers);\n\n        return [sub1, sub2].filter((x) => x);\n    }\n\n    private forwardMessageToEventHandler<TMessage, TEntity>(\n        messageType: string,\n        mapper: (msg: TMessage) => TEntity[],\n        getEntityEvent: (entity: TEntity, msg: TMessage) => EntityEvent<TEntity>,\n        handler: Array<EventHandlerCallback<EntityEvent<TEntity>>>) {\n        return this.subscribe(\n            messageType,\n            (msg: TMessage) => {\n                mapper(msg)\n                    .forEach((ent: any) =>\n                        handler.forEach((h) => h(getEntityEvent(ent, msg))));\n            });\n    }\n\n    private sendCreateAndMapResultingMessagesToPromise<TCreatedMessage extends GwMessage, TPromiseType>(\n        msg: any,\n        initiatedMessageType: string,\n        initiatedMessageFilter: (msg: any, requestId: string) => boolean,\n        createdMessageType: string,\n        createdMessageFilter: (msg: any, requestId: string, initMsg: any) => boolean,\n        cancelledMessageType: string,\n        cancelledMessageFilter: (msg: any, requestId: string, initMsg: any) => boolean,\n        createdMessageToPromiseResolution: (TCreatedMessage: any) => TPromiseType,\n        listenForRecreates: (result: TPromiseType) => void): Promise<TPromiseType> {\n\n        const reqId = this.getRandomRequestId();\n\n        let resolveCreatedPromise: (arg: any) => void;\n        let rejectCreatedPromise: (arg: any) => void;\n        const createdPromise = new Promise<TPromiseType>((resolve, reject) => {\n            resolveCreatedPromise = resolve;\n            rejectCreatedPromise = reject;\n        });\n\n        let initiatedMessageAck: any = null;\n\n        let initiatedSubscription: any;\n        let createdSubscription: any;\n        let cancelledSubscription: any;\n        let errorSubscription: any;\n\n        const dropSubscriptions = () => {\n            this.dropSubscription(initiatedSubscription);\n            if (!listenForRecreates) {\n                this.dropSubscription(createdSubscription);\n            }\n            this.dropSubscription(cancelledSubscription);\n            this.dropSubscription(errorSubscription);\n        };\n\n        initiatedSubscription = initiatedMessageType &&\n            this.subscribe(\n                initiatedMessageType,\n                (msg4: any) => {\n                    if (!initiatedMessageFilter(msg4, reqId)) {\n                        return;\n                    }\n                    initiatedMessageAck = msg4;\n                    this.dropSubscription(initiatedSubscription);\n                });\n\n        let recreated = false;\n        createdSubscription =\n            this.subscribe(\n                createdMessageType,\n                (msg1: TCreatedMessage) => {\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\n                        return;\n                    }\n                    if (recreated) {\n                        if (listenForRecreates) {\n                            listenForRecreates(createdMessageToPromiseResolution(msg1));\n                        }\n                    } else {\n                        recreated = true;\n                        resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\n                    }\n                });\n        cancelledSubscription = cancelledMessageType &&\n            this.subscribe(\n                cancelledMessageType,\n                (msg2: any) => {\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\n                        return;\n                    }\n                    rejectCreatedPromise(msg2);\n                });\n        errorSubscription = cancelledMessageType &&\n            this.subscribe(\n                gwMmessageError,\n                (msg3: any) => {\n                    if (msg3.request_id !== reqId) {\n                        return;\n                    }\n                    rejectCreatedPromise(msg3);\n                });\n\n        msg.request_id = reqId;\n\n        const toReturn = this._gw3Session\n            .send(msg)\n            .then(() => {\n                return createdPromise;\n            });\n        toReturn.then(dropSubscriptions, dropSubscriptions);\n        return toReturn;\n    }\n\n    // Entity Mapping\n\n    private peerFactoryIdAndOwnerIdToWindowType(factoryId: string, ownerId: string) {\n        const peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\n        if (!peerType) {\n            return null;\n        } else {\n            return new WindowType(peerType, undefined);\n        }\n    }\n\n    private subscribe<TMessage>(messageType: string, handler: (msg: TMessage) => void) {\n        const sub = this._connection.on(\n            messageType,\n            (msg: TMessage) => handler.bind(this)(msg));\n\n        this._gw3Subscriptions.push(sub);\n\n        return sub;\n    }\n\n    private dropSubscription(subscription: any) {\n        if (subscription) {\n            this._connection.off(subscription);\n            delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\n        }\n    }\n\n    private invokeCallbacks<TEvent>(\n        callbacks: Array<EventHandlerCallback<EntityEvent<TEvent>>>,\n        event: EntityEvent<TEvent>,\n        description?: string) {\n        callbacks.forEach((cb) => {\n            try {\n                cb(event);\n            } catch (err) {\n                this._logger.error(`Error in ${description || event.context.type} callback: ` + JSON.stringify(err));\n            }\n        });\n    }\n\n    private handleActivityCreatedMessage(msg: ActivityGwMessage) {\n        if (!msg.context_id) {\n            this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\n        } else {\n            if (!this._contextSubscriptions[msg.activity_id]) {\n                this.subscribeToContext(msg);\n            }\n        }\n    }\n\n    private async subscribeToContext(msg: ActivityGwMessage): Promise<void> {\n        const activityId = msg.activity_id;\n        this._contextSubscriptions[activityId] =\n            await this._contexts.subscribe(activityId,\n                (data: any, updated: any, removed: string[]) => {\n                    const event = new EntityEvent<Activity>(\n                        new Activity(activityId, undefined, undefined, data, undefined),\n                        new ActivityContextChangedEventContext(data, updated, removed));\n\n                    this.invokeCallbacks(\n                        this._activityChangeCallbacks,\n                        event,\n                        \"context updated\");\n                });\n    }\n\n    private handleActivityDestroyedMessage(msg: ActivityGwMessage) {\n        const unsubscribeContext = this._contextSubscriptions[msg.activity_id];\n        if (typeof unsubscribeContext === \"function\") {\n            unsubscribeContext();\n        }\n        delete this._contextSubscriptions[msg.activity_id];\n    }\n\n    private handlePeerFactoriesAdded(msg: PeerFactoryGwMessage) {\n        msg.factories.forEach((entity: PeerFactoryGwMessageEntity) => {\n            this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\n        });\n    }\n\n    private handlePeerFactoriesRemoved(msg: PeerFactoryGwMessage) {\n        msg.factory_ids.forEach((factoryId: string) => {\n            delete this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\n        });\n    }\n\n    private forwardActivityTypeMessagesToStatusEventHandlers() {\n        this.forwardAddedAndRemovedMessagesToEventHandler<ActivityTypeGwMessage, ActivityType>(\n            gwMmessageActivityTypesAdded,\n            gwMessageActivityTypesRemoved,\n            (msg: ActivityTypeGwMessage, isAdded) => isAdded\n                ? msg.types.map((t) => GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined))\n                : msg.types.map((t) => new ActivityType(t.name, undefined, undefined, undefined)),\n            this._activityTypeStatusChangeCallbacks);\n\n    }\n\n    private forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers() {\n        // if we're created as part of this activity, the JOINED ACTIVITY is\n\n        // the first time we'll hear about it; so let's record the participants\n        for (const activityCreatedMessage of [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]) {\n            this.forwardMessageToEventHandler<ActivityGwMessage, ActivityWindow>(\n                activityCreatedMessage,\n                (msg) =>\n                    ([msg.owner || { ...msg, type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id }])\n                        .concat(msg.participants || [])\n                        .map((info: any) => new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, this.getAgmInstance(info.peer_id), undefined, this.generateWindowGetter(info.peer_id), undefined)),\n                (ent, msg) => new EntityEvent<ActivityWindow>(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                this._activityWindowChangeCallbacks);\n        }\n    }\n\n    private forwardActivityMessagesToStatusEventHandlers() {\n\n        // see dot-net-activity\\Activity\\ActivityState.cs\n\n        for (const createdMessage of [gwMessageActivityCreated, gwMessageJoinedActivity]) {\n            this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n                createdMessage,\n                (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))],\n                (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n                this._activityChangeCallbacks);\n        }\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageActivityDestroyed,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageActivityInitiated,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageOwnerChanged,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n    }\n\n    private forwardPeerFactoryMessagesToStatusEventHandlers() {\n        this.forwardAddedAndRemovedMessagesToEventHandler<PeerFactoryGwMessage, WindowType>(\n            gwMessagePeerFactoriesAdded,\n            gwMessagePeerFactoriesRemoved,\n            (msg: PeerFactoryGwMessage, isAdded: boolean) => isAdded\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\n                : msg.factory_ids.map((id) => this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id)).filter((x) => x != null),\n            this._windowTypeStatusChangeCallbacks);\n    }\n\n    private forwardPeerFactoryMessagesToPeerFactoryRequests() {\n        this.subscribe(\n            gwMessagePeerRequested,\n            (msg: PeerRequestedGwMessage) => {\n                const factory = this._peerFactoriesRegisteredByUs[msg.peer_factory];\n                if (!factory) {\n                    this._gw3Session.send(\n                        {\n                            type: gwMmessageError,\n                            request_id: msg.request_id,\n                            reason: `Unknown peer factory ${msg.peer_factory}`\n                        });\n                    return;\n                }\n\n                try {\n                    const configuration = msg.configuration || {};\n                    // NB: peer factories (or whoever they're delegating to) need to support whatever activity\n                    // environment (GW3, HC) we're targeting when they're creating peers\n                    // the manager is env agnostic, the bridge will augment the configuration with whatever's required\n\n                    // NB: also, since peers are requested in two ways (single peer with just its configuration,\n                    // or peer created as part of new activity, where the factory receives the aggregate config of\n                    // all peers, combined from ADD ACTIVITY TYPE and CREATE ACTIVITY), the peer factories need to\n                    // be able to handle both configuration structures intelligently.\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\n                    const promise = factory({\n                        activityId: msg.activity && msg.activity.id,\n                        activityType: msg.activity && msg.activity.type,\n                        type: msg.configuration && msg.configuration.type,\n                        gwToken: configuration.gateway_token,\n                        configuration\n                    });\n                    if (promise && promise.then && promise.catch) {\n                        promise.catch((err) => this._gw3Session.send(\n                            {\n                                type: gwMmessageError,\n                                request_id: msg.request_id,\n                                reason: err && (err.message || JSON.stringify(err))\n                            }));\n                    }\n                } catch (err) {\n                    this._gw3Session.send(\n                        {\n                            type: gwMmessageError,\n                            request_id: msg.request_id,\n                            reason: err && (err.message || JSON.stringify(err))\n                        });\n                }\n            });\n    }\n\n    private forwardActivityWindowMessagesToEventHandlers() {\n        for (const joinedMessage of [gwMessageActivityJoined, gwMessageJoinedActivity]) {\n            this.subscribe(joinedMessage,\n                (msg: any) => {\n                    const joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\n                    const joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\n                    const joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\n\n                    const entity = new ActivityWindow(\n                        joinedId,\n                        joinedName,\n                        joinedType /* for ACTIVITY JOINED */,\n                        msg.activity_id,\n                        this.getAgmInstance(joinedId),\n                        undefined,\n                        this.generateWindowGetter(joinedId),\n                        undefined);\n\n                    // TODO review - what if it's our activity, do we\n                    // even need to subscribe\n                    if (!this._contextSubscriptions[msg.activity_id]) {\n                        this.subscribeToContext(msg).then(() => {\n                            if (joinedMessage === gwMessageJoinedActivity) {\n                                this._activityJoinedPromiseResolve({});\n                            }\n                        });\n                    } else if (joinedMessage === gwMessageJoinedActivity) {\n                        this._activityJoinedPromiseResolve({});\n                    }\n\n                    // TODO review: we might have the context data here already\n                    // why not update it here instead of waiting for subscribeToContext\n                    this.invokeCallbacks(\n                        this._activityWindowChangeCallbacks,\n                        new EntityEvent<ActivityWindow>(\n                            entity,\n                            new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                        joinedMessage);\n\n                });\n        }\n\n        this.subscribe(\n            gwMessageActivityLeft,\n            (msg: any) => {\n                const entity = new ActivityWindow(\n                    msg.left_id,\n                    undefined,\n                    undefined,\n                    null,\n                    this.getAgmInstance(msg.left_id),\n                    undefined,\n                    this.generateWindowGetter(msg.left_id),\n                    undefined);\n\n                this.invokeCallbacks(\n                    this._activityWindowChangeCallbacks,\n                    new EntityEvent<ActivityWindow>(\n                        entity,\n                        new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)),\n                    gwMessageActivityLeft);\n            });\n\n        this.forwardAddedAndRemovedMessagesToEventHandler<PeerCreatedGwMessage, ActivityWindow>(\n            gwMessagePeerCreated,\n            undefined,\n            (msg) => [\n                new ActivityWindow(\n                    msg.created_id,\n                    undefined /* #deleteme TODO: review - we should know the name if any */,\n                    undefined /* #deleteme TODO: review - we should know the type */,\n                    undefined,\n                    undefined,\n                    undefined,\n                    this.generateWindowGetter(msg.created_id),\n                    undefined)],\n            this._activityWindowChangeCallbacks);\n    }\n\n    private getAgmInstance(id: string): Glue42.AGM.Instance {\n        return this._config.agm.servers().find((s) => s.peerId === id || s.windowId === id);\n    }\n\n    private generateWindowGetter(peerId: string): () => Glue42.Windows.GDWindow {\n        return () => {\n            const server = this.getAgmInstance(peerId);\n            if (!server) {\n                return;\n            }\n            const windowId = server.windowId;\n            return this._config.windows.list().filter((w) => w.id === windowId)[0];\n        };\n    }\n\n    private isOverrideTypeDefinition(value: OverrideTypeDefinition | WindowDefinition[]): value is OverrideTypeDefinition {\n        if (typeof value === \"undefined\") {\n            return false;\n        }\n        if ((value as OverrideTypeDefinition).owner) {\n            return true;\n        }\n        return false;\n    }\n}\n","import { EntityEventType } from \"./../contracts/entityEvent\";\nimport Activity from \"./../entities/activity\";\nimport ActivityWindow from \"./../entities/activityWindow\";\n\nimport ActivityManager from \"./../core/activityManager\";\nimport { Logger } from \"./../helpers/logger\";\nimport * as util from \"./../helpers/util\";\n\nimport { WindowDefinition } from \"./../entities/windowDefinition\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { Callback } from \"../contracts/contracts\";\nimport { AttachedActivityDescriptor } from \"../entities/attachedActivityDescriptor\";\nimport { Glue42 } from \"../../../glue\";\n\nexport interface My {\n\n  activity: Activity;\n\n  window: ActivityWindow;\n\n  context: object;\n\n  updateContext(context: object, callback?: any): Promise<object>;\n\n  setContext(context: object, callback?: any): Promise<object>;\n\n  onActivityJoined(callback: (activity: Activity) => void): void;\n\n  onActivityLeft(callback: (activity: Activity) => void): void;\n\n  onContextChanged(callback: (context: object, delta: object, removed: string[], activity: Activity) => void): void;\n\n  clone(options: CloneOptions, callback: Callback<Activity>): Promise<Activity>;\n\n  attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor>;\n\n  setFrameColor(color: string, callback: () => void): Promise<Activity>;\n\n  getFrameColor(): string;\n\n  onFrameColorChanged(callback: () => void): void;\n}\n\n/**\n * A lightweight, single activity oriented subset of the API which should be used by most activity applications.\n * Provides access to the activity of your application (my.activity) and shortcuts to the most commonly used methods\n * (e.g. my.createWindow is a shortcut for my.activity.createWindow)\n *\n * @module my\n */\nexport default class ActivityMy implements My {\n\n  public _myAttached: Array<(state: AttachedActivityDescriptor) => void> = [];\n  public _myDetached: Array<(state: AttachedActivityDescriptor) => void> = [];\n  public _myAttachedTo: Array<(activity: Activity, state: AttachedActivityDescriptor) => void> = [];\n  public _myDetachedFrom: Array<(detached: Activity, existing: Activity, state: AttachedActivityDescriptor) => void> = [];\n  public _myActivityFrameColorChanged: Array<(frameColor: string) => void> = [];\n  public _myActivityJoinedCallbacks: Array<(activity: Activity, event: any) => void> = [];\n  public _myActivityRemovedCallbacks: Array<(activity: Activity, event: any) => void> = [];\n  public _myContextUpdateCallbacks: Array<(context: object, delta: object, removed: string[], activity: Activity) => void> = [];\n  public _w: ActivityWindow;\n  public _m: ActivityManager;\n  public _logger: Logger = Logger.Get(this);\n\n  constructor(manager: ActivityManager, windows: any) {\n    this._m = manager;\n    manager.ready()\n      .then((am) => {\n        // Subscribe for events for driving \"my\" logic\n        am.subscribeActivityContextChanged(this._subscribeMyContextChanged.bind(this));\n        am.subscribeWindowEvents(this._subscribeMyWindowEvent.bind(this));\n        am.subscribeActivitiesAttached(this._subscribeActivitiesAttached.bind(this));\n        am.subscribeActivitiesDetached(this._subscribeActivitiesDetached.bind(this));\n        if (windows) {\n          windows.onWindowFrameColorChanged(this._subscribeWindowFrameColorChanged.bind(this));\n        }\n      });\n  }\n\n  /**\n   * The current activity window; can be undefined (if the window is not part of any activity)\n   *\n   * @var {Window} window\n   */\n  public get window(): ActivityWindow {\n    if (util.isUndefinedOrNull(this._w)) {\n      const announcedWindows = this._m.announcedWindows;\n      if (announcedWindows.length > 0) {\n        this._w = announcedWindows[0];\n      }\n    }\n    return this._w;\n  }\n\n  /**\n   * The current activity that the application participates in.\n   * Can be undefined (if currently not part of any activity)\n   *\n   * @var {module:activity} activity\n   */\n  public get activity(): Activity {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return undefined;\n    }\n    return myWin.activity;\n  }\n\n  /**\n   * Creates a new window and joins it to the activity\n   *\n   * @function createWindow\n   * @param {string| windowDefinition} windowType The type of the window to be created\n   * @returns {Promise<module:activityWindow>}\n   */\n  public createWindow(windowType: string | WindowDefinition): Promise<ActivityWindow> {\n    return this._m.createWindow(this.activity, windowType);\n  }\n\n  /**\n   * Creates a stacked set of windows and joins them to the\n   *\n   * @function createStackedWindows\n   * @param {string[] | windowDefinition[]} windowTypes The types of the windows to be created\n   * @param {number} timeout\n   * @returns {Promise<module:activityWindow[]>}\n   */\n  public createStackedWindows(windowTypes: Array<string | WindowDefinition>, timeout?: number): Promise<ActivityWindow[]> {\n    return this._m.createStackedWindows(this.activity, windowTypes, timeout);\n  }\n\n  /**\n   * The current activity context. To update use my.updateContext, to replace my.setContext\n   *\n   * @var {object} context\n   */\n  public get context(): object {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return {};\n    }\n\n    return activity.context;\n  }\n\n  /**\n   * Updates activity context using the properties from the context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @function updateContext\n   * @param {object} context\n   * @return {Promise<object>}\n   */\n  public updateContext(context: object, callback?: any): Promise<object> {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return new Promise<object>((resolve, reject) => {\n        reject(\"Not in activity\");\n      });\n    }\n\n    return activity.updateContext(context, callback);\n  }\n\n  /**\n   * Replaces the activity context with a new one.\n   *\n   * @function setContext\n   * @param {object} context   The new context\n   * @returns {Promise<Object>}\n   */\n  public setContext(context: object, callback?: any): Promise<object> {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return new Promise((resolve, reject) => {\n        reject(\"Not in activity\");\n      });\n    }\n\n    return activity.setContext(context, callback);\n  }\n\n  public onActivityJoined(callback: (activity: Activity) => void) {\n    this._myActivityJoinedCallbacks.push(callback);\n\n    // replay joined event\n    const myWin = this.window;\n    if (!util.isUndefinedOrNull(myWin) && !util.isUndefinedOrNull(myWin.activity)) {\n      callback(myWin.activity);\n    }\n  }\n\n  public onActivityLeft(callback: (activity: Activity) => void) {\n    this._myActivityRemovedCallbacks.push(callback);\n  }\n\n  /**\n   * Subscribe for context updates\n   *\n   * @function onContextChanged\n   * @param {contextChangedHandler} callback Handler function that will receive context related events\n   */\n  public onContextChanged(callback: (context: object, delta: object, removed: string[], activity: Activity) => void) {\n    this._myContextUpdateCallbacks.push(callback);\n\n    // publish initial event\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const activity = myWin.activity;\n    if (util.isUndefinedOrNull(activity)) {\n      return;\n    }\n\n    // NB: either the callback is added before the activity is recorded in the API, or\n    // the activity is recorded before the callback\n    // in the former case, when the activity is seen, the callback will be invoked in _notifyMyContextChanged\n    // in the latter, the callback will be invoked here\n    // in both cases, the callback will be invoked at least once as soon as an activity is recorded\n\n    // see \"long analysis for callback behavior in GW3: several cases\" for full explanation\n\n    callback(activity.context, activity.context, [], activity);\n  }\n\n  public clone(options: CloneOptions, callback: Callback<Activity>): Promise<Activity> {\n    const act = this.activity;\n    return this._m.clone(act, options, callback);\n  }\n\n  public attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor> {\n    let activityId: string;\n    if (typeof activity === \"string\") {\n      activityId = activity;\n    } else {\n      activityId = activity.id;\n    }\n    return this._m.attachActivities(activityId, this.activity.id, tag);\n  }\n\n  public onActivityAttached(callback: (state: AttachedActivityDescriptor) => void) {\n    this._myAttached.push(callback);\n  }\n\n  public onActivityDetached(callback: (state: AttachedActivityDescriptor) => void) {\n    this._myDetached.push(callback);\n  }\n\n  public onAttachedToActivity(callback: (activity: Activity, state: AttachedActivityDescriptor) => void) {\n    this._myAttachedTo.push(callback);\n  }\n\n  public onDetachedFromActivity(callback: (detached: Activity, existing: Activity, state: AttachedActivityDescriptor) => void)  {\n    this._myDetachedFrom.push(callback);\n  }\n\n  public get attached() {\n    if (!this.activity) {\n      return [];\n    }\n\n    return this.activity.attached;\n  }\n\n  public setFrameColor(color: string, callback: () => void): Promise<Activity> {\n\n    if (this.activity) {\n      return this.activity.setFrameColor(color, callback);\n    } else {\n      return Promise.resolve(null);\n    }\n  }\n\n  public getFrameColor(): string {\n\n    if (this.activity) {\n      return this.activity.getFrameColor();\n    }\n\n    return \"\";\n  }\n\n  public onFrameColorChanged(callback: () => void) {\n    this._myActivityFrameColorChanged.push(callback);\n  }\n\n  private _subscribeMyContextChanged(activity: Activity, context: object, delta: object, removed: string[]) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (activity.id !== myActivity.id) {\n      return;\n    }\n\n    this._notifyMyContextChanged(activity, context, delta, removed);\n  }\n\n  private _subscribeMyWindowEvent(activity: Activity, window: ActivityWindow, event: any) {\n\n    if (util.isUndefinedOrNull(this.window)) {\n      return;\n    }\n\n    // ignore events not related to my window\n    if (this.window.id !== window.id) {\n      return;\n    }\n\n    if (event === EntityEventType.ActivityWindowJoinedActivity) {\n      this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\n\n      // NB: tick42-contexts doesn't raise automatically an update event on join if the snapshot matches\n      // the currently recorded data\n      // revisited: however, it is pushing an update on subscribe() (which is performed by js-activity)\n      // long analysis for callback behavior in GW3: several cases\n      // 1 client calls onContextChanged before joined-activity arrives\n      // then callback is pushed but onContextChanged callback call is skipped\n      //    1-1 js-activity handles joined-activity first; it calls js-context subscribe\n      //    1-1-1 js-context has not seen the activity so far so it doesn't invoke an update\n      //    however, js-context then handles joined-activity and raises an update\n      //    1-1-2 js-context has seen the activity, so it raises an update\n      //    js-context then handles joined-activity and doesn't raise a second update unless the received snapshot is\n      //    different from the last seen context value (can this even happen?)\n      //    1-2 js-context handles joined-activity first\n      //    since js-activity is not subscribed, whether it raises an update or not, it's not propagated\n      //    js-activity then handles joined-activity, performs a subscribe and js-context raises an update\n      // 2 joined-activity arrives, whatever updates are raised by js-activity's subscribe() or js-context's\n      // message handler are not propagated since the callback is not pushed, client then calls onContextChanged,\n      // and the callback is called inside that\n      // also, the callback cannot be invoked first in 1 then 2 or first 2 then 1\n      // => in all cases, a callback is called exactly once as soon as (it's subscribed && the activity is joined)\n      // (in 1-1-2 it *might* be possible to be called twice, first with a slightly out of date context,\n      // then with the joined-activity snapshot, see \"different from the last seen context value\", but it's unlikely,\n      // and not a real issue anyway)\n      // in the HC case, however, case 1 doesn't work since js-context doesn't raise updates on subscribe() nor\n      // joining the activity (#deleteme TODO LATER MINOR: verify), so we need to raise it ourselves\n\n      // 2017-09-08: final revisit (@vnikolov)\n      // since SBGW_D-163 allows automatic subscription to contexts of pre-existing activities, 1-1-2 no longer works\n      // (we might have already seen the latest state before joined-activity so no update will be raised)\n      // for this reason I'm invoking notifyMyContextChanged unconditionally - so we might have multiple\n      // invocations; if this turns into a problem we might add a guard inside notifyMyContextChanged that\n      // checks we're not raising it twice with the same context value\n      //\n      // we might also get a duplicate raise if the sender of an update is also subscribed to the context\n      // if (this._m.usingHc) {\n      this._notifyMyContextChanged(activity, activity.context, null, null);\n      // }\n\n      // #deleteme TODO LATER MAJOR: what about the cases when we're not watching foreign activity contexts?\n    } else if (event === EntityEventType.ActivityWindowLeftActivity) {\n      this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\n      // #deleteme TODO LATER MINOR: should we send null update here?\n    }\n  }\n\n  private _notifyMyWindowEvent(activity: Activity, callbackStore: Array<(activity: Activity, event: any) => void>) {\n    callbackStore.forEach((element) => {\n      try {\n        element(activity, event);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyMyContextChanged(activity: Activity, context: object, delta?: object, removed?: string[]) {\n    delta = delta || {};\n    removed = removed || [];\n\n    this._myContextUpdateCallbacks.forEach( (element) => {\n      try {\n        element(context, delta, removed, activity);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyAttached(state: AttachedActivityDescriptor) {\n\n    this._myAttached.forEach((cb) => {\n      try {\n        cb(state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyDetached(state: AttachedActivityDescriptor) {\n\n    this._myDetached.forEach((cb) => {\n      try {\n        cb(state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyAttachedTo(state: AttachedActivityDescriptor) {\n\n    this._myAttachedTo.forEach((cb) => {\n      try {\n        cb(this.activity, state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyDetachedFrom(detached: Activity, existing: Activity, state: AttachedActivityDescriptor) {\n\n    this._myDetachedFrom.forEach((cb) => {\n      try {\n        cb(detached, existing, state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _subscribeActivitiesAttached(newAct: Activity, state: AttachedActivityDescriptor) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (newAct.id !== myActivity.id) {\n      return;\n    }\n\n    if (state.windowIds.indexOf(myWin.id) >= 0) {\n      this._notifyAttachedTo(state);\n      return;\n    }\n\n    this._notifyAttached(state);\n  }\n\n  private _subscribeActivitiesDetached(newAct: Activity, oldAct: Activity, state: any) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (oldAct.id === myActivity.id) {\n      this._notifyDetached(state);\n    }\n\n    if (newAct.id === myActivity.id) {\n      this._notifyDetachedFrom(newAct, oldAct, state);\n    }\n  }\n\n  private _subscribeWindowFrameColorChanged(window: Glue42.Windows.GDWindow) {\n    const act = this.activity;\n    if (!act) {\n      return;\n    }\n\n    if (!act.owner) {\n      return;\n    }\n\n    if (act.owner.underlyingWindow.id === window.id) {\n      this._myActivityFrameColorChanged.forEach((callback) => {\n        callback(window.frameColor);\n      });\n    }\n  }\n}\n","import {Logger} from \"./logger\";\nimport * as util from \"../helpers/util\";\n/**\n * Class that can be used as a marker for successful completion of a set of events\n * @private\n * @module readyMarker\n */\nexport class ReadyMarker {\n  private _callbacks: Array<(err: any) => void>;\n  private _signals: number;\n  private _error: any;\n  private _logger: Logger;\n  private _name: string;\n\n  /**\n   * Creates new marker\n   * @param name Name of the marker, useful in logging\n   * @param signalsToWait Number of signals(events) that needs to be signaled (completed) before the marker is set as completed\n   */\n  constructor(name: string, signalsToWait: number) {\n    this._logger = Logger.Get(\"ReadyMarker [\" + name + \"]\");\n    this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\n    if (signalsToWait <= 0) {\n      throw new Error(\"Invalid signal number. Should be > 0\");\n    }\n    this._signals = signalsToWait;\n    this._callbacks = [];\n    this._name = name;\n  }\n\n  /**\n   * Adds a new callback that will be notified when the events are completed (success) or some error happened\n   */\n  public setCallback(callback: (err: any) => void) {\n    if (this.isSet()) {\n      callback(undefined);\n      return;\n    } else if (this.isError()) {\n      callback(this._error);\n      return;\n    }\n    this._callbacks.push(callback);\n  }\n\n  /**\n   * Signals for a completion of an event. If this is the last event success callbacks will be called\n   */\n  public signal(message?: string) {\n    this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\n    this._signals--;\n    if (this._signals < 0) {\n      throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\n    }\n\n    if (this.isSet()) {\n      this._callbacks.forEach((callback) => {\n        callback(undefined);\n      });\n    }\n  }\n\n  /**\n   * Signals for an error in some of the events. This will notify all callbacks that the marker has failed\n   */\n  public error(error: string) {\n    this._error = error;\n    this._callbacks.forEach((errorCallback) => {\n      errorCallback(error);\n    });\n  }\n\n  /**\n   * Checks if the marker is set (completed)\n   */\n  public isSet() {\n    if (this.isError()) {\n      return false;\n    }\n    return this._signals === 0;\n  }\n\n  /**\n   * Checks if the marker has failed (some of the events has failed)\n   */\n  public isError() {\n    return !util.isUndefined(this._error);\n  }\n\n  /**\n   * Returns the last reported error (undefined if no error)\n   */\n  public getError() {\n    return this._error;\n  }\n}\n","import ActivityEntity from \"../entities/activityEntity\";\nimport {\n  ActivityStatusChangeEventContext,\n  EntityEvent,\n  EntityEventContext,\n  EntityEventType\n} from \"../contracts/entityEvent\";\nimport Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport { ActivityState } from \"..//contracts/entityEvent\";\n\ndeclare const htmlContainer: any;\n\n/**\n * Collection of ActivityEntities that provides change notifications\n * @module entityCollection\n * @private\n */\nexport class EntityObservableCollection<T extends ActivityEntity> {\n\n  private _items: { [key: string]: T } = {};\n  private _listeners: Array<(item: T, action: EntityEventContext) => void> = [];\n  private _processNew: (entity: T) => void;\n\n  constructor(processNew: (entity: T) => void) {\n    this._processNew = processNew;\n  }\n\n  /**\n   * Adds one item to the collection\n   */\n  public addOne(item: T) {\n    this.add([item]);\n  }\n\n  /**\n   * Adds an array of items to the collection\n   */\n  public add(items: T[]) {\n    items.forEach((element) => {\n      this.process(new EntityEvent<T>(element, new EntityEventContext(EntityEventType.Added)));\n    });\n  }\n\n  /**\n   * Process existing EntityEvent\n   */\n  public process(event: EntityEvent<T>): T {\n\n    const context = event.context;\n    const type = context.type;\n    const entity = event.entity;\n\n    // here we're populating some data which particular implementations (e.g.\n    // GW3) can't provide\n\n    // TODO: extract these cases into external filters\n\n    // activity status change without old status?\n    // grab it from the existing entity\n    if (type === EntityEventType.StatusChange &&\n      !(context as ActivityStatusChangeEventContext).oldStatus) {\n      const act = this._items[entity.id] as any as Activity;\n      if (act) {\n        (context as ActivityStatusChangeEventContext).oldStatus = act.status;\n      }\n    }\n\n    // the GW3 bridge notifies us of possible status changes (it's mostly stateless so\n    // it can't/doesn't distinguish between JOINED ACTIVITY for an activity we already\n    // know about vs a brand new activity. for this reason, we just coalesce status\n    // updates which indicate the same state.\n    if (type === EntityEventType.StatusChange &&\n      (context as ActivityStatusChangeEventContext).oldStatus &&\n      (context as ActivityStatusChangeEventContext).newStatus &&\n      (context as ActivityStatusChangeEventContext).oldStatus.state ===\n      (context as ActivityStatusChangeEventContext).newStatus.state) {\n      context.type = EntityEventType.Updated;\n    }\n\n    // GW3: coalesce multiple joined/left events\n\n    if (typeof htmlContainer === \"undefined\") {\n      if (type === EntityEventType.ActivityWindowJoinedActivity &&\n        this._items[entity.id] &&\n        (this._items[entity.id] as any as ActivityWindow).activity) {\n        context.type = EntityEventType.Updated;\n      }\n      if (type === EntityEventType.ActivityWindowLeftActivity &&\n        this._items[entity.id] &&\n        !(this._items[entity.id] as any as ActivityWindow).activity) {\n        context.type = EntityEventType.Updated;\n      }\n    }\n\n    // update internal collections (adding the entity or updating existing entity). From that\n    // point start using the internalEntity\n    // NB: undefined properties are coalesced, null properties represent removals\n    const internalEntity = this._updateInternalCollections(entity, type, context);\n    this._notifyListeners(internalEntity, context);\n    return internalEntity;\n  }\n\n  /**\n   * Gets all items from the collection.\n   */\n  public get(): T[] {\n    const result = [];\n    for (const key in this._items) {\n      if (this._items.hasOwnProperty(key)) {\n        const element = this._items[key];\n        result.push(element);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets item by name/id\n   * @param name  Name/id of the item to get\n   * @returns     Item if found; undefined if not\n   */\n  public getByName(name: string) {\n    // this does not work for some reason\n    // return this._items[name];\n    for (const key in this._items) {\n      if (key === name) {\n        return this._items[key];\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Gets a item if in the collection or waits for it to appear\n   * @param name\n   * @returns {Promise<T>}\n   */\n  public getOrWait(name: string): Promise<T> {\n    return new Promise<T>((resolve) => {\n      const entityAddedHandler = (entity: T) => {\n        if (entity.id !== name) {\n          return;\n        }\n        resolve(entity);\n        this.unsubscribe(entityAddedHandler);\n      };\n      this.subscribe(entityAddedHandler);\n\n      // try to get right away - if not here wait for it to appear\n      const window = this.getByName(name);\n      if (window) {\n        this.unsubscribe(entityAddedHandler);\n        resolve(window);\n        return;\n      }\n    });\n  }\n\n  /**\n   * Subscribes a listener for changes\n   * @param handler Callback for changes\n   */\n  public subscribe(handler: (act: T, action: EntityEventContext) => void): () => void {\n    this._listeners.push(handler);\n    // replay existing items for new subscribers\n    Object.keys(this._items).forEach((key) => {\n      const element = this._items[key];\n      handler(element, new EntityEventContext(EntityEventType.Added.toString()));\n    });\n\n    return () => {\n      this.unsubscribe(handler);\n    };\n  }\n\n  /**\n   *  Unsubscribes a listener\n   */\n  public unsubscribe(handler: (act: T, action: EntityEventContext) => void) {\n    const index = this._listeners.indexOf(handler);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Notify all listeners for some event\n   */\n  private _notifyListeners(entity: T, context: EntityEventContext) {\n    this._listeners.forEach((listener) => {\n      try {\n        listener(entity, context);\n      } catch (e) {\n        return;\n      }\n    });\n  }\n\n  /**\n   * Update internal collections (usually after some kind of modification event has arrived)\n   */\n  private _updateInternalCollections(entity: T, type: EntityEventType, context: any) {\n    const entityAsAny = (entity as any);\n\n    // #deleteme TODO: refactor - currently we apply some rules for each type\n    const isActivityDestroy =\n      (type === EntityEventType.StatusChange &&\n        entityAsAny.status &&\n        entityAsAny.status.state === ActivityState.Destroyed) ||\n      (type === EntityEventType.StatusChange &&\n        context &&\n        context.newStatus &&\n        context.newStatus.state === ActivityState.Destroyed);\n\n    // #deleteme TODO: verify this stuff\n    // windows have two states - removed from activity and closed (TODO: this only works in GD 2.1 and later)\n    const isWindowClose = type === EntityEventType.Closed;\n    const isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\n\n    if (isTypeRemove || isWindowClose || isActivityDestroy) {\n\n      const oldEntity = this._items[entity.id];\n      delete this._items[entity.id];\n      // on remove return the input entity\n      this._processNew(entity);\n      if (oldEntity) {\n        entity._beforeDelete(oldEntity);\n      }\n      return entity;\n    } else {\n      const key = entity.id;\n      // if new object add, otherwise clone object properties\n      if (!this._items.hasOwnProperty(key)) {\n        this._processNew(entity);\n        this._items[entity.id] = entity;\n      } else {\n        this._items[entity.id]._update(entity);\n      }\n    }\n\n    return this._items[entity.id];\n  }\n}\n","﻿/* tslint:disable */\nimport { ActivityContextUpdateHandler, Callback } from \"../contracts/contracts\";\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport {\n  ActivityContextChangedEventContext,\n  ActivityStatusChangeEventContext,\n  EntityEvent,\n  EntityEventContext,\n  EntityEventType\n} from \"../contracts/entityEvent\";\n\nimport ActivityType from \"../entities/activityType\";\nimport WindowType from \"../entities/windowType\";\nimport Activity from \"../entities/activity\";\nimport ActivityEntity from \"../entities/activityEntity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport WindowSource from \"../entities/windowSource\";\n\nimport { nodeify } from \"../helpers/promiseExtensions\";\nimport { ReadyMarker } from \"../helpers/readyMarker\";\nimport { EntityObservableCollection } from \"../helpers/entityObservableCollection\";\nimport { Logger } from \"../helpers/logger\";\nimport * as util from \"../helpers/util\";\n\nimport { ActivityBridge } from \"../bridges/activityBridge\";\nimport { WindowDefinition } from \"../entities/windowDefinition\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { AttachedActivityDescriptor } from \"../entities/attachedActivityDescriptor\";\nimport { ActivityDescriptor } from \"../entities/activityDescriptor\";\nimport { ActivityState } from \"../contracts/entityEvent\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport { Glue42 } from \"../../../glue\";\n/* tslint:enable */\n\ntype OverrideTypeDefinition = Glue42.Activities.OverrideTypeDefinition;\n\ndeclare const htmlContainer: any;\n\nexport default class ActivityManager {\n  private _bridge: ActivityBridge;\n  private _readyMarker: ReadyMarker;\n  private _dataReadyMarker: ReadyMarker;\n  private _descriptorsMarker: ReadyMarker;\n\n  private _activityTypes: EntityObservableCollection<ActivityType>;\n  private _windowTypes: EntityObservableCollection<WindowType>;\n  private _activities: EntityObservableCollection<Activity>;\n  private _windows: EntityObservableCollection<ActivityWindow>;\n  private _logger: Logger = Logger.Get(\"activityManager\");\n  private _announcedWindows: ActivityWindow[] = [];\n  private _attachedCallbacks: Array<(newAct: any, descriptor: any) => void> = [];\n  private _detachedCallbacks: Array<(newAct: any, oldAct: Activity, descriptor: any) => void> = [];\n  private _frameColorChangesCallbacks: Array<(act: Activity, frameColor: string) => void> = [];\n  private _windowHandlers: any[][] = [];\n\n  public get usingHc(): boolean {\n    return this._bridge.bridgeType === \"HC\";\n  }\n\n  public get announcedWindows(): ActivityWindow[] {\n    return this._announcedWindows;\n  }\n\n  public set announcedWindows(v: ActivityWindow[]) {\n    throw new Error(\"not allowed\");\n  }\n\n  constructor(bridge: ActivityBridge, autoAnnounce: boolean, windows: any) {\n    this._bridge = bridge;\n    this._activityTypes = new EntityObservableCollection<ActivityType>((e) => this._grabEntity(e));\n    this._windowTypes = new EntityObservableCollection<WindowType>((e) => this._grabEntity(e));\n    this._activities = new EntityObservableCollection<Activity>((e) => this._grabEntity(e));\n    this._windows = new EntityObservableCollection<ActivityWindow>((e) => this._grabEntity(e));\n\n    // signals to wait for - get AT, get WT, get Activities and get Windows\n    this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\n    this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\n\n    // waiting for activity data first\n\n    // NB: in the GW3 case, we don't have the ability to request data at will\n    // but need wait for delta messages\n    // So GW3Bridge returns empty arrays from the get() calls\n    // We're relying on the fact that the GW3 bridge will wait\n    // until resolving its .ready()\n\n    if (autoAnnounce) {\n      // if auto announce replace the ready marker, so:\n      // 1) wait for data\n      // 2) get descriptors\n      // 3) announce the current window\n\n      this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\n      this._dataReadyMarker.setCallback((dataErr: any) => {\n        if (dataErr) {\n          this._readyMarker.error(dataErr);\n        }\n\n        this._descriptorsMarker.setCallback((err: any) => {\n\n          if (err) {\n            this._readyMarker.error(err);\n          }\n\n          this._logger.debug(\"Auto announcing window\");\n          // signal no matter if it failed or not\n          this.announceWindow()\n            .then((w) => {\n              // NB: this creates glue.activities.my.window\n              this._announcedWindows.push(w);\n              this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\n            })\n            .catch((errCatch) => {\n              this._logger.debug(\"Will not announce window - \" + errCatch);\n              this._readyMarker.signal();\n            });\n        });\n\n        this.refreshDescriptors();\n      });\n    } else {\n      // TODO: not sure if this still works\n      this._readyMarker = this._dataReadyMarker;\n    }\n\n    this._bridge.onActivitiesAttached((e) => {\n      this._handleActivitiesAttached(e);\n    });\n    this._bridge.onActivitiesDetached((e) => {\n      this._handleActivitiesDetached(e);\n    });\n    this._bridge.onActivityAttachedDescriptorsRefreshed((e) => {\n      this._handleActivityDescriptorsRefreshed(e);\n    });\n    if (windows) {\n      windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\n    }\n\n    // initialize the bridge\n    this._bridge.init();\n\n    // NB: there is no race condition here.\n    // Since browser/Node JS is a single-threaded environment, assuming no events on _bridge\n    // fire inside .init(), this subscribe will catch anything that comes between it and the init() call\n    this._subscribeForData();\n\n    // NB: in GW3 case, the initial state messages after a JOIN come in before the JOIN's SUCCESS\n    // message (see https://confluence.tick42.com:8443/display/TD/Global+Gateway+Domain#GlobalGatewayDomain-JOIN)\n    // so the .initReady().then() callback will only get invoked after we've received the initial domain\n    // state. We need to be ready to handle events before that, hence the _subscribeForData() above.\n    // what's more, our own JOINED ACTIVITY will come only after we've sent our READY, hence waiting\n    // for bridge.ready() in the manager's ready()\n\n    // wait for it to become ready and then start getting/subscribing for data\n    this._bridge\n      .initReady()\n      .then((aw) => {\n        this._getInitialData();\n      })\n      .catch((error) => {\n        // tslint:disable-next-line\n        console.log(error);\n      });\n  }\n\n  public ready(callback?: (err: string, manager: ActivityManager) => void): Promise<ActivityManager> {\n    const promise = new Promise<ActivityManager>((resolve, reject) => {\n      this._readyMarker.setCallback(\n        (err) => {\n          if (!err) {\n            resolve(this);\n          } else {\n            reject(this._readyMarker.getError());\n          }\n        });\n    });\n\n    return nodeify(Promise.all([this._bridge.ready(), promise]).then(() => this), callback);\n  }\n\n  /**\n   * @returns All known activity types\n   */\n  public getActivityTypes(): ActivityType[] {\n    return this._activityTypes.get();\n  }\n\n  /**\n   * Gets ActivityType by name\n   * @param name  Name to search for\n   * @returns     If found the @type ActivityType; otherwise undefined\n   */\n  public getActivityType(name: string): ActivityType {\n    return this._activityTypes.getByName(name);\n  }\n\n  /**\n   * Registers a new activity type\n   * @param activityTypeName      The name of the activity type to be created\n   * @param ownerWindowType       The type of the owner window or a WindowDefinition for the owner window\n   * @param helperWindowTypes     Types of helper windows (or WindowDefinitions for helper windows) for that activity type\n   * @param config                (HC only, deprecated) Layout config\n   * @param description           (HC only, deprecated) Description for the new activity type\n   * @param callback              (Optional) Callback for results - if not specified the method will return a promise\n   */\n  public registerActivityType(\n    activityTypeName: string,\n    ownerWindowType: string | WindowDefinition,\n    helperWindowTypes?: string[] | WindowDefinition[],\n    config?: any,\n    description?: string,\n    callback?: Callback<ActivityType>): Promise<ActivityType> {\n    const promise = new Promise<ActivityType>((resolve, reject) => {\n\n      // activityTypeName checks\n      if (util.isUndefinedOrNull(activityTypeName)) {\n        reject(\"activityTypeName argument can not be undefined\");\n        return;\n      }\n      if (!util.isString(activityTypeName)) {\n        reject(\"activityTypeName should be string\");\n        return;\n      }\n      // check if type is already defined\n      const actType = this.getActivityType(activityTypeName);\n      if (!util.isUndefinedOrNull(actType)) {\n        reject(\"Activity type '\" + activityTypeName + \"' already exists\");\n        return;\n      }\n\n      // ownerWindowType checks\n      let ownerDefinition: WindowDefinition;\n      if (util.isUndefined(ownerWindowType)) {\n        reject(\"Owner window type can not be undefined\");\n        return;\n      }\n      if (util.isString(ownerWindowType)) {\n        ownerDefinition = { type: (ownerWindowType as string), name: \"\", isIndependent: false, arguments: {} };\n      } else {\n        ownerDefinition = (ownerWindowType as WindowDefinition);\n      }\n\n      // helperWindowTypes checks\n      const helperDefinitions: WindowDefinition[] = [];\n      if (!util.isUndefined(helperWindowTypes) && util.isArray(helperWindowTypes)) {\n        // tslint:disable-next-line\n        for (const index in helperWindowTypes) {\n          const item = helperWindowTypes[index];\n          if (util.isString(item)) {\n            const definition = {\n              type: (item as string),\n              name: \"\",\n              isIndependent: false,\n              arguments: {},\n              relativeTo: \"\",\n              relativeDirection: \"\",\n              windowStyleAttributes: {}\n            };\n            helperDefinitions.push(definition);\n          } else {\n            helperDefinitions.push(item as WindowDefinition);\n          }\n        }\n      }\n\n      // redirect to bridge\n      this._bridge\n        .registerActivityType(activityTypeName,\n          ownerDefinition,\n          helperDefinitions,\n          config,\n          description)\n        .then((activityType) => {\n          // add to from collections\n          this._grabEntity(activityType);\n          resolve(activityType);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Unregister existing activity type\n   * @param type The name of the activity type to be removed\n   */\n  public unregisterActivityType(type: string, callback?: Callback<any>) {\n    const promise = new Promise<ActivityType>((resolve, reject) => {\n      // check if type is defined\n      const actType = this.getActivityType(type);\n      if (util.isUndefined(actType)) {\n        reject(\"Activity type '\" + type + \"' does not exists\");\n        return;\n      }\n      this._bridge.unregisterActivityType(type).then(() => resolve(actType), reject);\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Initiates a new activity from the given type.\n   * @param activityType  The ActivityType to initiate\n   * @param context       The initial context of the activity\n   * @param callback      Callback for result\n   * @param configuration Optional configuration passed to window/peer factories for the new activity's participants\n   * @returns             Promise for activity\n   */\n  public initiate(activityType: string, context?: object, callback?: Callback<Activity>, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      // check if type is defined\n      const actType = this.getActivityType(activityType);\n      if (util.isUndefined(actType)) {\n        reject(\"Activity type '\" + activityType + \"' does not exists\");\n        return;\n      }\n\n      this._bridge\n        .initiateActivity(activityType, context, configuration)\n        .then((actId) => {\n\n          this._activities\n            .getOrWait(actId)\n            .then((act: Activity) => {\n              resolve(act);\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  public subscribeActivityTypeEvents(handler: (act: ActivityType, action: string) => void) {\n    this._activityTypes.subscribe((at, context) => {\n      handler(at, context.type);\n    });\n  }\n\n  /**\n   * @returns All known WindowTypes\n   */\n  public getWindowTypes(): WindowType[] {\n    return this._windowTypes.get();\n  }\n\n  /**\n   * Gets WindowType by name\n   * @param name  The name of the type @type WindowType\n   * @returns     WindowType if found; undefined otherwise\n   */\n  public getWindowType(name: string): WindowType {\n    return this._windowTypes.getByName(name);\n  }\n\n  /**\n   * Registers a factory for a given WindowType. The factory will be called once window of that type is requested\n   * @param windowType   Window type that will be constructed from the factory. Can be a string (name of the window type)\n   * or object that has name, description properties\n   * @param factoryMethod      The factory that will construct Windows of that type\n   * @param description\n   * @param callback\n   * @param configuration\n   * @returns {}\n   */\n  public registerWindowFactory(\n    windowType: any,\n    factoryMethod: WindowFactory,\n    callback?: any): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowType)) {\n        reject(\"no windowType specified\");\n        return;\n      }\n\n      if (util.isObject(windowType)) {\n        windowType = windowType.getName();\n      } else if (!util.isString(windowType)) {\n        reject(\"windowType should be string or object that has getName method\");\n        return;\n      }\n\n      this._bridge\n        .registerWindowFactory(windowType, factoryMethod)\n        .then((v) => {\n          resolve(v);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Unregisters all factories for a given WindowType.\n   * @param windowType   Window type that is constructed from the factory.\n   * @param callback\n   * @returns {}\n   */\n  public unregisterWindowFactory(windowType: string, callback?: any): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowType)) {\n        reject(\"no windowType specified\");\n        return;\n      }\n\n      if (!util.isString(windowType)) {\n        reject(\"windowType should be a string\");\n        return;\n      }\n\n      this._bridge\n        .unregisterWindowFactory(windowType)\n        .then((v) => {\n          resolve(v);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * @returns All started activities\n   * @param activityType Can be a string or @type ActivityType. If string a new activityType will be created using the string for name.\n   * @returns Array of Activity objects\n   */\n  public getActivities(activityType?: string | ActivityType | string[] | ActivityType[]): Activity[] {\n    let act = this._activities.get();\n    act = act.filter((a) => a._ownerId);\n    if (!activityType) {\n      return act;\n    }\n    let types: any = activityType;\n    if (util.isString(activityType)) {\n      types = [activityType];\n    } else if (activityType instanceof ActivityType) {\n      types = [activityType.name];\n    } else if (activityType instanceof Array) {\n      // TODO check if string array or array of ActivityTypes\n    } else {\n      throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\n    }\n\n    return act.filter((at: Activity) => {\n      const type = at.type;\n      return util.some(types, (t: ActivityType) => {\n        return type.id === t.id;\n      });\n    });\n  }\n\n  /**\n   * Returns Activity by ID\n   */\n  public getActivityById(id: string): Activity {\n    return this._activities.getByName(id);\n  }\n\n  /**\n   * Initialises activity for the current window - by doing this the window is announced as activity aware to the other participants\n   * @param windowType            Type of window\n   * @param activityWindowId      The id of the window that was created\n   * @returns {}                  Promise for an activity window (joined to an activity, if the activity creation fails the promise will be rejected)\n   */\n  public announceWindow(activityWindowId?: string, windowType?: string): Promise<ActivityWindow> {\n    const promise = new Promise<ActivityWindow>((resolve, reject) => {\n\n      // get the announcement info from the bridge (e.g. the context in HC) - this will be used if no arguments passed\n      const announcementInfo = this._bridge.getAnnouncementInfo();\n      if (util.isUndefined(activityWindowId)) {\n        activityWindowId = announcementInfo.activityWindowId;\n      }\n      if (util.isUndefined(windowType)) {\n        windowType = announcementInfo.activityWindowType;\n      }\n      if (util.isUndefinedOrNull(windowType)) {\n        throw new Error(\"Can not announce - unknown windowType\");\n      }\n\n      const activityId = announcementInfo && announcementInfo.activityId;\n\n      // We cover two cases here:\n      // * no activityWindowId supplied (neither in arguments or announcement info) - in that case we register new window by type. Most of the time this is the case when an independent window is created outside activity\n      // * activityWindowId supplied - window created as part of activity creation\n\n      // NB: in GW3, windows are created standalone, and receive 'JOINED' after they send a 'READY'\n      // so we always go in 'if' case, not 'else'\n      if (util.isUndefinedOrNull(activityWindowId)) {\n        this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\n        // register new window created outside activity\n        this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\n          .then(this._windows.getOrWait.bind(this._windows))\n          .then((w: any) => {\n            if (activityId) {\n              return this._activities.getOrWait(activityId).then((_: any) => w);\n            } else {\n              return w;\n            }\n          })\n          .then((w: any) => {\n            resolve(w);\n          })\n          .catch((err) => {\n            this._logger.error(err);\n          });\n\n      } else {\n        // announce new window created in an activity creation process\n        this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\n\n        // check if the window is already created -\n        const currentWindow = this._windows.getByName(activityWindowId);\n        if (!util.isUndefinedOrNull(currentWindow)) {\n          this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\n          resolve(currentWindow);\n          return;\n        }\n\n        // window events handler\n        const windowEventHandler = (a: Activity, w: ActivityWindow, e: any) => {\n          if (activityWindowId === w.id) {\n            if (e === EntityEventType.ActivityWindowJoinedActivity) {\n              const activity = w.activity;\n              if (util.isUndefined(activity)) {\n                reject(\"UNDEFINED ACTIVITY\");\n              }\n              this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\n              resolve(w);\n              this.unsubscribeWindowEvents(windowEventHandler);\n            }\n          }\n        };\n\n        this.subscribeWindowEvents(windowEventHandler);\n        this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\n        this._bridge.announceWindow(windowType, activityWindowId);\n      }\n    });\n    return promise;\n  }\n\n  /**\n   * Allows you to subscribe for windows events, e.g. window type registered\n   * @param handler   The handler to receive notifications\n   * @returns {}\n   */\n  public subscribeWindowTypeEvents(handler: (act: WindowType, event: string) => void) {\n    this._windowTypes.subscribe((wt, context) => {\n      handler(wt, context.type);\n    });\n  }\n\n  /**\n   * Subscribe for activity status events\n   * @param handler Handler function that will receive status notifications\n   * @returns {}\n   */\n  public subscribeActivityEvents(handler: (activity: Activity, newStatus: ActivityStatus, oldStatus: ActivityStatus) => void): () => void {\n    return this._activities.subscribe((act, context) => {\n      if (context.type === EntityEventType.StatusChange) {\n        const p = (context as ActivityStatusChangeEventContext);\n        handler(act, p.newStatus, p.oldStatus);\n      }\n\n      // implicitly leave the activity on destroy\n      if (context.type === EntityEventType.Removed ||\n        (context.type === EntityEventType.StatusChange &&\n          (context as ActivityStatusChangeEventContext).newStatus.getState() === ActivityState.Destroyed)) {\n        for (const window of this._windows.get()) {\n          if (window.activity && window.activity.id === act.id) {\n            this._windows.process(new EntityEvent<ActivityWindow>(window, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Allows you to subscribe for windows events, e.g. window joining to activity\n   * @param handler   The handler to receive notifications\n   * @returns {}\n   */\n  public subscribeWindowEvents(handler: (activity: Activity, window: ActivityWindow, event: any) => void): () => void {\n    const wrappingHandler = (window: ActivityWindow, context: any) => {\n      let eventType = context.type;\n      if (eventType === EntityEventType.Added) {\n        // rename added to opened (because added is misleading - semantically it's the opposite of remove);\n        eventType = \"opened\";\n      }\n      handler(window.activity, window, eventType);\n    };\n    this._windowHandlers.push([handler, wrappingHandler]);\n    return this._windows.subscribe(wrappingHandler);\n  }\n\n  public unsubscribeWindowEvents(handler: (activity: Activity, window: ActivityWindow, event: any) => void) {\n    const found = this._windowHandlers.find((pair) => pair[0] === handler);\n    if (found) {\n      this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\n      this._windows.unsubscribe(found[1]);\n    }\n  }\n\n  /**\n   * Creates a new window from a given type and joins it to an activity\n   *\n   * @param activity      Activity to join the window to\n   * @param windowType    The window type to join (string or window definition)\n   * @param callback      (Optional) Result callback\n   * @returns             Promise for ActivityWindow\n   */\n  public createWindow(activity: Activity, windowTypeOrConfiguration: string | WindowDefinition | any, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const promise = new Promise<ActivityWindow>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowTypeOrConfiguration)) {\n        reject(\"windowType is undefined\");\n      }\n\n      let windowDefinition: WindowDefinition;\n      if (util.isString(windowTypeOrConfiguration)) {\n        windowDefinition = { type: (windowTypeOrConfiguration as string), name: \"\", isIndependent: false, arguments: {} };\n      } else if (windowTypeOrConfiguration instanceof WindowType) {\n        windowDefinition = {\n          type: (windowTypeOrConfiguration as any).type || windowTypeOrConfiguration.id,\n          name: windowTypeOrConfiguration.name || (windowTypeOrConfiguration as any).type || windowTypeOrConfiguration.id,\n          isIndependent: false\n        };\n      } else {\n        // G4E-3178 When creating a window in activity, the loading animation doesn't hide - extra property URL\n        const invalidKeys: string[] = [\"url\"];\n\n        const filteredWindowTypeOrConfiguration: any = {};\n\n        Object.keys(windowTypeOrConfiguration).forEach((key) => {\n          if (invalidKeys.indexOf(key) === -1) {\n            filteredWindowTypeOrConfiguration[key] = windowTypeOrConfiguration[key];\n          }\n        });\n        windowDefinition = filteredWindowTypeOrConfiguration as WindowDefinition;\n      }\n\n      let relativeToWindow: string | WindowSource;\n      if (!util.isUndefinedOrNull(windowDefinition.relativeTo)) {\n        relativeToWindow = windowDefinition.relativeTo;\n        if (typeof relativeToWindow === \"string\") {\n          const windows = this.getWindows({ type: relativeToWindow as string });\n          if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n            windowDefinition.relativeTo = windows[0].id;\n          }\n        } else if (!util.isUndefinedOrNull(relativeToWindow.type)) {\n          const windows = this.getWindows({ type: relativeToWindow.type });\n          if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n            windowDefinition.relativeTo = windows[0].id;\n          }\n        } else if (!util.isUndefinedOrNull(relativeToWindow.windowId)) {\n          windowDefinition.relativeTo = relativeToWindow.windowId;\n        }\n      }\n\n      this._bridge.createWindow(activity && activity.id, windowDefinition)\n        .then((wid) => {\n\n          this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\n          const handler = (window: ActivityWindow, context: EntityEventContext) => {\n            // wait until the window has activity property (this means it was joined)\n            if (window.id === wid && (!activity || window.activity)) {\n              this._logger.debug(\"Got entity window with id \" + wid);\n              resolve(window);\n              this._windows.unsubscribe(handler);\n            }\n          };\n\n          // if we can not get the window right away, wait for event\n          this._windows.subscribe(handler);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Creates relative windows from a given types and joins them to an activity\n   *\n   * @param activity               Activity to join relative windows to\n   * @param relativeWindowTypes    Relative window types to join (string or window definitions array)\n   * @param callback               (Optional) Result callback\n   * @returns                      Promise for ActivityWindow\n   */\n  public createStackedWindows(activity: Activity, relativeWindowTypes: Array<string | WindowDefinition>, timeout?: number, callback?: Callback<ActivityWindow[]>): Promise<ActivityWindow[]> {\n    const promise = new Promise<ActivityWindow[]>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity is undefined\");\n      }\n      if (util.isUndefinedOrNull(relativeWindowTypes)) {\n        reject(\"relativeWindowTypes is undefined\");\n      }\n\n      if (!Array.isArray(relativeWindowTypes)) {\n        reject(\"relativeWindowTypes has to be an array\");\n      }\n      if (util.isUndefinedOrNull(timeout)) {\n        timeout = 20000; // default timeout: 20 seconds\n      }\n\n      const windowDefinitions: WindowDefinition[] = [];\n      relativeWindowTypes.forEach((element) => {\n        let windowDefinition: WindowDefinition;\n        if (util.isString(element)) {\n          windowDefinition = { type: (element as string), name: \"\", isIndependent: false, arguments: {} };\n        } else {\n          windowDefinition = (element as WindowDefinition);\n        }\n\n        // a hint that this comes from createStackedWindows\n        windowDefinition.stackedWindow = true;\n        windowDefinition.timeout = timeout;\n\n        let relativeToWindow: WindowSource;\n        if (!util.isUndefinedOrNull(windowDefinition.relativeTo)) {\n          // this can not be string, converted in the prev. layer\n          relativeToWindow = windowDefinition.relativeTo as WindowSource;\n          if (!util.isUndefinedOrNull(relativeToWindow.type)) {\n            windowDefinition.relativeTo = relativeToWindow.type;\n          } else if (!util.isUndefinedOrNull(relativeToWindow.windowId)) {\n            const windows = this.getWindows({ id: relativeToWindow.windowId });\n            if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n              windowDefinition.relativeTo = windows[0].type.name;\n            }\n          }\n        }\n        windowDefinitions.push(windowDefinition);\n      });\n\n      const tasks: Array<Promise<ActivityWindow>> = [];\n      windowDefinitions.forEach((wd) => tasks.push(this.createWindow(activity, wd)));\n\n      Promise.all(tasks).then(resolve).catch(reject);\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Joins a new window from a given type to the activity\n   *\n   * @param activity      Activity to join the window to\n   * @param window        The window to join\n   * @param callback      (Optional) Result callback\n   * @returns             Promise for ActivityWindow\n   */\n  public addWindowToActivity(activity: Activity, window: ActivityWindow, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const toReturn = this._bridge.joinActivity(activity.id, window.id)\n      .then(() => window);\n    nodeify(toReturn, callback);\n    return toReturn;\n  }\n\n  /**\n   * Removes a window from the activity\n   *\n   * @param activity  Activity to remove the window from\n   * @param           The window to remove\n   * @param           (Optional) Result callback\n   * @returns         Promise for ActivityWindow\n   */\n  public leaveWindowFromActivity(activity: Activity, window: ActivityWindow, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const toReturn = this._bridge.leaveActivity(activity.id, window.id)\n      .then(() => window);\n    nodeify(toReturn, callback);\n    return toReturn;\n  }\n\n  /**\n   * Replaces the activity context\n   * @param activity  Activity\n   * @param context   The new context\n   * @param callback  (Optional) Result callback\n   * @returns         Promise for Activity\n   */\n  public setActivityContext(activity: Activity, context: object, callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity can not be null\");\n      }\n\n      // TODO: duplication with updateActivityContext\n\n      // DONE: verify is the change visible here when 'updateActivityContext' resolves?\n      this._bridge\n        .updateActivityContext(activity, context, true)\n        .then((_) => {\n          resolve(activity);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Updates activity context using the properties from  context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @param activity\n   * @param context\n   * @param callback\n   */\n  public updateActivityContext(activity: Activity, context: any, callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity can not be null\");\n      }\n\n      const removedKeys = [];\n      for (const key in context) {\n        if (context.hasOwnProperty(key) && context[key] === null) {\n          removedKeys.push(key);\n        }\n      }\n      for (const removedKey of removedKeys) {\n        delete context[removedKey];\n      }\n\n      this._bridge\n        .updateActivityContext(activity, context, false, removedKeys)\n        .then((_) => {\n          // DONE: verify is the change already visible here when 'updateActivityContext' resolves?\n          resolve(activity);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Subscribe for activity context update events\n   *\n   * @param activity  Activity\n   * @param handler   Handler function that will receive context related events\n   * @returns {}\n   */\n  public subscribeActivityContextChanged(handler: ActivityContextUpdateHandler) {\n    this._activities.subscribe((act, context) => {\n      if (context.type === EntityEventType.ActivityContextChange) {\n        const updateContext = context as ActivityContextChangedEventContext;\n        handler(act, updateContext.context, updateContext.updated, updateContext.removed);\n      }\n    });\n  }\n\n  /**\n   * Stops an activity\n   * @returns {}\n   */\n  public stopActivity(activity: Activity, callback?: Callback<boolean>): Promise<boolean> {\n    const promise = this._bridge.stopActivity(activity);\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Returns activity windows based on some filter. If no filter supplied all activity windows are returned.\n   * @param filter  Filter that\n   * @returns Array of ActivityWindows that match the filter object\n   */\n  public getWindows(filter: { id?: string, type?: string, name?: string, activityId?: string }): ActivityWindow[] {\n    if (util.isUndefined(filter)) {\n      return this._windows.get();\n    }\n\n    if (!util.isUndefined(filter.id)) {\n      return [this._windows.getByName(filter.id)];\n    }\n\n    const allWindows = this._windows.get();\n\n    return allWindows.filter((w) => {\n\n      if (!util.isUndefined(filter.type) && w.type.id !== filter.type) {\n        return false;\n      }\n\n      if (!util.isUndefined(filter.name) && w.name !== filter.name) {\n        return false;\n      }\n\n      if (!util.isUndefined(filter.activityId)) {\n        if (util.isUndefinedOrNull(w.activity)) {\n          return false;\n        }\n\n        if (w.activity.id !== filter.activityId) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n\n  public getWindowBounds(id: string): Promise<WindowBounds> {\n    return this._bridge.getWindowBounds(id);\n  }\n\n  public setWindowBounds(id: string, bounds: WindowBounds, callback?: Callback<ActivityWindow>): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      this._bridge.setWindowBounds(id, bounds)\n        .then(() => resolve())\n        .catch((err) => reject(err));\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public closeWindow(id: string): Promise<any> {\n    return this._bridge.closeWindow(id);\n  }\n\n  public activateWindow(id: string, focus: boolean): Promise<any> {\n    return this._bridge.activateWindow(id, focus);\n  }\n\n  public setWindowVisibility(id: string, visible: boolean): Promise<any> {\n    return this._bridge.setWindowVisibility(id, visible);\n  }\n\n  public clone(activity: Activity, cloneOptions: CloneOptions, callback?: Callback<Activity>) {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (!activity) {\n        reject(\"activity can not be null\");\n      }\n\n      this._bridge.cloneActivity(activity.id, cloneOptions)\n        .then((activityId) => {\n          this._activities\n            .getOrWait(activityId)\n            .then((act: Activity) => {\n              resolve(act);\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => reject(err));\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public attachActivities(from: string, to: string, tag?: object, callback?: Callback<AttachedActivityDescriptor>): Promise<AttachedActivityDescriptor> {\n\n    tag = tag || {};\n\n    const promise = new Promise<AttachedActivityDescriptor>((resolve, reject) => {\n\n      const fromActivity = this._activities.getByName(from);\n      if (!fromActivity) {\n        reject(\"can not find activity with id \" + from);\n        return;\n      }\n\n      const toActivity = this._activities.getByName(to);\n      if (!toActivity) {\n        reject(\"can not find activity with id \" + to);\n        return;\n      }\n\n      return this._bridge.attachActivities(from, to, tag)\n        .then((data: any) => {\n          const newActId = data.to;\n          const state = data.descriptor;\n          const allStates = data.descriptors;\n\n          this._activities.getOrWait(newActId).then((act) => {\n            act._updateDescriptors(allStates);\n            const stateWrapped = act.attached.filter((u) => u.ownerId === state.ownerId)[0];\n\n            resolve(stateWrapped);\n          });\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public detachActivities(\n    activityId: string,\n    descriptor: ActivityDescriptor,\n    callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      return this._bridge.detachActivities(activityId, descriptor)\n        .then(/*(params)*/() => {\n          // #deleteme TODO: deal with this\n          const oldActId: string = undefined; // params.oldActivityId;\n          const newActId: string = undefined; // params.newActivityId;\n          const descriptors: any = undefined; // params.descriptors;\n\n          this._activities\n            .getOrWait(oldActId)\n            .then((oldAct: Activity) => {\n              oldAct._updateDescriptors(descriptors);\n\n              this._activities\n                .getOrWait(newActId)\n                .then((newAct: Activity) => {\n                  resolve(newAct);\n                });\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public subscribeActivitiesAttached(callback: any) {\n    this._attachedCallbacks.push(callback);\n  }\n\n  public subscribeActivitiesDetached(callback: any) {\n    this._detachedCallbacks.push(callback);\n  }\n\n  public subscribeActivityFrameColorChanged(callback: () => void) {\n    this._frameColorChangesCallbacks.push(callback);\n  }\n\n  /** Assigns a manager to a given ActivityEntity */\n  private _grabEntity(entity: ActivityEntity) {\n    entity._manager = this;\n  }\n\n  private _getInitialData() {\n    this._logger.debug(\"Request initial data...\");\n\n    // NB: there's no possibility for duplicate entities from events that have come\n    // in between _bridge.init() and _bridge.ready()'s resolve, since the ObservableCollections\n    // coalesce items by id.\n\n    this._bridge.getActivityTypes()\n      .then((at) => {\n        this._activityTypes.add(at);\n        this._dataReadyMarker.signal(\"Got act types\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\n      });\n\n    this._bridge.getWindowTypes()\n      .then((wt) => {\n        this._windowTypes.add(wt);\n        this._dataReadyMarker.signal(\"Got window types\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\n      });\n\n    this._bridge.getActivities()\n      .then((ac) => {\n        this._activities.add(ac);\n        this._dataReadyMarker.signal(\"Got activities\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\n      });\n\n    this._bridge.getActivityWindows()\n      .then((aw) => {\n        this._windows.add(aw);\n        this._dataReadyMarker.signal(\"Got windows\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\n      });\n  }\n\n  private _subscribeForData() {\n    this._logger.debug(\"Subscribe for data...\");\n\n    // NB: there's no possibility for duplicate entities from events that have come\n    // in between _bridge.init() and _bridge.ready()'s resolve, since the ObservableCollections\n    // coalesce items by id.\n\n    this._bridge.onActivityTypeStatusChange((event) => {\n      this._activityTypes.process(event);\n    });\n\n    this._bridge.onWindowTypeStatusChange((event) => {\n      this._windowTypes.process(event);\n    });\n\n    this._bridge.onActivityWindowChange((event) => {\n      this._windows.process(event);\n    });\n\n    this._bridge.onActivityStatusChange((event: EntityEvent<Activity>) => {\n      this._activities.process(event);\n    });\n  }\n\n  private _handleActivitiesAttached(data: any) {\n\n    const newActId = data.to;\n    const descriptor = data.descriptor;\n    const descriptors = data.descriptors;\n\n    this._activities.getOrWait(newActId).then((act) => {\n      act._updateDescriptors(descriptors);\n      const descriptorAsObjectFromAPI = act.attached.filter((u) => u.ownerId === descriptor.ownerId)[0];\n\n      this._attachedCallbacks.forEach((callback) => {\n        try {\n          callback(act, descriptorAsObjectFromAPI);\n        } catch (err) {\n          return;\n        }\n      });\n\n    });\n  }\n\n  private _handleActivitiesDetached(data: any) {\n    const oldActId = data.oldActivityId;\n    const newActId = data.newActivityId;\n    const descriptors = data.descriptors;\n    const descriptor = data.descriptor;\n\n    this._activities.getOrWait(oldActId).then((oldAct) => {\n\n      oldAct._updateDescriptors(descriptors);\n\n      this._activities.getOrWait(newActId).then((newAct) => {\n\n        this._detachedCallbacks.forEach((callback) => {\n          try {\n            callback(newAct, oldAct, descriptor);\n          } catch (err) {\n            return;\n          }\n        });\n      });\n    });\n  }\n\n  private _handleActivityDescriptorsRefreshed(data: any) {\n    const id = data.id;\n    const descriptors = data.descriptors;\n\n    const act = this._activities.getByName(id);\n    if (act) {\n      act._updateDescriptors(descriptors);\n    }\n  }\n\n  private refreshDescriptors() {\n    this._bridge.getAttachedDescriptors()\n      .then((map: any) => {\n\n        // populate descriptors\n        if (map) {\n          Object.keys(map).forEach((key: string) => {\n            const actId = key;\n            const descriptors = map[key];\n\n            const act = this._activities.getByName(actId);\n            if (act) {\n              act._updateDescriptors(descriptors);\n            }\n          });\n        }\n\n        this._descriptorsMarker.signal(\"Successfully got descriptors\");\n      })\n      .catch((err) => {\n        this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\n      });\n  }\n\n  private _handleWindowFrameColorChanged(win: Glue42.Windows.GDWindow) {\n    if (!win.activityId) {\n      return;\n    }\n\n    const act = this._activities.getByName(win.activityId);\n    if (!act) {\n      return;\n    }\n\n    // notify for the owner only\n    if (!act.owner) {\n      return;\n    }\n\n    if (act.owner.underlyingWindow.id !== win.id) {\n      return;\n    }\n\n    this._frameColorChangesCallbacks.forEach((callback) => {\n      try {\n        callback(act, win.frameColor);\n      } catch (e) {\n        return;\n      }\n    });\n  }\n}\n","import ActivityType from \"./../entities/activityType\";\nimport WindowType from \"./../entities/windowType\";\nimport * as util from \"./../helpers/util\";\nimport ActivityManager from \"./../core/activityManager\";\nimport My from \"./activityMyAPI\";\nimport { WindowDefinition } from \"./../entities/windowDefinition\";\nimport { Callback } from \"./../contracts/contracts\";\nimport Activity from \"./../entities/activity\";\nimport ActivityWindow from \"./../entities/activityWindow\";\nimport { ActivityStatus } from \"./../contracts/activityStatus\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport { Glue42 } from \"../../../glue\";\n\nexport interface ManagementAPI {\n  activityTypes: Glue42.Activities.ActivityTypesAPI;\n  windowTypes: Glue42.Activities.WindowTypesAPI;\n  windows: Glue42.Activities.WindowingAPI;\n  instances: Glue42.Activities.InstancesAPI;\n\n  onAttached(callback: () => void): void;\n  onDetached(callback: () => void): void;\n  onActivityFrameColorChanged(callback: () => void): void;\n}\n\nexport class ActivityManagementAPI implements ManagementAPI {\n\n  public _m: ActivityManager;\n\n  public _my: My;\n\n  public activityTypes: Glue42.Activities.ActivityTypesAPI;\n\n  public windowTypes: Glue42.Activities.WindowTypesAPI;\n\n  public windows: Glue42.Activities.WindowingAPI;\n\n  public instances: Glue42.Activities.InstancesAPI;\n\n  constructor(manager: ActivityManager, my: My) {\n    this._m = manager;\n    this._my = my;\n\n    this.activityTypes = {\n      get: this._getActivityTypesWrapper.bind(this),\n      register: this._m.registerActivityType.bind(this._m),\n      unregister: this._m.unregisterActivityType.bind(this._m),\n      subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\n      unsubscribe: undefined,\n      initiate: this._m.initiate.bind(this._m)\n    };\n\n    this.windowTypes = {\n      get: this._getWindowTypesWrapper.bind(this),\n      registerFactory: this._m.registerWindowFactory.bind(this._m),\n      unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\n      subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\n      unsubscribe: undefined\n    };\n\n    this.windows = {\n      get: this._m.getWindows.bind(this._m),\n      subscribe: this._m.subscribeWindowEvents.bind(this._m),\n      announce: this._m.announceWindow.bind(this._m),\n      unsubscribe: undefined,\n      create: this._m.createWindow.bind(this._m)\n    };\n\n    this.instances = {\n      get: this._m.getActivities.bind(this._m),\n      subscribe: this._m.subscribeActivityEvents.bind(this._m),\n      unsubscribe: undefined\n    };\n  }\n\n  public onAttached(callback: () => void) {\n    this._m.subscribeActivitiesAttached(callback);\n  }\n\n  public onDetached(callback: () => void) {\n    this._m.subscribeActivitiesDetached(callback);\n  }\n\n  public onActivityFrameColorChanged(callback: () => void) {\n    this._m.subscribeActivityFrameColorChanged(callback);\n  }\n\n  private _getActivityTypesWrapper(name?: string): ActivityType[] | ActivityType {\n    if (util.isUndefined(name)) {\n      return this._m.getActivityTypes();\n    }\n    return this._m.getActivityType(name);\n  }\n\n  private _getWindowTypesWrapper(name?: string): WindowType[] | WindowType {\n    if (util.isUndefined(name)) {\n      return this._m.getWindowTypes();\n    }\n    return this._m.getWindowType(name);\n  }\n}\n","import ActivityManager from \"./../core/activityManager\";\nimport My from \"./activityMyAPI\";\nimport { nodeify } from \"./../helpers/promiseExtensions\";\nimport { ActivityManagementAPI, ManagementAPI } from \"./activityManagementAPI\";\nimport { ActivityAGM } from \"../core/activityAGM\";\n\nexport interface API {\n\n  aware: boolean;\n\n  inActivity: boolean;\n\n  my: My;\n\n  agm: ActivityAGM;\n\n  all: ManagementAPI;\n\n  ready(callback?: (api: API) => void): Promise<API>;\n\n  getAvailableFrameColors(): string[];\n}\n\n/**\n * The entry points of activities API - accessible from glue.activities\n *\n * @module activities\n */\nexport class ActivityAPI implements API {\n\n  public _mgr: ActivityManager;\n  public _my: My;\n\n /**\n  * Extended API that provides access to all running activities and windows and available activity and window types\n  *\n  * @var {module:all} all\n  */\n public all: ManagementAPI;\n\n  constructor(manager: ActivityManager, my: My) {\n    this._mgr = manager;\n    this._my = my;\n    this.all = new ActivityManagementAPI(manager, my);\n  }\n\n  /**\n   * The entry point for your activity code.\n   *\n   * @function ready\n   * @returns {Promise<module:activities>} A promise for activity API\n   */\n  public ready(callback?: any): Promise<API> {\n    const promise = new Promise<any>((resolve, reject) => {\n      this._mgr.ready()\n        .then(() => {\n          resolve(this);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * A lightweight, single activity oriented subset of the API which should be used by most activity applications\n   *\n   * @var {module:my} my\n   */\n  public get my(): My {\n    return this._my;\n  }\n\n  /**\n   * True if the current window is activity aware - meaning that the window has been created as\n   * an activity participant - either a helper or an independent window.\n   * Check this after the API is ready.\n   *\n   * @var {bool} aware\n   */\n  public get aware(): boolean {\n    return this._my.window !== undefined;\n  }\n\n  /**\n   * Returns true if the current window is activity aware and is currently participating in activity\n   *\n   * @var {bool} inActivity\n   */\n  public get inActivity(): boolean {\n    return this.aware && this._my.activity !== undefined;\n  }\n\n  /**\n   * Defines an Activity-specific version of the AGM API which:\n   * * restricts method registrations to activity-only windows\n   * * restricts method discovery and invocation to activity-only methods, unless you explicitly specify otherwise\n   * Other than that, the API is pretty much the same.\n   *\n   * @var  {module:activityAGM} agm\n   *\n   */\n  public get agm(): ActivityAGM {\n    if (!this.aware) {\n      // no agm if not activity aware\n      return undefined;\n    }\n    if (!this.inActivity) {\n      // if we're not in activity no\n      return new ActivityAGM(null);\n    }\n\n    return this._my.activity.agm;\n  }\n\n  /**\n   * Returns a list of frame colors that can be used as activity frame colors\n   *\n   * @returns {string[]}\n   */\n  public getAvailableFrameColors(): string[] {\n    // TODO - not available in GD3\n    return [];\n  }\n}\n","import GW3Bridge from \"./bridges/gw3Bridge\";\n\nimport My from \"./API/activityMyAPI\";\nimport ActivityManager from \"./core/activityManager\";\n\nimport { ActivityBridge } from \"./bridges/activityBridge\";\n\nimport { ActivityConfig } from \"./activityConfig\";\nimport { ActivityAPI } from \"./API/activityAPI\";\nimport { ActivityAGM } from \"./core/activityAGM\";\nimport { Logger } from \"./helpers/logger\";\nimport * as util from \"./helpers/util\";\n\nimport { Glue42Core } from \"@glue42/core\";\n\nimport { nodeify } from \"./helpers/promiseExtensions\";\n\n/**\n * Activity context update handler - used when we want to subscribe for context changes in a specific activity\n *\n * @callback contextChangedHandler\n * @param {Object} context The full context of the activity after the update\n * @param {Object} delta The delta (contains the added/removed keys at top level)\n * @param {string[]} removed  Array of keys that were removed from context\n * @param {module:activity} activity The activity instance that owns the context\n *\n */\n\n/**\n * @callback windowEventHandler Handler for ActivityWindow events - e.g window joined to activity, window removed from\n * activity\n * @param {module:activity} activity\n * @param {module:activityWindow} window\n * @param {string} event 'joined' or 'removed'\n */\n\n/**\n * @callback activityStatusChangeHandler Handler for activity status changed events\n * @param {module:activity} activity\n * @param {activityStatus} newStatus\n * @param {activityStatus} oldStatus\n *\n */\n\n/**\n * @typedef {Object} windowDefinition\n * @property {string} type\n * @property {string} name\n * @property {Object} arguments\n */\n\n/**\n * @typedef {Object} bounds\n * @param {number} top\n * @param {number} left\n * @param {number} width\n * @param {number} height\n *\n */\n\n/**\n * @typedef {Object} agmInstance\n * @param {string} application\n * @param {string} pid\n * @param {string} machine\n * @param {string} user\n * @param {string} environment\n * @param {string} region\n */\n\n// Factory function for activity API\nexport class ActivityModule {\n    public static checkIsUsingGW3Implementation(connection: Glue42Core.Connection.API) {\n        return connection.protocolVersion === 3;\n    }\n\n    private _api: ActivityAPI;\n    private _isUsingGW3Implementation: boolean;\n    private _isUsingHCImplementation: boolean;\n    private _readyPromise: Promise<ActivityModule>;\n\n    get api(): ActivityAPI {\n        return this._api;\n    }\n\n    set api(value: ActivityAPI) {\n        this._api = value;\n    }\n\n    constructor(config: ActivityConfig) {\n        if (!config) {\n            throw new Error(\"config can not be null\");\n        }\n\n        // set log level\n        if (!util.isUndefined(config.logLevel)) {\n            Logger.Level = config.logLevel;\n        }\n\n        if (!util.isUndefinedOrNull(config.logger)) {\n            Logger.GlueLogger = config.logger;\n        }\n\n        // choose the correct bridge\n        let bridge: ActivityBridge;\n        this._isUsingHCImplementation = config.gdMajorVersion === 2;\n        this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\n\n        if (this._isUsingHCImplementation) {\n            throw new Error(\"GD2 not supported\");\n        } else if (this._isUsingGW3Implementation) {\n            bridge = new GW3Bridge(config);\n        } else {\n            throw new Error(\"Unable to instantiate activity bridge implementation\");\n        }\n\n        if (!bridge) {\n            throw new Error(\"A bridge to native activity is needed to create activity lib.\");\n        }\n\n        ActivityAGM.AGM = config.agm;\n        const activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\n        const my = new My(activityManager, config.windows);\n        this._api = new ActivityAPI(activityManager, my);\n        this._readyPromise = activityManager.ready().then((_) => this);\n    }\n\n    public get isUsingHCImplementation(): boolean {\n        return this._isUsingHCImplementation;\n    }\n\n    public get isUsingGW3Implementation(): boolean {\n        return this._isUsingGW3Implementation;\n    }\n\n    public ready(callback?: (err: string, module: ActivityModule) => void): Promise<void> {\n        return nodeify(this._readyPromise, callback) as any as Promise<void>;\n    }\n}\n","export const ShutdownMethodName = \"T42.ACS.Shutdown\";\nexport const OnGDShutdownMethodName = \"T42.ACS.OnGDShutdown\";\nexport const RestartMethodName = \"T42.ACS.Restart\";\n\nexport const FeedbackMethodName = \"T42.ACS.Feedback\";\n\nexport const GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\nexport const SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\n\nexport const GetUserMethodName = \"T42.ACS.GetUser\";\nexport const GetBranchesMethodName = \"T42.ACS.GetBranches\";\nexport const GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\nexport const SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\n\nexport const GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\nexport const CanIMethodName = \"T42.ACS.CanI\";\n\nexport const StartApplicationMethodName = \"T42.ACS.StartApplication\";\nexport const StopApplicationMethodName = \"T42.ACS.StopApplication\";\nexport const ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\nexport const RunApplicationMethodName = \"T42.ACS.RunApplication\";\n\nexport const OnEventMethodName = \"T42.ACS.OnEvent\";\n\nexport const GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n","\"use strict\";\nfunction createRegistry(options) {\n    if (options && options.errorHandling\n        && typeof options.errorHandling !== \"function\"\n        && options.errorHandling !== \"log\"\n        && options.errorHandling !== \"silent\"\n        && options.errorHandling !== \"throw\") {\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\n    }\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\n    var callbacks = {};\n    function add(key, callback, replayArgumentsArr) {\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey) {\n            callbacksForKey = [];\n            callbacks[key] = callbacksForKey;\n        }\n        callbacksForKey.push(callback);\n        if (replayArgumentsArr) {\n            setTimeout(function () {\n                replayArgumentsArr.forEach(function (replayArgument) {\n                    var _a;\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\n                        try {\n                            if (Array.isArray(replayArgument)) {\n                                callback.apply(undefined, replayArgument);\n                            }\n                            else {\n                                callback.apply(undefined, [replayArgument]);\n                            }\n                        }\n                        catch (err) {\n                            _handleError(err, key);\n                        }\n                    }\n                });\n            }, 0);\n        }\n        return function () {\n            var allForKey = callbacks[key];\n            if (!allForKey) {\n                return;\n            }\n            allForKey = allForKey.reduce(function (acc, element, index) {\n                if (!(element === callback && acc.length === index)) {\n                    acc.push(element);\n                }\n                return acc;\n            }, []);\n            if (allForKey.length === 0) {\n                delete callbacks[key];\n            }\n            else {\n                callbacks[key] = allForKey;\n            }\n        };\n    }\n    function execute(key) {\n        var argumentsArr = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            argumentsArr[_i - 1] = arguments[_i];\n        }\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey || callbacksForKey.length === 0) {\n            return [];\n        }\n        var results = [];\n        callbacksForKey.forEach(function (callback) {\n            try {\n                var result = callback.apply(undefined, argumentsArr);\n                results.push(result);\n            }\n            catch (err) {\n                results.push(undefined);\n                _handleError(err, key);\n            }\n        });\n        return results;\n    }\n    function _handleError(exceptionArtifact, key) {\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\n        if (_userErrorHandler) {\n            _userErrorHandler(errParam);\n            return;\n        }\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\n        if (options) {\n            switch (options.errorHandling) {\n                case \"log\":\n                    return console.error(msg);\n                case \"silent\":\n                    return;\n                case \"throw\":\n                    throw new Error(msg);\n            }\n        }\n        console.error(msg);\n    }\n    function clear() {\n        callbacks = {};\n    }\n    function clearKey(key) {\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey) {\n            return;\n        }\n        delete callbacks[key];\n    }\n    return {\n        add: add,\n        execute: execute,\n        clear: clear,\n        clearKey: clearKey\n    };\n}\n;\ncreateRegistry.default = createRegistry;\nmodule.exports = createRegistry;\n//# sourceMappingURL=index.js.map","export function objectValues(source: {[key: string]: any}): any[] {\n    if (!source) {\n        return [];\n    }\n    return Object.keys(source).map((key) => source[key]);\n}\n\nexport function objectClone(obj: {[key: string]: any}): any {\n    let result;\n    try {\n        result = JSON.parse(JSON.stringify(obj || {}));\n    } catch (error) {\n        result = {};\n    }\n\n    return result;\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, StartAppResult } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { objectClone } from \"./helper\";\n\nexport default class ApplicationImpl implements Glue42.AppManager.Application {\n\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    // Additional properties of the Application\n    private _props: AppProps;\n\n    constructor(private _appManager: AppManagerImpl, private _name: string, private _agm: Glue42Core.AGM.API) {\n\n        // TODO: Replace string events with constants. The string declaration of the registry event name should only ever appear once. Ever. Period.\n\n        // subscribe for events from app-manager\n        _appManager.onInstanceStarted((instance) => {\n            if (instance.application && instance.application.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"instanceStarted\", instance);\n        });\n\n        _appManager.onInstanceStopped((instance) => {\n            if (instance.application && instance.application.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"instanceStopped\", instance);\n        });\n\n        _appManager.onAppRemoved((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appRemoved\", app);\n        });\n\n        _appManager.onAppChanged((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appChanged\", app);\n        });\n\n        _appManager.onAppAvailable((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appAvailable\", app);\n        });\n\n        _appManager.onAppUnavailable((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appUnavailable\", app);\n        });\n    }\n\n    get name(): string { return this._name; }\n    get title(): string { return this._props.Title; }\n    get version(): string { return this._props.Version; }\n    get autoStart(): boolean { return this._props.AutoStart; }\n    get isShell(): boolean { return this._props.IsShell; }\n    get caption(): string { return this._props.Caption; }\n    get hidden(): boolean { return this._props.IsHidden; }\n    get container(): string { return this._props.ApplicationName; }\n    get activityType(): string { return this._props.ActivityType; }\n    get activityWindowType(): string { return this._props.ActivityWindowType; }\n    get windowSettings(): { [key: string]: any } {\n        if (!this._props.Arguments) {\n            return {};\n        }\n        return objectClone(this._props.Arguments);\n    }\n    get allowMultiple(): boolean { return this._props.AllowMultiple; }\n    get available(): boolean { return this._props.IsReady || true; }\n    get icon(): string { return this._props.Icon; }\n    get iconURL(): string { return this._props.IconUrl; }\n    get sortOrder(): number { return this._props.SortOrder; }\n    get userProperties(): { [key: string]: any } {\n        if (!this._props.UserProperties) {\n            return {};\n        }\n        return objectClone(this._props.UserProperties);\n    }\n    get isActivity(): boolean {\n        return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\n    }\n\n    get configuration(): Glue42.AppManager.LegacyAppConfigProperties {\n        return {\n            autoStart: this._props.AutoStart,\n            caption: this._props.Caption,\n            hidden: this._props.IsHidden,\n            container: this._props.ApplicationName,\n            activityType: this._props.ActivityType,\n            allowMultiple: this._props.AllowMultiple\n        };\n    }\n\n    get instances() {\n        return this._appManager.instances().filter((instance: Glue42.AppManager.Instance) => instance.application.name === this._name);\n    }\n\n    get type() {\n        return this._props.Type;\n    }\n\n    get mode() {\n        if (!this._props) {\n            // no info about the app\n            return \"unknown\";\n        }\n\n        // GD3 - we always have Mode from the stream object\n        if (this._props.Mode && typeof this._props.Mode === \"string\") {\n            return this._props.Mode.toLowerCase() as Glue42.Windows.WindowMode;\n        }\n\n        // GD2\n        // return unknown for activity applications\n        if (this.isActivity) {\n            return \"unknown\";\n        }\n\n        // check definition -> hc.args.mode\n        if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\n            return this._props.Arguments.mode.toLowerCase() as Glue42.Windows.WindowMode;\n        }\n\n        // if no hc.args.mode, check hc.WindowStyleAttributes\n        let styleAttributes = this._props.WindowStyleAttributes;\n        if (styleAttributes) {\n            // WindowStyleAttributes is not a valid JSON, we will need to find mode in the string\n            styleAttributes = styleAttributes.split(\" \").join(\"\");\n            const searchFor = \"mode:\\\"\";\n            const modeIndex = styleAttributes.indexOf(searchFor);\n            if (modeIndex !== -1) {\n                const startModeIndex = modeIndex + searchFor.length;\n                const stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\n                const style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\n                if (style && typeof style === \"string\") {\n                    return style.toLowerCase() as Glue42.Windows.WindowMode;\n                }\n            }\n        }\n\n        // default mode for GD2\n        return \"flat\";\n    }\n\n    public updateFromProps(props: AppProps) {\n        if (!this._props) {\n            this._props = { Name: props.Name };\n        }\n\n        Object.keys(props).forEach((key) => {\n            (this._props as any)[key] = (props as any)[key];\n        });\n    }\n\n    public start(context?: unknown, options?: Glue42.AppManager.ApplicationStartOptions): Promise<Glue42.AppManager.Instance> {\n        return new Promise<Glue42.AppManager.Instance>(async (resolve, reject) => {\n            const name = this._name;\n            let startTimeout: number = 60000;\n\n            options = options || {};\n            context = context || {};\n            let waitForAGMInstance = options.waitForAGMReady ?? true;\n\n            const waitForApplicationInstance = (id: string) => {\n                let unsub: () => void;\n                // reject after some timeout\n                const timeout = setTimeout(() => {\n                    if (unsub) {\n                        unsub();\n                    }\n                    reject(`timed out while waiting for instance id ${id} for app ${this.name}`);\n                }, startTimeout);\n\n                const waitFunc = (i: Glue42.AppManager.Instance) => {\n                    if (i.id !== id) {\n                        return;\n                    }\n                    if (unsub) {\n                        unsub();\n                        unsub = undefined;\n                    }\n                    clearTimeout(timeout);\n                    resolve(i);\n                };\n\n                if (waitForAGMInstance) {\n                    unsub = this._appManager.onInstanceAgmServerReady(waitFunc);\n                } else {\n                    // if not there subscribe for instance events\n                    unsub = this._appManager.onInstanceStarted(waitFunc);\n                }\n            };\n\n            const result = await this._agm.invoke<StartAppResult>(AgmNames.StartApplicationMethodName,\n                {\n                    Name: name,\n                    Context: context,\n                    Options: options\n                },\n                \"best\",\n                {\n                    methodResponseTimeoutMs: startTimeout\n                });\n\n            const acsResult: StartAppResult = result.returned;\n            if (typeof acsResult.timeout !== \"undefined\") {\n                startTimeout = acsResult.timeout * 1000;\n            }\n            if (typeof acsResult.waitForInterop !== \"undefined\" && typeof options.waitForAGMReady === \"undefined\") {\n                waitForAGMInstance = acsResult.waitForInterop;\n            }\n\n            if (acsResult && acsResult.Id) {\n                if (this._appManager.mode === \"startOnly\") {\n                    // we're in startOnly mode, no stream, so we will simulate the instance\n                    // based on the data received from GD\n                    const instance = this._appManager.handleInstanceStarted({\n                        ActivityId: undefined,\n                        IsActivityOwner: undefined,\n                        Context: undefined,\n                        Title: undefined,\n                        AgmServers: undefined,\n                        Id: acsResult.Id,\n                        Name: acsResult.Name,\n                    });\n                    resolve(instance);\n                } else {\n                    // we received instance from ACS, let's wait until it appears on the stream\n                    waitForApplicationInstance(acsResult.Id);\n                }\n            } else {\n                // we haven't received instance from ACS - this might happen if the app does not\n                // support tracking instances (e.g. we start internet explorer with some url)\n                resolve(undefined);\n            }\n        });\n    }\n\n    public onInstanceStarted(callback: (instance: Glue42.AppManager.Instance) => any): void {\n        this._registry.add(\"instanceStarted\", callback);\n    }\n\n    public onInstanceStopped(callback: (instance: Glue42.AppManager.Instance) => any): void {\n        this._registry.add(\"instanceStopped\", callback);\n    }\n\n    public onAvailable(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appAvailable\", callback);\n    }\n\n    public onUnavailable(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appUnavailable\", callback);\n    }\n\n    public onChanged(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appChanged\", callback);\n    }\n\n    public onRemoved(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appRemoved\", callback);\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { InstanceProps, WindowContext } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\n\nexport default class InstanceImpl implements Glue42.AppManager.Instance {\n\n    public onAgmReady = this._addToRegistry(\"agmReady\");\n\n    public onStopped = this._addToRegistry(\"stopped\");\n\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    private _startUpContext: WindowContext;\n    private _title: string;\n    private _isActivityInstance: boolean;\n    private _activityId: string;\n    private _inActivity: boolean;\n    private _isActivityOwner: boolean;\n    private _agmInstance: Partial<Glue42Core.AGM.Instance>;\n    private _unsubscribeInstanceAgmServerReady: UnsubscribeFunction;\n    private _unsubscribeInstanceStopped: UnsubscribeFunction;\n\n    constructor(\n        private _id: string,\n        private _appName: string,\n        private _appManager: AppManagerImpl,\n        private _agm: Glue42Core.AGM.API,\n        private _activities: Glue42.Activities.API,\n        private _windows: Glue42.Windows.API,\n        startFailed?: boolean\n    ) {\n        if (startFailed) {\n            return;\n        }\n\n        this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped((instance: Glue42.AppManager.Instance) => {\n            if (instance.id !== this._id) {\n                return;\n            }\n\n            this._registry.execute(\"stopped\", instance);\n        });\n\n        this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady((instance) => {\n            if (instance.id !== this._id) {\n                return;\n            }\n\n            this._registry.execute(\"agmReady\", instance);\n        });\n    }\n\n    get id(): string { return this._id; }\n\n    get application(): Glue42.AppManager.Application { return this._appManager.application(this._appName); }\n\n    get activity(): Glue42.Activities.Activity {\n        if (!this._activities) {\n            throw new Error(\"This method requires glue.activities library to be enabled.\");\n        }\n        return this._activities.all.instances.get()\n            .filter((activityInstance: Glue42.Activities.Activity) => activityInstance.id === this._activityId)[0];\n    }\n\n    get isActivityOwner(): boolean { return this._isActivityOwner; }\n\n    // this property returns a list of activity window instances (not activity instances)\n    get activityInstances(): Glue42.AppManager.Instance[] {\n        return this._appManager.instances().filter((i) =>\n            i.application.type !== \"activity\" && // GD2 backward compatibility -  do not show activity instances into the activity window instances list\n            i.activityId && // glue js 2 and 3 bug and breaking change - they will show non activity window instances as activity in case of activityId === undefined\n            i.activityId === this._activityId);\n    }\n\n    get activityOwnerInstance(): Glue42.AppManager.Instance {\n        if (!this._activityId) {\n            return undefined;\n        }\n        return this.activityInstances.filter((inst) => (inst as InstanceImpl)?.isActivityOwner)[0];\n    }\n\n    get window(): Glue42.Windows.GDWindow {\n        if (!this._windows) {\n            throw new Error(\"This method requires glue.windows library to be enabled.\");\n        }\n\n        let win = this._windows.list().filter((w) => w.id === this._id)[0];\n        if (!win && this._activities && this.activity && this.activityOwnerInstance) {\n            // This is covering GD3 activity instance\n            win = this.activityOwnerInstance.window;\n        }\n\n        return win;\n    }\n\n    get context(): WindowContext {\n        return this._startUpContext ?? this.window?.context ?? {};\n    }\n\n    get title(): string { return this._title; }\n\n    get isActivityInstance(): boolean { return this._isActivityInstance; }\n\n    get activityId(): string { return this._activityId; }\n\n    get inActivity(): boolean { return this._inActivity; }\n\n    get isSingleWindowApp(): boolean { return !this._inActivity; }\n\n    get agm(): Partial<Glue42Core.AGM.Instance> {\n        return this._agmInstance;\n    }\n\n    // uses this.window and waits for the window to appear if needed\n    // we can not remove this.window for legacy reasons\n    public getWindow(): Promise<Glue42.Windows.GDWindow> {\n        return new Promise((resolve, reject) => {\n            // try to get it the normal way\n            const result = this.window;\n            if (result) {\n                resolve(result);\n                return;\n            }\n\n            // if we can not find it directly wait for it to appear\n            const done = (error?: Error, window?: Glue42.Windows.GDWindow) => {\n                if (error) {\n                    reject(error);\n                }\n\n                if (window) {\n                    resolve(window);\n                }\n\n                setTimeout(() => {\n                    clearTimeout(timeout);\n                    unsub();\n                }, 0);\n            };\n\n            // if not found for 30 sec reject\n            const timeout = setTimeout(() => {\n                done(new Error(`can not find a window with id ${this._id}`));\n            }, 30000);\n\n            const unsub = this._windows.onWindowAdded((w) => {\n                if (w.id === this._id) {\n                    done(undefined, w);\n                }\n            });\n        });\n    }\n\n    public updateFromProps(props: InstanceProps): void {\n        this._startUpContext = props.Context;\n        this._title = props.Title;\n        this._isActivityInstance = false;\n        if (props.ActivityId && props.ActivityId !== \"\") {\n            this._activityId = props.ActivityId;\n            this._isActivityInstance = true;\n        }\n        this._isActivityOwner = props.IsActivityOwner;\n        if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\n            this._activityId = this._startUpContext.activityId;\n        }\n        this._inActivity = Boolean(this._activityId);\n\n        this.updateAgmInstanceFromProps(props);\n    }\n\n    public updateAgmInstanceFromProps(props: InstanceProps) {\n        if (!props.AgmServers) {\n            return;\n        }\n\n        const agmInstances: Glue42Core.AGM.Instance[] = props.AgmServers as Glue42Core.AGM.Instance[];\n        if (agmInstances) {\n            this._agmInstance = agmInstances[0];\n        }\n    }\n\n    public stop(): Promise<void> {\n        return new Promise((resolve, reject) => {\n            const unsubscribe = this._appManager.onInstanceStopped((instance) => {\n                if (instance.id === this._id) {\n                    unsubscribe();\n                    resolve();\n                }\n            });\n\n            this._agm.invoke(\n                AgmNames.StopApplicationMethodName,\n                {\n                    Name: this._appName,\n                    Id: this._id\n                })\n                .then(() => {\n                    if (this._appManager.mode === \"startOnly\") {\n                        this._appManager.handleInstanceStopped({\n                            Name: this._appName,\n                            Id: this.id,\n                            Context: undefined,\n                            Title: undefined,\n                            ActivityId: undefined,\n                            IsActivityOwner: undefined,\n                            AgmServers: undefined\n                        });\n                        // in startOnly mode, resolve stop as soon as we receive\n                        resolve();\n                    }\n                })\n                .catch((err: any) => reject(err));\n        });\n    }\n\n    public activate(): Promise<Glue42Core.AGM.InvocationResult<any>> {\n        return this._agm.invoke(AgmNames.ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\n    }\n\n    public done() {\n\n        // remove all handlers\n        this._registry.clear();\n        // remove subscriptions\n        this._unsubscribeInstanceAgmServerReady();\n        this._unsubscribeInstanceStopped();\n    }\n\n    public getContext(): Promise<object> {\n        return Promise.resolve(this.context);\n    }\n\n    private _addToRegistry(key: string) {\n        return (callback: (instance: Glue42.AppManager.Instance) => any) => {\n            this._registry.add(key, callback);\n        };\n    }\n}\n","import ApplicationImpl from \"./application\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, InstanceProps } from \"./types\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport InstanceImpl from \"./instance\";\nimport { Glue42Core } from \"@glue42/core\";\n\nexport default class AppManagerImpl implements Glue42.AppManager.AppManager {\n\n    private _apps: { [key: string]: ApplicationImpl } = {};\n    private _instances: InstanceImpl[] = [];\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    constructor(\n        public mode: Glue42.AppManager.Mode,\n        private _agm: Glue42Core.AGM.API,\n        private _activities: Glue42.Activities.API,\n        private _windows: Glue42.Windows.API,\n        private _logger: Glue42Core.Logger.API,\n        private _gdMajorVersion: number\n    ) {\n        //\n    }\n\n    public application = (name: string) => {\n        return this._apps[name];\n    }\n\n    public applications = () => {\n        return Object.keys(this._apps).map((k: string) => this._apps[k]);\n    }\n\n    public instances = () => {\n        return this._instances;\n    }\n\n    public getMyInstance = () => {\n        if (this._gdMajorVersion >= 3) {\n            // GD3 check\n            const instanceId = window.glue42gd.appInstanceId;\n            return this._instances.filter((i) => i.id === instanceId)[0];\n        }\n\n        return undefined;\n    }\n\n    public handleAppAdded = (props: AppProps) => {\n        const id = this._getAppId(props);\n        this._logger.trace(`adding app ${id}`);\n        this._apps[id] = new ApplicationImpl(this, id, this._agm);\n        const app = this._updateAppFromProps(props);\n\n        this._registry.execute(\"appAdded\", app);\n    }\n\n    public handleAppUpdated = (props: AppProps) => {\n        // TODO: check side effects, is this._apps updated?\n\n        const app = this._updateAppFromProps(props);\n\n        this._registry.execute(\"appChanged\", app);\n    }\n\n    public handleAppRemoved = (props: AppProps) => {\n        const id = this._getAppId(props);\n        this._logger.trace(`removing app ${id}`);\n        const app = this.application(id);\n\n        // remove all instances related to the app\n        this._instances = this._instances.filter((i) => i.application.name !== app.name);\n\n        delete this._apps[id];\n\n        this._registry.execute(\"appRemoved\", app);\n    }\n\n    public handleAppReady = (props: AppProps) => {\n        const id = this._getAppId(props);\n        const app = this._getAppOrThrow(id);\n        app.updateFromProps(props);\n\n        if (app.available) {\n            this._registry.execute(\"appAvailable\", app);\n        } else {\n            this._registry.execute(\"appUnavailable\", app);\n        }\n    }\n\n    public handleInstanceStarted = (props: InstanceProps): InstanceImpl => {\n        this._logger.trace(`started app ${props.Name} ${props.Id}`);\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n\n        const instance = new InstanceImpl(id, appName, this, this._agm, this._activities, this._windows);\n\n        this._updateInstanceFromProps(instance, props);\n\n        this._instances.push(instance);\n\n        this._registry.execute(\"instanceStarted\", instance);\n        return instance;\n    }\n\n    public handleInstanceStopped = (props: InstanceProps) => {\n        this._logger.trace(`failed to start app ${props.Name} ${props.Id}`);\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, appName);\n\n        this._instances = this._instances.filter((i) => !this._matchInstance(i, id, appName));\n\n        this._registry.execute(\"instanceStopped\", instance);\n        instance.done();\n    }\n\n    public handleInstanceAgmServerReady = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, appName);\n\n        instance.updateAgmInstanceFromProps(props);\n\n        this._registry.execute(\"instanceAgmServerReady\", instance);\n    }\n\n    public handleInstanceStartFailed = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const startFailed = true;\n        const instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\n\n        this._updateInstanceFromProps(instance, props);\n\n        this._registry.execute(\"instanceStartFailed\", instance);\n    }\n\n    public handleInstanceUpdated = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const app = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, app);\n\n        this._updateInstanceFromProps(instance, props);\n    }\n\n    /** Event subscription methods */\n    public onInstanceStarted = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStarted\", callback, this._instances);\n    }\n\n    public onInstanceStartFailed = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStartFailed\", callback);\n    }\n\n    public onInstanceStopped = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStopped\", callback);\n    }\n\n    public onInstanceUpdated = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceChanged\", callback);\n    }\n\n    public onInstanceAgmServerReady = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceAgmServerReady\", callback);\n    }\n\n    public onAppAdded = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appAdded\", callback, Object.values(this._apps));\n    }\n\n    public onAppRemoved = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appRemoved\", callback);\n    }\n\n    public onAppAvailable = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appAvailable\", callback);\n    }\n\n    public onAppUnavailable = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appUnavailable\", callback);\n    }\n\n    public onAppChanged = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appChanged\", callback);\n    }\n\n    private _getAppOrThrow(id: string) {\n        const result = this.application(id);\n        if (!result) {\n            throw Error(`app with id ${id} not found`);\n        }\n        return result;\n    }\n\n    private _getAppId(props: AppProps) {\n        return props.Name;\n    }\n\n    private _matchInstance(instance: Glue42.AppManager.Instance, id: string, appName: string) {\n        return instance.id === id && instance.application.name === appName;\n    }\n\n    private _getInstanceByIdAndName(id: string, appName: string) {\n        return this._instances.filter((i) => this._matchInstance(i, id, appName))[0];\n    }\n\n    private _getInstanceOrThrow(id: string, appName: string) {\n        const result = this._getInstanceByIdAndName(id, appName);\n        if (!result) {\n            throw Error(`instance with id ${id} not found`);\n        }\n        return result;\n    }\n\n    private _getInstanceId(props: InstanceProps) {\n        return props.Id;\n    }\n\n    private _getInstanceAppName(props: InstanceProps) {\n        return props.Name;\n    }\n\n    private _updateAppFromProps(props: AppProps) {\n        const id = this._getAppId(props);\n        this._logger.trace(`updating app with  + ${id}, ${props}`);\n        const app = this._getAppOrThrow(id);\n\n        app.updateFromProps(props);\n\n        return app;\n    }\n\n    private _updateInstanceFromProps(instance: InstanceImpl, props: InstanceProps) {\n        this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\n        instance.updateFromProps(props);\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { OnGDShutdownMethodName } from \"./const/agm-names\";\n\nfunction promisify(promise: Promise<any>, successCallback: (arg?: any) => void, errorCallback: (err?: any) => void) {\n    const isFunction = (arg: any) => {\n        return !!(arg && arg.constructor && arg.call && arg.apply);\n    };\n\n    if (!isFunction(successCallback) && !isFunction(errorCallback)) {\n        return promise;\n    }\n\n    if (!isFunction(successCallback)) {\n        successCallback = () => {\n            // EMPTY\n        };\n    } else if (!isFunction(errorCallback)) {\n        errorCallback = () => {\n            // EMPTY\n        };\n    }\n\n    promise.then(successCallback, errorCallback);\n}\n\nexport default class EntitlementsImpl implements Glue42.AppManager.Entitlements {\n\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n    private _isMethodRegistered = false;\n\n    constructor(\n        private _agm: Glue42Core.AGM.API\n    ) {\n        //\n    }\n\n    public handleBranchModified = (branch: Glue42.AppManager.Branch) => {\n        this._registry.execute(\"branchChanged\", branch);\n    }\n\n    public handleBranchesModified = (branches: Glue42.AppManager.Branch[]) => {\n        this._registry.execute(\"branchesChanged\", branches);\n    }\n\n    public getRegion = (success?: (region: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        return promisify(\n            this._agmInvoke(\n                AgmNames.GetConfigurationRegionMethodName,\n                (e: Glue42Core.AGM.InvocationResult<{ Region: string }>) => e.returned.Region\n            ),\n            success,\n            error\n        );\n    }\n\n    public getBranches = (success?: (branches: Glue42.AppManager.Branch[]) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.Branch[]> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetBranchesMethodName,\n            (e) => {\n                const obj = e.returned.Branches as { [key: string]: Glue42.AppManager.Branch };\n                return Object.keys(obj).map((key) => obj[key]);\n            }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public getCurrentBranch = (success?: (branch: Glue42.AppManager.Branch) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.Branch> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetCurrentBranchMethodName,\n            (e) => e.returned.Branch,\n            undefined\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public setRegion = (region: string, success?: (resMsg: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.SetConfigurationRegionMethodName,\n            (e) => e.returned.ResultMessage,\n            { Region: region }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public setCurrentBranch = (branch: string, success?: (resMsg: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.SetCurrentBranchMethodName,\n            (e) => e.returned.ResultMessage,\n            { Branch: branch }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public currentUser = (success?: (user: Glue42.AppManager.UserInfo) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.UserInfo> => {\n        const promise = this._agmInvoke(AgmNames.GetUserMethodName);\n        return promisify(promise, success, error);\n    }\n\n    public getFunctionalEntitlement = (funct: string, success?: (entitlement: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetFunctionalEntitlementMethodName,\n            (e) => e.returned.Entitlement,\n            { Function: funct }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public getFunctionalEntitlementBranch = (funct: string, branch: string, success?: (entitlement: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetFunctionalEntitlementMethodName,\n            (e) => e.returned.Entitlement,\n            { Function: funct, Branch: branch }\n        );\n        return promisify(promise, success, error);\n    }\n\n    public canI = (func: string, success?: (allowed: boolean) => any, error?: (err: any) => any): void | Promise<boolean> => {\n        const promise = this._agmInvoke(\n            AgmNames.CanIMethodName,\n            (e) => e.returned.Result,\n            { Function: func }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public canIBranch = (func: string, branch: string, success?: (allowed: boolean) => any, error?: (err: any) => any): void | Promise<boolean> => {\n        const promise = this._agmInvoke(\n            AgmNames.CanIMethodName,\n            (e) => e.returned.Result,\n            { Function: func, Branch: branch }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public onBranchesChanged = (callback: (branches: Glue42.AppManager.Branch[]) => any): UnsubscribeFunction => {\n        return this._registry.add(\"branchesChanged\", callback);\n    }\n\n    public onBranchChanged = (callback: (branch: Glue42.AppManager.Branch) => any): UnsubscribeFunction => {\n        return this._registry.add(\"branchChanged\", callback);\n    }\n\n    public exit = (options?: Glue42.AppManager.ExitOpts): Promise<any> => {\n        return this._agmInvoke(\n            AgmNames.ShutdownMethodName,\n            null,\n            options\n        );\n    }\n\n    public onShuttingDown = (callback: (args: Glue42.AppManager.ShuttingDownEventArgs) => Promise<{ prevent: boolean }>) => {\n        this.registerMethod();\n        return this._registry.add(\"onShuttingDown\", callback);\n    }\n\n    public restart = (options?: Glue42.AppManager.ExitOpts): Promise<any> => {\n        return this._agmInvoke(\n            AgmNames.RestartMethodName,\n            null,\n            options\n        );\n    }\n\n    private registerMethod() {\n        if (!this._isMethodRegistered) {\n            this._agm.register(OnGDShutdownMethodName, async (args) => {\n                try {\n                    const results = await Promise.all(this._registry.execute(\"onShuttingDown\", args)) as Array<{ prevent: boolean }>;\n                    const prevent = results.some((r) => r.prevent);\n                    return { prevent };\n                } catch (error) {\n                    //\n                }\n            });\n            this._isMethodRegistered = true;\n        }\n    }\n\n    private _agmInvoke = (\n        method: string,\n        transformFunction?: (res: Glue42Core.AGM.InvocationResult<any>) => any,\n        args?: object\n    ): Promise<any> => {\n        args = args || {};\n        return new Promise((resolve, reject) => {\n            const errHandler: Glue42Core.AGM.InvokeErrorHandler = (error) => reject(error);\n            this._agm.invoke(method, args)\n                .then((result) => {\n                    if (!transformFunction) {\n                        transformFunction = (d: Glue42Core.AGM.InvocationResult<any>) => d.returned;\n                    }\n                    resolve(transformFunction(result));\n                })\n                .catch(errHandler);\n        });\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { objectValues } from \"./helper\";\nimport { Glue42Core } from \"@glue42/core\";\nimport AppManagerImpl from \"./app-manager\";\n\n/** Retrieves application snapshot from ACS */\nexport default function snapshot(agm: Glue42Core.AGM.API, appManager: AppManagerImpl): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n        agm.invoke(AgmNames.GetApplicationsMethodName, { skipIcon: true })\n            .then((response) => {\n                const data = response.returned;\n                if (!data) {\n                    resolve();\n                }\n\n                const applications = data.applications;\n                if (!applications) {\n                    resolve();\n                }\n\n                objectValues(applications).map((item) => appManager.handleAppAdded(item));\n\n                resolve();\n            })\n            .catch((err) => reject(`Error getting application snapshot: ${err.message}`));\n    });\n}\n","export const OnNotificationEvent = \"OnNotification\";\n\nexport const OnBranchChangedEvent = \"OnBranchChanged\";\nexport const OnBranchesModifiedEvent = \"OnBranchesModified\";\n\nexport const OnApplicationAddedEvent = \"OnApplicationAdded\";\nexport const OnApplicationRemovedEvent = \"OnApplicationRemoved\";\nexport const OnApplicationChangedEvent = \"OnApplicationChanged\";\nexport const OnApplicationReadyEvent = \"OnApplicationReady\";\n\nexport const OnApplicationStartedEvent = \"OnApplicationStarted\";\nexport const OnApplicationRegisteredEvent = \"OnApplicationRegistered\";\nexport const OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\nexport const OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\nexport const OnApplicationStoppedEvent = \"OnApplicationStopped\";\nexport const OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n","import * as AgmNames from \"./const/agm-names\";\nimport * as EventNames from \"./const/event-names\";\nimport { objectValues } from \"./helper\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, InstanceProps } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport EntitlementsImpl from \"./entitlements\";\n\n/** Subscribe for the AGM stream published by ACS and distributes events to applications and instances components */\nexport default function createDataSubscription(agm: Glue42Core.AGM.API, applications: AppManagerImpl, entitlements: EntitlementsImpl, skipIcons: boolean) {\n\n    let subscription: Glue42Core.AGM.Subscription;\n    const start = () => {\n        let resolveFunc: () => void;\n        let rejectFunc: (error?: any) => void;\n\n        const resultPromise = new Promise<void>((resolve, reject) => {\n            resolveFunc = resolve;\n            rejectFunc = reject;\n        });\n\n        agm.subscribe(AgmNames.OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\n            .then((s) => {\n                subscription = s;\n                subscription.onData((streamData: Glue42Core.AGM.StreamData) => {\n                    const events: any = streamData.data;\n\n                    objectValues(events[EventNames.OnApplicationAddedEvent])\n                        .map((item: AppProps) => applications.handleAppAdded(item));\n\n                    objectValues(events[EventNames.OnApplicationChangedEvent])\n                        .map((item: AppProps) => applications.handleAppUpdated(item));\n\n                    objectValues(events[EventNames.OnApplicationRemovedEvent])\n                        .map((item: AppProps) => applications.handleAppRemoved(item));\n\n                    objectValues(events[EventNames.OnApplicationReadyEvent])\n                        .map((item: AppProps) => applications.handleAppReady(item));\n\n                    objectValues(events[EventNames.OnApplicationStartedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceStarted(item));\n\n                    objectValues(events[EventNames.OnApplicationStartFailedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceStartFailed(item));\n\n                    objectValues(events[EventNames.OnApplicationStoppedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceStopped(item));\n\n                    objectValues(events[EventNames.OnApplicationUpdatedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceUpdated(item));\n\n                    objectValues(events[EventNames.OnApplicationAgmServerReadyEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceAgmServerReady(item));\n\n                    objectValues(events[EventNames.OnBranchChangedEvent])\n                        .map((item: Glue42.AppManager.Branch) => entitlements.handleBranchModified(item));\n\n                    objectValues(events[EventNames.OnBranchesModifiedEvent])\n                        .map((item: Glue42.AppManager.Branch[]) => entitlements.handleBranchesModified(item));\n\n                    resolveFunc();\n                });\n\n                subscription.onFailed((err: any) => rejectFunc(err));\n\n            })\n            .catch((err: any) => rejectFunc(`Error subscribing for ${AgmNames.OnEventMethodName} stream. Err: ${err}`));\n\n        return resultPromise;\n    };\n\n    const stop = () => {\n        if (subscription) {\n            subscription.close();\n        }\n    };\n\n    return {\n        start,\n        stop\n    };\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\n\nexport const InMemoryStoreCommandMethodName = \"T42.ACS.InMemoryStoreCommand\";\n\nexport type InMemoryStoreCommandArgs = InMemoryImportCommand | InMemoryExportCommand | InMemoryRemoveCommand | InMemoryClearCommand;\n\nexport interface GenericInMemoryCommand<C, A> {\n    command: C;\n    args?: A;\n}\n\ntype InMemoryImportCommand = GenericInMemoryCommand<\"import\", InMemoryImportArgs>;\ninterface InMemoryImportArgs {\n    apps: Glue42.AppManager.Definition[];\n    mode?: \"merge\" | \"replace\";\n}\n\ntype InMemoryRemoveCommand = GenericInMemoryCommand<\"remove\", { apps: string[] }>;\nexport interface InMemoryRemoveArgs {\n    apps: string[];\n}\n\ntype InMemoryExportCommand = GenericInMemoryCommand<\"export\", undefined>;\ntype InMemoryClearCommand = GenericInMemoryCommand<\"clear\", undefined>;\n\nexport interface InMemoryExportResult {\n    apps: Glue42.AppManager.Definition[];\n}\n\nexport class InMemoryStore implements Glue42.AppManager.InMemoryStore {\n\n    constructor(private interop: Glue42Core.Interop.API) {\n    }\n\n    public import(apps: Glue42.AppManager.Definition[], mode?: \"replace\" | \"merge\"): Promise<Glue42.AppManager.ImportResult> {\n        if (!apps || !Array.isArray(apps)) {\n            return Promise.reject(\"invalid apps argument - should be an array of application definitions\");\n        }\n        if (mode && mode !== \"replace\" && mode !== \"merge\") {\n            return Promise.reject(\"invalid mode argument - should be 'replace' or 'merge'\");\n        }\n\n        mode = mode ?? \"replace\";\n        const command: InMemoryImportCommand = {\n            command: \"import\",\n            args: {\n                apps,\n                mode\n            }\n        };\n        return this.interop.invoke<Glue42.AppManager.ImportResult>(InMemoryStoreCommandMethodName, command)\n            .then((r) => r.returned);\n    }\n\n    public export(): Promise<Glue42.AppManager.Definition[]> {\n        return this.interop.invoke<InMemoryExportResult>(InMemoryStoreCommandMethodName, { command: \"export\" })\n            .then((r) => r.returned.apps);\n    }\n\n    public remove(app: string): Promise<void> {\n        if (!app || typeof app !== \"string\") {\n            return Promise.reject(\"invalid app name, should be a string value\");\n        }\n        const command: InMemoryRemoveCommand = {\n            command: \"remove\",\n            args: {\n                apps: [app]\n            }\n        };\n        return this.interop.invoke<void>(InMemoryStoreCommandMethodName, command).then((r) => r.returned);\n    }\n\n    public clear(): Promise<void> {\n        const command: InMemoryClearCommand = {\n            command: \"clear\"\n        };\n        return this.interop.invoke<void>(InMemoryStoreCommandMethodName, command).then((r) => r.returned);\n    }\n\n    public createAppDef(name: string, url: string): Glue42.AppManager.Definition {\n        if (!url) {\n            url = \"https://google.com\";\n        }\n        return {\n            name,\n            type: \"window\",\n            title: name,\n            details: {\n                url\n            }\n        };\n    }\n}\n","import AppManagerImpl from \"./app-manager\";\nimport EntitlementsImpl from \"./entitlements\";\nimport snapshot from \"./snapshot\";\nimport subscriptionFactory from \"./data-subscription\";\nimport { Glue42 } from \"../../glue\";\nimport { InMemoryStore } from \"./in-memory\";\n\nexport default (config: Glue42.AppManager.Config): Glue42.AppManager.API => {\n\n    if (!config) {\n        throw Error(\"config not set\");\n    }\n\n    if (!config.agm) {\n        throw Error(\"config.agm is missing\");\n    }\n\n    const START_ONLY: Glue42.AppManager.Mode = \"startOnly\";\n    const SKIP_ICONS: Glue42.AppManager.Mode = \"skipIcons\";\n    const FULL: Glue42.AppManager.Mode = \"full\";\n\n    const mode: Glue42.AppManager.Mode = config.mode || START_ONLY;\n    if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\n        throw new Error(`Invalid mode for appManager lib - ${mode} is not supported`);\n    }\n\n    const activities = config.activities;\n    const agm = config.agm;\n    const logger = config.logger;\n    const windows = config.windows;\n    const appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\n    const entitlements = new EntitlementsImpl(agm);\n\n    let readyPromise: Promise<void>;\n    if (mode === START_ONLY) {\n        readyPromise = snapshot(agm, appManager);\n    } else {\n        const subscription = subscriptionFactory(agm, appManager, entitlements, mode === SKIP_ICONS);\n        readyPromise = subscription.start();\n    }\n\n    const api: Glue42.AppManager.API = {\n        ready: () => readyPromise,\n\n        applications: appManager.applications,\n        application: appManager.application,\n\n        onAppAdded: appManager.onAppAdded,\n        onAppRemoved: appManager.onAppRemoved,\n        onAppChanged: appManager.onAppChanged,\n        onAppAvailable: appManager.onAppAvailable,\n        onAppUnavailable: appManager.onAppUnavailable,\n\n        instances: appManager.instances,\n        get myInstance() {\n            return appManager.getMyInstance();\n        },\n\n        onInstanceStarted: appManager.onInstanceStarted,\n        onInstanceStopped: appManager.onInstanceStopped,\n        onInstanceUpdated: appManager.onInstanceUpdated,\n        onInstanceStartFailed: appManager.onInstanceStartFailed,\n\n        getRegion: entitlements.getRegion,\n        getBranches: entitlements.getBranches,\n        getCurrentBranch: entitlements.getCurrentBranch,\n        getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\n        getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\n\n        setCurrentBranch: entitlements.setCurrentBranch,\n        setRegion: entitlements.setRegion,\n\n        currentUser: entitlements.currentUser,\n\n        canI: entitlements.canI,\n        canIBranch: entitlements.canIBranch,\n\n        onBranchesChanged: entitlements.onBranchesChanged,\n\n        exit: entitlements.exit,\n        restart: entitlements.restart,\n\n        onShuttingDown: entitlements.onShuttingDown,\n\n        inMemory: new InMemoryStore(agm)\n    };\n\n    return api;\n};\n","import { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { PendingWindowState, WindowEvents, WindowWrapper } from \"./types\";\n\nexport class WindowStore {\n    private readonly waitForTimeoutInMilliseconds: number = 60000;\n    private _windows: { [key: string]: WindowWrapper } = {};\n    private _pendingWindows: { [key: string]: WindowWrapper } = {};\n    private _pendingWindowsStates: { [key: string]: PendingWindowState } = {};\n    private _registry: CallbackRegistry;\n    private _logger: Glue42Core.Logger.API;\n\n    constructor() {\n        this._registry = CallbackFactory();\n    }\n\n    public init(logger: Glue42Core.Logger.API) {\n        this._logger = logger;\n    }\n\n    // Returns a window which either in Ready OR NOT 'ready' state (when the window is NOT marked with readyToShow)\n    public get(id: string): WindowWrapper {\n        return this._windows[id] || this._pendingWindows[id];\n    }\n\n    // Returns a window which is in 'ready' state (when the window is marked with readyToShow)\n    public getIfReady(id: string): WindowWrapper {\n        return this._windows[id];\n    }\n\n    public get list(): { [key: string]: WindowWrapper } {\n        return this._windows;\n    }\n\n    public add(window: WindowWrapper) {\n        const isExist = this._pendingWindows[window.API.id] ? true : false;\n        if (isExist) {\n            this._logger.error(`trying to add window with id ${window.API.id} from windowStore, which already exists`);\n            return;\n        }\n        const remote = window.API.windowType === \"remote\";\n        this._pendingWindows[window.API.id] = window;\n        this._pendingWindowsStates[window.API.id] = {\n            ready: false,\n            urlChanged: remote, // remote windows don't have url events\n        };\n\n        this._registry.execute(\"on-added\", window);\n    }\n\n    public remove(window: WindowWrapper) {\n        delete this._windows[window.API.id];\n        delete this._pendingWindows[window.API.id];\n        delete this._pendingWindowsStates[window.API.id];\n        this._registry.execute(\"on-removed\", window);\n    }\n\n    public setReadyState(windowId: string) {\n        const targetWindowState = this._pendingWindowsStates[windowId];\n\n        if (typeof targetWindowState === \"undefined\") {\n            return;\n        }\n\n        targetWindowState.ready = true;\n\n        if (targetWindowState.urlChanged) {\n            this.markReadyToShow(windowId);\n        }\n    }\n\n    public setUrlChangedState(windowId: string) {\n        const targetWindowState = this._pendingWindowsStates[windowId];\n\n        if (typeof targetWindowState === \"undefined\") {\n            return;\n        }\n\n        targetWindowState.urlChanged = true;\n\n        if (targetWindowState.ready) {\n            this.markReadyToShow(windowId);\n        }\n    }\n\n    public waitFor(id: string): Promise<WindowWrapper> {\n        return new Promise((resolve, reject) => {\n\n            let un: UnsubscribeFunction;\n\n            const timeout = setTimeout(() => {\n                un();\n                reject(\"waitFor timed out.\");\n            }, this.waitForTimeoutInMilliseconds);\n\n            const win = this._windows[id];\n            if (win) {\n                clearTimeout(timeout);\n                resolve(win);\n            } else {\n                un = this.onReadyWindow((w: WindowWrapper) => {\n                    if (w.API.id !== id) {\n                        return;\n                    }\n                    clearTimeout(timeout);\n                    un();\n                    resolve(w);\n                });\n            }\n        });\n    }\n\n    public onReadyWindow(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-ready\", callback);\n    }\n\n    public onAdded(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-added\", callback);\n    }\n\n    public onRemoved(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-removed\", callback);\n    }\n\n    // newly created windows now need to hear both \"ready\" and \"urlChanged\" events in otder to be markedReadyToShow\n    public markReadyToShow(windowId: string) {\n        if (this._pendingWindows[windowId]) {\n            this._windows[windowId] = this._pendingWindows[windowId];\n            delete this._pendingWindows[windowId];\n            delete this._pendingWindowsStates[windowId];\n        }\n\n        this._registry.execute(\"on-ready\", this._windows[windowId]);\n    }\n}\n\nexport default new WindowStore();\n","import { Glue42 } from \"../glue\";\n\nexport default class Utils {\n    public static getGDMajorVersion() {\n        if (typeof window === \"undefined\") {\n            return -1;\n        }\n        if (!window.glueDesktop) {\n            return -1;\n        }\n        if (!window.glueDesktop.version) {\n            return -1;\n        }\n        const ver = Number(window.glueDesktop.version.substr(0, 1));\n        return isNaN(ver) ? -1 : ver;\n    }\n\n    public static callbackifyPromise<T>(\n        action: () => Promise<T>,\n        successCallback?: (args?: T) => void,\n        errorCallback?: (errorMessage: string) => void): Promise<T> {\n\n        const fail = (error: any) => {\n            let msg = error;\n            if (error instanceof Error) {\n                msg = error.message;\n            }\n            if (typeof errorCallback === \"function\") {\n                errorCallback(msg);\n                return;\n            }\n\n            return Promise.reject(msg);\n        };\n\n        try {\n            return action()\n                .then((result) => {\n                    if (typeof successCallback === \"function\") {\n                        successCallback(result);\n                    }\n                    return result;\n                })\n                .catch((error) => {\n                    return fail(error);\n                });\n        } catch (err) {\n            return fail(err);\n        }\n    }\n\n    public static getMonitor(bounds: Glue42.Windows.Bounds, displays?: Glue42.Screen[]): Glue42.Screen {\n        const monitorsSortedByOverlap = displays.map((m) => {\n            const { left, top, workingAreaWidth: width, workingAreaHeight: height } = m;\n            const overlap = this.calculateTotalOverlap({ left, top, width, height }, bounds);\n            return {\n                monitor: m,\n                totalOverlap: overlap\n            };\n        }).sort((a, b) => b.totalOverlap - a.totalOverlap);\n\n        return monitorsSortedByOverlap[0].monitor;\n    }\n\n    public static getDisplayCenterOfScreen(a: Partial<Glue42.Windows.Bounds>, display?: Glue42.Screen) {\n        const left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\n        const top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\n        return {\n            top,\n            left\n        };\n    }\n\n    private static calculateTotalOverlap(r1: Glue42.Windows.Bounds, r2: Glue42.Windows.Bounds) {\n        const r1x = r1.left;\n        const r1y = r1.top;\n        const r1xMax = r1x + r1.width;\n        const r1yMax = r1y + r1.height;\n\n        const r2x = r2.left;\n        const r2y = r2.top;\n        const r2xMax = r2x + r2.width;\n        const r2yMax = r2y + r2.height;\n\n        const xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\n        const yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\n\n        return xOverlap * yOverlap;\n    }\n}\n","import CallbackFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\nimport {\n    Executor,\n    FrameButton,\n    Neighbours,\n    WindowConstructorOptions,\n    WindowEvents,\n    WindowWrapper,\n    FlashOptions,\n    DetachTabOptions,\n} from \"./types\";\nimport * as util from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nimport { default as windowStore } from \"./store\";\nimport GDWindow = Glue42.Windows.GDWindow;\nimport { CompositionChangedData } from \"./environment/gd/types\";\n\nexport default (id: string, options: WindowConstructorOptions, executor: Executor, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, agm: Glue42.AGM.API): WindowWrapper => {\n    const _registry: CallbackRegistry = CallbackFactory();\n    const _logger = logger.subLogger(`window ${id}`);\n\n    let resultWindow: Glue42.Windows.GDWindow;\n\n    const _id = id;\n    const _name: string = options.name;\n    const _mode: Glue42.Windows.WindowMode = options.mode;\n    let _bounds: Glue42.Windows.Bounds = options.bounds;\n    let _url: string = options.url;\n    let _title: string = options.title;\n    let _context: any = options.context ?? {};\n    let _frameColor: string = options.frameColor;\n    let _focus: boolean = options.focus;\n    let _neighbours: Neighbours = options.neighbours ?? {};\n    let _groupId: string = options.groupId;\n    let _isGroupHeaderVisible: boolean = options.isGroupHeaderVisible;\n    let _isTabHeaderVisible: boolean = options.isTabHeaderVisible;\n    let _isTabSelected: boolean = options.isTabSelected ?? false;\n    let _settings: Glue42.Windows.WindowSettings = options.settings;\n\n    // is Window visible\n    let _isVisible: boolean = options.isVisible;\n\n    // is Window sticky enable\n    let _isSticky: boolean = options.isSticky;\n\n    // Window state Collapsed | Expanded\n    let _isCollapsed: boolean = options.isCollapsed;\n\n    // Window state normal | maximized | minimized\n    let _windowState: Glue42.Windows.WindowState = options.state;\n\n    // tabGroupId only for window with 'Tab' mode\n    let _tabGroupId: string = options.tabGroupId;\n    let _tabIndex: number = options.tabIndex;\n\n    // window is locked or unlocked;\n    let _isLocked: boolean = options.isLocked;\n\n    let _group: Glue42.Windows.Group;\n\n    // Holding all frame buttons\n    let _frameButtons: Glue42.Windows.ButtonInfo[] = [];\n\n    // Holding the current zoom factor\n    let _zoomFactor = options.zoomFactor;\n\n    let _placementSettings: Glue42.Windows.PlacementSettings = options.placementSettings;\n\n    //#region \"AGM methods\"\n\n    function close(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!id) {\n                throw new Error(\"The window is already closed.\");\n            }\n            return executor.close(resultWindow);\n        }, success, error);\n    }\n\n    function navigate(newUrl: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(newUrl)) {\n                throw new Error(\"The new URL must be a non-empty string.\");\n            }\n            return executor.navigate(resultWindow, newUrl);\n        }, success, error);\n    }\n\n    function setStyle(style: Glue42.Windows.WindowStyle, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every((key) => !key)) {\n                throw new Error(\"Invalid style arguments: \" + JSON.stringify(style));\n            }\n            if (style && style.focus !== undefined) {\n                if (typeof style.focus !== \"boolean\") {\n                    throw new Error(\"Focus must be a boolean value. Currently, only `focus: true` is supported.\");\n                } else if (style.focus === false) {\n                    _logger.warn(\"`focus: false` is not supported!\");\n                }\n            }\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\n                throw new Error(\"The `hidden` property must hold a boolean value.\");\n            }\n            for (const prop of [\"minHeight\", \"maxHeight\", \"minWidth\", \"maxWidth\"]) {\n                const styleAsAny = style as any;\n                const value = styleAsAny[prop];\n                if (prop in style) {\n                    if (util.isUndefinedOrNull(value)) {\n                        delete styleAsAny[prop];\n                        continue;\n                    }\n                    if (!util.isNumber(styleAsAny[prop])) {\n                        throw new Error(`\"${prop}\" must be a number`);\n                    }\n                }\n            }\n            return executor.setStyle(resultWindow, style);\n        }, success, error);\n    }\n    // REVIEW\n    function resetButtons(buttons: Glue42.Windows.WindowButtons, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(\n            () => executor.resetButtons(resultWindow, buttons),\n            success,\n            error\n        );\n    }\n\n    function setOnTop(onTop: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof onTop !== \"boolean\") {\n                throw new Error(\"`onTop` must hold a boolean value.\");\n            }\n            return executor.setOnTop(resultWindow, onTop);\n        }, success, error);\n    }\n\n    function setSizeConstraints(constraints: Glue42.Windows.SizeConstraints, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!constraints || Object.keys(constraints).every((value) => value === undefined)) {\n                throw new Error(\"The properties of `constraints` cannot be null or undefined.\");\n            }\n            return executor.setSizeConstraints(resultWindow, constraints);\n        }, success, error);\n    }\n\n    function setTitle(newTitle: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(newTitle)) {\n                throw new Error(\"`newTitle` must not be null or undefined.\");\n            }\n            if (newTitle === _title) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.setTitle(resultWindow, newTitle);\n        }, success, error);\n    }\n\n    function setSticky(isSticky: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof isSticky !== \"boolean\") {\n                throw new Error(\"`isSticky` must hold a boolean value.\");\n            }\n            return executor.setSticky(resultWindow, isSticky);\n        }, success, error);\n    }\n\n    function moveResize(bounds: Partial<Glue42.Windows.Bounds>, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(bounds)) {\n                throw new Error(\"The properties of `bounds` cannot be null or undefined.\");\n            }\n            return executor.moveResize(resultWindow, bounds);\n        }, success, error);\n    }\n\n    function addFrameButton(buttonInfo: Glue42.Windows.ButtonInfo, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof buttonInfo === \"undefined\" || Object.keys(buttonInfo).length === 0) {\n                throw new Error(\"Button info is not available.\");\n            }\n            if (util.isNullOrWhiteSpace(buttonInfo.buttonId)) {\n                throw new Error(\"`buttonId` must not be null or undefined.\");\n            }\n            if (util.isNullOrWhiteSpace(buttonInfo.imageBase64)) {\n                throw new Error(\"`imageBase64` must not be null or undefined.\");\n            }\n            return executor.addFrameButton(resultWindow, buttonInfo);\n        }, success, error);\n    }\n\n    function removeFrameButton(buttonId: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(buttonId)) {\n                throw new Error(\"`buttonId` must not be null or undefined.\");\n            }\n            return executor.removeFrameButton(resultWindow, buttonId);\n        }, success, error);\n    }\n\n    function activate(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_focus) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.activate(resultWindow);\n        }, success, error);\n    }\n\n    function focus(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_focus) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.focus(resultWindow);\n        }, success, error);\n    }\n\n    function maximizeRestore(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.maximizeRestore(resultWindow);\n        }, success, error);\n    }\n\n    function maximize(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"maximized\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.maximize(resultWindow);\n        }, success, error);\n    }\n\n    function restore(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"normal\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.restore(resultWindow);\n        }, success, error);\n    }\n\n    function minimize(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"minimized\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.minimize(resultWindow);\n        }, success, error);\n    }\n\n    function collapse(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_isCollapsed) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.collapse(resultWindow);\n        }, success, error);\n    }\n\n    function expand(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!_isCollapsed) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.expand(resultWindow);\n        }, success, error);\n    }\n\n    function toggleCollapse(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.toggleCollapse(resultWindow);\n        }, success, error);\n    }\n\n    function snap(target: string | Glue42.Windows.GDWindow, direction: Glue42.Windows.RelativeDirection, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(target)) {\n                throw new Error(`A target window is not specified - ${target}`);\n            }\n\n            if (typeof target === \"string\") {\n                const win = windowStore.get(target);\n                if (!win) {\n                    throw new Error(`Invalid \"target\" parameter or no such window. Invoked with: ${target}`);\n                }\n                target = win.API;\n            }\n            return executor.snap(resultWindow, target, direction);\n        }, success, error);\n    }\n\n    function attachTab(tab: Glue42.Windows.GDWindow | string, opt: number | Glue42.Windows.AttachOptions, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            const errorMessage = `Invalid \"tab\" parameter - must be an object with an \"id\" property or a string. Invoked for source window with ID:`;\n            if (util.isUndefinedOrNull(tab)) {\n                throw new Error(errorMessage + tab);\n            }\n            // tab === sourceWindow\n            let sourceWindow;\n            if (typeof tab === \"string\") {\n                sourceWindow = windowStore.get(tab)?.API;\n                if (util.isUndefinedOrNull(sourceWindow)) {\n                    throw new Error(errorMessage + sourceWindow);\n                }\n            } else if (!util.isUndefinedOrNull(tab.id)) {\n                sourceWindow = tab;\n            } else {\n                throw new Error(errorMessage);\n            }\n            const attachOptions: Glue42.Windows.AttachOptions = {};\n            if (!util.isUndefinedOrNull(opt)) {\n                if (typeof opt === \"number\") {\n                    attachOptions.index = opt;\n                } else {\n                    attachOptions.selected = opt.selected;\n                    attachOptions.index = opt.index;\n                }\n            }\n\n            return executor.attachTab(resultWindow, sourceWindow, attachOptions);\n        }, success, error);\n    }\n\n    function detachTab(opt: Glue42.Windows.DetachOptions = {}, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            const argsForSend: DetachTabOptions = {};\n            function isDetachRelative(o: Glue42.Windows.DetachOptions) {\n                return o.relativeTo !== undefined;\n            }\n            if (isDetachRelative(opt)) {\n                if (typeof opt.relativeTo === \"string\") {\n                    argsForSend.relativeTo = opt.relativeTo;\n                } else if (!util.isUndefinedOrNull(opt.relativeTo.id)) {\n                    argsForSend.relativeTo = opt.relativeTo.id;\n                }\n                if (!util.isUndefinedOrNull(opt.relativeDirection)) {\n                    argsForSend.relativeDirection = opt.relativeDirection;\n                }\n                if (!util.isUndefinedOrNull(opt.width)) {\n                    argsForSend.width = opt.width;\n                }\n                if (!util.isUndefinedOrNull(opt.height)) {\n                    argsForSend.height = opt.height;\n                }\n            } else {\n                if (!util.isUndefinedOrNull(opt.bounds)) {\n                    argsForSend.bounds = opt.bounds;\n                }\n            }\n            if (!util.isUndefinedOrNull(opt.hideTabHeader)) {\n                argsForSend.hideTabHeader = opt.hideTabHeader;\n            }\n            return executor.detachTab(resultWindow, argsForSend);\n        }, success, error);\n    }\n\n    function setVisible(toBeVisible?: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.setVisible(resultWindow, toBeVisible);\n        }, success, error);\n    }\n\n    function showLoader(loader?: Glue42.Windows.Loader): Promise<Glue42.Windows.GDWindow> {\n        return executor.showLoader(resultWindow, loader);\n    }\n\n    function hideLoader(): Promise<Glue42.Windows.GDWindow> {\n        return executor.hideLoader(resultWindow);\n    }\n\n    function updateContext(context: any, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(context)) {\n                throw new Error(`\"context\" must not be null or undefined.`);\n            }\n\n            return executor.updateContext(resultWindow, context, false);\n        }, success, error);\n    }\n\n    function lock(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.lock(resultWindow);\n        }, success, error);\n    }\n\n    function unlock(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.unlock(resultWindow);\n        }, success, error);\n    }\n\n    function getIcon(success?: (icon: string) => void, error?: (error: string) => void): Promise<string> {\n        return utils.callbackifyPromise(() => {\n            return executor.getIcon(resultWindow);\n        }, success, error);\n    }\n\n    function setIcon(base64Image: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(base64Image)) {\n                throw new Error(`\"base64Imag\" must be a non-empty string.`);\n            }\n            return executor.setIcon(resultWindow, base64Image);\n        }, success, error);\n    }\n\n    function setFrameColor(frameColor: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(frameColor)) {\n                throw new Error(`\"frameColor\" must be a non-empty string`);\n            }\n            return executor.setFrameColor(resultWindow, frameColor);\n        }, success, error);\n    }\n\n    function setTabHeaderVisible(toBeTabHeaderVisible: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof toBeTabHeaderVisible !== \"boolean\") {\n                throw new Error(`\"toBeTabHeaderVisible\" must hold a boolean value.`);\n            }\n            return executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible);\n        }, success, error);\n    }\n\n    async function setTabTooltip(tooltip: string): Promise<Glue42.Windows.GDWindow> {\n        if (util.isNullOrWhiteSpace(tooltip)) {\n            throw new Error(`\"${tooltip}\" must not be null or undefined`);\n        }\n        return executor.setTabTooltip(resultWindow, tooltip);\n    }\n\n    function showPopup(config: Glue42.Windows.PopupOptions): Promise<Glue42.Windows.GDWindow> {\n        return executor.showPopup(resultWindow, config);\n    }\n\n    function createFlydown(config: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return executor.createFlydown(resultWindow.id, config);\n    }\n\n    function setModalState(isModal: boolean): Promise<void> {\n        return executor.setModalState(resultWindow.id, isModal || false);\n    }\n\n    function zoomIn(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            return executor.zoomIn(resultWindow);\n        }, success, error);\n    }\n\n    function zoomOut(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            return executor.zoomOut(resultWindow);\n        }, success, error);\n    }\n\n    function setZoomFactor(zoomFactor: number, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            if (isNaN(zoomFactor)) {\n                throw new Error(`zoomFactor is not a number`);\n            }\n            return executor.setZoomFactor(resultWindow, zoomFactor);\n        }, success, error);\n    }\n\n    function showDevTools() {\n        return executor.showDevTools(resultWindow);\n    }\n\n    function capture(captureOptions: Glue42.Windows.CaptureOptions): Promise<string> {\n        return executor.capture(resultWindow, captureOptions);\n    }\n\n    function flash(suppliedOptions?: boolean, mode?: Glue42.Windows.FlashMode): Promise<Glue42.Windows.GDWindow> {\n        const flashOptions: FlashOptions = {\n            shouldFlash: true,\n            mode: \"auto\"\n        };\n\n        if (typeof suppliedOptions === \"boolean\") {\n            flashOptions.shouldFlash = suppliedOptions;\n        }\n\n        if (typeof mode !== \"undefined\") {\n            flashOptions.mode = mode;\n        }\n\n        return executor.flash(resultWindow, flashOptions);\n    }\n\n    function print(printOptions: Glue42.Windows.PrintOptions): Promise<Glue42.Windows.GDWindow> {\n        return executor.print(resultWindow, printOptions);\n    }\n\n    function printToPDF(printToPDFOptions: Glue42.Windows.PrintToPDFOptions): Promise<string> {\n        return executor.printToPDF(resultWindow, printToPDFOptions);\n    }\n\n    function ungroup(ungroupOptions?: Glue42.Windows.UngroupOptions): Promise<Glue42.Windows.GDWindow> {\n        return new Promise((resolve, reject) => {\n            const unGroupChanged = onGroupChanged(\n                (win: Glue42.Windows.GDWindow, newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) => {\n                    if (id === win.id) {\n                        unGroupChanged();\n                        resolve(resultWindow);\n                    }\n                });\n\n            executor.ungroup(resultWindow, ungroupOptions)\n                .catch((e: string) => {\n                    unGroupChanged();\n                    reject(e);\n                });\n        });\n    }\n\n    function place(placementSettings: Glue42.Windows.PlacementSettings): Promise<void> {\n        return executor.place(resultWindow, placementSettings);\n    }\n\n    function refresh(ignoreCache: boolean) {\n        return executor.refresh(resultWindow, ignoreCache);\n    }\n\n    function download(url: string, opts: Glue42.Windows.DownloadOptions) {\n        return executor.download(resultWindow, url, opts);\n    }\n\n    function configure(settings: Glue42.Windows.WindowConfiguration) {\n        return executor.configureWindow(resultWindow, settings);\n    }\n\n    //#endregion \"AGM methods\"\n\n    //#region \"Events\"\n\n    function onTitleChanged(callback: (title: string, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onTitleChanged\", callback, [resultWindow.title, resultWindow]);\n    }\n\n    function onClose(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (id === undefined) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"onClose\", callback);\n    }\n\n    function onUrlChanged(callback: (url: string, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onUrlChanged\", callback);\n    }\n\n    function onFrameButtonAdded(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonAdded\", callback);\n    }\n\n    function onFrameButtonRemoved(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonRemoved\", callback);\n    }\n\n    function onFrameButtonClicked(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonClicked\", callback);\n    }\n\n    function onCollapsed(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (_isCollapsed) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"collapsed\", callback);\n    }\n\n    function onExpanded(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (!_isCollapsed) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"expanded\", callback);\n    }\n\n    function onMaximized(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"maximized\") {\n            return onEventCore(\"maximized\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"maximized\", callback);\n        }\n    }\n\n    function onMinimized(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"minimized\") {\n            return onEventCore(\"minimized\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"minimized\", callback);\n        }\n    }\n\n    function onNormal(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"normal\") {\n            return onEventCore(\"normal\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"normal\", callback);\n        }\n    }\n\n    function onAttached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"attached\", callback);\n    }\n\n    function onDetached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"detached\", callback);\n    }\n\n    function onVisibilityChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"visibility-changed\", callback);\n    }\n\n    function onContextUpdated(callback: (context: any, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"context-updated\", callback);\n    }\n\n    function onLockingChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"lock-changed\", callback);\n    }\n\n    function onBoundsChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"bounds-changed\", callback);\n    }\n\n    function onFocusChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"focus-changed\", callback);\n    }\n\n    function onStickyChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"sticky-changed\", callback);\n    }\n\n    function onFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"frame-color-changed\", callback);\n    }\n\n    function onTabHeaderVisibilityChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"tab-header-visibility-changed\", callback);\n    }\n\n    function onWindowAttached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"window-attached\", callback);\n    }\n\n    function onWindowDetached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"window-detached\", callback);\n    }\n\n    function onGroupChanged(callback: (window: Glue42.Windows.GDWindow, newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) => void): UnsubscribeFunction {\n        return onEventCore(\"group-changed\", callback);\n    }\n\n    function onTabSelectionChanged(callback: (selectedWindow: Glue42.Windows.GDWindow, previousWindow: Glue42.Windows.GDWindow, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"tab-selection-changed\", callback);\n    }\n\n    function onClosing(callback: () => Promise<void>): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        type GDHandler = (success: () => void, error: () => void) => void;\n        const callbackWrap: GDHandler = (success: () => void, error: () => void) => {\n            const promise = callback();\n            if (promise && promise.then) {\n                promise.then(success).catch(error);\n            } else {\n                success();\n            }\n        };\n        return executor.onClosing(callbackWrap, id);\n    }\n\n    function onRefreshing(callback: (prevent: () => void) => Promise<void>): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        type GDRefreshHandler = (success: () => void, error: () => void, prevent: () => void) => void;\n        const callbackWrap: GDRefreshHandler = (success: () => void, error: () => void, prevent: () => void) => {\n            const promise = callback(prevent);\n            if (promise && promise.then) {\n                promise.then(success).catch(error);\n            } else {\n                success();\n            }\n        };\n        return executor.onRefreshing(callbackWrap, id);\n    }\n\n    function onZoomFactorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"zoom-factor-changed\", callback);\n    }\n\n    function onPlacementSettingsChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"placementSettingsChanged\", callback);\n    }\n\n    function onNeighboursChanged(callback: (neighbours: Glue42.Windows.Neighbours, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"neighbours-changed\", callback);\n    }\n\n    function onEventCore(key: string, callback: any, replayArguments?: any[]) {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        return _registry.add(key, callback, replayArguments);\n    }\n\n    //#endregion \"Events\"\n\n    //#region \"Stream function\"\n\n    function handleUpdate(updated: WindowConstructorOptions) {\n        _url = updated.url;\n        _title = updated.title;\n        _context = updated.context || {};\n        _bounds = updated.bounds;\n        _frameColor = updated.frameColor;\n        _focus = updated.focus;\n        _neighbours = updated.neighbours || {};\n        _groupId = updated.groupId;\n        _isGroupHeaderVisible = updated.isGroupHeaderVisible;\n        _isTabHeaderVisible = updated.isTabHeaderVisible;\n        _isTabSelected = updated.isTabSelected;\n        _settings = updated.settings;\n        _isVisible = updated.isVisible;\n        _isSticky = updated.isSticky;\n        _isCollapsed = updated.isCollapsed;\n        _windowState = updated.state;\n        _tabGroupId = updated.tabGroupId;\n        _isLocked = updated.isLocked;\n        // _frameButtons = updated.fra;\n        // _group: Glue42.Windows.Group;\n        _zoomFactor = updated.zoomFactor;\n        _placementSettings = updated.placementSettings;\n    }\n\n    function handleTitleChanged(newTitle: string): void {\n        _title = newTitle;\n        executor.finished\n            .finally(() => {\n                _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\n            });\n    }\n\n    function handleUrlChanged(newUrl: string): void {\n        _url = newUrl;\n        _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\n    }\n\n    function handleVisibilityChanged(isVisible: boolean) {\n        if (isVisible === _isVisible) {\n            return;\n        }\n        _isVisible = isVisible;\n        _registry.execute(\"visibility-changed\", resultWindow);\n    }\n\n    function handleWindowSettingsChanged(settings: Glue42.Windows.WindowSettings): void {\n        _settings = settings;\n        _registry.execute(\"settings-changed\", resultWindow);\n    }\n\n    function handleContextUpdated(context: any): void {\n        _context = context;\n        _registry.execute(\"context-updated\", _context, resultWindow);\n    }\n\n    function handleWindowClose(): void {\n        if (id === undefined) {\n            return;\n        }\n        _registry.execute(\"onClose\", resultWindow);\n        id = undefined;\n    }\n\n    function handleFrameButtonAdded(frameButton: FrameButton): void {\n        const buttonObj: Glue42.Windows.ButtonInfo = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce((memo: any, k) => {\n            memo[k] = frameButton[k];\n            return memo;\n        }, {}) as Glue42.Windows.ButtonInfo;\n\n        const frameButtonsIds = _frameButtons.map((btn) => {\n            return btn.buttonId;\n        });\n\n        if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\n            _frameButtons.push(buttonObj);\n        }\n\n        _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\n    }\n\n    function handleFrameButtonRemoved(frameButtonId: string): void {\n        let button: Glue42.Windows.ButtonInfo;\n        _frameButtons = _frameButtons.reduce((memo, btn) => {\n            if (btn.buttonId === frameButtonId) {\n                button = btn;\n            } else {\n                memo.push(btn);\n            }\n            return memo;\n        }, []);\n\n        if (button !== undefined) {\n            _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\n        }\n    }\n\n    function handleFrameButtonClicked(frameButton: FrameButton): void {\n        const button = _frameButtons.filter((btn) => {\n            return btn.buttonId === frameButton.buttonId;\n        });\n\n        if (button.length > 0) {\n            _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\n        }\n    }\n\n    async function handleWindowChangeState(state: string): Promise<void> {\n        if (state === \"collapsed\") {\n            _isCollapsed = true;\n        } else if (state === \"expanded\") {\n            _isCollapsed = false;\n        } else {\n            _windowState = state as Glue42.Windows.WindowState;\n        }\n        await executor.finished;\n        _registry.execute(state, resultWindow);\n    }\n\n    function handleFrameIsLockedChanged(isLocked: boolean): void {\n        _isLocked = isLocked;\n        _registry.execute(\"lock-changed\", resultWindow);\n    }\n\n    function handleBoundsChanged(bounds: Glue42.Windows.Bounds): void {\n        if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\n            return;\n        }\n        _bounds = bounds;\n        _registry.execute(\"bounds-changed\", resultWindow);\n    }\n\n    function handleFocusChanged(isFocused: boolean): void {\n        _focus = isFocused;\n        _registry.execute(\"focus-changed\", resultWindow);\n    }\n\n    function handleIsStickyChanged(isSticky: boolean): void {\n        _isSticky = isSticky;\n        _registry.execute(\"sticky-changed\", isSticky, resultWindow);\n    }\n\n    function handleFrameColorChanged(frameColor: string): void {\n        _frameColor = frameColor;\n        _registry.execute(\"frame-color-changed\", resultWindow);\n    }\n\n    function handleFrameAttached(tabGroupId: string, isTabHeaderVisible: boolean): void {\n        _tabGroupId = tabGroupId;\n        _isTabHeaderVisible = isTabHeaderVisible;\n        _registry.execute(\"frame-attached\", resultWindow);\n    }\n\n    function handleCompositionChanged(state: CompositionChangedData): void {\n        _neighbours = state.neighbors || {};\n        _tabIndex = state.index;\n        _registry.execute(\"neighbours-changed\", _neighbours, resultWindow);\n    }\n\n    function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible: boolean): void {\n        _isGroupHeaderVisible = isGroupHeaderVisible;\n    }\n\n    function handleTabHeaderVisibilityChanged(isTabHeaderVisible: boolean): void {\n        if (_isTabHeaderVisible !== isTabHeaderVisible) {\n            _isTabHeaderVisible = isTabHeaderVisible;\n            _registry.execute(\"tab-header-visibility-changed\", resultWindow);\n        }\n    }\n\n    async function handleFrameSelectionChanged(newWindow: string, prevWindow: string) {\n        let selectedWindow: Glue42.Windows.GDWindow;\n        if (newWindow === id) {\n            _isTabSelected = true;\n            selectedWindow = resultWindow;\n        } else {\n            _isTabSelected = false;\n            selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\n        }\n        const previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\n        await executor.finished;\n        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\n    }\n\n    async function handleAttached(newTabGroupId: string, tabHeaderVisible: boolean, winsToBeNotified: WindowWrapper[]): Promise<void> {\n        _tabGroupId = newTabGroupId;\n        _isTabHeaderVisible = tabHeaderVisible;\n        await executor.finished;\n        winsToBeNotified.forEach((w) => {\n            w.Events.handleWindowAttached(resultWindow);\n        });\n        _registry.execute(\"attached\", resultWindow);\n    }\n\n    function handleWindowAttached(win: Glue42.Windows.GDWindow): void {\n        _registry.execute(\"window-attached\", win);\n    }\n\n    async function handleDetached(winsToBeNotified: WindowWrapper[]): Promise<void> {\n        _tabGroupId = undefined;\n        _isTabSelected = false;\n        await executor.finished;\n        winsToBeNotified.forEach((w) => {\n            w.Events.handleWindowDetached(resultWindow);\n        });\n        _registry.execute(\"detached\", resultWindow);\n    }\n\n    function handleWindowDetached(win: Glue42.Windows.GDWindow): void {\n        _registry.execute(\"window-detached\", win);\n    }\n\n    function handleZoomFactorChanged(zoomFactor: number): void {\n        _zoomFactor = zoomFactor;\n        _registry.execute(\"zoom-factor-changed\", resultWindow);\n    }\n\n    function handlePlacementSettingsChanged(placementSettings: Glue42.Windows.PlacementSettings): void {\n        let promise: Promise<Glue42.Displays.Display>;\n        const copy = placementSettings as any;\n        if (!copy.display) {\n            promise = Promise.resolve(undefined);\n        } else {\n            const displayAPI = displayAPIGetter();\n            if (!displayAPI) {\n                // display API is disabled\n                promise = Promise.resolve(undefined);\n            } else {\n                const index = copy.display - 1;\n                promise = new Promise((resolve, reject) => {\n                    displayAPI.all().then((displays) => {\n                        const display = displays.find((d) => d.index === index);\n                        resolve(display);\n                    }).catch(reject);\n                });\n            }\n        }\n\n        promise.then((d) => {\n            copy.display = d;\n            _placementSettings = copy;\n            _registry.execute(\"placementSettingsChanged\", resultWindow);\n        });\n    }\n    //#endregion \"Stream function\"\n\n    //#region \"Group Events\"\n    function handleGroupChanged(newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) {\n        _group = newGroup;\n        _groupId = newGroup?.id;\n\n        if (!util.isUndefinedOrNull(newGroup) && !util.isUndefinedOrNull(oldGroup)) {\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\n        }\n    }\n\n    //#region \"Internal function\"\n\n    function getAllTabs(): Glue42.Windows.GDWindow[] {\n        const allWindows = windowStore.list;\n        if (_mode.toLowerCase() !== \"tab\") {\n            return [];\n        }\n        const tabs = Object.keys(allWindows).reduce<GDWindow[]>((memo, win) => {\n            const window: WindowWrapper = allWindows[win];\n            if (window\n                && window.API.tabGroupId\n                && typeof window.API.tabGroupId !== \"undefined\"\n                && typeof resultWindow.tabGroupId !== \"undefined\"\n                && window.API.tabGroupId === resultWindow.tabGroupId) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n        return tabs.sort((w1, w2) => {\n            if (w1.tabIndex !== w2.tabIndex) {\n                if (w1.tabIndex === -1) {\n                    return Number.MAX_SAFE_INTEGER;\n                }\n                if (w2.tabIndex === -1) {\n                    return Number.MIN_SAFE_INTEGER;\n                }\n            }\n            return w1.tabIndex - w2.tabIndex;\n        });\n    }\n\n    function mapWindowIdsToWindowObjects(windowIdArr: string[]): Glue42.Windows.GDWindow[] {\n        return windowIdArr.reduce((memo, winId) => {\n            const window = windowStore.get(winId);\n            if (window) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n    }\n\n    function getNeighboursByDirection(direction: string): Glue42.Windows.GDWindow[] {\n        const windowIds = _neighbours[direction];\n        if (typeof windowIds !== \"undefined\") {\n            return mapWindowIdsToWindowObjects(windowIds);\n        }\n    }\n\n    function getApplicationName(): string {\n        if (_context._APPLICATION_NAME) {\n            return _context._APPLICATION_NAME;\n        }\n        if (_context && _context._t42 && _context._t42.application) {\n            return _context._t42.application;\n        }\n        const info = getWindowInfo();\n        if (!info) {\n            return undefined;\n        }\n\n        return info.applicationName;\n    }\n\n    function getWindowInfo() {\n        if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\n            const info = window.glue42gd.getWindowInfo(id);\n            if (!info) {\n                return undefined;\n            } else {\n                return info;\n            }\n        }\n    }\n\n    //#endregion \"Internal function\"\n\n    //#region \"API\"\n\n    resultWindow = {\n        get id() {\n            return _id;\n        },\n        get name() {\n            return _name;\n        },\n        get application() {\n            const appManager = appManagerGetter();\n            return appManager ? appManager.application(getApplicationName()) : undefined;\n        },\n        get hostInstance() {\n            return executor.hostInstance;\n        },\n        get agmInstance() {\n            if (typeof window !== \"undefined\" && window.glue42gd) {\n                return agm.servers().find((s) => s.windowId === this.id);\n            }\n            const appName = getApplicationName();\n            return appName ? { application: appName } : undefined;\n        },\n        get url() {\n            return _url;\n        },\n        get title() {\n            return _title;\n        },\n        get windowStyleAttributes() {\n            return _settings;\n        },\n        get settings() {\n            return _settings;\n        },\n        get tabGroupId() {\n            return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\n        },\n        get tabIndex() {\n            return _mode.toLowerCase() === \"tab\" ? _tabIndex : undefined;\n        },\n        get frameButtons() {\n            return _frameButtons;\n        },\n        get mode() {\n            return _mode;\n        },\n        get state() {\n            return _windowState;\n        },\n        get isCollapsed() {\n            return _isCollapsed;\n        },\n        get isVisible() {\n            return _isVisible;\n        },\n        get isLocked() {\n            return _isLocked;\n        },\n        get context() {\n            return _context;\n        },\n        get bounds() {\n            return _bounds;\n        },\n        get minHeight() {\n            return _settings.minHeight;\n        },\n        get maxHeight() {\n            return _settings.maxHeight;\n        },\n        get minWidth() {\n            return _settings.minWidth;\n        },\n        get maxWidth() {\n            return _settings.maxWidth;\n        },\n        get isFocused() {\n            return _focus;\n        },\n        get frameColor() {\n            return _frameColor;\n        },\n        get opened() {\n            return resultWindow.id !== undefined;\n        },\n        get group() {\n            return _group;\n        },\n        get groupId() {\n            return _groupId;\n        },\n        get isSticky() {\n            return _isSticky;\n        },\n        get topNeighbours() {\n            return getNeighboursByDirection(\"top\");\n        },\n        get leftNeighbours() {\n            return getNeighboursByDirection(\"left\");\n        },\n        get rightNeighbours() {\n            return getNeighboursByDirection(\"right\");\n        },\n        get bottomNeighbours() {\n            return getNeighboursByDirection(\"bottom\");\n        },\n        get isGroupHeaderVisible() {\n            return _isGroupHeaderVisible;\n        },\n        get activityId() {\n            if (_context._t42) {\n                return _context._t42.activityId;\n            }\n            const info = getWindowInfo();\n            if (!info) {\n                return undefined;\n            }\n            return info.activityId;\n        },\n        get activityWindowId() {\n            if (_context._t42) {\n                return _context._t42.activityWindowId;\n            }\n            const info = getWindowInfo();\n            if (!info) {\n                return undefined;\n            }\n            return info.activityWindowId;\n        },\n        get windowType() {\n            return options.windowType || \"electron\";\n        },\n        get zoomFactor() {\n            return _zoomFactor;\n        },\n        get screen() {\n            if (typeof window !== \"undefined\" && window.glue42gd) {\n                return utils.getMonitor(resultWindow.bounds, (window.glue42gd as any).monitors);\n            }\n            return undefined;\n        },\n        get placementSettings(): Glue42.Windows.PlacementSettings {\n            return Object.assign({}, _placementSettings);\n        },\n        maximize,\n        restore,\n        minimize,\n        maximizeRestore,\n        collapse,\n        expand,\n        toggleCollapse,\n        focus,\n        activate,\n        moveResize,\n        setTitle,\n        setStyle,\n        setOnTop,\n        resetButtons,\n        setSizeConstraints,\n        navigate,\n        addFrameButton,\n        removeFrameButton,\n        setVisible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n        center: (screen) => moveResize(utils.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)),\n        close,\n        snap,\n        showLoader,\n        hideLoader,\n        updateContext,\n        lock,\n        unlock,\n        getIcon,\n        setIcon,\n        setFrameColor,\n        setTabTooltip,\n        attachTab,\n        detachTab,\n        setTabHeaderVisible,\n        showPopup,\n        createFlydown,\n        setModalState,\n        setZoomFactor,\n        zoomIn,\n        zoomOut,\n        showDevTools,\n        capture,\n        flash,\n        setSticky,\n        print,\n        printToPDF,\n        place,\n        ungroup,\n        refresh,\n        download,\n        configure,\n\n        onClose,\n        onUrlChanged,\n        onTitleChanged,\n        onFrameButtonAdded,\n        onFrameButtonRemoved,\n        onFrameButtonClicked,\n        onCollapsed,\n        onExpanded,\n        onMinimized,\n        onMaximized,\n        onNormal,\n        onAttached,\n        onDetached,\n        onVisibilityChanged,\n        onContextUpdated,\n        onLockingChanged,\n        onBoundsChanged,\n        onFrameColorChanged,\n        onFocusChanged,\n        onStickyChanged,\n        onGroupChanged,\n        onWindowAttached,\n        onWindowDetached,\n        onTabSelectionChanged,\n        onTabHeaderVisibilityChanged,\n        onClosing,\n        onRefreshing,\n        onZoomFactorChanged,\n        onPlacementSettingsChanged,\n        onNeighboursChanged,\n\n        get tabs() {\n            return getAllTabs();\n        },\n\n        get isTabHeaderVisible() {\n            return _isTabHeaderVisible;\n        },\n\n        get isTabSelected() {\n            return _isTabSelected;\n        },\n\n        // @glue42/web compatibility layer\n        getURL() {\n            return Promise.resolve(_url);\n        },\n\n        getTitle() {\n            return Promise.resolve(_title);\n        },\n\n        getBounds(): Promise<Glue42.Windows.Bounds> {\n            return Promise.resolve(_bounds);\n        },\n\n        getContext(): Promise<any> {\n            return Promise.resolve(_context);\n        },\n\n        setContext(context: any): Promise<GDWindow> {\n            if (util.isUndefinedOrNull(context)) {\n                throw new Error(`\"context\" must not be null or undefined, set to empty object if you want to clear it out.`);\n            }\n\n            return executor.updateContext(resultWindow, context, true);\n        },\n\n        getDisplay(): Promise<Glue42.Displays.Display> {\n            const displayAPI = displayAPIGetter();\n            return displayAPI.getByWindowId(id);\n        },\n\n        resizeTo(width?: number, height?: number): Promise<GDWindow> {\n            return moveResize({ width, height });\n        },\n\n        moveTo(top?: number, left?: number): Promise<GDWindow> {\n            return moveResize({ top, left });\n        },\n\n        async getParentWindow() {\n            const myParentId = (_settings as any).parentInstanceId;\n            if (!myParentId) {\n                return undefined;\n            }\n            return windowStore.list[myParentId]?.API;\n        },\n\n        async getChildWindows() {\n            return Object.keys(windowStore.list)\n                .map((key) => windowStore.list[key].API)\n                .filter((w) => {\n                    const parentId = (w.settings as any).parentInstanceId;\n                    return parentId === id;\n                });\n        }\n    };\n\n    //#endregion \"API\"\n\n    //#endregion \"Group Events\"\n\n    const events: WindowEvents = {\n        handleUpdate,\n\n        handleWindowClose,\n        handleWindowChangeState,\n        handleTitleChanged,\n        handleVisibilityChanged,\n        handleUrlChanged,\n        handleWindowSettingsChanged,\n        handleContextUpdated,\n        handleFrameIsLockedChanged,\n        handleBoundsChanged,\n        handleFocusChanged,\n        handleFrameButtonAdded,\n        handleFrameButtonRemoved,\n        handleFrameButtonClicked,\n        handleFrameColorChanged,\n        handleFrameAttached,\n        handleFrameSelectionChanged,\n        handleCompositionChanged,\n        handleGroupHeaderVisibilityChanged,\n        handleTabHeaderVisibilityChanged,\n        handleGroupChanged,\n        handleAttached,\n        handleDetached,\n        handleWindowAttached,\n        handleWindowDetached,\n        handleZoomFactorChanged,\n        handleIsStickyChanged,\n        handlePlacementSettingsChanged,\n    };\n\n    return {\n        API: resultWindow,\n        Events: events\n    };\n};\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nmodule.exports = require('./lib/index');\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../../glue\";\nimport { DetachTabOptions, Executor, FlashOptions } from \"../../types\";\nimport { ShowFlydownData, ReformatedFlydownOptions, ReformatedFlydownZone, ReformatedPopupOptions, EventTypes } from \"./types\";\nimport { CallbackRegistry, default as CallbackFactory, UnsubscribeFunction } from \"callback-registry\";\nimport shortid from \"shortid\";\nimport windowStore from \"../../store\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../../../activity/helpers/util\";\n\nexport class GDExecutor implements Executor {\n    private agm: Glue42Core.AGM.API;\n    private agmTarget: {};\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _finished: Promise<void> = Promise.resolve();\n\n    public get hostInstance() {\n        return this.agmTarget;\n    }\n\n    public get finished() {\n        return this._finished;\n    }\n\n    public init(agm: Glue42Core.AGM.API, instance: Glue42Core.AGM.Instance | string) {\n        this.agm = agm;\n        this.agmTarget = instance;\n    }\n    // refactor\n    public handleEvent(data: any) {\n        this._registry.execute(\"event\", data);\n    }\n\n    public async open(options: Glue42.Windows.WindowCreateOptions) {\n        let finishedResolve: () => void;\n        this._finished = new Promise((resolve) => {\n            finishedResolve = resolve;\n        });\n        try {\n            const result = await this.agm.invoke<{ id: string }>(\"T42.Wnd.Create\", options, this.agmTarget);\n            if (result.returned === undefined) {\n                throw new Error(\"failed to execute T42.Wnd.Create - unknown reason\");\n            }\n\n            const id = result.returned.id;\n            const win = await windowStore.waitFor(id);\n            setTimeout(() => {\n                if (win.API.windowType === \"electron\") {\n                    // on normal windows urlCHanged has to be detected first in order for the window to be ready\n                    // that causes the user callbacks to miss urlChanged since they are not registered yet\n                    // here we 'replay' the urlChanged event\n                    win.Events.handleUrlChanged(win.API.url);\n                }\n            }, 0);\n            return win.API;\n        } catch (error) {\n            throw error;\n        } finally {\n            finishedResolve();\n        }\n    }\n\n    public async close(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"close\", { windowId: w.id }, `Closed`);\n        return w;\n    }\n\n    public async navigate(w: Glue42.Windows.GDWindow, newUrl: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"navigate\", { windowId: w.id, options: { url: newUrl } }, \"UrlChanged\");\n        return w;\n    }\n    // Calls the public methods of the window. No Call to GD is made\n    public async setStyle(w: Glue42.Windows.GDWindow, style: Glue42.Windows.WindowSettings): Promise<Glue42.Windows.GDWindow> {\n        const stylePromises: Array<Promise<any>> = [];\n        const wait = (promise: Promise<any>) => stylePromises.push(promise);\n\n        if (!isUndefinedOrNull(style.focus) && !w.isFocused) {\n            wait(w.focus());\n        }\n\n        // Todo: only if !isRestoring (hopefully setVisible does this check)\n        if (!isUndefinedOrNull(style.hidden)) {\n            const toBeVisible = !style.hidden;\n            wait(w.setVisible(toBeVisible));\n        }\n\n        if (!isUndefinedOrNull(style.onTop)) {\n            wait(w.setOnTop(style.onTop));\n        }\n\n        if (!isNullOrWhiteSpace(style.tabTooltip) || !isNullOrWhiteSpace((style as any).tabToolTip)) {\n            const toolTip = style.tabTooltip ?? (style as any).tabToolTip;\n            wait(w.setTabTooltip(toolTip));\n        }\n\n        if (!isNullOrWhiteSpace(style.tabTitle)) {\n            wait(this.execute(\"setTabTitle\", { windowId: w.id, options: { tabTitle: style.tabTitle } }));\n        }\n\n        const {\n            maxWidth, maxHeight, minWidth, minHeight,\n            allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize\n        } = style;\n\n        wait(w.setSizeConstraints({ maxWidth, maxHeight, minWidth, minHeight }));\n        wait(w.resetButtons({ allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize }));\n\n        await Promise.all(stylePromises);\n\n        return w;\n    }\n\n    public async setSizeConstraints(w: Glue42.Windows.GDWindow, constraints: Glue42.Windows.SizeConstraints): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setSizeConstraints\", { windowId: w.id, options: constraints });\n        return w;\n    }\n\n    public async setTabTooltip(w: Glue42.Windows.GDWindow, tabTooltip: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabTooltip } });\n        return w;\n    }\n\n    public async resetButtons(w: Glue42.Windows.GDWindow, buttonsConfig: Glue42.Windows.WindowButtons): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"resetButtons\", { windowId: w.id, options: buttonsConfig });\n        return w;\n    }\n\n    public async setOnTop(w: Glue42.Windows.GDWindow, onTop: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setOnTop\", { windowId: w.id, options: { onTop } });\n        return w;\n    }\n\n    public async setTitle(w: Glue42.Windows.GDWindow, newTitle: string): Promise<Glue42.Windows.GDWindow> {\n        const options = {\n            windowId: w.id,\n            options: {\n                title: newTitle\n            }\n        };\n        await this.execute(\"setTitle\", options, \"TitleChanged\");\n        return w;\n    }\n\n    public async setSticky(w: Glue42.Windows.GDWindow, isSticky: boolean): Promise<Glue42.Windows.GDWindow> {\n        const options = {\n            windowId: w.id,\n            options: {\n                isSticky\n            }\n        };\n        await this.execute(\"setSticky\", options);\n        return w;\n    }\n\n    public async moveResize(w: Glue42.Windows.GDWindow, bounds: Partial<Glue42.Windows.Bounds>): Promise<Glue42.Windows.GDWindow> {\n        if ((window.glueDesktop as any).versionNum < 31200) {\n            return new Promise(async (res, rej) => {\n                const resolveImmediately = this.areBoundsEqual(bounds, w);\n                let isDone = false;\n                const done = () => {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n\n                    if (unsubscribeBoundsChanged) {\n                        unsubscribeBoundsChanged();\n                        unsubscribeBoundsChanged = undefined;\n                    }\n                    res(w);\n                    if (resolveTimeout) {\n                        clearTimeout(resolveTimeout);\n                        resolveTimeout = undefined;\n                    }\n                };\n                let resolveTimeout: any;\n                let unsubscribeBoundsChanged: () => void;\n                if (!resolveImmediately) {\n                    unsubscribeBoundsChanged = w.onBoundsChanged((win: Glue42.Windows.GDWindow) => {\n                        if (!this.areBoundsEqual(bounds, win)) {\n                            return;\n                        }\n                        done();\n                    });\n                }\n\n                try {\n                    // always execute moveResize (we might have old bounds and prevent calls that are actually valid)\n                    await this.execute(\"moveResize\", { windowId: w.id, options: { bounds } });\n                } catch (error) {\n                    rej(error);\n                    return;\n                }\n\n                // if we're trying to resize with the bounds we already have\n                if (resolveImmediately) {\n                    done();\n                    return;\n                }\n\n                // if no bounds change in the next 1s resolve\n                resolveTimeout = setTimeout(() => {\n                    done();\n                }, 1000);\n            });\n        } else {\n            await this.execute(\"moveResize\", { windowId: w.id, options: { bounds } });\n        }\n        return w;\n    }\n\n    public async addFrameButton(w: Glue42.Windows.GDWindow, buttonInfo: Glue42.Windows.ButtonInfo): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"addButton\", { windowId: w.id, options: buttonInfo }, \"ButtonAdded\");\n        return w;\n    }\n\n    public async removeFrameButton(w: Glue42.Windows.GDWindow, buttonId: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"removeButton\", { windowId: w.id, options: buttonId }, \"ButtonRemoved\");\n        return w;\n    }\n\n    public async activate(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onFocusChanged(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"activate\", { windowId: w.id }, \"FocusChanged\"), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async focus(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onFocusChanged(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"focus\", { windowId: w.id }, \"FocusChanged\"), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async maximizeRestore(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"maximizeRestore\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async maximize(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"maximize\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async restore(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"restore\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async minimize(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"minimize\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async collapse(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"collapse\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async expand(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"expand\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async toggleCollapse(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"toggleCollapse\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async snap(w: Glue42.Windows.GDWindow, targetWindow: Glue42.Windows.GDWindow, direction: Glue42.Windows.RelativeDirection): Promise<Glue42.Windows.GDWindow> {\n        const args: any = {\n            targetWindowId: targetWindow.id\n        };\n\n        if (direction) {\n            args.snappingEdge = direction;\n        }\n        await this.execute(\"snap\", { windowId: w.id, options: args }, \"CompositionChanged\", `CompositionChanged-${targetWindow.id}`);\n        return w;\n    }\n\n    public async attachTab(w: Glue42.Windows.GDWindow, sourceWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.AttachOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"attachTab\", {\n            windowId: w.id,\n            options: {\n                index: options,\n                sourceWindowId: sourceWindow.id,\n                targetWindowId: w.id,\n            }\n        }, `WindowFrameAdded-${sourceWindow.id}`, `WindowFrameRemoved-${sourceWindow.id}`);\n        return w;\n    }\n\n    public async detachTab(w: Glue42.Windows.GDWindow, options: DetachTabOptions): Promise<Glue42.Windows.GDWindow> {\n        const eventKeys: string[] = [\"WindowFrameRemoved\", `WindowFrameAdded`];\n        if (!isUndefinedOrNull(options?.relativeTo)) {\n            eventKeys.push(`CompositionChanged`);\n            eventKeys.push(`CompositionChanged-${options.relativeTo}`);\n        } else {\n            eventKeys.push(\"BoundsChanged\");\n        }\n        await this.execute(\"detachTab\", { windowId: w.id, options }, ...eventKeys);\n        return w;\n    }\n\n    public async setVisible(w: Glue42.Windows.GDWindow, toBeVisible: boolean = true): Promise<Glue42.Windows.GDWindow> {\n        let command: string;\n        if (toBeVisible) {\n            command = \"show\";\n        } else {\n            command = \"hide\";\n        }\n\n        await this.execute(command, { windowId: w.id }, \"VisibilityChanged\");\n        return w;\n    }\n\n    public async showLoader(w: Glue42.Windows.GDWindow, loader?: Glue42.Windows.Loader): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"showLoadingAnimation\", { windowId: w.id, options: loader });\n        return w;\n    }\n\n    public async hideLoader(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"hideLoadingAnimation\", { windowId: w.id });\n        return w;\n    }\n\n    public async updateContext(w: Glue42.Windows.GDWindow, context: any, replace: boolean): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            // as undefined values do not go through interop, setting a prop to undefined will lead to no change\n            // set this to null so it actually removes the prop\n            const contextWithoutUndefinedValues = this.swapUndefinedToNull(context);\n\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onContextUpdated(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"updateContext\", {\n                windowId: w.id, context: contextWithoutUndefinedValues, replace\n            }), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async lock(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"lockUnlock\", { windowId: w.id, options: { lock: true } }, \"FrameIsLockedChanged\");\n        return w;\n    }\n\n    public async unlock(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"lockUnlock\", { windowId: w.id, options: { lock: false } }, \"FrameIsLockedChanged\");\n        return w;\n    }\n\n    public async getIcon(w: Glue42.Windows.GDWindow): Promise<string> {\n        const result = await this.execute(\"getIcon\", {\n            windowId: w.id,\n            options: {}\n        });\n        return result.icon;\n    }\n\n    public async setIcon(w: Glue42.Windows.GDWindow, base64Image: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setIcon\", {\n            windowId: w.id,\n            options: {\n                dataURL: base64Image\n            }\n        });\n        return w;\n    }\n\n    public async setFrameColor(w: Glue42.Windows.GDWindow, frameColor: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setFrameColor\", { windowId: w.id, options: { frameColor } }, \"FrameColorChanged\");\n        return w;\n    }\n\n    public async setTabHeaderVisible(w: Glue42.Windows.GDWindow, toBeTabHeaderVisible: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setTabHeaderVisible\", {\n            windowId: w.id,\n            options: {\n                toShow: toBeTabHeaderVisible\n            }\n        }, \"TabHeaderVisibilityChanged\");\n        return w;\n    }\n\n    public async showPopup(targetWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PopupOptions): Promise<Glue42.Windows.GDWindow> {\n        if (!options) {\n            throw new Error(\"The options object is not valid!\");\n        }\n\n        const optionsCopy = { ...options };\n\n        if (!optionsCopy.targetLocation) {\n            optionsCopy.targetLocation = \"bottom\" as Glue42.Windows.PopupTargetLocation;\n        }\n\n        const reformatedOptions: ReformatedPopupOptions & { targetId: string } = {\n            ...optionsCopy,\n            popupBounds: optionsCopy.size,\n            targetId: targetWindow.id,\n            popupId: optionsCopy.windowId\n        };\n\n        await this.execute(\"showPopupWindow\", {\n            windowId: targetWindow.id,\n            options: reformatedOptions\n        });\n\n        return targetWindow;\n    }\n\n    public async createFlydown(windowId: string, options: Glue42.Windows.FlydownOptions) {\n        if (!options) {\n            throw new Error(\"The options object is not valid!\");\n        }\n\n        const optionsCopy = { ...options };\n\n        if (!optionsCopy.horizontalOffset) {\n            optionsCopy.horizontalOffset = 0;\n        }\n\n        if (!optionsCopy.verticalOffset) {\n            optionsCopy.verticalOffset = 0;\n        }\n\n        const fullOptions: Glue42.Windows.FlydownOptions & { targetId: string, flydownBounds: Glue42.Windows.FlydownOptions[\"size\"] } = this.reformatFlydownOptions(windowId, optionsCopy);\n\n        return this.execute(\"setFlydownArea\", { windowId, options: fullOptions }).then(() => {\n            const zoneIds = fullOptions.zones.map((z) => z.id);\n\n            fullOptions.zones.forEach((z) => {\n                let callback: (...args: any[]) => any = typeof (z.flydownSize) === \"function\" ?\n                    z.flydownSize : () => z.flydownSize;\n\n                if (options.size instanceof Function && z.flydownSize) {\n                    callback = async (data: Glue42.Windows.ShowFlydownData, cancel: () => void) => {\n                        let result;\n                        // The options callback must be always invoked\n                        // If the property in the zone is null it will be automatically\n                        // assigned to the same callback from the code above reformatFlydownOptions\n                        if (options.size instanceof Function) {\n                            result = await options.size(data, cancel);\n                        }\n\n                        // If both are callbacks the zone has higher priority\n                        // If they are the same only one should be invoked\n                        if (z.flydownSize instanceof Function && z.flydownSize !== options.size) {\n                            return await z.flydownSize(data, cancel) || result;\n                        }\n\n                        // The options callback overwrites the bounds object specified in the zone\n                        return result || z.flydownSize;\n                    };\n                }\n                this._registry.clearKey(`${fullOptions.targetId}_${z.id}`);\n                this._registry.add(`${fullOptions.targetId}_${z.id}`, callback);\n            });\n\n            return {\n                destroy: () => this.clearFlydownArea(fullOptions.targetId, zoneIds),\n                options: optionsCopy\n            };\n        });\n    }\n\n    public async setModalState(windowId: string, isModal: boolean): Promise<void> {\n        return this.execute(\"setModalState\", { windowId, options: { isModal } });\n    }\n\n    public async handleFlydownBoundsRequested(targetId: string, data: ShowFlydownData) {\n        const cancelCallback = () => data.cancel = true;\n\n        const callbackData: Glue42.Windows.ShowFlydownData = {\n            zoneId: data.flydownId,\n            flydownWindowBounds: data.flydownWindowBounds,\n            flydownWindowId: data.flydownWindowId,\n        };\n\n        const responses = await Promise.all(this._registry.execute(`${targetId}_${data.flydownId}`, callbackData, cancelCallback));\n\n        if (responses.length === 1) {\n            const defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\n            const response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\n            const responseOptions: ShowFlydownData = { ...data, flydownWindowBounds: response };\n\n            return responseOptions;\n        }\n    }\n\n    public async zoomIn(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"zoomIn\", {\n            windowId: window.id,\n        });\n        return window;\n    }\n\n    public async zoomOut(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"zoomOut\", {\n            windowId: window.id,\n        });\n        return window;\n    }\n\n    public async setZoomFactor(window: Glue42.Windows.GDWindow, zoomFactor: number): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setZoomFactor\", {\n            windowId: window.id,\n            options: {\n                zoomFactor\n            }\n        });\n        return window;\n    }\n\n    public async showDevTools(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"showDevTools\", {\n            windowId: window.id,\n        });\n\n        return window;\n    }\n\n    public async capture(window: Glue42.Windows.GDWindow, options: Glue42.Windows.CaptureOptions): Promise<string> {\n        const base64screenshot = (await this.execute(\n            \"captureScreenshot\",\n            { windowId: window.id, options: { ...options } }\n        )).data;\n\n        return base64screenshot;\n    }\n\n    public async captureGroup(windowIds: string[], options: Glue42.Windows.CaptureOptions): Promise<string> {\n        const base64screenshot: string = (await this.execute(\n            \"captureGroupScreenshot\",\n            { windowId: windowIds[0], options: { groupWindowIds: windowIds, ...options } }\n        )).data;\n\n        return base64screenshot;\n    }\n\n    public async flash(resultWindow: Glue42.Windows.GDWindow, options: FlashOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\n            \"flash\",\n            { windowId: resultWindow.id, options: { ...options } }\n        );\n\n        return resultWindow;\n    }\n\n    public async configure(windowId: string, options: Glue42.Windows.WindowsConfiguration): Promise<void> {\n        return this.execute(\n            \"configure\",\n            { windowId, options: { ...options } }\n        );\n    }\n\n    public async print(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PrintOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\n            \"print\",\n            { windowId: resultWindow.id, options: { ...options } }\n        );\n        return resultWindow;\n    }\n\n    public async printToPDF(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PrintToPDFOptions): Promise<string> {\n        const filePath: string = (await this.execute(\n            \"printToPDF\",\n            { windowId: resultWindow.id, options: { ...options } }\n        )).filePath;\n\n        return filePath;\n    }\n\n    public async place(window: Glue42.Windows.GDWindow, options: Glue42.Windows.PlacementSettings): Promise<void> {\n        const copy = { ...options } as any;\n        if (!options.display || options.display === \"current\") {\n            copy.display = await window.getDisplay();\n        }\n        // Glue42.Displays.API works with zero based array of displays, which means that the first monitor has index 0\n        // whereas GD works with non zero based array of displays, which means that the first monitor has index 1\n        copy.display = copy.display.index + 1;\n        return this.execute(\n            \"place\",\n            { windowId: window.id, options: { ...copy } }\n        );\n    }\n\n    public async refresh(resultWindow: Glue42.Windows.GDWindow, ignoreCache: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"refresh\", { windowId: resultWindow.id, options: { ignoreCache } });\n        return resultWindow;\n    }\n\n    public async download(resultWindow: Glue42.Windows.GDWindow, url: string, options: Glue42.Windows.DownloadOptions & { enableDownloadBar?: boolean } = {}): Promise<Glue42.Windows.DownloadResult> {\n        options.enableDownloadBar = !options.silent;\n        const result: { fileSize: number, fullPath: string, success: boolean } = await this.execute(\"downloadURL\", { windowId: resultWindow.id, options: { url, options } });\n        return {\n            url,\n            path: result.fullPath,\n            size: result.fileSize,\n        };\n    }\n\n    public async configureWindow(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.WindowConfiguration): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"configureWindow\", { windowId: resultWindow.id, options });\n        return resultWindow;\n    }\n\n    /**\n     * Invokes the container\n     * @param command\n     * @param options\n     * @param {...string} eventKeys which events types to be awaited before resolving - used only < GD 3.12\n     * @returns Invocation result\n     */\n    public async execute(command: string, options: any & { windowId: string }, ...eventKeys: string[]): Promise<any> {\n        const params = {\n            ...options,\n            command,\n        };\n        let finishedResolve: () => void;\n        this._finished = new Promise((resolve) => {\n            finishedResolve = resolve;\n        });\n        try {\n            if ((window.glueDesktop as any).versionNum < 31200) {\n                return await this.executeWithoutToken(params, ...eventKeys);\n            } else {\n                return await this.executeWithToken(params);\n            }\n        } catch (error) {\n            throw error;\n        } finally {\n            finishedResolve();\n        }\n    }\n\n    public async ungroup(w: Glue42.Windows.GDWindow, options: Glue42.Windows.UngroupOptions): Promise<Glue42.Windows.GDWindow> {\n        const args = {\n            windowId: w.id,\n            options\n        };\n        await this.execute(\"ungroup\", args);\n        return w;\n    }\n\n    public onClosing(callback: (success: () => void, error: () => void) => void, id: string): () => void {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            return glue42gd.addCloseHandler(callback, id);\n        }\n    }\n\n    public onRefreshing(callback: (success: () => void, error: () => void, prevent: () => void) => void, id: string): () => void {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            return glue42gd.addRefreshHandler(callback, id);\n        }\n    }\n\n    private reformatFlydownOptions(windowId: string, options: Glue42.Windows.FlydownOptions) {\n        const assignGeneralIfUnassigned = (zone: Glue42.Windows.FlydownZone, prop: keyof Glue42.Windows.FlydownZone & keyof Glue42.Windows.FlydownOptions) => {\n            if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\n                const valueFromOptions = options[prop];\n                (zone[prop] as any) = valueFromOptions;\n            }\n        };\n\n        const zones: ReformatedFlydownOptions[\"zones\"] = options.zones.map((z) => {\n            assignGeneralIfUnassigned(z, \"windowId\");\n            assignGeneralIfUnassigned(z, \"targetLocation\");\n\n            if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\n                z.flydownSize = options.size;\n            }\n\n            (z as ReformatedFlydownZone).flydownBounds = z.flydownSize as any;\n            (z as ReformatedFlydownZone).flydownId = z.windowId;\n\n            if (!z.targetLocation) {\n                z.targetLocation = \"bottom\" as Glue42.Windows.PopupTargetLocation.Bottom;\n            }\n\n            return z;\n        });\n\n        return {\n            ...options,\n            zones,\n            targetId: windowId,\n            flydownBounds: options.size,\n            flydownActiveArea: options.activeArea\n        };\n    }\n\n    private clearFlydownArea(windowId: string, areaIds: string[]) {\n        return this.execute(\"clearFlydownWindowArea\", {\n            windowId,\n            options: {}\n        }).then(() => {\n            areaIds.forEach((id) => {\n                this._registry.clearKey(`${windowId}_${id}`);\n            });\n        });\n    }\n\n    private executeWithoutToken(params: { windowId: string }, ...eventKeys: string[]) {\n        const uns: UnsubscribeFunction[] = [];\n        const executed = eventKeys?.filter((k) => !isUndefinedOrNull(k)).map((key) => {\n            return new Promise<void>((r) => {\n                const [type, windowId = params.windowId] = key.split(\"-\");\n                uns.push(this._registry.add(\"event\", (data: { windowId: string, type: string }) => {\n                    if (data.type === type && data.windowId === windowId) {\n                        r();\n                    }\n                }));\n            });\n        });\n        const action = new Promise<any>((resolve, reject) => {\n            this.agm.invoke<any>(\"T42.Wnd.Execute\", params, this.agmTarget)\n                .then((i) => {\n                    if (i.returned && i.returned.errorMsg) {\n                        reject(i);\n                    } else {\n                        resolve(i.returned);\n                    }\n                })\n                .catch((e) => reject(e));\n        });\n        return Promise.all([action, ...executed])\n            .then((r) => {\n                return r[0];\n            })\n            .finally(() => {\n                uns.forEach((un) => un());\n            });\n    }\n\n    private async executeWithToken(options: any) {\n        let un: UnsubscribeFunction;\n        try {\n            const token = shortid.generate();\n            const event = new Promise<void>((r) => {\n                un = this._registry.add(\"event\", (data: any) => {\n                    if (data.token === token) {\n                        r();\n                    }\n                });\n            });\n            const execute = new Promise<any>((resolve, reject) => {\n                options.token = token;\n                this.agm.invoke<any>(\"T42.Wnd.Execute\", options, this.agmTarget)\n                    .then((i) => {\n                        if (i.returned && i.returned.errorMsg) {\n                            reject(i);\n                        } else {\n                            resolve(i.returned);\n                        }\n                    })\n                    .catch((i) => {\n                        reject(i);\n                    });\n            });\n\n            const result = await Promise.all([execute, event]);\n            return result[0];\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    private areBoundsEqual(requested: Partial<Glue42.Windows.Bounds>, w: Glue42.Windows.GDWindow) {\n        const current = w.bounds;\n        const settings = w.settings;\n        let height = requested.height;\n        let width = requested.width;\n        if (requested.height < settings.minHeight) {\n            height = settings.minHeight;\n        }\n        if (requested.height > settings.maxHeight) {\n            height = settings.maxHeight;\n        }\n        if (requested.width < settings.minWidth) {\n            width = settings.minWidth;\n        }\n        if (requested.width > settings.maxWidth) {\n            width = settings.maxWidth;\n        }\n\n        const areHeightsEqual = height ? current.height === height : true;\n        const areWidthsEqual = width ? current.width === width : true;\n        const areLeftsEqual = requested.left ? current.left === requested.left : true;\n        const areTopsEqual = requested.top ? current.top === requested.top : true;\n\n        return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\n    }\n\n    private swapUndefinedToNull(context: any) {\n        try {\n            // swap top level undefined values to null-s\n            const copy: any = {};\n            for (const key of Object.keys(context)) {\n                let value = context[key];\n                if (typeof value === \"undefined\") {\n                    value = null;\n                }\n                copy[key] = value;\n            }\n            return copy;\n        } catch {\n            return context;\n        }\n    }\n}\n\nexport default new GDExecutor();\n","import { default as windowStore } from \"../store\";\nimport { WindowWrapper } from \"../types\";\n\nexport function getWindowsByTabGroupId(windowId: string, tabGroupId: string): WindowWrapper[] {\n    const windows = windowStore.list;\n    return Object.keys(windows).reduce((memo, id) => {\n        const win = windows[id];\n        if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\n            memo.push(win);\n        }\n        return memo;\n    }, []);\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../../glue\";\nimport { default as windowStore } from \"../../store\";\nimport { Environment, Executor, WindowConstructorOptions, WindowEvents, WindowWrapper } from \"../../types\";\nimport windowFactory from \"../../window\";\nimport { default as executor } from \"./executor\";\nimport { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport {\n    FullInfoEvent,\n    StreamEvent,\n    WindowInfo,\n    GroupHeaderVisibilityChanged,\n    UrlChanged,\n    TitleChanged,\n    BoundsChanged,\n    FocusChanged,\n    CompositionChanged,\n    ExtendedStreamEvent,\n    EventWithResponseData,\n    ResponseTypes,\n    IsStickyChanged\n} from \"./types\";\nimport { getWindowsByTabGroupId } from \"../helpers\";\n\nexport default class GDEnvironment implements Environment {\n\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _agm: Glue42Core.AGM.API;\n    private _logger: Glue42Core.Logger.API;\n    private _waitTimeout: number = 10000;\n    private _agmInstance: Glue42Core.AGM.Instance | \"best\" | \"all\";\n    private _windowId: string;\n    private _appManagerGetter: () => Glue42.AppManager.API;\n    private _displayAPIGetter: () => Glue42.Displays.API;\n\n    constructor(agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, instance?: Glue42Core.AGM.Instance, wndId?: string) {\n        this._agm = agm;\n        this._logger = logger.subLogger(\"gd-env\");\n        this._agmInstance = this.normalizeInstance(instance);\n        this._windowId = wndId;\n        this._appManagerGetter = appManagerGetter;\n        this._displayAPIGetter = displayAPIGetter;\n    }\n\n    public init(): Promise<GDEnvironment> {\n        return new Promise((resolve, reject) => {\n            // if we don't have an Instance, thats means that we are running outside from any Tick42 Containers\n            // so our target is best\n            if (typeof this._agmInstance === \"undefined\") {\n                this._agmInstance = \"best\";\n            }\n\n            this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", (args, caller, success, err) => {\n                this.respondToEvent(args as any).then(success).catch(err);\n            });\n\n            const streamPromise = new Promise<void>((streamResolve, streamReject) => {\n                this._agm.subscribe(\"T42.Wnd.OnEvent\", {\n                    waitTimeoutMs: this._waitTimeout,\n                    target: this._agmInstance,\n                    onData: (streamData: any) => {\n                        this.updateWindow(streamData.data, resolve);\n                        executor.handleEvent(streamData.data);\n                    },\n                    onConnected: (instance) => {\n                        this._agmInstance = this.normalizeInstance(instance);\n                        // Init the executor\n                        executor.init(this._agm, this._agmInstance);\n                    }\n                }).catch((err: any) => {\n                    reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\n                });\n            });\n        });\n    }\n\n    public get executor(): Executor {\n        return executor;\n    }\n\n    public open(name: string, url: string, options: any): Promise<Glue42.Windows.GDWindow> {\n        options = options || {};\n        const copyOptions = { ...options };\n\n        if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\n            copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\n        }\n\n        copyOptions.name = name;\n        copyOptions.url = url;\n\n        // This is for compatibility between gd2 and gd3\n        copyOptions.windowState = options.windowState || options.state;\n        // Otherwise glue desktop throws an error for extra properties\n        delete copyOptions.state;\n\n        return this.executor.open(copyOptions);\n    }\n\n    public createFlydown(windowId: string, options: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return this.executor.createFlydown(windowId, options);\n    }\n\n    public async showPopup(windowId: string, options: Glue42.Windows.PopupOptions): Promise<void> {\n        const window = windowStore.get(windowId);\n        await this.executor.showPopup(window.API, options);\n    }\n\n    public tabAttached(callback: (tabWindow: Glue42.Windows.GDWindow, newTabGroupId: string, tabHeaderVisible: boolean) => void): UnsubscribeFunction {\n        return this._registry.add(\"tab-attached\", callback);\n    }\n\n    public tabDetached(callback: (window: Glue42.Windows.GDWindow, tabGroupId: string, oldTabGroupId: string) => void): UnsubscribeFunction {\n        return this._registry.add(\"tab-detached\", callback);\n    }\n\n    public onWindowFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void) {\n        return this._registry.add(\"frame-color-changed\", callback);\n    }\n\n    public onEvent(callback: (windowInfo: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"window-event\", callback);\n    }\n\n    public my(): string {\n        return this._windowId;\n    }\n\n    public execute<T>(command: string, windowId: string, options: {}): Promise<Glue42Core.AGM.InvocationResult<T>> {\n        return this._agm.invoke<T>(\"T42.Wnd.Execute\", {\n            command,\n            options,\n            windowId,\n        });\n    }\n\n    /** Groups */\n    public onCompositionChanged(callback: (windowInfo: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"composition-changed\", callback);\n    }\n\n    public onGroupHeaderVisibilityChanged(callback: (stream: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"group-header-changed\", callback);\n    }\n\n    public onWindowGotFocus(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return this._registry.add(\"got-focus\", callback);\n    }\n\n    public onWindowLostFocus(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return this._registry.add(\"lost-focus\", callback);\n    }\n\n    // TODO revise it\n    private normalizeInstance(instance: Glue42Core.AGM.Instance) {\n        if (!instance) {\n            return undefined;\n        }\n        return {\n            application: instance.application,\n            machine: instance.machine,\n            user: instance.user,\n        };\n    }\n    private respondToEvent(args: EventWithResponseData): Promise<ResponseTypes> {\n        if (args.type === \"ShowFlydownBoundsRequested\") {\n            return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\n        }\n\n        return Promise.reject(`There isn't a handler for ${args.type}`);\n    }\n\n    private updateWindow(windowInfo: StreamEvent, readyResolve: (env: GDEnvironment) => void) {\n        const extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\n\n        // this is the snapshot of all windows\n        if (windowInfo.type === \"Snapshot\") {\n            const windowInfoFullInfoEvent = (windowInfo as FullInfoEvent);\n            windowInfoFullInfoEvent.windows.forEach((w) => {\n                const existingWindow = windowStore.get(w.id);\n                if (existingWindow) {\n                    existingWindow.Events.handleUpdate(this.mapToWindowConstructorOptions(w));\n                } else {\n                    const win = this.createWindow(w.id, w);\n                    windowStore.markReadyToShow(win.API.id);\n                }\n                this._registry.execute(\"window-event\", extendedStreamEvent);\n            });\n            readyResolve(this);\n            return;\n        }\n\n        // global event\n        if (windowInfo.type === \"CommandExecuted\") {\n            this._registry.execute(\"window-event\", extendedStreamEvent);\n            return;\n        }\n\n        // if new window handle it separately\n        if (windowInfo.type === \"Created\") {\n            const windowInfoCreatedEvent = (windowInfo as StreamEvent);\n            const win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\n            windowStore.setReadyState(win.API.id);\n            this._registry.execute(\"window-event\", extendedStreamEvent);\n            return;\n        }\n\n        // otherwise check if the window is in our internal collections and update its state\n        const windowObjectAndEvents: WindowWrapper = windowStore.get((windowInfo as StreamEvent).windowId);\n        if (!windowObjectAndEvents) {\n            this._logger.error(`received update for unknown window. Stream:', ${JSON.stringify(windowInfo, null, 4)}`);\n            return;\n        }\n\n        const theWindow: Glue42.Windows.GDWindow = windowObjectAndEvents.API;\n        const theWindowEvents: WindowEvents = windowObjectAndEvents.Events;\n\n        // handle bounds changed\n        if (windowInfo.type === \"BoundsChanged\") {\n            const windowInfoBoundsChangedEvent = (windowInfo as BoundsChanged);\n            theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\n        }\n\n        // handle url changed\n        if (windowInfo.type === \"UrlChanged\") {\n            const windowInfoUrlChangedEvent = (windowInfo as UrlChanged);\n            windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\n            theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\n        }\n\n        // handle title changed\n        if (windowInfo.type === \"TitleChanged\") {\n            const windowInfoTitleChanged = (windowInfo as TitleChanged);\n            theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\n        }\n\n        // handle isSticky changed\n        if (windowInfo.type === \"IsStickyChanged\") {\n            const windowInfoIsStickyChangedChanged = (windowInfo as IsStickyChanged);\n            theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\n        }\n\n        // handle visibility changed\n        if (windowInfo.type === \"VisibilityChanged\") {\n            theWindowEvents.handleVisibilityChanged(windowInfo.data);\n        }\n\n        // handle context changed\n        if (windowInfo.type === \"ContextChanged\") {\n            theWindowEvents.handleContextUpdated(windowInfo.data);\n        }\n\n        // handle window state changed\n        if (windowInfo.type === \"StateChanged\") {\n            theWindowEvents.handleWindowChangeState(windowInfo.data);\n        }\n\n        // handle frame color changed\n        if (windowInfo.type === \"FrameColorChanged\") {\n            theWindowEvents.handleFrameColorChanged(windowInfo.data);\n            this._registry.execute(\"frame-color-changed\", theWindow);\n        }\n\n        // handle composition changed - groups API\n        if (windowInfo.type === \"CompositionChanged\") {\n            const windowInfoCompositionChanged = windowInfo as CompositionChanged;\n            theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data);\n            this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\n        }\n\n        if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\n            const info = windowInfo as GroupHeaderVisibilityChanged;\n            theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\n            this._registry.execute(\"group-header-changed\", info.data);\n        }\n\n        // handle focus changed\n        if (windowInfo.type === \"FocusChanged\") {\n            const windowInfoFocusChanged = (windowInfo as FocusChanged);\n            this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\n        }\n\n        if (windowInfo.type === \"WindowFrameChanged\") {\n            theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\n            this._registry.execute(\"frame-changed\");\n        }\n\n        if (windowInfo.type === \"WindowFrameAdded\") {\n            const winsToBeNotified = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\n            theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible, winsToBeNotified)\n                .then(async () => {\n                    // don't fire the event if it is the first window\n                    if (winsToBeNotified.length > 0) {\n                        await executor.finished;\n                        this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\n                    }\n                });\n        }\n\n        if (windowInfo.type === \"WindowFrameRemoved\") {\n            // In the event, tabGroupId is empty, will be update on the next event FrameAttached\n            const oldTabGroupId = theWindow.tabGroupId;\n            const winsToBeNotified = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\n            theWindowEvents.handleDetached(winsToBeNotified)\n                .then(async () => {\n                    // don't fire the event if it is the first window\n                    if (winsToBeNotified.length > 0) {\n                        await executor.finished;\n                        this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\n                    }\n                });\n        }\n\n        if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\n            theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\n        }\n\n        if (windowInfo.type === \"FrameSelectionChanged\") {\n            theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\n        }\n\n        if (windowInfo.type === \"ButtonClicked\") {\n            theWindowEvents.handleFrameButtonClicked(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"ButtonAdded\") {\n            theWindowEvents.handleFrameButtonAdded(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"ButtonRemoved\") {\n            theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"WindowZoomFactorChanged\") {\n            theWindowEvents.handleZoomFactorChanged(windowInfo.data);\n        }\n\n        // Clear the window on close event\n        if (windowInfo.type === \"Closed\") {\n            windowStore.remove(windowObjectAndEvents);\n            theWindowEvents.handleWindowClose();\n        }\n\n        if (windowInfo.type === \"FrameIsLockedChanged\") {\n            theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"PlacementSettingsChanged\") {\n            theWindowEvents.handlePlacementSettingsChanged(windowInfo.data);\n        }\n\n        // expose to external listeners\n        this._registry.execute(\"window-event\", extendedStreamEvent);\n    }\n\n    private createWindow(windowId: string, options: WindowInfo): WindowWrapper {\n        const wrapper = windowStore.get(windowId);\n        const windowObjAndEvents: WindowWrapper = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._displayAPIGetter, this._agm);\n        windowStore.add(windowObjAndEvents);\n        return windowObjAndEvents;\n    }\n\n    private focusChanged(theWindowEvents: WindowEvents, theWindow: Glue42.Windows.GDWindow, focus: boolean) {\n        theWindowEvents.handleFocusChanged(focus);\n        if (focus) {\n            this._registry.execute(\"got-focus\", theWindow);\n        } else {\n            this._registry.execute(\"lost-focus\", theWindow);\n        }\n    }\n\n    private mapToWindowConstructorOptions(args: WindowInfo): WindowConstructorOptions {\n        // TODO\n        return {\n            name: args.name,\n            context: args.context,\n            bounds: args.bounds,\n            url: args.url,\n            title: args.title,\n            isVisible: args.isVisible,\n            focus: args.isFocused,\n            state: args.state,\n            frameColor: args.frameColor,\n            groupId: args.groupId,\n            neighbours: args.neighbors,\n            isFocused: args.isFocused,\n            isGroupHeaderVisible: args.groupHeaderVisible,\n            isCollapsed: args.isCollapsed,\n            tabGroupId: args.frameId,\n            mode: args.mode,\n            isTabHeaderVisible: args.isTabHeaderVisible,\n            isTabSelected: args.isActiveTab,\n            settings: args.settings,\n            windowType: args.windowType,\n            zoomFactor: args.zoomFactor,\n            // focus: args.focus,\n            isLocked: args.isLocked,\n            placementSettings: args.placementSettings,\n            isSticky: args.isSticky,\n            tabIndex: args.tabIndex\n            // settings: windowStyleAttributes,\n        };\n    }\n\n    private getExtendedStreamEvent(streamEvent: StreamEvent): StreamEvent | ExtendedStreamEvent {\n        try {\n            // some events (e.g. Snapshot) do not have windowIds\n            if (!streamEvent.windowId) {\n                return streamEvent;\n            }\n\n            // try to get the window, if not there return the original event\n            const window = windowStore.get(streamEvent.windowId);\n            if (!window) {\n                return streamEvent;\n            }\n\n            const result: ExtendedStreamEvent = {\n                state: streamEvent.type,\n                windowName: window.API.name,\n                ...streamEvent\n            };\n\n            if (result.state === \"WindowFrameAdded\") {\n                result.state = \"TabAttached\";\n            }\n\n            if (result.state === \"StateChanged\") {\n                result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\n            }\n\n            if (result.state === \"ButtonAdded\") {\n                result.state = \"FrameButtonAdded\";\n            }\n\n            if (result.state === \"ButtonRemoved\") {\n                result.state = \"FrameButtonRemoved\";\n            }\n\n            return result;\n        } catch (error) {\n            return streamEvent;\n        }\n    }\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Environment } from \"./../types\";\nimport { default as GD } from \"./gd/gd\";\nimport { Glue42 } from \"../../../glue\";\n\nexport default (agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, gdMajorVersion: number): Promise<Environment> => {\n    const _logger = logger;\n    return new Promise((resolve, reject) => {\n        if (gdMajorVersion === 2) {\n            // We are running in HC\n            _logger.trace(\"running in HC\");\n            throw new Error(\"GD2 not supported\");\n        } else if (gdMajorVersion >= 3) {\n            // We are running in GD 3\n            // TODO expose instance in glu42gd\n            _logger.trace(\"running in GD 3\");\n            const gd = new GD(agm, _logger, appManagerGetter, displayAPIGetter, undefined, window.glue42gd.windowId);\n            gd.init()\n                .then(resolve)\n                .catch(reject);\n        } else {\n            // We are running in Browser or Node, we should check which stream is available\n            // But we need to pass the container as dependency\n            const gdPromise = new GD(agm, _logger, appManagerGetter, displayAPIGetter).init();\n            const wait = (ms: number) => new Promise((res, rej) => setTimeout(() => { rej(\"timeout waiting for streams\"); }, ms));\n            Promise.race([gdPromise, wait(10000)])\n                .then(resolve)\n                .catch(reject);\n        }\n    });\n};\n","import callbackRegistry, { CallbackRegistry } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { default as windowStore } from \"./store\";\nimport { Executor, GroupInternal, GroupWrapper, WindowWrapper } from \"./types\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nexport default (id: string, executor: Executor): GroupWrapper => {\n\n    const _registry: CallbackRegistry = callbackRegistry();\n\n    const _windowsId: string[] = [];\n\n    //#region \"API functions\"\n\n    async function addWindow(winId: string): Promise<void> {\n        if (_windowsId.indexOf(winId) === -1) {\n            _windowsId.push(winId);\n            const win: WindowWrapper = windowStore.get(winId);\n            win.Events.handleGroupChanged(groupObject, undefined);\n            await executor.finished;\n            _registry.execute(\"window-added\", groupObject, win.API);\n        }\n    }\n\n    async function removeWindow(win: WindowWrapper): Promise<void> {\n        const index: number = _windowsId.indexOf(win.API.id);\n        if (index !== -1) {\n            _windowsId.splice(index, 1);\n            win.Events.handleGroupChanged(undefined, groupObject);\n            await executor.finished;\n            _registry.execute(\"window-removed\", groupObject, win.API);\n        }\n    }\n\n    function find(window: string | Glue42.Windows.GDWindow, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        let winId: string;\n        if (typeof window === \"string\") {\n            winId = window;\n        } else if (!isUndefinedOrNull(window)) {\n            winId = window.id;\n        }\n\n        const win = _mapToWindowObject(winId);\n        if (win) {\n            if (typeof success === \"function\") {\n                success(win);\n            }\n            return win;\n        } else {\n            if (typeof error === \"function\") {\n                error(`No window with ID: ${winId}`);\n            }\n        }\n    }\n\n    function windows(success?: (windows: Glue42.Windows.GDWindow[]) => void): Glue42.Windows.GDWindow[] {\n        const mappedWindows: Glue42.Windows.GDWindow[] = _mapToWindowObjects();\n        if (typeof success === \"function\") {\n            success(mappedWindows);\n        }\n        return mappedWindows;\n    }\n\n    async function execute(command: string, options: any & { windowId: string }, ...keys: string[]): Promise<Glue42.Windows.Group> {\n        await executor.execute<Glue42.Windows.Group>(command, options, ...keys);\n        return groupObject;\n    }\n\n    //#endregion \"API functions\"\n\n    //#region \"Stream function\"\n\n    function handleGroupHeaderVisibilityChanged(windowInfo: any): void {\n        _registry.execute(\"header-visibility-changed\", groupObject);\n    }\n\n    //#endregion \"Stream function\"\n\n    //#region \"Internal function\"\n\n    function _mapToWindowObjects(): Glue42.Windows.GDWindow[] {\n        const winObjects: Glue42.Windows.GDWindow[] = [];\n\n        _windowsId.forEach((winId) => {\n            const windowObject = _mapToWindowObject(winId);\n            if (typeof windowObject !== \"undefined\") {\n                winObjects.push(windowObject);\n            }\n        });\n\n        return winObjects;\n    }\n\n    function _mapToWindowObject(windowId: string): Glue42.Windows.GDWindow {\n        return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\n    }\n\n    function _getGroupHeaderVisibility(): boolean {\n        // if one of the windows has a flag hideGroupHeader the group header should be off.\n        const windowWithHiddenHeader = _mapToWindowObjects().find((w) => !w.isGroupHeaderVisible);\n        const _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\n\n        return _isGroupHeaderVisible;\n    }\n\n    //#endregion \"Internal function\"\n\n    //#region \"Events\"\n\n    function onHeaderVisibilityChanged(callback?: (group: Glue42.Windows.Group) => void): () => void {\n        return _registry.add(\"header-visibility-changed\", callback);\n    }\n\n    function onWindowAdded(callback?: (group: Glue42.Windows.Group, window: Glue42.Windows.GDWindow) => void): () => void {\n        return _registry.add(\"window-added\", callback);\n    }\n\n    function onWindowRemoved(callback?: (group: Glue42.Windows.Group, window: Glue42.Windows.GDWindow) => void): () => void {\n        return _registry.add(\"window-removed\", callback);\n    }\n\n    //#endregion \"Events\"\n\n    //#region \"API\"\n\n    const groupObject: Glue42.Windows.Group = {\n        id,\n        get windows() {\n            return windows();\n        },\n        find,\n        get isHeaderVisible() {\n            return _getGroupHeaderVisibility();\n        },\n        showHeader: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"setGroupHeaderVisibility\", { windowId: _windowsId[0], options: { toShow: true } }, ..._windowsId.map((w) => `GroupHeaderVisibilityChanged-${w}`));\n            }, success, error);\n        },\n        hideHeader: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"setGroupHeaderVisibility\", { windowId: _windowsId[0], options: { toShow: false } }, ..._windowsId.map((w) => `GroupHeaderVisibilityChanged-${w}`));\n            }, success, error);\n        },\n        getTitle: async () => {\n            const r = await executor.execute<{ title: string }>(\"getGroupTitle\", { windowId: _windowsId[0] });\n            return r.title;\n        },\n        setTitle: async (title: string) => {\n            if (isNullOrWhiteSpace(title)) {\n                throw new Error(\"`title` must not be null or undefined.\");\n            }\n            return execute(\"setGroupTitle\", { windowId: _windowsId[0], options: { title } });\n        },\n        capture: (captureOptions: Glue42.Windows.CaptureOptions) => {\n            return executor.captureGroup(_windowsId, captureOptions);\n        },\n        maximize: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"maximizeGroup\", { windowId: _windowsId[0] }, ..._windowsId.map((w) => `StateChanged-${w}`));\n            }, success, error);\n        },\n        restore: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"restoreGroup\", { windowId: _windowsId[0] }, ..._windowsId.map((w) => `StateChanged-${w}`));\n            }, success, error);\n        },\n        onHeaderVisibilityChanged,\n        onWindowAdded,\n        onWindowRemoved,\n    };\n\n    const internal: GroupInternal = {\n        get windows() {\n            return _windowsId;\n        },\n        addWindow,\n        removeWindow,\n        handleGroupHeaderVisibilityChanged,\n    };\n\n    return {\n        groupAPI: groupObject,\n        groupInternal: internal,\n    };\n\n    //#endregion \"API\"\n};\n","import { Glue42Core } from \"@glue42/core\";\nimport callbackRegistry, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../activity/helpers/util\";\nimport { CompositionChangedData } from \"./environment/gd/types\";\nimport groupFactory from \"./group\";\nimport { default as windowStore } from \"./store\";\nimport {\n    Environment,\n    GroupsInternal,\n    GroupsWrapper,\n    GroupWrapper,\n    WindowWrapper\n} from \"./types\";\n\nexport default (environment: Environment, logger: Glue42Core.Logger.API): GroupsWrapper => {\n    const _registry: CallbackRegistry = callbackRegistry();\n    const _groups: { [key: string]: GroupWrapper } = {};\n    let heardForWindowsCounter: number = -1;\n\n    // Getting already existing windows and create Group API for each window\n    const windows = windowStore.list;\n    Object.keys(windows).forEach((k) => {\n        const win = windows[k];\n        const groupId = win.API.groupId;\n        const winId = win.API.id;\n        // hidden windows doesn't have groupId\n        if (!isNullOrWhiteSpace(groupId)) {\n            addWindow(groupId, winId);\n        }\n    });\n\n    windowStore.onRemoved((w) => {\n        const group = findGroupWrapperByWindow(w.API);\n        removeWindow(group, w);\n    });\n\n    environment.onCompositionChanged((windowInfo: CompositionChangedData) => {\n        handleCompositionChanged(windowInfo);\n    });\n\n    environment.onGroupHeaderVisibilityChanged((windowInfo) => {\n        const windowId = windowInfo.windowId;\n        const group: Glue42.Windows.Group = findGroupByWindow(windowId);\n        if (typeof group !== \"undefined\") {\n            const groupEvents: GroupWrapper = _groups[group.id];\n\n            if (heardForWindowsCounter === -1) {\n                heardForWindowsCounter = group.windows.length;\n            }\n\n            heardForWindowsCounter--;\n            if (heardForWindowsCounter === 0) {\n                heardForWindowsCounter = -1;\n                groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\n            }\n        }\n    });\n\n    // Methods\n\n    function my(): Glue42.Windows.Group {\n        return findGroupByWindow(environment.my());\n    }\n\n    function list(success?: (groups: Glue42.Windows.Group[]) => void): Glue42.Windows.Group[] {\n        const result: Glue42.Windows.Group[] = Object.keys(_groups).map((groupId) => {\n            if (_groups[groupId]) {\n                return _groups[groupId].groupAPI;\n            }\n\n        });\n\n        if (typeof success === \"function\") {\n            success(result);\n        }\n        return result;\n    }\n\n    function findGroupByWindow(winId: string | Glue42.Windows.GDWindow, success?: (group: Glue42.Windows.Group) => void, error?: (error: string) => void): Glue42.Windows.Group {\n        let windowId: string;\n        if (typeof winId === \"string\") {\n            windowId = winId;\n        } else if (!isUndefinedOrNull(winId)) {\n            windowId = winId.id;\n        }\n        const result = Object.values(_groups).find((groupObj) => {\n            const group: Glue42.Windows.Group = groupObj.groupAPI;\n            const wins = group.windows.filter((w) => w.id === windowId);\n            return wins.length;\n        });\n        if (result) {\n            if (typeof success === \"function\") {\n                success(result.groupAPI);\n            }\n            return result.groupAPI;\n        } else {\n            if (typeof error === \"function\") {\n                error(`Cannot find the group of the window.`);\n            }\n        }\n    }\n\n    // Events\n    function onWindowMoved(callback?: (windowId: string, oldTabGroupId: string, newGroupId: string) => void): UnsubscribeFunction {\n        return _registry.add(\"window-moved\", callback);\n    }\n\n    // Private\n\n    function createOrGet(groupId: string): GroupWrapper {\n        if (!_groups.hasOwnProperty(groupId)) {\n            const createdGroup: GroupWrapper = groupFactory(groupId, environment.executor);\n            _groups[groupId] = createdGroup;\n            return createdGroup;\n        } else {\n            return _groups[groupId];\n        }\n    }\n\n    function deleteIfEmpty(group: GroupWrapper): void {\n        if (group.groupAPI.windows.length === 0) {\n            delete _groups[group.groupAPI.id];\n        }\n    }\n\n    // hidden window doesn't have a groupId\n    function addWindow(groupId: string, winId: string) {\n        const group = createOrGet(groupId);\n        group.groupInternal.addWindow(winId);\n        return group;\n    }\n\n    function removeWindow(group: GroupWrapper, win: WindowWrapper) {\n        if (!group) {\n            return;\n        }\n        group.groupInternal.removeWindow(win);\n        deleteIfEmpty(group);\n    }\n\n    function handleCompositionChanged(state: CompositionChangedData): void {\n        const groupId = state.groupId;\n        const windowId = state.windowId;\n        const win = windowStore.get(windowId);\n        if (!win) {\n            return;\n        }\n        const currentGroup = findGroupWrapperByWindow(win.API);\n        // if the window's visibility is changed to hidden, remove from the group\n        // or the window is closed.\n        if (isUndefinedOrNull(groupId)) {\n            removeWindow(currentGroup, win);\n            return;\n        }\n        // if the window's visibility is changed to visible, addOrCreate the group\n        if (isUndefinedOrNull(currentGroup) && !isUndefinedOrNull(groupId)) {\n            addWindow(groupId, win.API.id);\n            return;\n        }\n\n        if (currentGroup.groupAPI.id !== groupId) {\n            moveWindow(win, currentGroup.groupAPI.id, groupId);\n        }\n    }\n\n    function moveWindow(win: WindowWrapper, from: string, to: string) {\n        const winId = win.API.id;\n        const fromGroup = _groups[from];\n        removeWindow(fromGroup, win);\n        const toGroup = addWindow(to, winId);\n        win.Events.handleGroupChanged(toGroup.groupAPI, fromGroup.groupAPI);\n        _registry.execute(\"window-moved\", winId, from, to);\n    }\n\n    function findGroupWrapperByWindow(winId: string | Glue42.Windows.GDWindow): GroupWrapper {\n        let windowId: string;\n        if (typeof winId === \"string\") {\n            windowId = winId;\n        } else if (!isUndefinedOrNull(winId)) {\n            windowId = winId.id;\n        }\n        return Object.values(_groups).find((groupObj) => {\n            const groupInternal = groupObj.groupInternal;\n            const wins = groupInternal.windows.filter((id) => id === windowId);\n            return wins.length;\n        });\n    }\n\n    //#region \"API\"\n\n    const groups = {\n        get my() {\n            return my();\n        },\n        list,\n        findGroupByWindow,\n    };\n\n    //#endregion \"API\n\n    const events: GroupsInternal = { onWindowMoved };\n\n    return {\n        groupsAPI: groups,\n        groupsEvents: events,\n    };\n};\n","import { Glue42Core } from \"@glue42/core\";\nimport { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { Environment, GroupsWrapper, WindowWrapper } from \"./types\";\n\nimport { default as envDetector } from \"./environment/detector\";\nimport groupsFactory from \"./groups\";\nimport { default as windowStore } from \"./store\";\nimport executor from \"./environment/gd/executor\";\nimport * as util from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nexport default (agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, gdMajorVersion: number): Glue42.Windows.API => {\n    const _registry: CallbackRegistry = CallbackFactory();\n    const _logger = logger;\n    let groups: GroupsWrapper;\n    let environment: Environment;\n\n    windowStore.init(_logger);\n\n    const isReady = new Promise<void>((resolve, reject) => {\n        envDetector(agm, _logger, appManagerGetter, displayAPIGetter, gdMajorVersion)\n            .then((env) => {\n                environment = env;\n                groups = groupsFactory(env, _logger);\n                resolve();\n            })\n            .catch((e) => {\n                const err = `Environment detector fails with: ${e}`;\n                _logger.error(err);\n                reject(err);\n            });\n    });\n\n    function ready() {\n        return isReady;\n    }\n\n    function my(): Glue42.Windows.GDWindow {\n        const myWindow = windowStore.getIfReady(environment.my());\n        return myWindow ? myWindow.API : undefined;\n    }\n\n    function open(name: string, url: string, options?: Glue42.Windows.WindowSettings, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(name)) {\n                throw new Error(\"The window name is missing.\");\n            }\n            if (util.isNullOrWhiteSpace(url)) {\n                throw new Error(\"The window URL is missing.\");\n            }\n\n            if (!util.isUndefinedOrNull(options)) {\n                const optionsAsAny = options as any;\n                for (const prop of [\"minHeight\", \"maxHeight\", \"minWidth\", \"maxWidth\", \"width\", \"height\", \"top\", \"left\"]) {\n                    if (prop in optionsAsAny) {\n                        const value = optionsAsAny[prop];\n                        if (util.isUndefinedOrNull(value)) {\n                            delete optionsAsAny[prop];\n                            continue;\n                        }\n                        if (!util.isNumber(value)) {\n                            const errMessage = `${prop} must be a number`;\n                            throw new Error(errMessage);\n                        }\n                        if (optionsAsAny[prop] === \"width\" || optionsAsAny[prop] === \"height\") {\n                            if (value <= 0) {\n                                const errMessage = `${prop} must be a positive number`;\n                                throw new Error(errMessage);\n                            }\n                        }\n                    }\n                }\n            }\n            return environment.open(name, url, options);\n        }, success, error);\n    }\n\n    function find(name: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows).reduce((memo, winId) => {\n            const window: WindowWrapper = windows[winId];\n            if (window?.API?.name === name) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n\n        const win = windowsForListing[0];\n        if (win) {\n            if (typeof success === \"function\") {\n                success(windowsForListing[0]);\n            }\n            return windowsForListing[0];\n        } else {\n            if (typeof error === \"function\") {\n                error(\"There is no window with name:\" + name);\n            }\n        }\n    }\n\n    function findById(id: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows).reduce((memo, winId) => {\n            const window: WindowWrapper = windows[winId];\n            if (typeof window !== \"undefined\" && window.API.id === id) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n        const win = windowsForListing[0];\n        if (win) {\n            if (typeof success === \"function\") {\n                success(windowsForListing[0]);\n            }\n            return windowsForListing[0];\n        } else {\n            if (typeof error === \"function\") {\n                error(\"There is no window with such id:\" + id);\n            }\n        }\n    }\n\n    function list(success?: (window: Glue42.Windows.GDWindow[]) => void): Glue42.Windows.GDWindow[] {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows)\n            .map((k) => {\n                return windows[k].API;\n            });\n\n        if (typeof success !== \"function\") {\n            return windowsForListing;\n        }\n\n        success(windowsForListing);\n    }\n\n    function configure(options: Glue42.Windows.WindowsConfiguration): Promise<void> {\n        const win = my();\n        const winId = win ? win.id : \"\";\n        return executor.configure(winId, options);\n    }\n\n    function windowAdded(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return _registry.add(\"window-added\", callback);\n    }\n\n    function windowRemoved(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return _registry.add(\"window-removed\", callback);\n    }\n\n    function tabAttached(callback: (tabWindow: Glue42.Windows.GDWindow, newTabGroupId: string, tabHeaderVisible: boolean) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.tabAttached(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function tabDetached(callback: (window: Glue42.Windows.GDWindow, tabGroupId: string, oldTabGroupId: string) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.tabDetached(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowFrameColorChanged(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowGotFocus(callback: (window: Glue42.Windows.GDWindow) => void) {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowGotFocus(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowLostFocus(callback: (window: Glue42.Windows.GDWindow) => void) {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowLostFocus(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onEvent(callback: (stream: any) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onEvent(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function createFlydown(targetId: string, config: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return environment.createFlydown(targetId, config);\n    }\n\n    function showPopup(targetId: string, config: Glue42.Windows.PopupOptions): Promise<void> {\n        return environment.showPopup(targetId, config);\n    }\n\n    function handleWindowAdded(w: WindowWrapper) {\n        _registry.execute(\"window-added\", w.API);\n    }\n\n    function handleWindowRemoved(w: WindowWrapper) {\n        _registry.execute(\"window-removed\", w.API);\n    }\n\n    windowStore.onReadyWindow(handleWindowAdded);\n    windowStore.onRemoved(handleWindowRemoved);\n\n    // The API itself\n    return {\n        my,\n        open,\n        find,\n        findById,\n        list,\n        ready,\n        onWindowAdded: windowAdded,\n        windowAdded,\n        onWindowRemoved: windowRemoved,\n        windowRemoved,\n        onTabAttached: tabAttached,\n        onTabDetached: tabDetached,\n        onWindowFrameColorChanged,\n\n        get groups() {\n            return groups.groupsAPI;\n        },\n        onWindowGotFocus,\n        onWindowLostFocus,\n        onEvent,\n        createFlydown,\n        showPopup,\n        configure\n    };\n};\n","import { Glue42 } from \"../../glue\";\n\n// provides a unified way to access layouts array\nexport class LayoutStore {\n    private layouts: Glue42.Layouts.Layout[] = [];\n\n    public removeWhere(condition: (l: Glue42.Layouts.Layout) => boolean) {\n        this.layouts = this.layouts.filter(condition);\n    }\n\n    public add(item: Glue42.Layouts.Layout) {\n        this.layouts.push(item);\n    }\n\n    public get all(): Glue42.Layouts.Layout[] {\n        return this.layouts;\n    }\n\n    public where(condition: (l: Glue42.Layouts.Layout) => boolean): Glue42.Layouts.Layout[] {\n        return this.layouts.filter(condition);\n    }\n\n    public first(condition: (l: Glue42.Layouts.Layout) => boolean): Glue42.Layouts.Layout {\n        return this.where(condition)[0];\n    }\n}\n\nexport default new LayoutStore();\n","import { Glue42 } from \"../../glue\";\nimport { CallbackRegistry } from \"callback-registry\";\nimport { LayoutsLibConfiguration } from \"./types\";\nimport { isBoolean } from \"../activity/helpers/util\";\n\nconst SaveContextMethodName = \"T42.HC.GetSaveContext\";\ndeclare var htmlContainer: any;\n\n/**\n * Logic for apps that want to provide custom context on save\n */\nexport default class ContextProvider {\n\n    private interop: Glue42.Interop.API;\n\n    constructor(private config: LayoutsLibConfiguration, private activitiesGetter: () => Glue42.Activities.API, private callbacks: CallbackRegistry, private logger: Glue42.Logger.API) {\n        this.interop = config.agm;\n        this.registerRequestMethods();\n    }\n\n    public onSaveRequested(callback: (info?: Glue42.Layouts.SaveRequestContext) => Glue42.Layouts.SaveRequestResponse) {\n        return this.callbacks.add(\"saveRequested\", callback);\n    }\n\n    private isActivityOwner() {\n        // fallback for GD2 - remove once the bellow code is tested\n        if (typeof htmlContainer !== \"undefined\") {\n            const context = htmlContainer.getContext();\n            return context && context._t42 && context._t42.activityIsOwner;\n        }\n\n        // check if we're the activity owners\n        const activities = this.activitiesGetter();\n        if (!activities) {\n            return false;\n        }\n\n        if (!activities.inActivity) {\n            return false;\n        }\n\n        const myWindow = activities.my.window;\n        const myActivity = activities.my.activity;\n\n        if (!myActivity && !myWindow) {\n            return false;\n        }\n\n        return myActivity.owner.id === myWindow.id;\n    }\n\n    private registerRequestMethods() {\n        this.interop.register<Glue42.Layouts.SaveRequestContext>(SaveContextMethodName, (args) => {\n            const usersCbs = this.callbacks.execute(\"saveRequested\", args);\n            if (usersCbs?.length > 1) {\n                this.logger.warn(`Multiple subscriptions for \"glue.layouts.onSaveRequested\" - only the first one will be used`);\n            }\n            const requestResult = usersCbs[0] as Glue42.Layouts.SaveRequestResponse;\n            const autoSaveWindowContext = this.config.autoSaveWindowContext;\n\n            if (isBoolean(autoSaveWindowContext) && autoSaveWindowContext) {\n                return { autoSaveWindowContext };\n            }\n            // always include the window context\n            const result: Glue42.Layouts.SaveRequestResponse = { windowContext: requestResult?.windowContext, activityContext: undefined };\n\n            // if we're the activity owner put the context too\n            if (this.isActivityOwner()) {\n                result.activityContext = requestResult?.activityContext;\n            }\n\n            return result;\n        });\n    }\n}\n","// A simple transformation that makes object to start with lowercase\n// Note that this is not full implementation as it supports only:\n// undefined, null, arrays, number, string, bool. Anything out of this\n// list is considered Object\nexport default function transformACSLayout(something: { [key: string]: any }): { [key: string]: any } {\n    if (!something) {\n        return something;\n    }\n\n    if (Array.isArray(something)) {\n        return something.map((item) => {\n            return transformACSLayout(item);\n        });\n    }\n\n    if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\n        return something;\n    }\n\n    const initial: { [key: string]: any } = {};\n    return Object.keys(something).reduce((accumulator, current) => {\n        const value = something[current];\n        const convertedValue = transformACSLayout(value);\n\n        let key = current;\n        if (current[0].toLowerCase() !== current[0]) {\n            key = current[0].toLowerCase() + current.substr(1);\n        }\n\n        accumulator[key] = convertedValue;\n        return accumulator;\n    }, initial);\n}\n","import { Glue42 } from \"../../glue\";\n\nexport default class LayoutImpl implements Glue42.Layouts.Layout {\n    /** Name of the layout */\n    public name: string;\n\n    /** Type of the layout */\n    public type: Glue42.Layouts.LayoutType;\n\n    /** Array of components describing the applications that are saved in the layout */\n    public components: Glue42.Layouts.LayoutComponent[];\n\n    /** Context passed when the layout was saved */\n    public context: any;\n\n    /** Metadata passed when the layout was saved */\n    public metadata: any;\n\n    /** Version of the layout */\n    public version: string;\n\n    /** Displays of the layout */\n    public displays: any;\n\n    constructor(data: any) {\n        this.name = data.name;\n        this.type = data.type;\n        this.components = data.components;\n        this.context = data.context;\n        this.metadata = data.metadata;\n        this.version = data.version;\n        this.displays = data.displays;\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { LayoutsStream, HibernationResumeMessage, UpdateLayoutComponentContextMessage, LayoutsLibConfiguration } from \"./types\";\nimport store from \"./store\";\nimport generate from \"shortid\";\nimport { ACSSaveLayoutMessage, ACSRestoreMessage, ACSRestoreOptionsMessage, ACSMessage, ACSRenameMessage, ACSRemoveLayoutMessage, ACSImportMessage, ExportResultMessage } from \"./types\";\nimport { Glue42Core } from \"@glue42/core\";\nimport ContextProvider from \"./contextProvider\";\nimport transformACSLayout from \"./transform\";\nimport LayoutImpl from \"./layout\";\nimport { isBoolean, isNullOrWhiteSpace, isNumber, isObject, isString, isUndefinedOrNull } from \"../activity/helpers/util\";\n\nexport default class LayoutsAPIImpl implements Glue42.Layouts.API {\n    private appManager: Glue42.AppManager.API;\n    private provider: ContextProvider;\n\n    constructor(private config: LayoutsLibConfiguration, private stream: LayoutsStream, private callbacks: CallbackRegistry, logger: Glue42.Logger.API) {\n        this.appManager = config.appManager;\n        this.onEvent = stream.onEvent;\n        this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\n        stream.subscribe();\n    }\n\n    public async setDefaultGlobal(name: string): Promise<void> {\n        await this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name });\n        return;\n    }\n\n    public async clearDefaultGlobal(): Promise<void> {\n        await this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\");\n        return;\n    }\n\n    public async getDefaultGlobal(): Promise<Glue42.Layouts.Layout | undefined> {\n        const result = await this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\");\n        const layout = result.returned;\n        if (!layout) {\n            return undefined;\n        }\n        if (this.isSlimMode()) {\n            return layout;\n        }\n        return this.list().find((l) => l.name === layout.name && l.type === \"Global\");\n    }\n\n    public ready(): Promise<void> {\n        if (this.config.mode === \"fullWaitSnapshot\") {\n            return this.stream.gotSnapshot;\n        }\n        return this.stream.ready;\n    }\n\n    public save(layout: Glue42.Layouts.NewLayoutOptions): Promise<Glue42.Layouts.Layout> {\n        return new Promise<Glue42.Layouts.Layout>((resolve, reject) => {\n\n            this.verifyNotSlimMode();\n\n            if (isUndefinedOrNull(layout)) {\n                return reject(new Error(\"layout is required\"));\n            }\n\n            if (isNullOrWhiteSpace(layout.name)) {\n                return reject(new Error(\"layout.name argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(layout.type)) {\n                layout.type = \"Global\";\n            }\n\n            if (!isNullOrWhiteSpace(layout.activityId)) {\n                layout.type = \"Activity\";\n            }\n\n            const layoutObject: ACSSaveLayoutMessage = {\n                name: layout.name,\n                type: layout.type,\n                context: layout.context ?? {},\n                metadata: layout.metadata ?? {},\n                options: {},\n            };\n\n            if (layout.type === \"Activity\") {\n                let actId = layout.activityId;\n                if (!actId) {\n                    if (!this.appManager.myInstance.inActivity) {\n                        return reject(new Error(\"Current application is not in activity. Cannot save activity layout for it.\"));\n                    }\n                    actId = this.appManager.myInstance.activityId;\n                }\n                layoutObject.activityId = actId;\n            } else if (layout.type === \"Global\") {\n                if (Array.isArray(layout.ignoreInstances)) {\n                    layoutObject.options.ignoreInstances = layout.ignoreInstances;\n                }\n                if (Array.isArray(layout.instances)) {\n                    layoutObject.options.instances = layout.instances;\n                }\n            } else {\n                return reject(new Error(`layout type ${layout.type} is not supported`));\n            }\n\n            this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\n        });\n    }\n\n    public restore(options: Glue42.Layouts.RestoreOptions): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n            // TODO add validations...\n            if (isUndefinedOrNull(options)) {\n                return reject(new Error(\"options argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(options.name)) {\n                return reject(new Error(\"options.name argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(options.type)) {\n                options.type = \"Global\";\n            }\n\n            if (!isNullOrWhiteSpace(options.activityIdToJoin)) {\n                options.type = \"Activity\";\n            }\n\n            if (options.type === \"Activity\") {\n                if (isUndefinedOrNull(options.setActivityContext)) {\n                    options.setActivityContext = true;\n                }\n                if (typeof options.setActivityContext !== \"boolean\") {\n                    return reject(new Error(\"`setActivityContext` must hold a boolean value.\"));\n                }\n                options.activityIdToJoin = options.activityIdToJoin ?? this.appManager.myInstance.activityId;\n            }\n\n            // backwards compatibility\n            if (!isUndefinedOrNull(options.closeRunningInstance)) {\n                options.closeRunningInstances = options.closeRunningInstance;\n            }\n\n            if (isUndefinedOrNull(options.closeRunningInstances)) {\n                options.closeRunningInstances = true;\n            }\n\n            if (!isBoolean(options.closeRunningInstances)) {\n                return reject(new Error(\"`closeRunningInstances` must hold a boolean value.\"));\n            }\n\n            if (isUndefinedOrNull(options.closeMe)) {\n                options.closeMe = options.closeRunningInstances;\n            }\n\n            if (!isBoolean(options.closeMe)) {\n                return reject(new Error(\"`closeMe` must hold a boolean value.\"));\n            }\n\n            if (!isUndefinedOrNull(options.context) && !isObject(options.context)) {\n                return reject(new Error(\"`context` must hold an object value.\"));\n            }\n\n            if (!isUndefinedOrNull(options.timeout) && typeof options.timeout !== \"number\") {\n                return reject(new Error(\"`timeout` must hold an number value.\"));\n            }\n\n            options.context = options.context ?? {};\n\n            const restoreOptions: ACSRestoreOptionsMessage = {\n                activityToJoin: options.activityIdToJoin,\n                setActivityContext: options.setActivityContext,\n                ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\n                // not used in GD3\n                // restoreActivityOwner: options.restoreActivityOwner,\n                // closeOldWindows: options.closeRunningInstance,\n                reuseExistingWindows: options.reuseWindows,\n\n                closeRunningInstances: options.closeRunningInstances, // new\n                excludeFromClosing: options.closeMe ? [] : [this.appManager.myInstance.id]\n            };\n\n            const arg: ACSRestoreMessage = {\n                type: options.type,\n                name: options.name,\n                context: options.context,\n                options: restoreOptions\n            };\n            if (options.timeout) {\n                arg.timeout = options.timeout;\n            }\n\n            this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\n        });\n    }\n\n    public remove(type: string, name: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n\n            if (!name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            const msg: ACSRemoveLayoutMessage = {\n                type,\n                name,\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\n        });\n    }\n\n    public list(): Glue42.Layouts.Layout[] {\n        this.verifyNotSlimMode();\n        return store.all;\n    }\n\n    public import(layouts: Glue42.Layouts.Layout[], mode?: Glue42.Layouts.ImportMode): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n            if (!isUndefinedOrNull(mode)) {\n                if (mode !== \"merge\" && mode !== \"replace\") {\n                    return reject(new Error(`${mode} is not supported - only \"merge\" and \"replace\"`));\n                }\n            }\n            const msg: ACSImportMessage = {\n                mode: mode || \"replace\",\n                layouts\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\n        });\n    }\n\n    public export(layoutType?: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.Layout[]> {\n        return new Promise<Glue42.Layouts.Layout[]>((resolve, reject) => {\n            const handleResult = (result: ExportResultMessage) => {\n                let layouts: Glue42.Layouts.Layout[] = this.getObjectValues(result.Layouts).map((t) => new LayoutImpl(transformACSLayout(t)));\n                if (layoutType) {\n                    layouts = layouts.filter((l) => l.type === layoutType);\n                }\n                resolve(layouts);\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\n        });\n    }\n\n    public rename(layout: Glue42.Layouts.Layout, newName: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n\n            if (!layout) {\n                return reject(new Error(\"layout argument is required\"));\n            }\n\n            if (!layout.name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!layout.type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            const msg: ACSRenameMessage = { type: layout.type, oldName: layout.name, newName };\n\n            this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\n        });\n    }\n\n    public updateMetadata(layout: Glue42.Layouts.Layout): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!layout) {\n                return reject(new Error(\"layout argument is required\"));\n            }\n\n            if (!layout.name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!layout.type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            if (!layout.metadata) {\n                return reject(new Error(\"metadata argument is required\"));\n            }\n\n            const layoutObject: any = {\n                name: layout.name,\n                type: layout.type,\n                metadata: layout.metadata\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\n        });\n    }\n\n    public hibernate(name: string, options?: Glue42.Layouts.HibernationOptions): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!name) {\n                return reject(new Error(\"name cannot be empty\"));\n            }\n            options = options || {};\n            const request: HibernationResumeMessage = {\n                name,\n                type: \"Global\",\n                context: options.context || {},\n                metadata: options.metadata || {},\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\n        });\n    }\n\n    public resume(name: string, context?: any, options?: Glue42.Layouts.ResumeOptions): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!name) {\n                return reject(new Error(\"name cannot be empty\"));\n            }\n            const request: HibernationResumeMessage = {\n                name,\n                type: \"Global\",\n                context,\n                ...options\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\n        });\n    }\n\n    public async getCurrentLayout(): Promise<Glue42.Layouts.Layout | undefined> {\n        const result = await this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 });\n        let layout = result.returned.layout;\n        if (!layout) {\n            return undefined;\n        }\n        if (!this.isSlimMode()) {\n            // we have internal if we track layouts (so not slim mode), if not return the object we received from GD\n            layout = this.list().find((l) => l.name === layout.name && l.type === layout.type);\n        }\n        return layout;\n    }\n\n    public onAdded(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        const result = this.callbacks.add(\"added\", callback);\n\n        if (store.all.length > 0) {\n            store.all.forEach((layout) => {\n                try {\n                    callback(layout);\n                } catch (err) { /** */ }\n            });\n        }\n\n        return result;\n    }\n\n    public onRemoved(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"removed\", callback);\n    }\n\n    public onChanged(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"changed\", callback);\n    }\n\n    public onRestored(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"restored\", callback);\n    }\n\n    public onRenamed(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"renamed\", callback);\n    }\n\n    public onEvent(callback: (event: any) => void): () => void {\n        return this.stream.onEvent(callback);\n    }\n\n    public onSaveRequested(callback: (info?: Glue42.Layouts.SaveRequestContext) => Glue42.Layouts.SaveRequestResponse): UnsubscribeFunction {\n        return this.provider.onSaveRequested(callback);\n    }\n\n    public updateAppContextInCurrent(context: object): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (context && typeof context !== \"object\") {\n                return reject(new Error(\"context must be an object\"));\n            }\n            context = context ?? {};\n            const request: UpdateLayoutComponentContextMessage = {\n                context\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\n        });\n    }\n\n    public updateDefaultContext(context: object): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (context && typeof context !== \"object\") {\n                return reject(new Error(\"context must be an object\"));\n            }\n            context = context ?? {};\n            const request: UpdateLayoutComponentContextMessage = {\n                context\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\n        });\n    }\n\n    public async get(name: string, type: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.Layout> {\n        const matching = this.list().find((l) => l.name === name && l.type === type);\n        if (!matching) {\n            throw new Error(`cannot find layout with name=${name} and type=${type}`);\n        }\n        return matching;\n    }\n\n    public async getAll(type: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.LayoutSummary[]> {\n        const matching = this.list().filter((l) => type === l.type);\n        return matching;\n    }\n\n    private isSlimMode() {\n        return this.config.mode === \"slim\";\n    }\n\n    private verifyNotSlimMode() {\n        if (this.isSlimMode()) {\n            throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\n        }\n    }\n\n    private invokeMethodAndTrack(methodName: string, args: ACSMessage, resolve: (result: any) => void, reject: (err: any) => void, skipStreamEvent?: boolean) {\n        let streamEventReceived = skipStreamEvent;\n        let agmResult: any;\n\n        const token = generate();\n        args.token = token;\n\n        const handleResult = () => {\n            if (streamEventReceived && agmResult) {\n                resolve(agmResult);\n            }\n        };\n\n        if (!skipStreamEvent) {\n            this.stream.waitFor(token)\n                .then(() => {\n                    streamEventReceived = true;\n                    handleResult();\n                })\n                .catch((err: any) => {\n                    reject(err);\n                });\n        }\n\n        const responseHandler = (result: Glue42Core.AGM.InvocationResult<any>) => {\n            if (!result.returned) {\n                return reject(new Error(\"No result from method \" + methodName));\n            }\n\n            if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\n                return reject(new Error(result.returned));\n            }\n\n            agmResult = result.returned;\n            handleResult();\n        };\n\n        this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\n            .then(responseHandler)\n            .catch((err: any) => reject(err));\n    }\n\n    private getObjectValues(obj: any) {\n        if (!obj) {\n            return [];\n        }\n\n        return Object.keys(obj).map((k) => obj[k]);\n    }\n}\n","import { LayoutsStream } from \"../types\";\nimport store, { LayoutStore } from \"../store\";\nimport { ACSStreamData, ACSLayout } from \"./messages\";\nimport LayoutImpl from \"../layout\";\nimport { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport transformACSLayout from \"../transform\";\n\nimport { Glue42Core } from \"@glue42/core\";\n\n/**\n * ACS event stream related to layouts\n */\nexport default class ACSStream implements LayoutsStream {\n\n    public ready: Promise<void>;\n    public gotSnapshot: Promise<void>;\n\n    private resolveReady: () => void;\n    private rejectReady: (err: any) => void;\n\n    private resolveGotSnapshot: () => void;\n    private rejectGotSnapshot: (err: any) => void;\n\n    constructor(private agm: Glue42Core.AGM.API, private callbacks: CallbackRegistry) {\n\n        this.ready = new Promise<void>((resolve, reject) => {\n            this.resolveReady = resolve;\n            this.rejectReady = reject;\n        });\n\n        this.gotSnapshot = new Promise<void>((resolve, reject) => {\n            this.resolveGotSnapshot = resolve;\n            this.rejectGotSnapshot = reject;\n        });\n    }\n\n    public subscribe(noRetry?: boolean) {\n        const transform = (obj: object) => {\n            return this.getObjectValues(obj).map((t) => transformACSLayout(t));\n        };\n\n        // if we don't have OnLayoutEvent stream  we're running pre 2.1 GD version or outside GD,\n        if (!this.checkForLayoutEventMethod()) {\n            // if no retry resolve right away\n            if (noRetry) {\n                this.resolveReady();\n            }\n\n            // if we should retry, schedule  one more time\n            setTimeout(() => {\n                this.subscribe(true);\n            }, 500);\n        } else {\n            this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\n                .then((subs) => {\n                    subs.onData((args) => {\n                        const data = args.data as ACSStreamData;\n                        if (data.IsSnapshot) {\n                            this.resolveGotSnapshot();\n                        }\n\n                        this.addLayouts(transform(data.OnLayoutAdded));\n                        this.removeLayouts(transform(data.OnLayoutRemoved));\n                        this.changeLayouts(transform(data.OnLayoutChanged));\n                        this.renameLayouts(transform(data.OnLayoutRenamed));\n                        this.restoredLayout(transform(data.OnLayoutRestored));\n                        this.callbacks.execute(\"streamEvent\", data);\n                    });\n\n                    subs.onFailed((err) => {\n                        const msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\n                        this.rejectReady(msg);\n                        this.rejectGotSnapshot(msg);\n                    });\n\n                    this.resolveReady();\n                })\n                .catch((err) => {\n                    const msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\n                    this.rejectReady(msg);\n                    this.rejectGotSnapshot(msg);\n                });\n        }\n    }\n\n    public onEvent(callback: (streamEvent: ACSStreamData) => void): UnsubscribeFunction {\n        return this.callbacks.add(\"streamEvent\", callback);\n    }\n\n    public waitFor(token: string, timeout?: number): Promise<void> {\n        if (!timeout) {\n            timeout = 10000; // default timeout is 10 seconds\n        }\n        return new Promise<void>((resolve, reject) => {\n            let done = false;\n            const unsubscribe = this.onEvent((streamEvent) => {\n                if (streamEvent.Token === token) {\n                    done = true;\n                    unsubscribe();\n                    resolve();\n                }\n            });\n\n            setTimeout(() => {\n                if (!done) {\n                    reject(\"timed out\");\n                }\n            }, timeout);\n        });\n    }\n\n    private checkForLayoutEventMethod() {\n        try {\n            return this.agm\n                .methods()\n                .map((m) => m.name)\n                .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private addLayouts(layoutsData: any[]) {\n        if (!layoutsData) {\n            return;\n        }\n\n        layoutsData.forEach((layoutData) => {\n            const layout = new LayoutImpl(layoutData);\n            store.add(layout);\n            this.callbacks.execute(\"added\", layout);\n        });\n    }\n\n    private removeLayouts(removedLayouts: any[]) {\n        if (!removedLayouts) {\n            return;\n        }\n        removedLayouts.forEach((removedLayout) => {\n            store.removeWhere((existingLayout) => !this.compareLayouts(existingLayout, removedLayout));\n\n            this.callbacks.execute(\"removed\", removedLayout);\n        });\n    }\n\n    private changeLayouts(changedLayouts: any[]) {\n        if (!changedLayouts) {\n            return;\n        }\n\n        changedLayouts.forEach((changedLayout) => {\n            // removed the changed layout and push it again\n            store.removeWhere((existingLayout) => !this.compareLayouts(existingLayout, changedLayout));\n            store.add(new LayoutImpl(changedLayout));\n            // execute callback\n            this.callbacks.execute(\"changed\", changedLayout);\n        });\n\n    }\n\n    private renameLayouts(renamedLayouts: any[]) {\n        if (!renamedLayouts) {\n            return;\n        }\n\n        renamedLayouts.forEach((renamedLayout) => {\n            const existingLayout = store.first((current) => this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }));\n\n            if (!existingLayout) {\n                throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\n            }\n\n            existingLayout.name = renamedLayout.newName;\n\n            this.callbacks.execute(\"renamed\", existingLayout);\n        });\n    }\n\n    private compareLayouts(layout1: { name: string, type: string }, layout2: { name: string, type: string }) {\n        return layout1.name === layout2.name && layout1.type === layout2.type;\n    }\n\n    private getObjectValues(obj: any) {\n        if (!obj) {\n            return [];\n        }\n\n        return Object.keys(obj).map((k) => obj[k]);\n    }\n\n    private restoredLayout(restoredLayouts: any[]) {\n\n        if (!restoredLayouts) {\n            return;\n        }\n\n        restoredLayouts.forEach((restoredLayout) => {\n            const existingLayout = store.first((current) => this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }));\n            this.callbacks.execute(\"restored\", existingLayout);\n        });\n    }\n}\n","import Layouts from \"./layouts\";\nimport ACSStream from \"./stream/acsStream\";\nimport streamNull from \"./stream/nullStream\";\nimport {LayoutsLibConfiguration, LayoutsStream } from \"./types\";\nimport callbackRegistry, { CallbackRegistry } from \"callback-registry\";\n\nexport default function(config: LayoutsLibConfiguration): Layouts {\n\n    if (!config.agm) {\n        throw Error(\"config.agm is required\");\n    }\n\n    if (!config.logger) {\n        throw Error(\"config.logger is required\");\n    }\n\n    // default mode to slim\n    config.mode = config.mode || \"slim\";\n\n    const logger = config.logger;\n    const callbacks: CallbackRegistry = callbackRegistry();\n\n    let acsStream: LayoutsStream;\n\n    if (config.mode === \"full\" || \"fullWaitSnapshot\") {\n        acsStream = new ACSStream(config.agm, callbacks);\n    } else {\n        acsStream = streamNull();\n    }\n\n    return new Layouts(config, acsStream, callbacks, logger);\n}\n","import { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\nimport CallbackFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport CaptureOptions = Glue42.Displays.CaptureOptions;\n\nconst T42DisplayCommand = \"T42.Displays.Command\";\nconst T42DisplayOnEvent = \"T42.Displays.OnEvent\";\n\nexport default class DisplayManager implements Glue42.Displays.API {\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _registered = false;\n\n    constructor(\n        private _agm: Glue42Core.AGM.API,\n        private _logger: Glue42Core.Logger.API,\n    ) {\n        //\n    }\n\n    public all = async (): Promise<Glue42.Displays.Display[]> => {\n        const displays = await this.callGD<Glue42.Displays.Display[]>(DisplayCommand.GetAll, {});\n        return displays.map(this.decorateDisplay);\n    }\n\n    public get = async (id: number): Promise<Glue42.Displays.Display> => {\n        const display = await this.callGD<Glue42.Displays.Display>(DisplayCommand.Get, { id });\n        return this.decorateDisplay(display);\n    }\n\n    public getPrimary = async (): Promise<Glue42.Displays.Display> => {\n        const primary = (await this.all()).find((d) => d.isPrimary);\n        return primary;\n    }\n\n    public getByWindowId(id: string): Promise<Glue42.Displays.Display> {\n        const current = this.callGD<Glue42.Displays.Display>(DisplayCommand.GetByWindowId, { id });\n        return current;\n    }\n\n    public capture = async (options: CaptureOptions): Promise<string> => {\n        const screenshot = await this.callGD<string>(DisplayCommand.Capture, { ...options });\n        return screenshot;\n    }\n\n    public captureAll = async (options: Glue42.Displays.CaptureAllOptions): Promise<string | string[]> => {\n        const screenshots = await this.callGD<string | string[]>(DisplayCommand.CaptureAll, { ...options });\n        return screenshots;\n    }\n\n    public getMousePosition = async (): Promise<Glue42.Displays.Point> => {\n        const point = await this.callGD<Glue42.Displays.Point>(DisplayCommand.GetMousePosition);\n        return point;\n    }\n\n    public onDisplayChanged(cb: (displays: Glue42.Displays.Display[]) => void) {\n        this.register();\n        return this._registry.add(\"on-display-changed\", cb);\n    }\n\n    private callGD = async <T>(command: string, options?: object): Promise<T> => {\n        // Consider targeting only GD\n        const invocationResult = await this._agm.invoke(T42DisplayCommand, { options: { ...options }, command });\n        return invocationResult.returned.data;\n    }\n\n    private decorateDisplay = (original: Glue42.Displays.Display): Glue42.Displays.Display => {\n        const decoratedDisplay = {\n            ...original,\n            capture: (size: SizeOptions) => this.capture({ id: original.id, size })\n        };\n        const workAreaAsAny = decoratedDisplay.workArea as any;\n        workAreaAsAny.x = workAreaAsAny.left;\n        workAreaAsAny.y = decoratedDisplay.workArea.top;\n        return decoratedDisplay;\n    }\n\n    private register() {\n        if (this._registered) {\n            return;\n        }\n        this._registered = true;\n        this._agm.register(T42DisplayOnEvent, (args, caller) => {\n            const event = args.event;\n            const data = args.data;\n            switch (event) {\n                case \"display-changed\":\n                    this._registry.execute(\"on-display-changed\", data.displays.map(this.decorateDisplay));\n                    break;\n                default:\n                    this._logger.warn(`unknown event - ${event}`);\n                    break;\n            }\n        });\n    }\n}\n\ntype SizeOptions = Glue42.Displays.ScaleOptions | Glue42.Displays.AbsoluteSizeOptions;\n\nenum DisplayCommand {\n    Capture = \"capture\",\n    CaptureAll = \"captureAll\",\n    GetAll = \"getAll\",\n    Get = \"get\",\n    GetByWindowId = \"getByWindowId\",\n    GetMousePosition = \"getMousePosition\",\n}\n","import { Glue42 } from \"../../glue\";\nimport { ChannelsImpl } from \"./channels\";\n\nlet interop: Glue42.Interop.API;\nlet windowId: string;\n\nexport async function setupAGM(interopLib: Glue42.Interop.API, channels: ChannelsImpl) {\n    interop = interopLib;\n\n    if (typeof window !== \"undefined\") {\n        if (window.glue42gd) {\n            windowId = window.glue42gd.windowId;\n        }\n    }\n\n    if (!windowId) {\n        // not supported\n        return;\n    }\n\n    await interop.register(\"T42.Channels.Command\", (args: any) => {\n        const command = args.command;\n        if (!command) {\n            throw new Error(\"missing command argument\");\n        }\n        if (command === \"join\") {\n            const id = args.channel;\n            if (!id) {\n                throw new Error(\"missing argument id\");\n            }\n            // this is coming from GD (which means from selector switch, join without triggering selection change again)\n            channels.joinNoSelectorSwitch(id);\n            return;\n        }\n        if (command === \"leave\") {\n            channels.leaveNoSelectorSwitch();\n            return;\n        }\n        if (command === \"get\") {\n            const id = channels.current();\n            return { id };\n        }\n        throw new Error(`unknown command ${command}`);\n    });\n\n    // agm interface is available for SW windows only\n    interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\n}\n\nexport async function switchChannel(channel?: string, id?: string) {\n    interop.invoke(\"T42.Channels.Announce\", {\n        swId: id ?? windowId,\n        command: \"switchChannel\",\n        data: { newChannel: channel }\n    });\n}\n","import { Glue42 } from \"../../glue\";\n\nconst CONTEXT_PREFIX = \"___channel___\";\n\nexport class SharedContextSubscriber {\n    private unsubscribeFunc: () => void;\n    private callback: any;\n\n    constructor(private contexts: Glue42.Contexts.API) {\n    }\n\n    public subscribe(callback: any): void {\n        this.callback = callback;\n    }\n\n    public subscribeFor(name: string, callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): Promise<() => void> {\n        if (!this.isChannel(name)) {\n            return Promise.reject(new Error(`Channel with name: ${name} doesn't exist!`));\n        }\n\n        const contextName = this.createContextName(name);\n\n        return this.contexts.subscribe(contextName, (data, _, __, ___, extraData) => {\n            callback(data.data, data, extraData?.updaterId);\n        });\n    }\n\n    /** Unsubscribes from the current shared context, and subscribe to the passed one */\n    public async switchChannel(name: string): Promise<void> {\n        this.unsubscribe();\n        const contextName = this.createContextName(name);\n        this.unsubscribeFunc = await this.contexts.subscribe(contextName, (data, _, __, ___, extraData) => {\n            if (this.callback) {\n                this.callback(data.data, data, extraData?.updaterId);\n            }\n        });\n    }\n\n    public unsubscribe(): void {\n        if (this.unsubscribeFunc) {\n            this.unsubscribeFunc();\n        }\n    }\n\n    public all(): string[] {\n        const contextNames = this.contexts.all();\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(CONTEXT_PREFIX));\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.substr(CONTEXT_PREFIX.length));\n        return channelNames;\n    }\n\n    public getContextData(name: string): Promise<Glue42.Channels.ChannelContext> {\n        return new Promise((resolve, reject) => {\n            if (!this.isChannel(name)) {\n                return reject(new Error(`A channel with name: ${name} doesn't exist!`));\n            }\n\n            const contextName = this.createContextName(name);\n\n            this.contexts.subscribe(contextName, (data) => {\n                resolve(data);\n            }).then((unsubscribeFunc) => unsubscribeFunc());\n        });\n    }\n\n    public updateChannel(name: string, data: { name: string, meta: any, data: any }): Promise<void> {\n        const contextName = this.createContextName(name);\n        return this.contexts.update(contextName, data);\n    }\n\n    public updateData(name: string, data: any) {\n        const contextName = this.createContextName(name);\n        if (this.contexts.setPathSupported) {\n            const pathValues: Glue42.Contexts.PathValue[] = Object.keys(data).map((key) => {\n                return {\n                    path: `data.` + key,\n                    value: data[key]\n                };\n            });\n            return this.contexts.setPaths(contextName, pathValues);\n        } else {\n            // pre 3.10, note that we update the data property only\n            return this.contexts.update(contextName, { data });\n        }\n    }\n\n    public isChannel(name: string): boolean {\n        return this.all().some((channelName) => channelName === name);\n    }\n\n    private createContextName(name: string): string {\n        return CONTEXT_PREFIX + name;\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { default as CallbackRegistryFactory, CallbackRegistry } from \"callback-registry\";\nimport { SharedContextSubscriber } from \"./contexts\";\nimport { switchChannel } from \"./agm\";\n\nexport class ChannelsImpl implements Glue42.Channels.API {\n    private subsKey = \"subs\";\n    private changedKey = \"changed\";\n    private isInitialJoin = true;\n\n    private registry: CallbackRegistry = CallbackRegistryFactory();\n    private currentContext: string;\n\n    constructor(private shared: SharedContextSubscriber, private interop: Glue42.Interop.API, private getWindows: () => Glue42.Windows.API, private logger: Glue42.Logger.API) {\n        this.shared.subscribe(this.handler.bind(this));\n\n        if (typeof window !== \"undefined\" && typeof window.glue42gd !== \"undefined\") {\n            this.currentContext = (window.glue42gd as any).initialChannel;\n            if (this.currentContext) {\n                this.joinNoSelectorSwitch(this.currentContext);\n            }\n        }\n    }\n\n    public subscribe(callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): () => void {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n        return this.registry.add(this.subsKey, callback);\n    }\n\n    public async subscribeFor(name: string, callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): Promise<() => void> {\n        if (typeof name !== \"string\") {\n            throw new Error(\"Please provide the name as a string!\");\n        }\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n        const unsubscribeFunc = await this.shared.subscribeFor(name, callback);\n        return unsubscribeFunc;\n    }\n\n    public async publish(data: object, name?: string): Promise<void> {\n        if (typeof data !== \"object\") {\n            throw new Error(\"Please provide the data as an object!\");\n        }\n\n        if (name) {\n            if (typeof name !== \"string\") {\n                throw new Error(\"Please provide the name as a string!\");\n            }\n\n            if (!this.shared.isChannel(name)) {\n                return Promise.reject(new Error(`A channel with name: ${name} doesn't exist!`));\n            }\n\n            return this.shared.updateData(name, data);\n        }\n\n        if (!this.currentContext) {\n            throw new Error(\"Not joined to any channel!\");\n        }\n        return this.shared.updateData(this.currentContext, data);\n    }\n\n    public all(): Promise<string[]> {\n        const channelNames = this.shared.all();\n        return Promise.resolve(channelNames);\n    }\n\n    public async list(): Promise<Glue42.Channels.ChannelContext[]> {\n        const channelNames = await this.all();\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\n        return channelContexts;\n    }\n\n    public get(name: string): Promise<Glue42.Channels.ChannelContext> {\n        if (typeof name !== \"string\") {\n            return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\n        }\n\n        return this.shared.getContextData(name);\n    }\n\n    /* Returns info about my channel */\n    public getMy(): Promise<Glue42.Channels.ChannelContext> {\n        if (!this.currentContext) {\n            return Promise.resolve(undefined);\n        }\n        return this.get(this.currentContext);\n    }\n\n    public async join(name: string): Promise<void> {\n        return this.joinCore(name);\n    }\n\n    public async joinNoSelectorSwitch(name: string): Promise<void> {\n        return this.joinCore(name, false);\n    }\n\n    public leave() {\n        return this.leaveCore();\n    }\n\n    public leaveNoSelectorSwitch() {\n        return this.leaveCore(false);\n    }\n\n    public current(): string {\n        return this.currentContext;\n    }\n\n    public my(): string {\n        return this.current();\n    }\n\n    public changed(callback: (channel: string) => void): () => void {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n\n        return this.registry.add(this.changedKey, callback);\n    }\n\n    public onChanged(callback: (channel: string) => void): () => void {\n        return this.changed(callback);\n    }\n\n    public async add(info: Glue42.Channels.ChannelContext): Promise<Glue42.Channels.ChannelContext> {\n        if (typeof info !== \"object\") {\n            throw new Error(\"Please provide the info as an object!\");\n        }\n        if (typeof info.name === \"undefined\") {\n            throw new Error(\"info.name is missing!\");\n        }\n        if (typeof info.name !== \"string\") {\n            throw new Error(\"Please provide the info.name as a string!\");\n        }\n        if (typeof info.meta === \"undefined\") {\n            throw new Error(\"info.meta is missing!\");\n        }\n        if (typeof info.meta !== \"object\") {\n            throw new Error(\"Please provide the info.meta as an object!\");\n        }\n        if (typeof info.meta.color === \"undefined\") {\n            throw new Error(\"info.meta.color is missing!\");\n        }\n        if (typeof info.meta.color !== \"string\") {\n            throw new Error(\"Please provide the info.meta.color as a string!\");\n        }\n\n        const context: Glue42.Channels.ChannelContext = {\n            name: info.name,\n            meta: info.meta || {},\n            data: info.data || {}\n        };\n\n        // Note that we use `update` instead of `add` so that if the channel already exists we don't overwrite it.\n        await this.shared.updateChannel(info.name, context);\n\n        return context;\n    }\n\n    public async getWindowsOnChannel(channel: string): Promise<Glue42.Windows.GDWindow[]> {\n        const windowInfos = await this.getWindowsWithChannels({ channels: [channel] });\n        return windowInfos.map((w) => w.window);\n    }\n\n    public async getWindowsWithChannels(filter: Glue42.Channels.WindowWithChannelFilter): Promise<Glue42.Channels.WindowOnChannelInfo[]> {\n        try {\n            const info = await this.interop.invoke<{ windows: Array<{ windowId: string, channel: string, application: string }> }>(\"T42.Channels.Announce\", { command: \"getChannelsInfo\", data: { filter } });\n            const windows = this.getWindows();\n            if (info?.returned?.windows) {\n                return info.returned.windows.map((windowInfo) => {\n                    const window = windows.findById(windowInfo.windowId);\n                    return {\n                        window,\n                        channel: windowInfo.channel,\n                        application: windowInfo.application\n                    };\n                });\n            }\n        } catch (er) {\n            this.logger.error(`Error getting all channel enabled windows. This method is available since Glue42 3.12`, er);\n        }\n        return [];\n    }\n\n    private handler(data: object, context: Glue42.Channels.ChannelContext, updaterId: string): any {\n        this.registry.execute(this.subsKey, data, context, updaterId);\n    }\n\n    private async joinCore(name: string, changeSelector: boolean = true) {\n        if (typeof name !== \"string\") {\n            throw new Error(\"Please provide the channel name as a string!\");\n        }\n\n        if (!this.isInitialJoin && name === this.currentContext) {\n            // ignore joining the channel that we're already on, except when this is the very first call\n            return;\n        }\n        this.isInitialJoin = false;\n\n        // Checks if a channel exists with the provided name.\n        const doesChannelExist = (channelName: string): boolean => {\n            const channelNames = this.shared.all();\n            return channelNames.includes(channelName);\n        };\n\n        // Wait for 3k ms for the channel to appear if it doesn't already exist.\n        if (!doesChannelExist(name)) {\n            const channelExistsPromise = new Promise<void>((resolve, reject) => {\n                let timeoutId: NodeJS.Timeout;\n\n                // Check every 100 ms for a channel with the provided name.\n                const intervalId = setInterval(() => {\n                    if (doesChannelExist(name)) {\n                        clearTimeout(timeoutId);\n                        clearInterval(intervalId);\n                        resolve();\n                    }\n                }, 100);\n\n                timeoutId = setTimeout(() => {\n                    clearInterval(intervalId);\n\n                    return reject(new Error(`A channel with name: ${name} doesn't exist!`));\n                }, 3000);\n            });\n\n            await channelExistsPromise;\n        }\n\n        this.currentContext = name;\n        await this.shared.switchChannel(name);\n        if (changeSelector) {\n            switchChannel(name);\n        }\n        this.registry.execute(this.changedKey, name);\n    }\n\n    private leaveCore(changeSelector = true): Promise<void> {\n        this.currentContext = undefined;\n        this.registry.execute(this.changedKey, undefined);\n        this.shared.unsubscribe();\n        if (changeSelector) {\n            switchChannel();\n        }\n        return Promise.resolve();\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { setupAGM } from \"./agm\";\nimport { SharedContextSubscriber } from \"./contexts\";\nimport { ChannelsImpl } from \"./channels\";\n\nexport function factory(contexts: Glue42.Contexts.API, agm: Glue42.AGM.API, getWindows: () => Glue42.Windows.API, logger: Glue42.Logger.API): Glue42.Channels.API & { ready: () => Promise<void>; } {\n    const sharedContexts = new SharedContextSubscriber(contexts);\n    const channels = new ChannelsImpl(sharedContexts, agm, getWindows, logger);\n\n    setupAGM(agm, channels);\n\n    return {\n        subscribe: channels.subscribe.bind(channels),\n        subscribeFor: channels.subscribeFor.bind(channels),\n        publish: channels.publish.bind(channels),\n        all: channels.all.bind(channels),\n        list: channels.list.bind(channels),\n        get: channels.get.bind(channels),\n        join: channels.join.bind(channels),\n        leave: channels.leave.bind(channels),\n        // @ignore-ed, but kept for backwards compatibility.\n        current: channels.current.bind(channels),\n        my: channels.my.bind(channels),\n        // @ignore-ed, but kept for backwards compatibility.\n        changed: channels.changed.bind(channels),\n        onChanged: channels.onChanged.bind(channels),\n        // @ignore-ed as currently not entirely supported by the framework.\n        add: channels.add.bind(channels),\n        getWindowsOnChannel: channels.getWindowsOnChannel.bind(channels),\n        getWindowsWithChannels: channels.getWindowsWithChannels.bind(channels),\n        getMy: channels.getMy.bind(channels),\n        ready: () => (contexts as any).ready()\n    };\n}\n","import { Glue42 } from \"../../glue\";\r\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\n\r\nconst CommandMethod = \"T42.Hotkeys.Command\";\r\nconst InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n\r\nconst RegisterCommand = \"register\";\r\nconst UnregisterCommand = \"unregister\";\r\nconst UnregisterAllCommand = \"unregisterAll\";\r\n\r\nexport class HotkeysImpl implements Glue42.Hotkeys.API {\r\n\r\n    private registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private firstHotkey = true;\r\n    private hotkeys = new Map<string, Glue42.Hotkeys.HotkeyInfo>();\r\n\r\n    constructor(private agm: Glue42.AGM.API) {\r\n    }\r\n\r\n    public async register(info: string | Glue42.Hotkeys.HotkeyInfo, callback: Glue42.Hotkeys.HotkeyCallback): Promise<void> {\r\n        if (typeof info === \"undefined\") {\r\n            throw new Error(\"Hotkey parameter missing\");\r\n        }\r\n\r\n        if (typeof info === \"string\") {\r\n            info = {\r\n                hotkey: info\r\n            };\r\n        } else {\r\n            if (!info.hotkey) {\r\n                throw new Error(\"Info's hotkey parameter missing\");\r\n            }\r\n\r\n            info = {\r\n                hotkey: info.hotkey,\r\n                description: info.description\r\n            };\r\n        }\r\n\r\n        const hkToLower = this.formatHotkey(info.hotkey);\r\n        if (this.hotkeys.has(hkToLower)) {\r\n            throw new Error(`Shortcut for ${hkToLower} already registered`);\r\n        }\r\n\r\n        // if very first a hotkey is registered by this application register invoke AGM method\r\n        if (this.firstHotkey) {\r\n            this.firstHotkey = false;\r\n            await this.registerInvokeAGMMethod();\r\n        }\r\n        // store the callback\r\n        this.registry.add(hkToLower, callback);\r\n\r\n        // invoke GD method\r\n        await this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description });\r\n\r\n        this.hotkeys.set(hkToLower, info);\r\n    }\r\n\r\n    public async unregister(hotkey: string): Promise<void> {\r\n        if (typeof hotkey === \"undefined\") {\r\n            throw new Error(\"hotkey parameter missing\");\r\n        }\r\n\r\n        if (typeof hotkey !== \"string\") {\r\n            throw new Error(\"hotkey parameter must be string\");\r\n        }\r\n\r\n        const hkToLower = this.formatHotkey(hotkey);\r\n        await this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower });\r\n        this.hotkeys.delete(hkToLower);\r\n        this.registry.clearKey(hkToLower);\r\n    }\r\n\r\n    public async unregisterAll(): Promise<void> {\r\n        await this.agm.invoke(CommandMethod, { command: UnregisterAllCommand });\r\n        this.hotkeys.clear();\r\n        this.registry.clear();\r\n    }\r\n\r\n    /**\r\n     * Whether this application has registered accelerator.\r\n     * @param hotkey\r\n     */\r\n    public isRegistered(hotkey: string): boolean {\r\n        const hkToLower = this.formatHotkey(hotkey);\r\n        return this.hotkeys.has(hkToLower);\r\n    }\r\n\r\n    private registerInvokeAGMMethod(): void {\r\n        this.agm.register(InvokeMethod, (args: {\r\n            key: string;\r\n        }) => {\r\n            const hkToLower = args.key.toLowerCase();\r\n            const info = this.hotkeys.get(hkToLower);\r\n            this.registry.execute(hkToLower, info);\r\n        });\r\n    }\r\n\r\n    private formatHotkey(hotkey: string): string {\r\n        if (hotkey) {\r\n            return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n        }\r\n    }\r\n}\r\n","import { Glue42 } from \"../../glue\";\nimport { HotkeysImpl } from \"./hotkeys\";\n\nexport function factory(agm: Glue42.AGM.API): Glue42.Hotkeys.API & { ready: () => Promise<void>; } {\n    const hotkeys = new HotkeysImpl(agm);\n\n    return {\n        register: hotkeys.register.bind(hotkeys),\n        unregister: hotkeys.unregister.bind(hotkeys),\n        unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\n        isRegistered: hotkeys.isRegistered.bind(hotkeys),\n\n        ready: () => Promise.resolve()\n    };\n}\n","import { Glue42 } from \"../glue\";\nimport { ActivitiesLibConfigObject, LibConfigObject, InternalConfig, LayoutsLibConfigObject, AppManagerLibConfigObject } from \"./types\";\n\ninterface InputModeObject {\n    mode?: boolean | string;\n    logger?: Glue42.LoggerConfig;\n}\n\nexport default (options: Glue42.Config): InternalConfig => {\n\n    // Possible options per lib (this is InputLibConfig type)\n    // * false - library is disabled (e.g. config.appManager = false)\n    // * true - library is enabled in running in default mode (e.g config.appManager = true).\n    //          Exception is if default mode is false - in that case it runs default true mode.\n    // * string - start in some mode (e.g. config.appManager = \"full\")\n    // * object - allows further customization (e.g config.appManager = {mode: \"full\", someSetting: 42})\n    //\n    // Some libs support different running modes, some do not.\n    //\n    // Currently defaults are:\n    // appManager: disabled\n    // layouts: enabled in 'slim' mode\n    // activities: enabled in 'trackMyTypeAndInitiatedFromMe' mode\n    // windows: enabled (does not support modes)\n    //\n    // InputLibConfig is transformed to LibConfigObject\n\n    type InputLibConfig = boolean | string | InputModeObject;\n\n    /**\n     * Transforms InputLibConfig (the config as specified from the user)\n     * to LibConfigObject(internal library configuration)\n     */\n    function getLibConfig<T extends LibConfigObject<string>>(value: InputLibConfig, defaultMode: boolean | string, trueMode?: boolean | string): T {\n\n        // if value is false return undefined\n        if (typeof value === \"boolean\" && !value) {\n            return undefined;\n        }\n\n        // find the mode of the library\n        const mode = getModeAsString(value, defaultMode, trueMode);\n\n        // if object we will replace the mode because appManager = {mode: true, setting: 42}\n        // should be turned into appManager = {mode: 'slim', setting: 42}\n        if (typeof value === \"object\") {\n            value.mode = mode;\n            return value as T;\n        }\n\n        return {\n            mode,\n        } as T;\n    }\n\n    /**\n     * Finds the mode based for a given library\n     * 1. If object we call recursively using object.mode for value\n     * 1. If the user hasn't specified anything we use the hard coded defaults\n     * 3. If the value is false or it got defaulted to false, we return undefined\n     * 4. If the value is true we return trueMode or defaultMode (if trueMode is undefined)\n     */\n    function getModeAsString(value: InputLibConfig, defaultMode: boolean | string, trueMode?: boolean | string): string {\n\n        if (typeof value === \"object\") {\n            // 1. if object\n            return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\n        } else if (typeof value === \"undefined\") {\n            // 2. if the user does not pass anything\n            if (typeof defaultMode === \"boolean\" && !defaultMode) {\n                // 3. if gets defaulted to false, the library should be off\n                return undefined;\n            } else {\n                return defaultMode + \"\";\n            }\n        } else if (typeof value === \"boolean\") {\n            // 4. if the user passes true, use trueMode or defaultMode\n            if (value) {\n                // if the user passes true, use trueMode or defaultMode\n                return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\n            } else {\n                // 3. if the user passes false, the library should be off\n                return undefined;\n            }\n        }\n\n        return value + \"\";\n    }\n\n    const appDefaultMode = false;\n    const appDefaultTrueMode = \"startOnly\";\n\n    const activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\n\n    const layoutsDefaultMode = \"slim\";\n\n    return {\n        layouts: getLibConfig<LayoutsLibConfigObject>(options.layouts, layoutsDefaultMode),\n        activities: getLibConfig<ActivitiesLibConfigObject>(options.activities, activitiesDefaultMode),\n        appManager: getLibConfig<AppManagerLibConfigObject>(options.appManager, appDefaultMode, appDefaultTrueMode),\n        windows: getLibConfig<LibConfigObject<string>>(options.windows, true),\n        channels: getLibConfig<LibConfigObject<string>>(options.channels || false, false),\n        displays: getLibConfig<LibConfigObject<string>>(options.displays, true)\n    };\n};\n","import { Glue42 } from \"../../glue\";\nimport callbackRegistry, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\n\nexport class Glue42Notification implements Glue42.Notifications.Glue42Notification {\n    public readonly actions: Glue42.Notifications.Glue42NotificationAction[];\n    public badge: string;\n    public body: string;\n    public data: any;\n    public dir: NotificationDirection;\n    public icon: string;\n    public image: string;\n    public lang: string;\n    public renotify: boolean;\n    public requireInteraction: boolean;\n    public silent: boolean;\n    public tag: string;\n    public timestamp: number;\n    public title: string;\n    public readonly vibrate: number[];\n\n    public onclick: ((this: Notification, ev: Event) => any) | null;\n    public onclose: ((this: Notification, ev: Event) => any) | null;\n    public onerror: ((this: Notification, ev: Event) => any) | null;\n    public onshow: ((this: Notification, ev: Event) => any) | null;\n    public onaction: ((this: Notification, ev: Glue42.Notifications.ActionEvent) => any) | null;\n\n    private callbacks: CallbackRegistry = callbackRegistry();\n\n    public constructor(public options: Glue42.Notifications.Glue42NotificationOptions) {\n        this.actions = options.actions;\n        this.body = options.body;\n        this.badge = options.badge;\n        this.data = options.data;\n        this.dir = options.dir;\n        this.icon = options.icon;\n        this.image = options.image;\n        this.lang = options.lang;\n        this.renotify = options.renotify;\n        this.requireInteraction = options.requireInteraction;\n        this.silent = options.silent;\n        this.tag = options.tag;\n        this.timestamp = options.timestamp;\n        this.title = options.title;\n    }\n\n    public close(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n    public addEventListener<K extends \"click\" | \"close\" | \"error\" | \"show\">(type: K, listener: (this: Notification, ev: NotificationEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void;\n    public addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    public addEventListener(type: any, listener: any, options?: any) {\n        this.callbacks.add(type, listener);\n    }\n    public removeEventListener<K extends \"click\" | \"close\" | \"error\" | \"show\">(type: K, listener: (this: Notification, ev: NotificationEventMap[K]) => any, options?: boolean | EventListenerOptions): void;\n    public removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;\n    public removeEventListener(type: any, listener: any, options?: any) {\n        // DO NOTHING FOR NOW\n    }\n    public dispatchEvent(event: Event): boolean {\n        this.callbacks.execute(event.type, event);\n        return true;\n    }\n}\n","import { Glue42 } from \"../../glue\";\n\nexport class PanelAPI implements Glue42.Notifications.NotificationPanelAPI {\n    constructor(private interop: Glue42.Interop.API) {\n    }\n\n    public toggle(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Show\");\n    }\n    public show(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Show\", { show: true });\n    }\n    public hide(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Hide\");\n    }\n    public isVisible(): Promise<boolean> {\n        throw new Error(\"Method not implemented.\");\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { Glue42Notification } from \"./notification\";\nimport { GnsNotificationSettings, GnsNotificationActionSettings, GnsNotificationActionPayload } from \"./types\";\nimport generate from \"shortid\";\nimport { PanelAPI } from \"./panel\";\nconst STARTING_INDEX = 0;\n\nexport class Notifications implements Glue42.Notifications.API {\n    public panel: PanelAPI;\n\n    private methodsRegistered: boolean = false;\n    private readonly methodNameRoot = \"T42.Notifications.Handler-\" + generate();\n    private nextId = 0;\n    private notifications: { [id: string]: Glue42Notification } = {};\n\n    constructor(private interop: Glue42.Interop.API) {\n        this.panel = new PanelAPI(interop);\n    }\n\n    public get maxActions(): number {\n        return 2;\n    }\n\n    public async raise(options: Glue42.Notifications.Glue42NotificationOptions): Promise<Glue42.Notifications.Glue42Notification> {\n        if (!options) {\n            throw new Error(\"invalid options - should be an object\");\n        }\n        if (!options.title) {\n            throw new Error(\"invalid options - should have title\");\n        }\n        if (!this.methodsRegistered) {\n            const bunchOfPromises = [];\n            for (let index = STARTING_INDEX; index < this.maxActions; index++) {\n                bunchOfPromises.push(\n                    this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this))\n                );\n            }\n\n            await Promise.all(bunchOfPromises);\n            this.methodsRegistered = true;\n        }\n\n        // transform actions\n        const id = String(this.nextId++);\n        const type = options.type ?? \"Notification\";\n        const notification: GnsNotificationSettings = {\n            title: options.title,\n            type,\n            severity: options.severity ?? \"None\",\n            description: options.body,\n            glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\n            actions: [],\n            sourceId: id,\n            source: options.source\n        };\n\n        if (options.actions) {\n            const validActions = options.actions.slice(0, this.maxActions);\n\n            let index = STARTING_INDEX;\n            for (const action of validActions) {\n                const args: GnsNotificationActionPayload = { // this should include user arguments (action.interop?.arguments)\n                    g42notificationId: id,\n                    g42action: action.action,\n                    g42interopMethod: action.interop?.method,\n                    g42interopTarget: action.interop?.target,\n                };\n                // TODO, properly convert between args and GNS value\n                const parameters = Object.keys(args).map((key) => {\n                    const value = (args as any)[key];\n                    return {\n                        name: key,\n                        value: {\n                            stringValue: value\n                        }\n                    };\n                });\n\n                const glueAction: GnsNotificationActionSettings = {\n                    name: this.methodNameRoot + \"_\" + index,\n                    description: action.title,\n                    displayName: action.title,\n                    parameters\n                };\n\n                notification.actions.push(glueAction);\n                index++;\n            }\n        }\n\n        if (options.icon) {\n            notification.attributes = notification.attributes || [];\n            notification.attributes.push(\n                { key: \"icon\", value: { stringValue: options.icon } }\n            );\n        }\n\n        if (options.data) {\n            notification.attributes = notification.attributes || [];\n            const dataAsString = JSON.stringify(options.data);\n            notification.attributes.push(\n                { key: \"data\", value: { stringValue: dataAsString } }\n            );\n        }\n\n        await this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification });\n\n        const g42notification = new Glue42Notification(options);\n        this.notifications[id] = g42notification;\n        return g42notification;\n    }\n\n    public async setFilter(filter: Glue42.Notifications.NotificationFilter): Promise<Glue42.Notifications.NotificationFilter> {\n        const result = await this.interop.invoke(\"T42.Notifications.Filter\", filter);\n        return result.returned;\n    }\n\n    public async getFilter(): Promise<Glue42.Notifications.NotificationFilter> {\n        const result = await this.interop.invoke(\"T42.Notifications.Filter\");\n        return result.returned;\n    }\n\n    private handleNotificationAction(args: any) {\n        if (args.g42notificationId) {\n            // action click\n            const payload: GnsNotificationActionPayload = args as GnsNotificationActionPayload;\n            const id = payload.g42notificationId;\n            const notification = this.notifications[id];\n            if (!notification) {\n                return;\n            }\n\n            // user event\n            const event = new Event(\"onaction\");\n            (event as Glue42.Notifications.ActionEvent).action = payload.g42action;\n            if (notification.onaction) {\n                notification.onaction(event as Glue42.Notifications.ActionEvent);\n            }\n\n            // interop\n            const actionDefinition = (notification.actions || []).find((item) => item.action === payload.g42action);\n            const actionInterop = actionDefinition.interop;\n            if (actionInterop) {\n                this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\n            }\n\n            // dispatch\n            notification.dispatchEvent(event);\n        } else if (args.notification && args.notification.sourceNotificationId) {\n            // notification click\n            const id = args.notification.sourceNotificationId;\n            const notification = this.notifications[id];\n            if (!notification) {\n                return;\n            }\n\n            // user event\n            const event = new Event(\"onclick\");\n            if (notification.onclick) {\n                notification.onclick(event);\n            }\n\n            // interop call\n            const clickInterop = notification.options.clickInterop;\n            if (clickInterop) {\n                this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\n            }\n\n            // dispatch\n            notification.dispatchEvent(event);\n        }\n    }\n}\n","import CallbackRegistryFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { Glue42 } from \"../../glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nconst ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\ninterface ThemesConfiguration {\r\n    setThemesMethodName: string;\r\n    getThemesMethodName: string;\r\n    sharedContextName: string;\r\n    getThemesConfigurationMethodName: string;\r\n}\r\ninterface GetResult {\r\n    all: Glue42.Themes.Theme[];\r\n    selected: string;\r\n}\r\nexport class ThemesImpl implements Glue42.Themes.API {\r\n    private registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private sharedContextName: string;\r\n    private getMethodName: string;\r\n    private setMethodName: string;\r\n    private isSubscribed = false;\r\n\r\n    constructor(private core: Glue42Core.GlueCore) {\r\n        this.getConfiguration();\r\n    }\r\n\r\n    public async list(): Promise<Glue42.Themes.Theme[]> {\r\n        await this.getConfiguration();\r\n        if (!this.getMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n        return (await this.getAll()).returned.all;\r\n    }\r\n\r\n    public async getCurrent(): Promise<Glue42.Themes.Theme> {\r\n        await this.getConfiguration();\r\n        if (!this.getMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n        const all = await this.getAll();\r\n        return all.returned.all.find((t) => t.name === all.returned.selected);\r\n    }\r\n\r\n    public async select(theme: string): Promise<void> {\r\n        await this.getConfiguration();\r\n        if (!this.setMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n\r\n        await this.core.interop.invoke(this.setMethodName, { theme });\r\n    }\r\n\r\n    public onChanged(callback: (theme: Glue42.Themes.Theme) => any): UnsubscribeFunction {\r\n        this.subscribe();\r\n        return this.registry.add(\"changed\", callback);\r\n    }\r\n\r\n    private async getConfiguration() {\r\n        try {\r\n            if (this.sharedContextName) {\r\n                return;\r\n            }\r\n            const config = await this.core.interop.invoke<ThemesConfiguration>(ThemesConfigurationMethodName);\r\n            this.sharedContextName = config.returned.sharedContextName;\r\n            this.getMethodName = config.returned.getThemesMethodName;\r\n            this.setMethodName = config.returned.setThemesMethodName;\r\n        } catch (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private async getAll() {\r\n        await this.getConfiguration();\r\n        return await this.core.interop.invoke<GetResult>(this.getMethodName);\r\n    }\r\n\r\n    private async subscribe() {\r\n        await this.getConfiguration();\r\n        if (this.isSubscribed) {\r\n            return;\r\n        }\r\n        this.isSubscribed = true;\r\n        this.core.contexts.subscribe(this.sharedContextName, (data: { all: Glue42.Themes.Theme[], selected: string }) => {\r\n            if (data && data.all && data.selected) {\r\n                this.registry.execute(\"changed\", data.all.find((t) => t.name === data.selected));\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { Glue42 } from \"../../glue\";\r\nimport { ThemesImpl } from \"./themes\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport function factory(core: Glue42Core.GlueCore): Glue42.Themes.API & { ready: () => Promise<void>; } {\r\n    const themes = new ThemesImpl(core);\r\n\r\n    return {\r\n        list: themes.list.bind(themes),\r\n        getCurrent: themes.getCurrent.bind(themes),\r\n        select: themes.select.bind(themes),\r\n        onChanged: themes.onChanged.bind(themes),\r\n        ready: () => Promise.resolve(),\r\n    };\r\n}\r\n","import { Glue42 } from \"../../glue\";\nimport { AppDefinition, GetWindowsInfoResult, GetWindowsInfoResultItem, IntentInfo } from \"./types\";\n\nconst GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\n\nexport class Intents implements Glue42.Intents.API {\n    constructor(private interop: Glue42.Interop.API, private windows: Glue42.Windows.API, private logger: Glue42.Logger.API) {\n    }\n\n    public async find(intentFilter?: string | Glue42.Intents.IntentFilter): Promise<Glue42.Intents.Intent[]> {\n        let intents = await this.all();\n        if (typeof intentFilter === \"undefined\") {\n            return intents;\n        }\n\n        if (typeof intentFilter === \"string\") {\n            return intents.filter((intent) => intent.name === intentFilter);\n        }\n\n        if (typeof intentFilter !== \"object\") {\n            throw new Error(\"Please provide the intentFilter as a string or an object!\");\n        }\n\n        if (intentFilter.contextType) {\n            const ctToLower = intentFilter.contextType.toLowerCase();\n            intents = intents.filter((intent) => intent.handlers.some((handler) => handler.contextTypes?.some((ct) => ct.toLowerCase() === ctToLower)));\n        }\n\n        if (intentFilter.name) {\n            intents = intents.filter((intent) => intent.name === intentFilter.name);\n        }\n\n        return intents;\n    }\n\n    public async raise(intent: string | Glue42.Intents.IntentRequest): Promise<Glue42.Intents.IntentResult> {\n        if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\n            throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\n        }\n\n        if (typeof intent === \"string\") {\n            intent = {\n                intent\n            };\n        }\n\n        const intentName = intent.intent;\n        const intentDef = await this.get(intentName);\n\n        if (typeof intentDef === \"undefined\") {\n            throw new Error(`Intent ${intentName} not found.`);\n        }\n\n        const isDynamicIntent = !intentDef.handlers.some((intentDefHandler) => intentDefHandler.type === \"app\");\n\n        // Default to \"reuse\" in the case of a dynamic intent and to \"startNew\" if target isn't provided.\n        const target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\n        // The handler that will execute the intent.\n        let handler: Glue42.Intents.IntentHandler;\n        const anAppHandler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"app\");\n        if (target === \"startNew\") {\n            handler = anAppHandler;\n        } else if (target === \"reuse\") {\n            const anInstanceHandler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"instance\");\n            handler = anInstanceHandler || anAppHandler;\n        } else if (target.instance) {\n            handler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance);\n        } else if (target.app) {\n            handler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"app\" && intentHandler.applicationName === target.app);\n        } else {\n            throw new Error(`Invalid intent target: ${JSON.stringify(target)}`);\n        }\n\n        if (!handler) {\n            throw new Error(`Can not raise intent for request ${JSON.stringify(intent)} - can not find intent handler.`);\n        }\n\n        let instanceId = handler.instanceId;\n        if (handler.type === \"app\") {\n            instanceId = await this.startApp(handler.applicationName, intent.options);\n        }\n\n        const result: Partial<Glue42.Intents.IntentResult> = await this.raiseIntentToInstance(instanceId, intentName, intent.context);\n        result.request = intent;\n        result.handler = handler;\n\n        return result as Glue42.Intents.IntentResult;\n    }\n\n    public async all(): Promise<Glue42.Intents.Intent[]> {\n        // Gathers all intents from:\n        // 1. Application definitions\n        // 2. Running instances (application can register dynamic intents by calling `addIntentListener()` that aren't predefined inside of their application definitions)\n        // It also populates intent handlers (actual entities that can handle the intent).\n        let apps: AppDefinition[];\n        try {\n            const result = await this.interop.invoke<{ applications: AppDefinition[] }>(\"T42.ACS.GetApplications\", { withIntentsInfo: true });\n            apps = result.returned.applications;\n        } catch (e) {\n            this.logger.error(`Failed to get the applications!`, e);\n            return [];\n        }\n        const intents: { [key: string]: Glue42.Intents.Intent } = {};\n        const appsWithIntents = apps.filter((app) => app.intents && app.intents.length > 0);\n        //  Gather app handlers from application definitions.\n        for (const app of appsWithIntents) {\n            for (const intentDef of app.intents) {\n                let intent = intents[intentDef.name];\n                if (!intent) {\n                    intent = {\n                        name: intentDef.name,\n                        handlers: [],\n                    };\n                    intents[intentDef.name] = intent;\n                }\n\n                const handler: Glue42.Intents.IntentHandler = {\n                    applicationName: app.name,\n                    applicationTitle: app.title || \"\",\n                    applicationDescription: app.caption,\n                    displayName: intentDef.displayName,\n                    contextTypes: intentDef.contexts,\n                    applicationIcon: app.icon,\n                    type: \"app\"\n                };\n\n                intent.handlers.push(handler);\n            }\n        }\n\n        const servers = this.interop.servers();\n        const serverWindowIds = servers.map((server) => server.windowId).filter((serverWindowId) => typeof serverWindowId !== \"undefined\");\n\n        const T42WndGetInfo = \"T42.Wnd.GetInfo\";\n        const isT42WndGetInfoMethodRegistered = this.interop.methods().some((method) => method.name === T42WndGetInfo);\n\n        let windowsInfos: GetWindowsInfoResultItem[];\n        // For backwards compatibility with previous versions of Glue Desktop, the windows' titles will be attempted to be obtained using the Windows API.\n        if (isT42WndGetInfoMethodRegistered) {\n            try {\n                const result = await this.interop.invoke<GetWindowsInfoResult>(T42WndGetInfo, { ids: serverWindowIds });\n                windowsInfos = result.returned.windows;\n            } catch (e) {\n                // Swallow the error. The windows' titles will be attempted to be obtained using the Windows API.\n            }\n        }\n\n        // Discover all running instances that provide intents, and add them to the corresponding intent.\n        for (const server of servers) {\n            await Promise.all(server.getMethods()\n                .filter((method) => method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX))\n                .map(async (method) => {\n                    const intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\n                    let intent = intents[intentName];\n                    if (!intent) {\n                        intent = {\n                            name: intentName,\n                            handlers: [],\n                        };\n                        intents[intentName] = intent;\n                    }\n                    const info = method.flags.intent as Omit<Glue42.Intents.AddIntentListenerRequest, \"intent\">;\n\n                    const app = apps.find((appWithIntents) => appWithIntents.name === server.application);\n                    let appIntent: IntentInfo | undefined;\n                    if (app && app.intents) {\n                        appIntent = app.intents.find((appDefIntent) => appDefIntent.name === intentName);\n                    }\n\n                    const title = await this.windowsIdToTitle(server.windowId, windowsInfos);\n                    const handler: Glue42.Intents.IntentHandler = {\n                        instanceId: server.instance,\n                        applicationName: server.application,\n                        applicationIcon: info.icon || app?.icon,\n                        applicationTitle: app?.title || \"\",\n                        applicationDescription: info.description || app?.caption,\n                        displayName: info.displayName || appIntent?.displayName,\n                        contextTypes: info.contextTypes || appIntent?.contexts,\n                        instanceTitle: title,\n                        type: \"instance\"\n                    };\n                    intent.handlers.push(handler);\n                }));\n        }\n\n        return Object.values(intents);\n    }\n\n    public addIntentListener(intent: string | Glue42.Intents.AddIntentListenerRequest, handler: (context: Glue42.Intents.IntentContext) => any): { unsubscribe: () => void } {\n        if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\n            throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\n        }\n        if (typeof handler !== \"function\") {\n            throw new Error(\"Please provide the handler as a function!\");\n        }\n\n        // `addIntentListener()` is sync.\n        // tslint:disable-next-line:no-console\n        const result: { unsubscribe: () => void } = { unsubscribe: () => console.log(\"Could not unsubscribe!\") };\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\n        const methodName = `${GLUE42_FDC3_INTENTS_METHOD_PREFIX}${intentName}`;\n        let intentFlag: Omit<Glue42.Intents.AddIntentListenerRequest, \"intent\"> = {};\n\n        if (typeof intent === \"object\") {\n            const { intent: removed, ...rest } = intent;\n            intentFlag = rest;\n        }\n\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42.Intents.IntentContext) => {\n            return handler(args);\n        }).then(() => {\n            result.unsubscribe = () => {\n                this.interop.unregister(methodName);\n            };\n        });\n\n        return result;\n    }\n\n    private async get(intent: string): Promise<Glue42.Intents.Intent> {\n        return (await this.all()).find((registeredIntent) => registeredIntent.name === intent);\n    }\n\n    private async startApp(application: string, options?: Glue42.AppManager.ApplicationStartOptions) {\n        const result = await this.interop.invoke<{ Name: string, Id: string }>(\"T42.ACS.StartApplication\", { Name: application, options });\n        return result.returned.Id;\n    }\n\n    private async raiseIntentToInstance(instanceId: string, intent: string, context?: Glue42.Intents.IntentContext): Promise<{ result: any }> {\n        const methodName = `${GLUE42_FDC3_INTENTS_METHOD_PREFIX}${intent}`;\n        let interopServer = this.interop.servers().find((server) => server.instance === instanceId);\n        if (!interopServer) {\n            // Wait 30 sec for the server to appear.\n            await (new Promise((resolve, reject) => {\n                let timeoutId: any;\n\n                const unsub = this.interop.serverAdded((server) => {\n                    if (server.instance === instanceId) {\n                        interopServer = server;\n                        resolve();\n                        clearTimeout(timeoutId);\n                        unsub();\n                    }\n                });\n\n                timeoutId = setTimeout(() => {\n                    unsub();\n                    reject(new Error(`Can not find interop server for instance ${instanceId}`));\n                }, 30 * 1000);\n            }));\n        }\n\n        const method = interopServer.getMethods().find((registeredMethod) => registeredMethod.name === methodName);\n        if (!method) {\n            // Wait 10 sec for the method to appear.\n            await (new Promise((resolve, reject) => {\n                let timeoutId: any;\n\n                const unsub = this.interop.methodAdded((addedMethod) => {\n                    if (addedMethod.name === methodName) {\n                        resolve();\n                        clearTimeout(timeoutId);\n                        unsub();\n                    }\n                });\n\n                timeoutId = setTimeout(() => {\n                    unsub();\n                    reject(new Error(`Can not find interop method ${methodName} for instance ${instanceId}`));\n                }, 10 * 1000);\n            }));\n        }\n\n        const result = await this.interop.invoke(methodName, context, { instance: instanceId });\n\n        return {\n            result: result.returned\n        };\n    }\n\n    private async windowsIdToTitle(id: string, windowsInfos?: GetWindowsInfoResultItem[]): Promise<string> {\n        if (typeof windowsInfos !== \"undefined\") {\n            return windowsInfos.find((windowsInfo) => windowsInfo.id === id)?.title;\n        }\n\n        // The Windows API could be undefined e.g. when running inside of a node environment.\n        const window = this.windows?.findById(id);\n        const title = await window?.getTitle();\n        return title;\n    }\n}\n","import CoreFactory, { Glue42Core } from \"@glue42/core\";\nimport { ActivityModule } from \"./activity/main\";\nimport AppManagerFactory from \"./app-manager/main\";\nimport WindowsFactory from \"./windows/main\";\nimport LayoutsFactory from \"./layouts/main\";\nimport DisplayManager from \"./displays/displayManager\";\nimport { factory as channels } from \"./channels/main\";\nimport { factory as hotkeys } from \"./hotkeys/main\";\n\nimport { Glue42 } from \"../glue\";\nimport { version } from \"../package.json\";\nimport prepareConfig from \"./config\";\nimport { LibConfigObject } from \"./types\";\nimport { ActivityMode } from \"./activity/activityConfig\";\nimport Utils from \"./utils\";\nimport { Notifications } from \"./notifications/main\";\nimport { factory as themes } from \"./themes/main\";\nimport { Intents } from \"./intents/intents\";\nimport { InitInfo } from \"./initInfo\";\nimport { Prefs } from \"./prefs/index\";\n\nlet initInfo: InitInfo;\nconst factory = async (options: Glue42.Config): Promise<Glue42.Glue> => {\n    // if running in GD, do not allow creating multiple instance of this API in the same page\n    const glue42gd: Glue42.GDObject = typeof window !== \"undefined\" && window.glue42gd;\n    if (glue42gd) {\n        if (initInfo) {\n            return initInfo.getPromise();\n        } else {\n            initInfo = new InitInfo();\n        }\n    }\n    const g = await factoryCore(options, glue42gd);\n    initInfo?.resolve(g);\n    return g;\n};\n\nconst factoryCore = async (options: Glue42.Config, glue42gd: Glue42.GDObject): Promise<Glue42.Glue> => {\n\n    const gdMajorVersion = Utils.getGDMajorVersion();\n    // get config object\n    // basically selecting some properties (and defaulting them)\n    // it's used to extract things like layouts, appManager, activities etc things\n    // that glueCore itself doesn't know about\n    options = options || {};\n    const glueConfig = prepareConfig(options);\n    options.gateway = options.gateway || {};\n\n    let _appManager: any;\n    let _activity: any;\n    let _windows: any;\n    let _displays: any;\n\n    // dependency graph:\n    //   windows: agm, appManager (via getter)\n    //   activities: contexts, agm, logger, windows, appManager (via getter)\n    //   appManager: agm, windows, logger, activities\n    //   layouts: agm, appManager, logger\n    function createWindows(core: Glue42Core.GlueCore) {\n        if (glueConfig.windows) {\n\n            const windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\n\n            _windows = WindowsFactory(\n                core.agm,\n                windowsLogger,\n                () => {\n                    return _appManager;\n                },\n                () => {\n                    return _displays;\n                },\n                gdMajorVersion);\n            debugLog(_windows);\n            return _windows;\n        }\n    }\n\n    function createActivities(core: Glue42Core.GlueCore) {\n        if (glueConfig.activities) {\n            if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\n\n                const activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\n\n                _activity = new ActivityModule({\n                    connection: core.connection,\n                    contexts: core.contexts,\n                    agm: core.agm,\n                    logger: activityLogger,\n                    logLevel: \"info\",\n                    disableAutoAnnounce: false,\n                    disposeRequestHandling: \"exit\",\n                    announcementInfo: null,\n                    windows: _windows,\n                    appManagerGetter: () => {\n                        return _appManager;\n                    },\n                    mode: glueConfig.activities.mode as ActivityMode,\n                    typesToTrack: glueConfig.activities.typesToTrack,\n                    activityId: glue42gd?.activityInfo?.activityId,\n                    gdMajorVersion\n                }).api;\n                debugLog(_activity);\n                return _activity;\n            }\n        }\n    }\n\n    function createAppManager(core: Glue42Core.GlueCore) {\n        if (!glueConfig.appManager) {\n            return;\n        }\n\n        const logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\n\n        // AppManager v3\n        _appManager = AppManagerFactory({\n            agm: core.agm,\n            windows: _windows,\n            logger,\n            activities: _activity,\n            mode: glueConfig.appManager.mode,\n            gdMajorVersion\n        });\n        debugLog(_appManager);\n        return _appManager;\n    }\n\n    function createLayouts(core: Glue42Core.GlueCore) {\n        if (!glueConfig.layouts) {\n            return;\n        }\n\n        const logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\n        const layoutsConfig = glueConfig.layouts;\n        const lay = LayoutsFactory({\n            agm: core.agm,\n            appManager: _appManager,\n            activityGetter: () => _activity,\n            logger,\n            mode: layoutsConfig.mode,\n            autoSaveWindowContext: layoutsConfig.autoSaveWindowContext ?? false,\n            gdMajorVersion\n        });\n        debugLog(lay);\n        return lay;\n    }\n\n    function createChannels(core: Glue42Core.GlueCore) {\n        if (!glueConfig.channels) {\n            return;\n        }\n\n        if (!core.contexts) {\n            // TODO log - notify the user that he can not use channels without context\n            return;\n        }\n\n        // Logger\n        const logger = getLibLogger(\"channels\", core.logger, glueConfig.channels);\n\n        const channelsAPI = channels(core.contexts, core.agm, () => _windows, logger);\n\n        debugLog(channelsAPI);\n        return channelsAPI;\n    }\n\n    function createHotkeys(core: Glue42Core.GlueCore) {\n        const hotkeysAPI = hotkeys(core.agm);\n\n        debugLog(hotkeysAPI);\n        return hotkeysAPI;\n    }\n\n    function createIntents(core: Glue42Core.GlueCore) {\n        const intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\n\n        debugLog(intentsAPI);\n        return intentsAPI;\n    }\n\n    function createNotifications(core: Glue42Core.GlueCore) {\n        const notificationsAPI = new Notifications(core.interop);\n\n        debugLog(notificationsAPI);\n        return notificationsAPI;\n    }\n\n    function createDisplaysApi(core: Glue42Core.GlueCore) {\n        if (glueConfig.displays) {\n            const displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\n\n            _displays = new DisplayManager(core.agm, displaysLogger);\n            debugLog(_displays);\n            return _displays;\n        }\n    }\n\n    function createThemes(core: Glue42Core.GlueCore) {\n        if (!core.contexts) {\n            // TODO log - notify the user that he can not use themes without context\n            return;\n        }\n        const themesAPI = themes(core);\n\n        debugLog(themesAPI);\n        return themesAPI;\n    }\n\n    function createPrefs(core: Glue42Core.GlueCore) {\n        const appName = options.application ?? glue42gd?.application ?? core.interop.instance.application;\n        const prefs = new Prefs(appName, core.interop);\n\n        debugLog(prefs);\n        return prefs;\n    }\n\n    function getLibLogger(loggerName: string, logger: Glue42Core.Logger.API, config: LibConfigObject<string>) {\n        const newLogger = logger.subLogger(loggerName);\n\n        if (config && config.logger) {\n            const loggerConfig = config.logger;\n            if (loggerConfig.console) {\n                newLogger.consoleLevel(loggerConfig.console);\n            }\n            if (loggerConfig.publish) {\n                newLogger.publishLevel(loggerConfig.publish);\n            }\n            // not supported in GD3\n            // if (loggerConfig.metrics) {\n            //  newLogger.metricsLevel(loggerConfig.metrics);\n            // }\n        }\n\n        return newLogger;\n    }\n\n    const ext: Glue42Core.Extension = {\n        // define extra libraries for glue-core to raise\n        libs: [\n            { name: \"windows\", create: createWindows },\n            { name: \"activities\", create: createActivities },\n            { name: \"appManager\", create: createAppManager },\n            { name: \"layouts\", create: createLayouts },\n            { name: \"channels\", create: createChannels },\n            { name: \"hotkeys\", create: createHotkeys },\n            { name: \"displays\", create: createDisplaysApi },\n            { name: \"intents\", create: createIntents },\n            { name: \"notifications\", create: createNotifications },\n            { name: \"themes\", create: createThemes },\n            { name: \"prefs\", create: createPrefs }\n        ],\n\n        version,\n\n        enrichGlue: (glue: Glue42Core.GlueCore) => {\n            // put some data to config\n            glue.config.activities = glueConfig.activities;\n            glue.config.windows = glueConfig.windows;\n            glue.config.appManager = glueConfig.appManager;\n            glue.config.layouts = glueConfig.layouts;\n            glue.config.channels = glueConfig.channels;\n            glue.config.displays = glueConfig.displays;\n        },\n    };\n\n    const currentLog: any[] = [];\n    if (typeof window !== \"undefined\") {\n        if (!(window as any).glueFactoryLog) {\n            (window as any).glueFactoryLog = [];\n        }\n        (window as any).glueFactoryLog.push(currentLog);\n    }\n\n    function debugLog(entry: any) {\n        currentLog.push(entry);\n    }\n\n    const glueApi = (await CoreFactory(options, ext)) as Glue42.Glue;\n\n    // Decorate the ready glue object with extra functionalities coming from the user-defined libraries.\n    if (Array.isArray(options?.libraries) && options.libraries.length) {\n        await Promise.all(options.libraries.map((lib) => lib(glueApi, options)));\n    }\n\n    return glueApi;\n};\n\nfactory.coreVersion = (CoreFactory as any).version;\nfactory.version = version;\nfactory.initInfo = initInfo;\n\nexport default factory;\n","import { Glue42 } from \"../glue\";\n\nexport class InitInfo {\n\n    public reject: (reason?: any) => void;\n    public resolve: (value: Glue42.Glue | PromiseLike<Glue42.Glue>) => void;\n    public numberOfCalls: number = 0;\n\n    private promise: Promise<Glue42.Glue>;\n\n    constructor() {\n        this.numberOfCalls = 1;\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n\n    public getPromise() {\n        this.numberOfCalls++;\n        return this.promise;\n    }\n\n    public done(g: Glue42.Glue) {\n        this.resolve(g);\n    }\n\n    public error(e: Error) {\n        this.reject(e);\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { default as CallbackRegistryFactory, CallbackRegistry } from \"callback-registry\";\nimport { isFunction, isObject, isString } from \"../activity/helpers/util\";\n\nexport interface AppPreferences {\n    app: string;\n    data: any;\n    lastUpdate: Date;\n}\n\nexport class Prefs {\n\n    private registry: CallbackRegistry = CallbackRegistryFactory();\n    private interopMethodRegistered = false;\n\n    constructor(private appName: string, private interop: Glue42.Interop.API) {\n    }\n\n    public async get(app?: string): Promise<AppPreferences | undefined> {\n        const data = (await this.interop.invoke(\"T42.Prefs.Get\", { app: app ?? this.appName }));\n        return data.returned;\n    }\n\n    public async set(data: any, options?: { app: string }): Promise<void> {\n        this.verifyDataObject(data);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: options?.app ?? this.appName, data, merge: false });\n    }\n\n    public async setFor(app: string, data: any): Promise<void> {\n        this.verifyApp(app);\n        this.verifyDataObject(data);\n        return this.set(data, { app });\n    }\n\n    public async update(data: any, options?: { app: string }) {\n        this.verifyDataObject(data);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: options?.app ?? this.appName, data, merge: true });\n    }\n\n    public async updateFor(app: string, data: any) {\n        this.verifyApp(app);\n        this.verifyDataObject(data);\n        return this.update(data, { app });\n    }\n\n    public async clear(app?: string) {\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: app ?? this.appName, clear: true });\n    }\n\n    public async clearFor(app: string) {\n        this.verifyApp(app);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app, clear: true });\n    }\n\n    public async getAll(): Promise<AppPreferences[]> {\n        const data = (await this.interop.invoke(\"T42.Prefs.Get\"));\n        return data.returned;\n    }\n\n    public async clearAll() {\n        await this.interop.invoke(\"T42.Prefs.Set\", { clear: true });\n    }\n\n    public subscribe(callback: (prefs: AppPreferences) => void): () => void {\n        this.verifyCallback(callback);\n        return this.subscribeFor(this.appName, callback);\n    }\n\n    public subscribeFor(app: string, callback: (prefs: AppPreferences) => void): () => void {\n        this.verifyApp(app);\n        this.verifyCallback(callback);\n        const unsubscribeFn = this.registry.add(app, callback);\n\n        // register the method if needed and then send the subscription request\n        this.registerInteropIfNeeded()\n            .then(() => {\n                this.interop.invoke(\"T42.Prefs.Get\", { app, subscribe: true });\n            });\n\n        return () => {\n            unsubscribeFn();\n        };\n    }\n\n    private async registerInteropIfNeeded() {\n        if (this.interopMethodRegistered) {\n            return;\n        }\n        this.interopMethodRegistered = true;\n\n        await this.interop.register(\"T42.Prefs.Update\", (args) => {\n            this.registry.execute(args.app, args);\n        });\n    }\n\n    private verifyApp(app: string) {\n        if (!app) {\n            throw new Error(`app should be defined`);\n        }\n        if (!isString(app)) {\n            throw new Error(`app should be a string`);\n        }\n    }\n    private verifyDataObject(data: any) {\n        if (!data) {\n            throw new Error(`data should be defined`);\n        }\n        if (!isObject(data)) {\n            throw new Error(`data should be an object`);\n        }\n    }\n\n    private verifyCallback(callback: any) {\n        if (!isFunction(callback)) {\n            throw new Error(`callback should be defined`);\n        }\n    }\n}\n","import CreateGlue from \"./glue\";\n\nlet whatToExpose = CreateGlue;\nlet shouldSetToWindow = true;\n\nif (typeof window !== \"undefined\") {\n    // if glue42gd (running in GD3) and autoInjected\n    const glue42gd = (window as any).glue42gd;\n    if (glue42gd && glue42gd.autoInjected) {\n        whatToExpose = (window as any).Glue;\n        // no need to set to window, it's already there\n        shouldSetToWindow = false;\n    }\n\n    if (shouldSetToWindow) {\n        (window as any).Glue = whatToExpose;\n    }\n\n    // remove GlueCore from the window object (injected by Glue-core)\n    delete (window as any).GlueCore;\n}\n// add default library for ES6 modules\n(whatToExpose as any).default = whatToExpose;\n\nexport default whatToExpose;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nmodule.exports = 0;\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"de476ad8\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"workspaces-react-template:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkworkspaces_react_template\"] = self[\"webpackChunkworkspaces_react_template\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { createContext, memo } from 'react';\r\nimport { node, object } from 'prop-types';\r\nimport { Glue42Web } from '@glue42/web';\r\nimport { Glue42 } from '@glue42/desktop';\r\nimport { useGlueInit } from './useGlueInit';\r\nimport { GlueProviderProps } from '../react-hooks';\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, settings = {} }) => {\r\n        \r\n        const glue = useGlueInit(settings);\r\n\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    settings: object,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = 'GlueProvider';\r\n","import { useEffect, useState } from \"react\";\r\nimport { UseGlueInitFunc } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: UseGlueInitFunc = (settings) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                if (settings.web && settings.webPlatform) {\r\n                    throw new Error(\"Cannot initialize, because the settings are over-specified: defined are both web and webPlatform. Please set one or the other\");\r\n                }\r\n\r\n                const isEnterprise = typeof (window as any).glue42gd !== \"undefined\";\r\n\r\n                if (isEnterprise) {\r\n                    const factory = settings.desktop?.factory || settings.web?.factory || settings.webPlatform?.factory || (window as any).Glue;\r\n                    const config = settings.desktop?.config || settings.web?.config || settings.webPlatform?.config;\r\n\r\n                    const factoryResult = await factory(config);\r\n\r\n                    setGlue(factoryResult.glue || factoryResult);\r\n                    return;\r\n                }\r\n\r\n                const config = settings.web?.config || settings.webPlatform?.config;\r\n                const factory = settings.web?.factory || settings.webPlatform?.factory || (window as any).GlueWeb || (window as any).GlueWebPlatform;\r\n\r\n                const factoryResult = await factory(config);\r\n\r\n                setGlue(factoryResult.glue || factoryResult);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string, id?: string }> = ({ title, className, children, id, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className} id={id}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        if (glue.workspaces.getWorkspaceById) {\r\n            glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        } else {\r\n            glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n                const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n    \r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        }\r\n\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            workspace = myWorkspace;\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,o,i){return new(o||(o=Promise))((function(n,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function o(t,e,o){return t(o={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&o.path)}},o.exports),o.exports}var i=o((function(t,e){!function(e){var o={config:{},container:{},controls:{},errors:{},items:{},utils:{}};o.utils.F=function(){},o.utils.extend=function(t,e){t.prototype=o.utils.createObject(e.prototype),t.prototype.contructor=t},o.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(o.utils.F.prototype=t,new o.utils.F)},o.utils.objectKeys=function(t){var e,o;if(\"function\"==typeof Object.keys)return Object.keys(t);for(o in e=[],t)e.push(o);return e},o.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},o.utils.getQueryStringParam=function(t){if(window.location.hash)return o.utils.getHashValue(t);if(!window.location.search)return null;var e,i,n=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<n.length;i++)s[(e=n[i].split(\"=\"))[0]]=e[1];return s[t]||null},o.utils.copy=function(t,e){for(var o in e)t[o]=e[o];return t},o.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},o.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?o.utils.isFunction=function(t){return\"function\"==typeof t||!1}:o.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},o.utils.fnBind=function(t,e,o){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(o||[]));var i=function(){var n=(o||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,n);t.apply(this,n)};return i.prototype=t.prototype,i},o.utils.removeFromArray=function(t,e){var i=o.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},o.utils.moveInArray=function(t,e,o){var i=t[e];t.splice(e,1),t.splice(o,0,i)},o.utils.getBounds=function(t){if(!t[0])throw new Error(\"Cannot get bounds of invalid element\");return t[0].getBoundingClientRect()},o.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},o.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},o.utils.filterXss=function(t,e){var o=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?o:o.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},o.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},o.utils.idAsString=function(t){return Array.isArray(t)?t[0]:t},o.utils.isCustomWorkspaceTab=function(t){return\"workspace\"===t._layoutManager.config.settings.mode&&t._layoutManager._componentFactory&&t._layoutManager._componentFactory.createWorkspaceTabs},o.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!o.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,n;n=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,n);n.unshift(t);var r=this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,n)},this.unbind=function(t,e,o){if(this._mSubscriptions[t]){var i,n=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||o&&o!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),n=!0);if(!1===n)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},o.utils.EventEmitter.ALL_EVENT=\"__all\",o.utils.DragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.DragListener.timeout=null,o.utils.copy(o.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),o.LayoutManager=function(t,i,n){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}o.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":o.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=o.utils.fnBind(this._onResize,this),this._unloadFunction=o.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=n,this._ignorePinned=!1,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new o.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:o.utils.fnBind(o.items.RowOrColumn,this,[!0]),row:o.utils.fnBind(o.items.RowOrColumn,this,[!1]),stack:o.items.Stack,component:o.items.Component}},o.LayoutManager.__lm=o,o.LayoutManager.minifyConfig=function(t){return(new o.utils.ConfigMinifier).minifyConfig(t)},o.LayoutManager.unminifyConfig=function(t){return(new o.utils.ConfigMinifier).unminifyConfig(t)},o.utils.copy(o.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,n;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof o.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:o.utils.copy({},this.config.settings),dimensions:o.utils.copy({},this.config.dimensions),labels:o.utils.copy({},this.config.labels),context:o.utils.copy({},this.config.context),workspacesOptions:o.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var o,n;for(o in e.config)\"content\"!==o&&(t[o]=e.config[o]);if(e.contentItems.length)for(t.content=[],n=0;n<e.contentItems.length;n++)t.content[n]={},i(t.content[n],e.contentItems[n])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],n=0;n<this.openPopouts.length;n++)e.openPopouts.push(this.openPopouts[n].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new o.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(o.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new o.controls.DropTargetIndicator(this.container),this.transitionIndicator=new o.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this._maximizeContainers(),this.emit(\"initialised\")}else e(document).ready(o.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new o.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+o.utils.objectKeys(this._typeToItem).join(\",\"),new o.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof o.items.Stack||!e||!0===this.isSubWindow&&e instanceof o.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,n){var s,r,a,c,l,d,h=t,u=t instanceof o.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=o.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(n)&&(n=o.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new o.controls.BrowserPopout(h,e,i,n,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,n){this.config.settings.constrainDragToContainer=!1;var s=new o.controls.DragSource(e(t),i,this,n);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimiseItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var o,i,n=1/0,s=null;for(o=0;o<this._itemAreas.length;o++)t>(i=this._itemAreas[o]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&n>i.surface&&(n=i.surface,s=i);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:o,allowDropRight:i,allowDropBottom:n}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===o||!0===i||!0===n){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[0]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[3]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++){if(!i[t].isStack)continue;const s=i[t].config.workspacesConfig&&!0===i[t].config.workspacesConfig.allowDrop;if((!1!==this.config.workspacesOptions.allowDrop||s)&&((!i[t].config.workspacesConfig||!1!==i[t].config.workspacesConfig.allowDrop)&&null!==(e=i[t]._$getArea())))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var n={};o.utils.copy(n,e),e.contentItem._contentAreaDimensions.header&&(o.utils.copy(n,e.contentItem._contentAreaDimensions.header.highlightArea),n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)),i[t]._dropSegment&&(i[t]._dropSegment=null)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(o.utils.isFunction(t)&&(t=t()),t instanceof o.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var n=this.createContentItem(t,i);return n.callDownwards(\"_$init\"),n}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(o){if(t.push(o),o.contentItems instanceof Array)for(var i=0;i<o.contentItems.length;i++)e(o.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(o.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=o.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new o.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},o.config.defaultConfig,t);var n=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?n(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(o.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=o.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new o.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new o.errors.ConfigurationError(e,t);this.root=new o.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var o=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],n=this._findAllStackContainers()[0],s=0;s<o;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(n,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_maximizeContainers:function(){const t=this.root.getItemsByFilter((t=>t.config.workspacesConfig&&t.config.workspacesConfig.isMaximized&&\"component\"!=t.type));t.length&&t[0].toggleMaximise()},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(o){t.addChild(o),e.removeChild(o,!0)})):e.contentItems.forEach(o.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(o.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))},restoreMaximizedContainers:function(){this.root.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type)).forEach((t=>{this._$minimiseItem(t)}))}}),o.LayoutManager.default=o.LayoutManager,t.exports=o.LayoutManager,window.GoldenLayout=o.LayoutManager,o.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,workspaceInnerDrag:!0,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:20,maxItemHeight:32767,minItemWidth:20,maxItemWidth:32767,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},o.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},o.controls.BrowserPopout=function(t,e,i,n,s){o.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=n,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},o.utils.copy(o.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,o;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(o=this._layoutManager.root.getItemsById(this._parentId)[0])||(o=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),o.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,n,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",o.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",o.utils.fnBind(this._onClose,this)),t=setInterval(o.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,o=[];for(e in t)o.push(e+\"=\"+t[e]);return o.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+o.utils.getUniqueId();e=(new o.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(o.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),o.controls.DragProxy=function(t,i,n,s,r,a){o.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(o.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",o.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},o.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',o.utils.copy(o.controls.DragProxy.prototype,{_onDrag:function(t,e,o){var i=(o=o.originalEvent&&o.originalEvent.touches?o.originalEvent.touches[0]:o).pageX,n=o.pageY;(i>this._minX&&i<this._maxX&&n>this._minY&&n<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,n)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),o.controls.DragSource=function(t,e,o,i){this._element=t,this._itemConfig=e,this._layoutManager=o,this._dragListener=null,this._dragProxy=null,this._createDragListener(i)},o.utils.copy(o.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new o.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var n=this._itemConfig;o.utils.isFunction(n)&&(n=n());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},n));this._dragProxy=new o.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null),this._layoutManager.transitionIndicator.transitionElements(this._element,this._dragProxy.element)}}),o.controls.DropTargetIndicator=function(){this.element=e(o.controls.DropTargetIndicator._template),e(document.body).append(this.element)},o.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',o.utils.copy(o.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,o,i){this.highlightArea({x1:t,y1:e,x2:o,y2:i})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),o.controls.Header=function(t,i){if(o.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(o.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",o.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],o=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:o}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}else if(this.layoutManager._componentFactory){this.element.children(\".lm_controls\")[0];const t=this.element.children(\".lm_tabs_controls\")[0],e=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createBeforeGroupTabs&&this.layoutManager._componentFactory.createBeforeGroupTabs({domNode:e,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)}),this.layoutManager._componentFactory.createAfterGroupTabs&&this.layoutManager._componentFactory.createAfterGroupTabs({domNode:t,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=o.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},o.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),o.utils.copy(o.controls.Header.prototype,{createTab:function(t,e){var i,n;for(n=0;n<this.tabs.length;n++)if(this.tabs[n].contentItem===t)return;if(i=new o.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);(void 0===e||e>this.tabs.length)&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},moveTab:function(t,e){o.utils.moveInArray(this.tabs,t,e),this._updateTabSizesWithoutDropdown(),this.parent._syncContentItemOrder()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,o,i,n;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(n=this.tabs[this.parent.config.activeItemIndex],o=this.parent.config.activeItemIndex;o>0;o--)this.tabs[o]=this.tabs[o-1];this.tabs[0]=n,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,n,s,r,a,c,l;l=o.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new o.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=o.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new o.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new o.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=o.utils.fnBind(this.parent.toggleMaximise,this.parent)),n=this._getHeaderSetting(\"maximize\"),a=new o.controls.HeaderButton(this,n,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",n)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=o.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new o.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,o,i,n,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,o=0;o<this.tabs.length;o++)if(e=this.tabs[o].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=o?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)o===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=o?(a-s)/(o-1):(a-s)/o)<l){for(i=0;i<=o;i++)n=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":o-i,\"margin-left\":n});this._lastVisibleTabIndex=o,this.tabsContainer.append(e)}else d=!0;if(d&&o!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=o,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,o,i=0,n=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[n];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,o=0;o<this.tabs.length;o++)e=this.tabs[o].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),n<=o?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_getLastIndexOfPinnedTab(t){const e=this.tabs.reduce(((e,o)=>o.isPinned&&(\"function\"!=typeof t||t(o))?o:e),void 0);return e?this.tabs.indexOf(e):-1}}),o.controls.HeaderButton=function(t,o,i,n){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+o+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=n,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},o.utils.copy(o.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),o.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new o.utils.DragListener(this.element)},o.utils.copy(o.controls.Splitter.prototype,{on:function(t,e,o){this._dragListener.on(t,e,o)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),o=e('<div class=\"lm_splitter\"></div>');o.append(t);var i=this._grabSize-this._size,n=i/2;return this._isVertical?(t.css(\"top\",-n),t.css(\"height\",this._size+i),o.addClass(\"lm_vertical\"),o.height(this._size)):(t.css(\"left\",-n),t.css(\"width\",this._size+i),o.addClass(\"lm_horizontal\"),o.width(this._size)),o}}),o.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this._layoutManager=this.contentItem.layoutManager;const n=\"workspace\"===this._layoutManager.config.settings.mode,s=o.utils.isCustomWorkspaceTab(this);if(this.element=e(s?o.controls.Tab._customTabTemplate:o.controls.Tab._template),this._elementOffset=0,this._xOfLastReorder=0,this.titleElement=s?e(void 0):this.element.find(\".lm_title\"),this.closeElement=s?e(void 0):this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.isPinned=!1,this.title=i.config.title,this.setTitle(this.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new o.utils.TabDragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"reorderStart\",this._onReorderStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=o.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=o.utils.fnBind(this._onCloseClick,this),n&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this)),s){const t=this._layoutManager._componentFactory.createWorkspaceTabsOptions({element:this.element[0],contentItem:i});this._layoutManager._componentFactory.createWorkspaceTabs(t)}},o.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',o.controls.Tab._customTabTemplate='<li class=\"lm_tab\"></li>',o.utils.copy(o.controls.Tab.prototype,{setTitle:function(t){this.title=t,o.utils.isCustomWorkspaceTab(this)||this.element.attr(\"title\",o.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,pin:function(t){if(this.isPinned)return;this.titleElement.hide(),this.closeElement.hide();const e=this.header.tabs.indexOf(this),o=this.header._getLastIndexOfPinnedTab();let i=o+1;\"number\"==typeof t&&(i=Math.min(t,o+1)),this.header.moveTab(e,i),this.element.addClass(\"lm_pinned\"),this.isPinned=!0},unpin:function(){if(!this.isPinned)return;this.titleElement.show(),this.closeElement.show();const t=this.header.tabs.indexOf(this),e=this.header._getLastIndexOfPinnedTab();t!=e&&this.header.moveTab(t,e),this.element.removeClass(\"lm_pinned\"),this.isPinned=!1},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener.off(\"reorderStart\",this._onReorderStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,n=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId,r=!this.contentItem.layoutManager.config.settings.workspaceInnerDrag&&i;if(i&&n)return;if(!i&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;if(r)return;this._layoutManager.restoreMaximizedContainers.apply(this._layoutManager);const a=new o.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(a)},_onReorderStart:function(t,e){if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;const o=this.element[0].getBoundingClientRect().x-this.header.element[0].getBoundingClientRect().x,i=this.element[0].getBoundingClientRect().width;this._elementOffset=o-t,this._xOfLastReorder=t,this.element.css(\"position\",\"absolute\"),this.element.css(\"z-index\",\"42\"),this.element.css(\"left\",t+this._elementOffset+\"px\"),this.element.css(\"width\",i+\"px\"),this._dragListener.on(\"reorder\",this._onReorder,this),this._dragListener.on(\"reorderStop\",this._onReorderStop,this)},_onReorder:function(t,e){this.element.css(\"left\",t+this._elementOffset+\"px\");const i=this.header.tabs.indexOf(this);if(this._xOfLastReorder>t&&i>0){const e=o.utils.getBounds(this.header.tabs[i-1].element);t<e.x+e.width/2&&(this.header.moveTab(i,i-1),this._xOfLastReorder=t)}else if(this._xOfLastReorder<t&&i<this.header.tabs.length-1){const e=o.utils.getBounds(this.header.tabs[i+1].element);t>e.x+e.width/2&&(this.header.moveTab(i,i+1),this._xOfLastReorder=t)}this.element.css(\"z-index\",\"42\")},_onReorderStop:function(t,e){const o=this.header.tabs.indexOf(this),i=this.header._getLastIndexOfPinnedTab((t=>t!=this));this.isPinned&&i+1<o&&this.header.moveTab(o,i+1),!this.isPinned&&o<i&&this.header.moveTab(o,i),this.element.css(\"left\",\"\"),this.element.css(\"width\",\"\"),this.element.css(\"position\",\"\"),this.element.css(\"z-index\",\"auto\"),this._dragListener.off(\"reorder\",this._onReorder),this._dragListener.off(\"reorderStop\",this._onReorderStop)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),o.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},o.utils.copy(o.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(o.utils.now()-this._animationStartTime)/this._totalAnimationDuration,n={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)n[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(n),o.utils.animFrame(o.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),o.container.ItemContainer=function(t,i,n){o.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},o.utils.copy(o.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){var o,i,n,s,r=this.parent,a=this;if(!t&&!e||t&&e)return!1;for(;!r.isColumn&&e||!r.isRow&&t||r.contentItems.length<=1;)if(a=r,(r=r.parent).isRoot)return!1;for(this.layoutManager._ignorePinned=!0,r._calculateRelativeSizes(),o=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this._element[i]()*(1/(a.config[i]/100)))*100,n=(a.config[i]-o)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=o:r.contentItems[s].config[i]+=n;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var o=this._contentElement[0],i=o.offsetWidth-o.clientWidth,n=o.offsetHeight-o.clientHeight;this._contentElement.width(this.width-i).height(this.height-n),this.emit(\"resize\")}}}),o.items.AbstractContentItem=function(t,e,i){o.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(o.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},o.utils.copy(o.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,o,i){var n;for(!0!==o&&!0!==i&&this[t].apply(this,e||[]),n=0;n<this.contentItems.length;n++)this.contentItems[n].callDownwards(t,e,o);!0===o&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof o.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var n=o.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===n)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[n]=e,e.parent=this,this.isStack&&(this.header.tabs[n].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==o.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=o.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],o=function(i){for(var n=0;n<i.contentItems.length;n++)!0===t(i.contentItems[n])&&e.push(i.contentItems[n]),o(i.contentItems[n])};return o(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==o.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,o=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<o.length;e++)i.push(o[e].instance&&0!==Object.keys(o[e].instance).length?o[e].instance:o[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(o){return o[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,o){this.layoutManager.dropTargetIndicator.highlightArea(o)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,o,i=this.getItemsByType(\"stack\");for(o=0;o<i.length;o++)(e=i[o].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),o=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+o,y2:e.top+i,surface:o*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new o.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new o.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in o.config.itemDefaultConfig)void 0===t[e]&&(t[e]=o.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof o.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===o.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,o.utils.animFrame(o.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),o.items.Component=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new o.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},o.utils.extend(o.items.Component,o.items.AbstractContentItem),o.utils.copy(o.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},getMinWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth},getMaxWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth},getMinHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight},getMaxHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight},_$init:function(){o.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),o.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),o.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),o.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),o.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),o.items.Root=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},o.utils.extend(o.items.Root,o.items.AbstractContentItem),o.utils.copy(o.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),0);return Math.min(t,e)},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),o.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var n=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof o.items.RowOrColumn||a.type!=n){var c=this.layoutManager.createContentItem({type:n},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),o.items.RowOrColumn=function(t,i,n,s){o.items.AbstractContentItem.call(this,i,n,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},o.utils.extend(o.items.RowOrColumn,o.items.AbstractContentItem),o.utils.copy(o.items.RowOrColumn.prototype,{addChild:function(t,e,i){var n,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t,e),n=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=n:(s=this.contentItems[r].config[this._dimension]*=(100-n)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,n,s=t.config[this._dimension],r=o.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(n=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,n,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,o.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth:\"column\"===this.config.type&&(t=Math.max(e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth,t)),t)),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e+=o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth:\"column\"===this.config.type&&(e=Math.min(o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth,e||t)),e)),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t=Math.max(e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight,t):\"column\"===this.config.type&&(t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),t)),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e=Math.min(o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight,e||t):\"column\"===this.config.type&&(e+=o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),e)),0);return Math.min(t,e)},_$init:function(){var t;if(!0!==this.isInitialised)for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();const o=this.contentItems.filter((t=>t.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned));let i=e.additionalPixel;o.filter((t=>{const o=this.isColumn?t.element.height():t.element.width(),i=this.contentItems.indexOf(t);return Math.floor(o)>Math.floor(e.itemSizes[i])})).forEach((t=>{const o=this.isColumn?t.element.height():t.element.width(),n=this.contentItems.indexOf(t),s=Math.floor(o-e.itemSizes[n]),r=Math.min(i,s);e.itemSizes[n]+=r,i-=r}));const n=Math.ceil(i/(this.contentItems.length-o.length));for(t=0;t<this.contentItems.length;t++){if(i>0&&!this.contentItems[t].config.workspacesConfig.isPinned){const o=Math.min(i,n);e.itemSizes[t]+=o,i-=o}this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight)),this._isColumn&&this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned?this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.height():this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned&&(this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.width())}},_calculateAbsoluteSizes:function(){var t,e,o=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),n=this.element.height(),s=0,r=[];for(this._isColumn?n-=o:i-=o,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(n*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?n:i)-s),totalWidth:i,totalHeight:n}},_calculateRelativeSizes:function(){var t,e=0,o=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:o.push(this.contentItems[t]);if(100===Math.round(e))return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints();if(Math.round(e)<100&&o.length>0){for(t=0;t<o.length;t++)o[t].config[i]=(100-e)/o.length;return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints()}if(Math.round(e)>100)for(t=0;t<o.length;t++)o[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectItemWidthConstraints(),this._respectItemHeightConstraints()},_respectItemWidthConstraints:function(){var t,e,o,i,n,s,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemWidth||32767,c=[],l=[],d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isColumn||!r||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),a=Math.min(a,t.totalWidth);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.width(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxWidth(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinWidth(),n=Math.min(void 0===o?a:o,t.totalWidth),m=void 0===i?r:i;g<m?(h+=m-g,s={maxWidth:n,minWidth:m,width:m}):(d+=Math.min(g,n)-m,s={maxWidth:n,minWidth:m,width:g},c.push(s)),g>n?(u+=g-n,s.width=n):(p+=n-Math.max(g,m),l.push(s)),v.push(s)}const _=0===h||h>d,C=0===u||u>p;if(_&&C)return!0;if(!_)for(e=h/d,m=h,y=0;y<c.length;y++)s=c[y],m-=i=Math.round((s.width-s.minWidth)*e),s.width-=i;if(!C)for(o=u/p,f=u,y=0;y<l.length;y++)s=l[y],f-=n=Math.round((s.maxWidth-s.width)*o),s.width+=n;for(_||0!==m&&(v[v.length-1].width-=m),C||0!==f&&(v[v.length-1].width+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=v[y].width/t.totalWidth*100;return!1},_respectItemHeightConstraints:function(){var t,e,o,i,n,s=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemHeight||0,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemHeight||32767,a=[],c=[],l=0,d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isRow||!s||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),r=Math.min(t.totalHeight,r);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.height(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxHeight(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinHeight(),p=Math.min(void 0===o?r:o,t.totalHeight),m=void 0===i?s:i;g<m?(d+=m-g,n={maxHeight:p,minHeight:m,height:m}):(l+=Math.min(g,p)-m,n={maxHeight:p,minHeight:m,height:g},a.push(n)),g>p?(h+=g-p,n.height=p):(u+=p-Math.max(g,m),c.push(n)),v.push(n)}const _=0===d||d>l,C=0===h||h>u;if(_&&C)return!0;if(!_)for(e=d/l,p=d,y=0;y<a.length;y++)n=a[y],p-=m=Math.round((n.height-s)*e),n.height-=m;if(!C)for(o=h/u,f=h,y=0;y<c.length;y++)n=c[y],f-=i=Math.round((n.maxHeight-n.height)*o),n.height+=i;for(_||0!==p&&(v[v.length-1].height-=p),C||0!==f&&(v[v.length-1].height+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.height=v[y].height/t.totalHeight*100;return!1},_createSplitter:function(t){var e;return(e=new o.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",o.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",o.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",o.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=o.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,o=0,i=0;i<t.length;++i)e=Math.max(t[i].getMinWidth()||0,e),o=Math.max(t[i].getMinHeight()||0,o);return{horizontal:e,vertical:o}},_getMaximumDimensions:function(t){for(var e=32767,o=32767,i=0;i<t.length;++i)e=Math.min(t[i].getMaxWidth()||0,e),o=Math.min(t[i].getMaxHeight()||0,o);return{horizontal:e,vertical:o}},_setMinMaxSplitterPosition(t){const e=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],o=this.layoutManager.config.dimensions[this.isColumn?\"maxItemHeight\":\"maxItemWidth\"];var i=this._getMinimumDimensions([...t.before.contentItems,t.before]),n=this._getMaximumDimensions([...t.before.contentItems,t.before]),s=this._isColumn?i.vertical:i.horizontal,r=this.isColumn?n.vertical:n.horizontal,a=this._getMinimumDimensions([...t.after.contentItems,t.after]),c=this._getMaximumDimensions([...t.after.contentItems,t.after]),l=this._isColumn?a.vertical:a.horizontal,d=this.isColumn?c.vertical:c.horizontal,h=-1*(t.before.element[this._dimension]()-(s||e)),u=-1*((d||o)-t.after.element[this._dimension]()),p=(r||o)-t.before.element[this._dimension](),m=t.after.element[this._dimension]()-(l||e);this._splitterPosition=0,this._splitterMinPosition=Math.max(h,u),this._splitterMaxPosition=Math.min(p,m)},_onSplitterDragStart:function(t){this.layoutManager._ignorePinned=!0;var e=this._getItemsForSplitter(t);this._setMinMaxSplitterPosition(e)},_onSplitterDrag:function(t,e,o){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var i=this._isColumn?o:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),n=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+n),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),o.utils.animFrame((()=>{o.utils.fnBind(this.callDownwards,this,[\"setSize\"])(),this._layoutManager._ignorePinned=!1})),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),o.items.Stack=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;if(this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&o.utils.copy(this._header,s.header),i.header&&o.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&o.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,t._componentFactory&&t._componentFactory.createId&&(!this.config.id||!this.config.id.length)){const e=t._componentFactory.createId();e&&this.addId(e)}this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new o.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},o.utils.extend(o.items.Stack,o.items.AbstractContentItem),o.utils.copy(o.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,o=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(o),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(o).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth;return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth)),t)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;return this.contentItems.reduce(((t,e)=>{const o=e.getMaxWidth();return Math.min(t,o||this.layoutManager.config.dimensions.maxItemWidth)}),t)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinHeight()+o||this.layoutManager.config.dimensions.minItemHeight)),t)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.min(t,e.getMaxHeight()+o||this.layoutManager.config.dimensions.maxItemHeight)),t)},realHeight:function(t){if(!t||!t[0])return 0;const o=t.height();if(o>0)return o;var i=t.clone();i.css(\"visibility\",\"hidden\"),e(\"body\").append(i);var n=i.height();return i.remove(),n},_$init:function(){var t,e;if(!0!==this.isInitialised){for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e);this.contentItems.filter((t=>t.config.workspacesConfig.isPinned)).forEach((t=>{t.tab.pin()}))}}},setActiveContentItem:function(t){if(-1===o.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,n=!0){t=this.layoutManager._$normalizeContentItem(t,this);const s=this.header._getLastIndexOfPinnedTab(),r=t.config&&t.config.workspacesConfig&&t.config.workspacesConfig.isPinned;i>=0&&i<=s&&!r&&(i=s+1),o.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),r&&t.tab.pin(i),e(this.layoutManager.container).is(\":visible\")&&n?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t)if(this.contentItems.length>0){const t=this._getItemToFocusAfterRemove.call(this,i);this.setActiveContentItem(t)}else this._activeContentItem=null;this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,o;for(t=this.header._isClosable(),o=0,e=this.contentItems.length;o<e&&t;o++)t=this.contentItems[o].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){o.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(null!==this._dropSegment){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,n,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=o.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",n=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,n),n.addChild(t,a?0:void 0,!0),n.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,n.callDownwards(\"setSize\"))}else this.addChild(t)}},_$highlightDropZone:function(t,e){var o,i;for(o in this._contentAreaDimensions)if((i=this._contentAreaDimensions[o].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===o?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(o)));this._dropSegment=null,this._resetHeaderDropZone(),this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=o.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),n=i.x2-i.x1,s=i.y2-i.y1;return!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropHeader||!0===this.config.workspacesConfig.allowDropHeader?this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}}:this._contentAreaDimensions={},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&((!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropLeft||!0===this.config.workspacesConfig.allowDropLeft)&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*n,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropTop||!0===this.config.workspacesConfig.allowDropTop)&&(this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*n,y1:i.y1,x2:i.x1+.75*n,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropRight||!0===this.config.workspacesConfig.allowDropRight)&&(this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*n,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*n,y1:i.y1,x2:i.x2,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropBottom||!0===this.config.workspacesConfig.allowDropBottom)&&(this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*n,y1:i.y1+.5*s,x2:i.x1+.75*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}})),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,o,i,n,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(o=this.header.tabs[e].element).offset(),this._sided?(n=s.top,i=s.left,c=o.height()):(n=s.left,i=s.top,c=o.width()),t>n&&t<n+c){d=!0;break}if(!(!1===d&&t<n)){if(t<n+c/2?(this._dropIndex=e,o.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),o.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+o.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+o.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t},_syncContentItemOrder:function(){const t=[];this.header.tabs.forEach((e=>{const o=Array.isArray(e.contentItem.config.id)?e.contentItem.config.id[0]:e.contentItem.config.id,i=this.contentItems.find((t=>{const e=Array.isArray(t.config.id)?t.config.id[0]:t.config.id;return o===e}));i&&t.push(i)})),this.contentItems.length===t.length&&(this.contentItems=t)},_getItemToFocusAfterRemove:function(t){for(let e=t-1;e>=0;e--){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}for(let e=t+1;e<this.contentItems.length;e++){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}return this.contentItems[Math.max(t-1,0)]}}),o.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},o.errors.ConfigurationError.prototype=new Error,o.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},o.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},o.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},o.utils.copy(o.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,o){var i,n;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(n=this[o](i,this._keys),\"object\"==typeof t[i]?(e[n]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[n],o)):e[n]=this[o](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=o.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),o.utils.EventHub=function(t){o.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(o.utils.EventEmitter.ALL_EVENT,o.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=o.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},o.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},o.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},o.utils.EventHub.prototype._propagateToParent=function(t){var e,o=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(o,!0,!0):(e=window.opener.document.createEventObject()).eventType=o,e.eventName=o,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},o.utils.EventHub.prototype._propagateToChildren=function(t){var e,o;for(o=0;o<this._layoutManager.openPopouts.length;o++)(e=this._layoutManager.openPopouts[o].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},o.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},o.utils.copy(o.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},o=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,o)}}),o.utils.TabDragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=400,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.TabDragListener.timeout=null,o.utils.TabDragListener.reorderTimeout=null,o.utils.copy(o.utils.TabDragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this.reorderTimeout=setTimeout(o.utils.fnBind((function(){this._startReorder(t)}),this),this._nDelay)}},onMouseMove:function(t){const e=this._getCoordinates(t);if(null!=this._timeout)t.preventDefault(),this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t);else if(this._inReorder){const i=this._eElement.parent()[0].getBoundingClientRect(),n=15,s=i.left-e.x>n||e.x-i.right>n,r=i.top-e.y>n||e.y-i.bottom>n;s||r?this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay):this._onReorder(t)}},onMouseUp:function(t){this._stopReorder(t),clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX))},_startDrag:function(t){this._stopReorder(t),this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_startReorder:function(t){this._inReorder=!0,this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"reorderStart\",this._nOriginalX,this._nOriginalY,t)},_onReorder:function(t){if(this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorder\",e.x,e.y)}},_stopReorder:function(t){if(clearTimeout(this.reorderTimeout),null!==this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorderStop\",e.x,e.y)}this._inReorder=!1},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}})}(window.$)}));function n(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,o={};function i(o,i){var n=o instanceof Error?o:new Error(o);if(e)e(n);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+n.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,n){var s=o[t];return s||(s=[],o[t]=s),s.push(e),n&&setTimeout((function(){n.forEach((function(n){var s;if(null===(s=o[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(n)?e.apply(void 0,n):e.apply(void 0,[n])}catch(e){i(e,t)}}))}),0),function(){var i=o[t];i&&(0===(i=i.reduce((function(t,o,i){return o===e&&t.length===i||t.push(o),t}),[])).length?delete o[t]:o[t]=i)}},execute:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=o[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(o){try{var n=o.apply(void 0,e);r.push(n)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){o={}},clearKey:function(t){o[t]&&delete o[t]}}}n.default=n;var s=n;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]);return t.reduce(((t,o)=>[...t,...e(o)]),[])},c=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]),t]};return t.reduce(((t,o)=>[...t,...e(o)]),[])},l=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},d=t=>\"___workspace___\"+t,h=t=>{if(!t||!t[0])return 0;const e=t.clone();e.css(\"visibility\",\"hidden\"),$(\"body\").append(e);const o=e.height();return e.remove(),o};var u=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return t=r(t),this._idToLayout[t]||this.getByContainerIdCore(t)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,o){const i=this.getById(t);if(i)return i.layout=o,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:o,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,o)=>t||o.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id)),o.windows.push(t)}removeWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=r(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const o=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==o?void 0:o.isComponent)?o:void 0}getContainer(t){t=r(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,o)=>{const i=o.root.getItemsById(t)[0];return\"component\"===(null==i?void 0:i.type)?e:e||i}),void 0)}getWorkspaceContext(t){var e,o,i;const n=this.getById(t);return null===(i=null===(o=null===(e=null==n?void 0:n.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context}syncWorkspaceOrder(){const t=this.workspaceLayout.root.getItemsByType(\"stack\")[0];if(\"stack\"!==t.type)return;const e=t.contentItems.map((t=>r(t.config.id))),o={};e.forEach((t=>{o[t]=this._idToLayout[t]})),Object.keys(o).length===Object.keys(this._idToLayout).length&&(this._idToLayout=o)}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let o=e.windowId;if(!o){const i=t.find((t=>t.id===e.id));o=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:o})}))}};class p{init(t){this.containerElement=$(\"\"+t)[0],this.setupEvents()}refreshTabsMaxWidth(t){const e=t.children(),o=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",o+\"px\"),Array.from(e).forEach((t=>{const e=$(t).children(\".lm_title\"),o=l(t).width;e.css(\"max-width\",.75*o+\"px\"),this.refreshTabClasses(t)}))}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes),Array.from(t.addedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e,o){const i=t.children(),n=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",n+\"px\"),Array.from(i).forEach((t=>{const o=$(t).children(\".lm_title\"),i=l(t).width;o.css(\"max-width\",.75*i+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),o=this.visibleTabs($(e));o.forEach(((t,e)=>{const i=$(t).children(\".lm_title\"),n=l(o[e]).width;i.css(\"max-width\",.75*n+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),o=t.classList;this.isTabPinned(t)?(o.remove(\"lm_tab_mini\"),o.remove(\"lm_tab_small\")):e>=25&&e<35?(o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\"),o.add(\"lm_tab_small\")):e>=35?(o.remove(\"lm_tab_small\"),o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\")):e<25&&(o.remove(\"lm_tab_small\"),o.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\"))).map((t=>t))}isTabPinned(t){return t.classList.contains(\"lm_pinned\")}getTabWidth(t){return this.isTabPinned(t)?l(t).width:200}}const m=require(\"shortid\");var f=new class{constructor(){this.visibilityState={logo:void 0,workspaceTabs:{},addWorkspace:void 0,systemButtons:void 0,workspaceContents:[],beforeGroupTabs:[],afterGroupTabs:[]},this.callbackRegistry=s(),this.componentsFactory={},this._decoratedFactory={},this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,o=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,o)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(e[0].frameId=t,this.visibilityState.addWorkspace=[...e],this.componentsFactory.createAddWorkspace(...e))),(null==e?void 0:e.createWorkspaceTabs)&&(this.decoratedFactory.createWorkspaceTabs=t=>{var o;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t);let n=()=>{};return n=this.onWorkspaceClosed(t.workspaceId,(()=>{this.componentsFactory.removeWorkspaceTabs&&this.componentsFactory.removeWorkspaceTabs({elementId:null==t?void 0:t.workspaceId}),delete this.visibilityState.workspaceTabs[t.workspaceId],n()})),e.createWorkspaceTabs(t)}),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(e[0].frameId=t,this.visibilityState.logo=[...e],this.componentsFactory.createLogo(...e))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...o)=>(o[0].frameId=t,this.visibilityState.systemButtons=[...o],e.createSystemButtons(...o))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var o,i;const n=t;this.visibilityState.workspaceContents.push(n);const s=this.onWorkspaceClosed(null===(o=t[0])||void 0===o?void 0:o.workspaceId,(()=>{var e;this.componentsFactory.removeWorkspaceContents({workspaceId:null===(e=t[0])||void 0===e?void 0:e.workspaceId}),this.visibilityState.workspaceContents=this.visibilityState.workspaceContents.filter((t=>t!==n)),s()}));return this.subscribeForWorkspaceContentsVisibility(null===(i=t[0])||void 0===i?void 0:i.workspaceId),e.createWorkspaceContents(...t)}),(null==e?void 0:e.createBeforeGroupTabs)&&(this.decoratedFactory.createBeforeGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.beforeGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeBeforeGroupTabs&&this.componentsFactory.removeBeforeGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.beforeGroupTabs=this.visibilityState.beforeGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createBeforeGroupTabs(...t)}),(null==e?void 0:e.createAfterGroupTabs)&&(this.decoratedFactory.createAfterGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.afterGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeAfterGroupTabs&&this.componentsFactory.removeAfterGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.afterGroupTabs=this.visibilityState.afterGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createAfterGroupTabs(...t)}),(null==e?void 0:e.updateWorkspaceTabs)?this.decoratedFactory.updateWorkspaceTabs=t=>{var o;if(!this.visibilityState.workspaceTabs[t.workspaceId])return;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t),e.updateWorkspaceTabs(t)}:this.decoratedFactory.updateWorkspaceTabs=()=>{},e&&(this.decoratedFactory.createId=()=>m.generate(),this.decoratedFactory.createWorkspaceTabsOptions=({element:t,contentItem:e})=>{var o,i;const n=e.parent.contentItems.indexOf(e)===(e.parent.config.activeItemIndex||0);return{domNode:t,workspaceId:r(e.config.id),title:e.config.title,isSelected:n,isPinned:e.config.workspacesConfig.isPinned,icon:e.config.workspacesConfig.icon,showSaveButton:null===(o=e.config.workspacesConfig.showSaveButton)||void 0===o||o,showCloseButton:null===(i=e.config.workspacesConfig.showCloseButton)||void 0===i||i,layoutName:e.config.workspacesConfig.layoutName}})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createWorkspaceTabs)&&Object.values(this.visibilityState.workspaceTabs).forEach((e=>{t.createWorkspaceTabs(e)})),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),(null==t?void 0:t.createBeforeGroupTabs)&&this.visibilityState.beforeGroupTabs.forEach((e=>{t.createBeforeGroupTabs(...e)})),(null==t?void 0:t.createAfterGroupTabs)&&this.visibilityState.afterGroupTabs.forEach((e=>{t.createAfterGroupTabs(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}notifyWorkspaceClosed(t){this.callbackRegistry.execute(\"workspace-closed-\"+t,t)}notifyGroupClosed(t){this.callbackRegistry.execute(\"group-closed-\"+t,t)}onWorkspaceClosed(t,e){return this.callbackRegistry.add(\"workspace-closed-\"+t,e)}onGroupClosed(t,e){return this.callbackRegistry.add(\"group-closed-\"+t,e)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}changeSelectedState(t){const e=this.lastSelectedWorkspaceTab;e&&this.decoratedFactory.updateWorkspaceTabs({workspaceId:e.workspaceId,isSelected:!1}),this.lastSelectedWorkspaceTab=t}};class g{constructor(t,e,o){this.stateResolver=t,this.windowContentItem=e,this.frameId=o}get minWidth(){return this.windowContentItem.getMinWidth()}set minWidth(t){this.windowContentItem.config.workspacesConfig.minWidth=t}get maxWidth(){return this.windowContentItem.getMaxWidth()}set maxWidth(t){this.windowContentItem.config.workspacesConfig.maxWidth=t}get minHeight(){return this.windowContentItem.getMinHeight()}set minHeight(t){this.windowContentItem.config.workspacesConfig.minHeight=t}get maxHeight(){return this.windowContentItem.getMaxHeight()}set maxHeight(t){this.windowContentItem.config.workspacesConfig.maxHeight=t}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,o;return null!==(o=null===(e=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.isMaximized)&&void 0!==o&&o}get isSelected(){var t;return r(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===r(this.windowContentItem.config.id)}get index(){var t,e;return(null===(e=null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems)||void 0===e?void 0:e.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,o;const i=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(o=null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.workspacesConfig)||void 0===o?void 0:o.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,r(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}get bounds(){var t,e,o;if(!this.windowContentItem)return{};this.windowContentItem.config.workspacesConfig||(this.windowContentItem.config.workspacesConfig={});const i=null===(t=u.getByWindowId(r(this.windowContentItem.config.id)))||void 0===t?void 0:t.id;if(i&&this.stateResolver.isWorkspaceSelected(i)){const t=l(this.windowContentItem.element);return this.windowContentItem.config.workspacesConfig.cachedBounds=t,t}const n=l(this.windowContentItem.element);return 0===n.width&&0===n.height&&(null===(e=this.windowContentItem.config.workspacesConfig)||void 0===e?void 0:e.cachedBounds)?null===(o=this.windowContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds:n}getSummaryCore(t,e){var o,i,n;const s=null==t?void 0:t.parent,a=\"function\"==typeof(null==s?void 0:s.getActiveContentItem)?s.getActiveContentItem():void 0,c=!a||a.config.id===t.config.id,l=void 0!==t.config.componentState.windowId,d=this.index,h=null===(o=u.getByWindowId(e))||void 0===o?void 0:o.id,{appName:p,url:m,windowId:f}=t.config.componentState,g=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:null!==(n=r(null===(i=null==g?void 0:g.config)||void 0===i?void 0:i.id))&&void 0!==n?n:r(t.config.id),config:{frameId:this.frameId,isFocused:c,isLoaded:l,positionIndex:d,workspaceId:h,windowId:f,isMaximized:this.isMaximized,appName:p,url:m,title:t.config.title,allowExtract:this.allowExtract,showCloseButton:this.showCloseButton,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height}}}getUserFriendlyParent(t){var e,o,i;return t.parent?(null===(i=null===(o=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class w{constructor(t,e,o,i){this.stateResolver=t,this.containerContentItem=e,this.frameId=o,this.workspaceId=i}get minWidth(){var t;return null!==(t=this.containerContentItem.getMinWidth())&&void 0!==t?t:20}set minWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set minWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minWidth \"+t);this.containerContentItem.config.workspacesConfig.minWidth=t}get minHeight(){var t;return null!==(t=this.containerContentItem.getMinHeight())&&void 0!==t?t:20}set minHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set minHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minHeight \"+t);this.containerContentItem.config.workspacesConfig.minHeight=t}get maxWidth(){var t;return null!==(t=this.containerContentItem.getMaxWidth())&&void 0!==t?t:32767}set maxWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set maxWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxWidth \"+t);this.containerContentItem.config.workspacesConfig.maxWidth=t}get maxHeight(){var t;return null!==(t=this.containerContentItem.getMaxHeight())&&void 0!==t?t:32767}set maxHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set maxHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxHeight \"+t);this.containerContentItem.config.workspacesConfig.maxHeight=t}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropHeader(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropHeader)||void 0===t||t}set allowDropHeader(t){this.containerContentItem.config.workspacesConfig.allowDropHeader=t}get allowDropLeft(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropLeft)||void 0===t||t}set allowDropLeft(t){this.containerContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropRight(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropRight)||void 0===t||t}set allowDropRight(t){this.containerContentItem.config.workspacesConfig.allowDropRight=t}get allowDropTop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropTop)||void 0===t||t}set allowDropTop(t){this.containerContentItem.config.workspacesConfig.allowDropTop=t}get allowDropBottom(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropBottom)||void 0===t||t}set allowDropBottom(t){this.containerContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtact(t)}get allowSplitters(){var t;if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Accessing allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);return null===(t=this.containerContentItem.config.workspacesConfig.allowSplitters)||void 0===t||t}set allowSplitters(t){if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Setting allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);this.containerContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get bounds(){var t,e,o,i;if(!this.containerContentItem)return{};this.containerContentItem.config.workspacesConfig||(this.containerContentItem.config.workspacesConfig={});const n=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id;if(n&&this.stateResolver.isWorkspaceSelected(n)){const t=l(this.containerContentItem.element);return this.containerContentItem.config.workspacesConfig.cachedBounds=t,t}const s=l(this.containerContentItem.element);return 0===s.width&&0===s.height&&(null===(o=this.containerContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds)?null===(i=this.containerContentItem.config.workspacesConfig)||void 0===i?void 0:i.cachedBounds:s}get isPinned(){var t;return null!==(t=this.containerContentItem.config.workspacesConfig.isPinned)&&void 0!==t&&t}get summary(){var t,e,o;const i=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,n=this.getUserFriendlyType((null===(o=this.containerContentItem)||void 0===o?void 0:o.type)||\"workspace\");let s={workspaceId:i,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,isMaximized:this.isMaximized};const a=\"window\"===n?void 0:n;return\"group\"===a&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton,allowDropHeader:this.allowDropHeader,allowDropLeft:this.allowDropLeft,allowDropRight:this.allowDropRight,allowDropTop:this.allowDropTop,allowDropBottom:this.allowDropBottom})),\"group\"!==a&&(s=Object.assign(Object.assign({},s),{allowSplitters:this.allowSplitters})),{itemId:r(this.containerContentItem.config.id),type:\"window\"===n?void 0:n,config:s}}get config(){var t;const e=(u.getByContainerId(this.containerContentItem.config.id)||u.getByWindowId(r(this.containerContentItem.config.id))).layout.toConfig(),o=this.findElementInConfig(r(this.containerContentItem.config.id),e);return o.workspacesConfig.isPinned=null!==(t=o.workspacesConfig.isPinned)&&void 0!==t&&t,o}get isMaximized(){return this.containerContentItem.hasId(\"__glMaximised\")}populateChildrenAllowDrop(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type)return;new w(this.stateResolver,o,this.frameId).allowDrop=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtact(t){const e=o=>{o.forEach((o=>{if(\"component\"!==o.type){if(\"stack\"===o.type){new w(this.stateResolver,o,this.frameId).allowExtract=t}e(o.contentItems)}else{new g(this.stateResolver,o,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}populateChildrenAllowSplitters(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type||\"stack\"===o.type)return;new w(this.stateResolver,o,this.frameId).allowSplitters=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const o=e=>{if(r(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...o(e)]),[])};return o(e).find((t=>t.id))}}class v{constructor(t,e,o,i){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=o,this.frameId=i}get id(){return this.workspace.id}get title(){var t;const e=this.workspaceContentItem;return(null===(t=e.tab)||void 0===t?void 0:t.title)||e.config.workspacesOptions.title||e.config.title||e.config.componentName}get lastFocusedWindowId(){var t,e,o,i,n,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const a=null===(o=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.focusedWindowId;if(a)return a;{const t=null===(n=null===(i=this.workspace.layout.config)||void 0===i?void 0:i.workspacesOptions)||void 0===n?void 0:n.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){const t=e.contentItems[e.contentItems.length-1].config.id;return r(t)}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(r(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return r(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>r(t.contentItem.config.id)===this.workspace.id))}get isPinned(){return!!this.workspaceContentItem.tab.isPinned}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig.workspacesOptions.isPinned=this.isPinned,t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.showAddWindowButtons=this.showAddWindowButtons,e.workspacesOptions.showEjectButtons=this.showEjectButtons,e.workspacesOptions.showWindowCloseButtons=this.showWindowCloseButtons,e.workspacesOptions.minWidth=Math.max(this.minWidth,20),e.workspacesOptions.maxWidth=Math.min(this.maxWidth,32767),e.workspacesOptions.minHeight=Math.max(this.minHeight,20),e.workspacesOptions.maxHeight=Math.min(this.maxHeight,32767),e.workspacesOptions.widthInPx=this.bounds.width,e.workspacesOptions.heightInPx=this.bounds.height,e.workspacesOptions.isPinned=this.isPinned,e.workspacesOptions.icon=this.icon,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=this.title),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,o={frameId:this.frameId,positionIndex:e,title:this.title,name:t.workspacesOptions.name||this.title,layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton,showAddWindowButtons:this.showAddWindowButtons,showEjectButtons:this.showEjectButtons,showWindowCloseButtons:this.showWindowCloseButtons,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,icon:this.icon};return t.workspacesOptions.layoutName&&(o.layoutName=t.workspacesOptions.layoutName),{config:o,id:this.workspace.id}}get allowDrop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDrop\"))||void 0===t||t}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropLeft\"))||void 0===t||t}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropTop\"))||void 0===t||t}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropRight\"))||void 0===t||t}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropBottom\"))||void 0===t||t}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.getPropertyFromConfig(\"allowExtract\"))||void 0===t||t}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowSplitters(){var t;return null===(t=this.getPropertyFromConfig(\"allowSplitters\"))||void 0===t||t}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showSaveButton(){var t;return null===(t=this.getPropertyFromConfig(\"showSaveButton\"))||void 0===t||t}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showSaveButton:t})}get showCloseButton(){var t;return null===(t=this.getPropertyFromConfig(\"showCloseButton\"))||void 0===t||t}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showCloseButton:t})}get showAddWindowButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showAddWindowButtons\"))||void 0===t||t}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t,this.populateChildrenShowAddWindowButtons(t)}get showEjectButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showEjectButtons\"))||void 0===t||t}set showEjectButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showEjectButtons=t),this.workspaceContentItem.config.workspacesConfig.showEjectButtons=t,this.populateChildrenShowEjectButtons(t)}get showWindowCloseButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showWindowCloseButtons\"))||void 0===t||t}set showWindowCloseButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showWindowCloseButtons=t),this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons=t,this.populateChildrenShowWindowCloseButtons(t)}get minWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinWidth())&&void 0!==e?e:20}get maxWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxWidth())&&void 0!==e?e:32767}get minHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinHeight())&&void 0!==e?e:20}get maxHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxHeight())&&void 0!==e?e:32767}get bounds(){return this.isSelected?l(this.workspaceContentItem.element):l(this.workspaceContentItem.element[0].parentElement)}get hasMaximizedItems(){const t=this.workspace.layout;if(!t)return!1;return t.root.getItemsById(\"__glMaximised\").length>0}get icon(){return this.getPropertyFromConfig(\"icon\")}set icon(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.icon=t),this.workspaceContentItem.config.workspacesConfig.icon=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,icon:t})}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowSplitters(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type||\"stack\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowSplitters=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{o(t)}))}else{new g(this.stateResolver,e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowAddWindowButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showAddWindowButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowEjectButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showEjectButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowWindowCloseButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type)e.contentItems.forEach((t=>{o(t)}));else{new g(this.stateResolver,e,this.frameId).showCloseButton=t}};e.root.contentItems.forEach((t=>{o(t)}))}getPropertyFromConfig(t){var e;let o;return o=(null===(e=this.workspace)||void 0===e?void 0:e.layout)?this.workspace.layout.config.workspacesOptions[t]:this.workspaceContentItem.config.workspacesConfig[t],o}}class y{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}showWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e||e.element.hasClass(y.HibernationIconClass))return;const o=e.element.children(\".lm_iconButton\");o.css(\"display\",\"flex\"),o.show();e.element.find(\".lm_iconButtonContent\").css(\"-webkit-mask-image\",`url(\"${t.icon}\")`)}hideWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e&&!e.element.hasClass(y.HibernationIconClass)&&e.element.children(\".lm_iconButton\").hide()}replaceWorkspaceSaveButtonWithIcon(t){f.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceSaveButton(t),this.showWorkspaceIconButton(t))}replaceWorkspaceIconButtonWithSave(t){f.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceIconButton(t),this.showWorkspaceSaveButton(t))}hideHibernatedIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_saveButton\").removeClass(y.HibernationIconClass)}showHibernationIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.is(\":visible\")||o.show(),o.addClass(y.HibernationIconClass),o.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId),o=u.getById(t.workspaceId);if(!e)return;const i=e.element.children(\".lm_saveButton\");i.removeClass(y.HibernationIconClass),i.attr(\"title\",y.SaveWorkspaceButtonLabel),o.layout&&!1===o.layout.config.workspacesOptions.showSaveButton&&i.hide()}showWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").hide()}addInvisibleStyle(t){const e=document.createElement(\"style\");e.type=\"text/css\",e.innerHTML=`.lm_content.transparent-color { background-color: ${t}; }`,document.getElementsByTagName(\"head\")[0].appendChild(e)}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.hide()}showWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.showWindowCloseButton(r(t.config.id))}))}hideWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.hideWindowCloseButton(r(t.config.id))}))}showEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showEjectButton(r(t.config.id))}))}hideEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideEjectButton(r(t.config.id))}))}showAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(r(t.config.id))}))}hideAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideAddWindowButton(r(t.config.id))}))}waitForTransition(t){return this.hasTransition(t)?new Promise((e=>{let o=()=>{};const i=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())},n=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())};o=()=>{t.removeEventListener(\"transitionend\",i),t.removeEventListener(\"transitioncancel\",n)},t.addEventListener(\"transitionend\",i),t.addEventListener(\"transitioncancel\",n)})):Promise.resolve()}hasTransition(t){return\"all 0s ease 0s\"!==window.getComputedStyle(t,null).getPropertyValue(\"transition\")}}y.HibernationIconClass=\"lm_hibernationIcon\",y.SaveWorkspaceButtonLabel=\"save\";var _=new y;const C=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class I{constructor(t,e,o,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this.getImmediateChildEmptyWindow=t=>\"component\"===t.type?\"emptyVisibleWindow\"===t.config.componentName?t:void 0:\"stack\"===t.type?t.getComponentsByName(\"emptyVisibleWindow\")[0]:t.contentItems.reduce(((t,e)=>t||(\"component\"===e.type?\"emptyVisibleWindow\"===e.config.componentName?e:void 0:e.contentItems.find((t=>\"component\"===t.type&&\"emptyVisibleWindow\"===t.config.componentName)))),void 0),this._options=o,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return l(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator,this._tabObserver=new p,this._tabObserver.init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e.id)})}))))),this.setupOuterLayout(),u.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){o=o||r(u.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=u.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let n=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];o&&o!==t.id&&(n=t.layout.root.getItemsById(o)[0]),n||(n=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:l,url:d,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const p=this.getImmediateChildEmptyWindow(n),m=u.getWorkspaceContentItem(t.id),f=new v(this._stateResolver,t,m,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,n,f,o===t.id);else{[...c(e.content),e].forEach((e=>{this.applyLockConfig(e,n,f,o===t.id)}))}return new Promise((o=>{var i,c;const l=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(l(),o())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),p&&p.parent&&!(null===(i=p.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const o=this._configFactory.wrapInGroup([e]);o.workspacesConfig.wrapper=!1;const i=function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(o[i[n]]=t[i[n]])}return o}((null===(c=p.parent.config)||void 0===c?void 0:c.workspacesConfig)||{},[\"wrapper\"]);return o.workspacesConfig=Object.assign(Object.assign({},o.workspacesConfig),i),p.parent.parent.replaceChild(p.parent,o),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))))}if(p)return p.parent.replaceChild(p,e),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))));n.addChild(e)}))}))}addContainer(e,o){var i;return t(this,void 0,void 0,(function*(){const t=u.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const o=e.id||this._configFactory.getId();return e&&(e.id=o),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),r(o)}const n=t.layout._maximizedItem;n&&n.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(o&&(s=t.layout.root.getItemsById(o)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===o&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),e.content){const i=[...c(e.content),e],n=u.getWorkspaceContentItem(t.id),r=new v(this._stateResolver,t,n,this._frameId);i.forEach((e=>{this.applyLockConfig(e,s,r,o===t.id)}))}if(\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const l=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),d=(null===(i=null==l?void 0:l.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((o,i)=>{let n=()=>{};const a=setTimeout((()=>{n(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(n=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(o(r(s.config.id)),n(),clearTimeout(a))})),1===(null==l?void 0:l.contentItems.length)&&d){const o=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.windows=t.windows.filter((t=>t.id!==o.config.id)),o.parent.replaceChild(o,e)}else s.addChild(e)}))}))}closeContainer(t){const e=u.getByContainerId(t)||u.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);const o=e.layout.root.getItemsById(t)[0];o.parent.isRoot?this.resetWorkspace(e.id):o.remove()}bundleWorkspace(t,e){const o=u.getById(t),i=o.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),n=o.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};o.layout.root.replaceChild(n,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,o){var i,n,s,r;return t(this,void 0,void 0,(function*(){const t=u.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],a={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:Object.assign({},o.workspacesOptions),id:e,noTabHeader:null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(n=null==o?void 0:o.workspacesOptions)||void 0===n?void 0:n.title)||this._configFactory.getWorkspaceTitle(this._stateResolver.getWorkspaceTitles())};let c=!0;!0===a.noTabHeader?c=!1:\"boolean\"==typeof o.workspacesOptions.selected&&(c=o.workspacesOptions.selected),this.registerWorkspaceComponent(e);const l=null===(s=o.workspacesOptions)||void 0===s?void 0:s.positionIndex;if(null===(r=o.workspacesOptions)||void 0===r||delete r.positionIndex,l<0)throw new Error(`Cannot place the workspace on index ${l} because its negative`);const d=t.header._getLastIndexOfPinnedTab();if(l<=d&&!o.workspacesOptions.isPinned)throw new Error(\"Cannot place and unpinned workspace before the last pinned workspace at position \"+d);t.addChild(a,l,c),yield this.initWorkspaceContents(e,o,!1);const h=u.getWorkspaceContentItem(e),p=new v(this._stateResolver,u.getById(e),h,this._frameId);!1===p.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:h.tab}),!1===p.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:h.tab}),p.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:h.tab,icon:p.icon}),_.waitForTransition(h.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(h.parent.header.tabsContainer)}))),this.setupContentLayouts(e)}))}reinitializeWorkspace(t,e){var o,i;const n=u.getWorkspaceContentItem(t);return u.removeLayout(t),(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,(null===(i=e.workspacesOptions)||void 0===i?void 0:i.title)&&this.setWorkspaceTitle(r(n.config.id),e.workspacesOptions.title),this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could not find workspace to remove with id \"+t);u.removeById(t),e.remove()}resetWorkspace(e){return t(this,void 0,void 0,(function*(){const o=u.getById(e);o.hibernatedWindows=[],o.windows.filter((t=>t.appName||t.windowId)).map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.id);t&&this.emitter.raiseEvent(\"tab-close-requested\",{item:t})}))));o.layout.root.getItemsByType(\"component\").forEach((t=>{t.remove()})),u.removeLayout(o.id),this.showAddButton(o.id)}))}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const o=$(\"link[href='./dist/glue42-light-theme.css']\");(0===o.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):o).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const o=this.getDragElement();if(o){o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\");const i=$(o).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const o=new MutationObserver((i=>{let n;Array.from(i).forEach((t=>{const e=$(t.addedNodes);n||(n=e.find(\".lm_dragProxy\"))})),n&&(o.disconnect(),this.setDragElementSize(t,e))}));o.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return u.layouts.filter((t=>t.layout)).forEach((o=>{const i=o.layout.root.getItemsById(t)[0];i&&o.windows.find((e=>e.id===t))&&(o.windows=o.windows.filter((e=>e.id!==t)),i.remove(),e=o)})),e}setWindowTitle(t,e){const o=u.getWindowContentItem(t);if(!o)throw new Error(`Could not find window ${t} to change its title to ${e}`);o.setTitle(e),o.config.componentState.title=e}setWorkspaceTitle(t,e){u.getWorkspaceLayoutItemById(t).setTitle(e),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,title:e})}focusWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.setActiveContentItem(o)}focusWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0],i=u.getById(o.layoutManager.root.config.id);if(new v(this._stateResolver,i,void 0,this._frameId).hasMaximizedItems&&!o.parent.hasId(this._maximizedId))throw new Error(`Could not maximize window ${t}, because workspace ${i.id} contains another maximized item`);o.parent.hasId(this._maximizedId)||o.parent.toggleMaximise()}restoreWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.hasId(this._maximizedId)&&o.parent.toggleMaximise()}maximizeContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);const o=u.getById(e.layoutManager.root.config.id);if(new v(this._stateResolver,o,void 0,this._frameId).hasMaximizedItems&&!e.hasId(\"__glMaximised\"))throw new Error(`Could not maximize container ${t}, because workspace ${o.id} contains another maximized item`);e.hasId(\"__glMaximised\")||e.layoutManager._$maximiseItem(e)}restoreContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);e.hasId(\"__glMaximised\")&&e.layoutManager._$minimiseItem(e)}showLoadedWindow(e,o){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=u.getWindowContentItem(e),i=u.getByWindowId(e),n=t.config;n.componentState.windowId=o,i.windows.find((t=>t.id===e)).windowId=o,t.parent.replaceChild(t,n)}))}isWindowVisible(t){t=r(t);const e=u.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const o=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return;const i=o.element.children(\".lm_saveButton\");i.addClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const o=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return void console.error(\"Could not find the tab for\",t);const i=o.element.children(\".lm_saveButton\");i.removeClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=u.getWindowContentItem(t);if(null==e?void 0:e.tab){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),o=u.getById(t);if(e&&(null==o?void 0:o.layout)){const t=l(e);o.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const o=u.getWorkspaceContentItem(t),i=u.getById(t),n=new v(this._stateResolver,i,o,this._frameId);n.allowDrop=e.allowDrop,n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const o=u.getWorkspaceContentItem(t),i=u.getById(t),n=new v(this._stateResolver,i,o,this._frameId);n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}enableWorkspaceSaveButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,e,o,this._frameId);i.showSaveButton=!0,i.isPinned||_.showWorkspaceSaveButton({workspaceTab:o.tab})}disableWorkspaceSaveButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showSaveButton=!1,_.hideWorkspaceSaveButton({workspaceTab:o.tab})}enableWorkspaceCloseButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,e,o,this._frameId);i.showCloseButton=!0,i.isPinned||_.showWorkspaceCloseButton({workspaceTab:o.tab})}disableWorkspaceCloseButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showCloseButton=!1,_.hideWorkspaceCloseButton({workspaceTab:o.tab})}enableSplitters(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowSplitters=!0}disableSplitters(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowExtract=!1}enableWorkspaceWindowCloseButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!0,_.showWindowCloseButtons(t)}disableWorkspaceWindowCloseButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!1,_.hideWindowCloseButtons(t)}enableWorkspaceEjectButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showEjectButtons=!0,_.showEjectButtons(t)}disableWorkspaceEjectButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showEjectButtons=!1,_.hideEjectButtons(t)}enableWorkspaceAddWindowButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!0,_.showAddWindowButtons(t)}disableWorkspaceAddWindowButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!1,_.hideAddWindowButtons(t)}enableWindowExtract(t,e){const o=u.getWindowContentItem(t);new g(this._stateResolver,o,this._frameId).allowExtract=e}disableWindowExtract(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).allowExtract=!1}enableWindowCloseButton(t,e){const o=u.getWindowContentItem(t);new g(this._stateResolver,o,this._frameId).showCloseButton=e;const i=u.getByWindowId(t),n=u.getWorkspaceContentItem(i.id);new v(this._stateResolver,i,n,this._frameId).showCloseButton&&_.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).showCloseButton=!1,_.hideWindowCloseButton(t)}enableColumnDrop(t,e){const o=u.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowDrop=e}disableColumnDrop(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const o=u.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowDrop=e}disableRowDrop(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableColumnSplitters(t,e){const o=u.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowSplitters=e}disableColumnSplitters(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableRowSplitters(t,e){const o=u.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowSplitters=e}disableRowSplitters(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableGroupDrop(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new w(this._stateResolver,o,this._frameId);i.allowDrop=e.allowDrop,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableGroupDrop(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new w(this._stateResolver,o,this._frameId);i.allowDrop=!1,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableGroupMaximizeButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showMaximizeButton=e,_.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showMaximizeButton=!1,_.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showEjectButton=e,_.showEjectButton(t)}disableGroupEjectButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showEjectButton=!1,_.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showAddWindowButton=e,_.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showAddWindowButton=!1,_.hideAddWindowButton(t)}enableGroupExtract(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowExtract=e}disableGroupExtract(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowExtract=!1}resizeRow(t,e){const o=t.getItemsByType(\"component\")[0];let i=this.validateRowHeight(t,e);if(i){if(\"number\"==typeof e){i-=h(o.parent.header.element)}this.resizeComponentCore(o,void 0,i)}}resizeColumn(t,e){const o=t.getItemsByType(\"component\")[0],i=this.validateColumnWidth(t,e);i&&this.resizeComponentCore(o,i)}resizeStack(t,e,o){const i=this.validateStackWidth(t,e);let n=this.validateStackHeight(t,o);const s=t.getItemsByType(\"component\")[0];if(\"number\"==typeof n){n-=h(s.parent.header.element)}this.resizeComponentCore(s,i,n)}resizeComponent(t,e,o){this.resizeComponentCore(t,e,o)}togglePinWorkspace(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).isPinned?this.unpinWorkspace(t):this.pinWorkspace(t,void 0)}pinWorkspace(t,e){const o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,u.getById(t),o,this._frameId),n=e||i.icon;if(!n)throw new Error(`Workspace ${t} cannot be pinned because ${n} is an invalid icon`);o.tab.pin(),e&&(i.icon=e),_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:o.tab,icon:n}),_.waitForTransition(o.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(o.parent.header.tabsContainer)})),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,icon:e,isPinned:!0})}unpinWorkspace(t){const e=u.getWorkspaceContentItem(t),o=new v(this._stateResolver,u.getById(t),e,this._frameId);e.tab.unpin(),o.showSaveButton&&_.showWorkspaceSaveButton({workspaceTab:e.tab}),o.showCloseButton||_.hideWorkspaceCloseButton({workspaceTab:e.tab}),_.hideWorkspaceIconButton({workspaceTab:e.tab}),_.waitForTransition(e.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(e.parent.header.tabsContainer)})),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,isPinned:!1})}resizeComponentCore(t,e,o){const i=this.validateComponentWidth(t,e),n=this.validateComponentHeight(t,o);if(\"number\"==typeof i){const e=t.container.setSize(i,void 0);if(t.container.setSize(i,void 0),!e)throw new Error(`Failed to resize window ${t.config.id} to ${i} width.\\n                 This is most likely caused by a missing row parent element - to change the width please make sure that there is a row element`)}if(\"number\"==typeof n){const e=t.container.setSize(void 0,n);if(t.container.setSize(void 0,n),!e)throw new Error(`Failed to resize component ${t.config.id} to ${n} height.\\n                     This is most likely caused by a missing column parent element - to change the height please make sure that there is a column element`)}}validateRowHeight(t,e){if(!e)return;const o=t.parent,i=o.getMaxHeight(),n=t.getMaxHeight(),s=t.getMinHeight(),r=l(o.element).height,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinHeight()),0);if(a<=0)return;const c=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxHeight()),0),d=Math.max(r-c,0),h=Math.min(i,n,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateColumnWidth(t,e){if(!e)return;const o=t.parent,i=o.getMaxWidth(),n=t.getMaxWidth(),s=t.getMinWidth(),r=l(o.element).width,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinWidth()),0);if(a<=0)return;const c=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxWidth()),0),d=Math.max(r-c,0),h=Math.min(i,n,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateStackHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateStackWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}initWorkspaceContents(t,e,o){if(!e||\"component\"!==e.type&&!e.content.length)return u.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let o,i,n=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{n++,n>=t&&(clearTimeout(s),o())},promise:new Promise(((t,e)=>{o=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[e]});const s=u.getWorkspaceContentItem(t),c=s.config.workspacesConfig,d=e.workspacesOptions,h=o?Object.assign({},c,d):d;\"boolean\"==typeof h.selected&&delete h.selected,s.config.workspacesConfig=h,e.workspacesOptions=h,e.workspacesOptions.workspaceId=t;const p=new i(e,$(\"#nestHere\"+t),f.decoratedFactory);u.addOrUpdate(t,[]),this.registerEmptyWindowComponent(p,t),a(e.content).forEach((t=>{this.registerWindowComponent(p,r(t.id))}));const m=$(\"#nestHere\"+t);return new C((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(m[0]),p.on(\"initialised\",(()=>{const e=a(p.toConfig().content);u.addOrUpdate(t,e.map((t=>{const e=p.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:l(e),windowId:t.componentState.windowId}})),p),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:p});const o=m.width(),i=m.height();p.updateSize(o,i),n.signal()})),p.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),p.on(\"itemCreated\",(e=>{var o;if(e.isComponent)e.on(\"size-changed\",(()=>{const o=u.getById(t).windows.find((t=>t.id===e.config.id));o&&(o.bounds=l(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(o=e.parent)||void 0===o?void 0:o.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId()),\"row\"!==e.type&&\"column\"!==e.type&&\"stack\"!==e.type||(e.on(\"maximized\",(()=>{this.emitter.raiseEvent(\"container-maximized\",{container:e})})),e.on(\"minimized\",(()=>{this.emitter.raiseEvent(\"container-restored\",{container:e})})))}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),p.on(\"itemDestroyed\",(e=>{this.emitter.raiseEvent(\"content-item-removed\",{workspaceId:t,item:e})})),p.on(\"stackCreated\",(e=>{const o=new w(this._stateResolver,e,this._frameId),i=document.createElement(\"li\");i.classList.add(\"lm_add_button\"),i.onclick=o=>{o.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:l(i)}})};const n=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");n.addClass(\"workspace_content\"),!1===o.showMaximizeButton&&_.hideMaximizeButton(e),!1===p.config.workspacesOptions.showEjectButtons&&!0!==o.showEjectButton&&_.hideAddWindowButton(e),!1===o.showEjectButton&&_.hideEjectButton(e),e.on(\"maximized\",(()=>{n.addClass(\"lm_restore\"),n.attr(\"title\",this._stackRestoreLabel)})),e.on(\"minimized\",(()=>{n.removeClass(\"lm_restore\"),n.attr(\"title\",this._stackMaximizeLabel)})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(i)),!1===p.config.workspacesOptions.showAddWindowButtons&&!0!==o.showAddWindowButton&&_.hideAddWindowButton(e),!1===o.showAddWindowButton&&_.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const o=t.config.id,i=[{id:r(t.config.id),bounds:l(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],n=e.header.tabs.reduce(((t,e)=>{const o=e.contentItem.config;if(\"component\"===o.type){const i={id:r(o.id),bounds:l(e.contentItem.element),windowId:o.componentState.windowId,appName:o.componentState.appName,url:o.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==o));this.emitter.raiseEvent(\"selection-changed\",{toBack:n,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),p.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragStop\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;const e=new g(this._stateResolver,t.contentItem,this._frameId);!1===p.config.workspacesOptions.showWindowCloseButtons&&!0!==e.showCloseButton&&_.hideWindowCloseButton(t.contentItem),!1===e.showCloseButton&&_.hideWindowCloseButton(t.contentItem)})),p.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),p.on(\"componentCreated\",(e=>{const o=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(o)?Promise.all(o).then((()=>{n.signal()})).catch((t=>n.reject(t))):o.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),p.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),p.on(\"itemDropped\",(t=>{this.emitter.raiseEvent(\"item-dropped\",{item:t})})),p._ignorePinned=!0,p.init(),n.promise.then((()=>{p._ignorePinned=!1}))}initWorkspaceConfig(e){return new Promise((o=>{e.settings.selectionEnabled=!0,u.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),f.decoratedFactory);new C((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),u.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{});u.workspaceLayout.root.getItemsByType(\"stack\")[0].header.tabs.forEach((t=>{var e,o,i;const n=new v(this._stateResolver,void 0,t.contentItem,this._frameId);n.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:t,icon:n.icon}),_.waitForTransition(t.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(t.contentItem.parent.header.tabsContainer)}))),(null===(i=null===(o=null===(e=t.contentItem)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.selected)&&delete t.contentItem.config.workspacesConfig.selected})),o()})),u.workspaceLayout.on(\"stackCreated\",(e=>{var o;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const n=e.header.element[0],s=null===(o=f.decoratedFactory)||void 0===o?void 0:o.createAddWorkspace;if(new MutationObserver((()=>{const t=this.getElementByClass(n,\"lm_add_button\");t&&f.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:l(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!s){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!f.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const e=n.getElementsByClassName(\"lm_logo\")[0];e&&e.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===u.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const o=u.workspaceIds.reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:u.getById(t),toBack:o})}))))})),u.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),u.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\"),o=document.createElement(\"div\"),i=document.createElement(\"span\");o.classList.add(\"lm_iconButton\"),i.classList.add(\"lm_iconButtonContent\"),o.appendChild(i),e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(f.decoratedFactory.createWorkspaceTabs||(t.element[0].prepend(o),t.element[0].prepend(e)),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t);const n=u.getById(t.contentItem.config.id),s=new v(this._stateResolver,n,t.contentItem,this._frameId);!1===s.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:t}),!1===s.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:t}),t._dragListener.on(\"reorderStop\",(()=>{u.syncWorkspaceOrder()}))})),u.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:u.getById(t.contentItem.config.id)})})),u.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{u.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const o=u.getById(t).layout;if(o){const e=$(\"#nestHere\"+t),i=l(e[0]);o.updateSize(i.width,i.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:100%;\"),o.id=\"app\"+e,t.getElement().append(o)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const o=document.createElement(\"div\");o.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=o=>{o.stopPropagation();const n=t.tab.contentItem,s=\"stack\"===n.parent.type?\"group\":n.parent.type;n.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(n.parent.parent.config.id),workspaceId:e,parentType:n.parent.parent.type,bounds:l(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(n.parent.config.id),workspaceId:e,parentType:s,bounds:l(i)}})},o.append(i),t.getElement().append(o)}))}registerWorkspaceComponent(t){this.registerComponent(u.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var o,i;const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),n.classList.add(\"empty-container-background\"),n.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=o=>{o.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:l(s)}})},n.appendChild(s),(null===(o=f.decoratedFactory)||void 0===o?void 0:o.createWorkspaceContents)?(document.body.append(n),n.style.display=\"none\",null===(i=f.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(n),$(s).hide()}))}registerComponent(t,e,o){try{t.registerComponent(e,(function(t,e){o&&o(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const o=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),o()}));u.getById(t)&&(e(),o())}))}waitForWindowContainer(t){return new Promise((e=>{const o=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),o())}));u.getWindowContentItem(t)&&(e(),o())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=l($(this._workspaceLayoutElementId));u.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));o&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const o=t.getElementsByClassName(e);if(o.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return o[0]}applyLockConfig(t,e,o,i){var n,s,r,a;const c=i?o.allowDrop:e.config.workspacesConfig.allowDrop,l=i?o.allowSplitters:e.config.workspacesConfig.allowSplitters;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(n=t.workspacesConfig.allowDrop)&&void 0!==n?n:c),void 0===t.workspacesConfig.allowExtract){const e=o.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}void 0===t.workspacesConfig.showAddWindowButton&&(t.workspacesConfig.showAddWindowButton=o.showAddWindowButtons),void 0===t.workspacesConfig.showEjectButton&&(t.workspacesConfig.showEjectButton=o.showEjectButtons)}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(r=t.workspacesConfig.allowDrop)&&void 0!==r?r:c),void 0===t.workspacesConfig.allowSplitters&&(t.workspacesConfig.allowSplitters=null!==(a=t.workspacesConfig.allowSplitters)&&void 0!==a?a:l);else if(\"component\"===t.type){if(void 0===t.workspacesConfig.allowExtract){const n=i?o.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=n}void 0===t.workspacesConfig.showCloseButton&&(t.workspacesConfig.allowExtract=o.showWindowCloseButtons)}}}class k{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onContainerMaximized(t){return this._registry.add(\"container-maximized\",t)}onContainerRestored(t){return this._registry.add(\"container-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}onItemDropped(t){return this._registry.add(\"item-dropped\",t)}onContentItemRemoved(t){return this._registry.add(\"content-item-removed\",t)}raiseEvent(t,e){const o=this._registry.execute(t,...Object.values(e));return Array.isArray(o)&&o.some((t=>t&&t.then))||o&&!Array.isArray(o)&&o.then?o:Promise.resolve(o)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var b=1;var x,W,E,S={nextValue:function(){return(b=(9301*b+49297)%233280)/233280},seed:function(t){b=t}},T=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function B(){E=!1}function D(t){if(t){if(t!==x){if(t.length!==T.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,o){return e!==o.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));x=t,B()}}else x!==T&&(x=T,B())}function M(){return E||(E=function(){x||D(T);for(var t,e=x.split(\"\"),o=[],i=S.nextValue();e.length>0;)i=S.nextValue(),t=Math.floor(i*e.length),o.push(e.splice(t,1)[0]);return o.join(\"\")}())}var A={get:function(){return x||T},characters:function(t){return D(t),x},seed:function(t){S.seed(t),W!==t&&(B(),W=t)},lookup:function(t){return M()[t]},shuffled:M},P=\"object\"==typeof window&&(window.crypto||window.msCrypto),L=P&&P.getRandomValues?function(t){return P.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],o=0;o<t;o++)e.push(Math.floor(256*Math.random()));return e},O=function(t,e,o){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*i*o/e.length),s=\"\";;)for(var r=t(n),a=n;a--;)if((s+=e[r[a]&i]||\"\").length===+o)return s};var R,H,F=function(t){for(var e,o=0,i=\"\";!e;)i+=O(L,A.get(),1),e=t<Math.pow(16,o+1),o++;return i};var z=function(t){var e=\"\",o=Math.floor(.001*(Date.now()-1567752802062));return o===H?R++:(R=0,H=o),e+=F(7),e+=F(t),R>0&&(e+=F(R)),e+=F(o)};var N=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+A.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},j=o((function(t){var e=0;function o(){return z(e)}t.exports=o,t.exports.generate=o,t.exports.seed=function(e){return A.seed(e),t.exports},t.exports.worker=function(o){return e=o,t.exports},t.exports.characters=function(t){return void 0!==t&&A.characters(t),A.shuffled()},t.exports.isValid=N}));class q{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,o,i,n){return t(this,void 0,void 0,(function*(){return this.startCore(e,o,i,n)}))}moveFrame(t,e){const o=this._idToFrame[t],i=$(o);0!==e.width&&0!==e.height&&(i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\")),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setImmediate((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)})))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,o,i,n){return t(this,void 0,void 0,(function*(){if(n=n||j.generate(),this._idToFrame[e])return this._idToFrame[e];if(!o)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");t.name=n+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=o;return new URL(location.href).protocol.includes(\"extension\")&&t.setAttribute(\"sandbox\",\"allow-forms allow-scripts allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin\"),document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(n),t}))}waitForWindow(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{o(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((o=>{o.id===t&&(i(),e(),clearTimeout(n))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(n))}))}}var G=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var U=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),o=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),n=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(n)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=o&&void 0!==o,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const o=new URLSearchParams(t),i=o.get(e);Array.from(o.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class V{constructor(t,e,o,i,n){this.resolver=t,this._glue=e,this._configFactory=o,this._configConverter=i,this._constraintsValidator=n,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig(this._initialWorkspaceConfig);const o=U.config;if(o.workspaceNames&&o.workspaceNames.length){const e=(yield Promise.all(o.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},o.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,o.context):o.context&&(t.workspacesOptions.context=o.context),t.workspacesOptions.layoutName=o.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=U.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig(this.resolver.getWorkspaceTitles())}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(G.get(G.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){var o,i,n;return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),s=t.components[0].state;this._constraintsValidator.fixWorkspace(s);const r=this._configConverter.convertToRendererConfig(s);return null===(i=null===(o=r)||void 0===o?void 0:o.workspacesOptions)||void 0===i||delete i.positionIndex,this.addWorkspaceIds(r),{config:r,layoutData:{metadata:t.metadata,name:e,context:null!==(n=s.context)&&void 0!==n?n:{}}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var o;return t(this,void 0,void 0,(function*(){const{workspace:t,name:i,saveContext:n}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(o=t.layout)||void 0===o?void 0:o.config)||t.hibernateConfig).workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);s.config.title&&delete s.config.title;let r=void 0;if(n)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:i,type:this._layoutsType,metadata:e.metadata,components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:null!=r?r:{}}}]};try{yield this._glue.layouts.import([a],\"merge\")}catch(t){throw console.error(t),t}return a}))}generateLayout(e,o){return t(this,void 0,void 0,(function*(){if(!o.layout)throw new Error(\"An empty layout cannot be generated\");o.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(o);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var o,i;return t(this,void 0,void 0,(function*(){if(!(null===(i=null===(o=window.glue42core)||void 0===o?void 0:o.workspacesFrameCache)||void 0===i||i))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);G.set(G.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName,yield this.applyWindowLayoutState(t);const o=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(o),this.windowSummariesToWindowLayout(o),this.addWindowUrlsToWindows(o),this.workspaceSummaryToWorkspaceLayout(o),o}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id),o=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(o),this.windowSummariesToWindowLayout(o),this.addWindowUrlsToWindows(o),this.workspaceSummaryToWorkspaceLayout(o),o}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const o=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>o(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const o=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},o)}}}));yield o(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var o,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(o=null==e?void 0:e.userProperties)||void 0===o?void 0:o.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var o;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(o=t.children)||void 0===o||o.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const o=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>o(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield o(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(d(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class X{constructor(t,e,o,i){this._frameId=t,this._layoutEventEmitter=e,this.frameController=o,this.converter=i}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=u.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=u.getWindowContentItem(e));return new g(this,t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const o=e||u.getWindowContentItem(t);return new g(this,o,this._frameId).summary}getWorkspaceConfig(t){const e=u.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new v(this,e,u.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSnapshot(t,e){const o=this.getWorkspaceConfig(t),i=this.converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:e.getFrameSummary(this._frameId)}}getWorkspaceSummary(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=r(t),o=u.getWindowContentItem(e);return new g(this,o,this._frameId).isMaximized}isWindowInMaximizedContainer(t){const e=Array.isArray(t)?t[0]:t,o=u.getWindowContentItem(e),i=t=>{if(t&&!t.isRoot)return t.hasId(\"__glMaximised\")?t:i(t.parent)};return!!i(o)}isWindowSelected(t){const e=r(t),o=u.getWindowContentItem(e);return new g(this,o,this._frameId).isSelected}isWorkspaceSelected(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);return new v(this,e,o,this._frameId).isSelected}isWorkspaceHibernated(t){const e=u.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const o=u.getWorkspaceContentItem(e.id);return new v(this,e,o,this._frameId).isHibernated}getContainerSummary(t){t=r(t);const e=u.getContainer(t);return new w(this,e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new w(this,t,this._frameId,e).summary}getContainerConfig(t){const e=u.getContainer(t);return new w(this,e,this._frameId).config}isWindowInWorkspace(t){return!!u.getWindowContentItem(t)}getFrameSnapshot(t){const e=u.workspaceIds.map((e=>this.getWorkspaceSnapshot(e,t))),o=this.getFrameConstraints();return{id:this._frameId,config:Object.assign({},o),workspaces:e}}getSnapshot(t,e){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot(e)}}extractWindowSummariesFromSnapshot(t){const e=[],o=(t,i)=>{\"component\"!==t.type?t.content.forEach((e=>o(e,r(t.id)))):e.push({itemId:r(t.id),parentId:i,config:t.workspacesConfig})};return o(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(r(t))}getRendererWindowBounds(){return{left:window.visualViewport.offsetLeft,top:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height}}getFrameConstraints(){return u.workspaceIds.map((t=>new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId))).reduce(((t,e)=>{const o=this.getRendererWindowBounds(),i=o.width-e.bounds.width,n=o.height-e.bounds.height,s=Math.ceil(Math.max(e.minWidth+i,t.minWidth)),r=Math.ceil(Math.max(e.minHeight+n,t.minHeight)),a=Math.ceil(Math.min(e.maxWidth+i,t.maxWidth)),c=Math.ceil(Math.min(e.maxHeight+n,t.maxHeight));return r<=c&&s<=a&&(t.minWidth=s,t.minHeight=r,t.maxWidth=a,t.maxHeight=c),t}),{minWidth:20,maxWidth:32767,minHeight:20,maxHeight:32767})}getWorkspaceIcon(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).icon}getWorkspaceTitles(){return u.workspaceIds.map((t=>new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).title))}waitForWindowContentItem(t){return new Promise((e=>{const o=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(o(),e())}));u.getWindowContentItem(t)&&(o(),e())}))}}class Y{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const o=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((o.length?o.sort(((t,e)=>t-e))[o.length-1]:0)+1+e)}}class J{constructor(t){this._titleGenerator=new Y,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),o={allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,positionIndex:t.positionIndex,isMaximized:t.isMaximized};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:o})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,widthInPx:t.widthInPx,heightInPx:t.heightInPx}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return j.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(t){const e=j.generate();return{frameId:void 0,workspaceConfigs:[{id:e,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:e,componentName:this.getWorkspaceLayoutComponentName(e),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(t)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e=t.find((t=>{var e;return null===(e=t.workspacesOptions)||void 0===e?void 0:e.selected})),o={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",activeItemIndex:e?t.indexOf(e):t.length-1,content:t.map((t=>{var e,o,i;const n=j.generate();return{workspacesConfig:Object.assign({},t.workspacesOptions),type:\"component\",id:(null==t?void 0:t.id)||n,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||n),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(u.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,e)=>{let i=null==t?void 0:t.id;return i||\"component\"===o.content[0].type||(i=o.content[0].content[e].id),{id:i,config:t}})),workspaceLayout:o}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}convertLayoutOptionsToWorkspaceItem(e,o,i){var n;return t(this,void 0,void 0,(function*(){const t=yield i.getWorkspaceByName(e),s=t.config;return s.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&s.workspacesOptions.context?s.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(s.workspacesOptions.context=null==o?void 0:o.context),s.workspacesOptions.title=(null==o?void 0:o.title)||e,s.workspacesOptions.icon=null!==(n=null==o?void 0:o.icon)&&void 0!==n?n:s.workspacesOptions.icon,s&&s.workspacesOptions&&!s.workspacesOptions.name&&(s.workspacesOptions.name=e),s&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.layoutName=t.layoutData.name),s&&o&&(s.workspacesOptions.loadingStrategy=o.loadingStrategy),s&&void 0!==(null==o?void 0:o.noTabHeader)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),s&&void 0!==(null==o?void 0:o.isPinned)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.isPinned=null==o?void 0:o.isPinned),s&&void 0!==(null==o?void 0:o.isSelected)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.selected=null==o?void 0:o.isSelected),s}))}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}}class Z{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class Q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var o,i,n,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k,b,x,W,E,S,T,B,D,M,A,P,L,O,R,H,F,z,$,N,j,q,G,U,V,X,Y,J,Z,Q;let K={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(K=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:o}=e;return o.length>1&&o.every((t=>\"column\"===t.type))?K.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):o.length>1&&o.every((t=>\"row\"===t.type))?K.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):K.content.push(...o.map((t=>this.convertToRendererConfigCore(t,e)))),K}if(\"column\"===t.type||\"row\"===t.type)return K.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===K.content.length&&K.content.push(this.getGroupWithEmptyVisibleWindow()),K.workspacesConfig||(K.workspacesConfig={}),K.workspacesConfig.allowDrop=null===(o=t.config)||void 0===o?void 0:o.allowDrop,K.workspacesConfig.allowSplitters=null===(i=t.config)||void 0===i?void 0:i.allowSplitters,K.workspacesConfig.isPinned=null===(n=t.config)||void 0===n?void 0:n.isPinned,K.workspacesConfig.maxWidth=null===(s=t.config)||void 0===s?void 0:s.maxWidth,K.workspacesConfig.minWidth=null===(r=t.config)||void 0===r?void 0:r.minWidth,K.workspacesConfig.maxHeight=null===(a=t.config)||void 0===a?void 0:a.maxHeight,K.workspacesConfig.minHeight=null===(c=t.config)||void 0===c?void 0:c.minHeight,K.workspacesConfig.positionIndex=null===(l=t.config)||void 0===l?void 0:l.positionIndex,K.workspacesConfig.isMaximized=null===(d=t.config)||void 0===d?void 0:d.isMaximized,K.width=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.width),K.height=this.convertSizeToRendererConfigSafely(null===(u=t.config)||void 0===u?void 0:u.height),K;if(\"group\"===t.type)return K.type=\"stack\",K.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===K.content.length&&K.content.push(this._configFactory.createEmptyVisibleWindowConfig()),K.workspacesConfig||(K.workspacesConfig={}),K.workspacesConfig.allowDrop=null===(p=t.config)||void 0===p?void 0:p.allowDrop,K.workspacesConfig.allowDropHeader=null===(m=t.config)||void 0===m?void 0:m.allowDropHeader,K.workspacesConfig.allowDropLeft=null===(f=t.config)||void 0===f?void 0:f.allowDropLeft,K.workspacesConfig.allowDropRight=null===(g=t.config)||void 0===g?void 0:g.allowDropRight,K.workspacesConfig.allowDropTop=null===(w=t.config)||void 0===w?void 0:w.allowDropTop,K.workspacesConfig.allowDropBottom=null===(v=t.config)||void 0===v?void 0:v.allowDropBottom,K.workspacesConfig.allowExtract=null===(y=t.config)||void 0===y?void 0:y.allowExtract,K.workspacesConfig.showMaximizeButton=null===(_=t.config)||void 0===_?void 0:_.showMaximizeButton,K.workspacesConfig.showEjectButton=null===(C=t.config)||void 0===C?void 0:C.showEjectButton,K.workspacesConfig.showAddWindowButton=null===(I=t.config)||void 0===I?void 0:I.showAddWindowButton,K.workspacesConfig.maxWidth=null===(k=t.config)||void 0===k?void 0:k.maxWidth,K.workspacesConfig.minWidth=null===(b=t.config)||void 0===b?void 0:b.minWidth,K.workspacesConfig.maxHeight=null===(x=t.config)||void 0===x?void 0:x.maxHeight,K.workspacesConfig.minHeight=null===(W=t.config)||void 0===W?void 0:W.minHeight,K.activeItemIndex=null===(E=t.config)||void 0===E?void 0:E.activeTabIndex,K.workspacesConfig.positionIndex=null===(S=t.config)||void 0===S?void 0:S.positionIndex,K.workspacesConfig.isMaximized=null===(T=t.config)||void 0===T?void 0:T.isMaximized,K.width=this.convertSizeToRendererConfigSafely(null===(B=t.config)||void 0===B?void 0:B.width),K.height=this.convertSizeToRendererConfigSafely(null===(D=t.config)||void 0===D?void 0:D.height),K;if(\"window\"===t.type){let o=(null===(M=t.config)||void 0===M?void 0:M.appName)||t.appName;const i=null===(A=t.config)||void 0===A?void 0:A.windowId;!o&&i&&(o=this._configFactory.getAppNameFromWindowId(i));const n=this._configFactory.createGDWindowConfig({windowId:i,id:t.id,appName:o,url:(null===(P=t.config)||void 0===P?void 0:P.url)||t.url,title:(null===(L=t.config)||void 0===L?void 0:L.title)||t.title,context:(null===(O=t.config)||void 0===O?void 0:O.context)||t.context,allowExtract:null!==(H=null===(R=null==t?void 0:t.config)||void 0===R?void 0:R.allowExtract)&&void 0!==H?H:t.allowExtract,showCloseButton:null!==(z=null===(F=null==t?void 0:t.config)||void 0===F?void 0:F.showCloseButton)&&void 0!==z?z:t.showCloseButton,minWidth:null!==(N=null===($=null==t?void 0:t.config)||void 0===$?void 0:$.minWidth)&&void 0!==N?N:t.minWidth,maxWidth:null!==(q=null===(j=null==t?void 0:t.config)||void 0===j?void 0:j.maxWidth)&&void 0!==q?q:t.maxWidth,minHeight:null!==(U=null===(G=null==t?void 0:t.config)||void 0===G?void 0:G.minHeight)&&void 0!==U?U:t.minHeight,maxHeight:null!==(X=null===(V=null==t?void 0:t.config)||void 0===V?void 0:V.maxHeight)&&void 0!==X?X:t.maxHeight,positionIndex:null!==(J=null===(Y=null==t?void 0:t.config)||void 0===Y?void 0:Y.positionIndex)&&void 0!==J?J:t.positionIndex,isMaximized:null!==(Q=null===(Z=null==t?void 0:t.config)||void 0===Z?void 0:Z.isMaximized)&&void 0!==Q?Q:t.isMaximized});return\"group\"!==e.type?(n.componentState.header=!1,this.wrap([n],\"stack\")):n}}convertToApiConfigCore(t){var e,o,i,n,s,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,showCloseButton:e.showCloseButton,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minHeight:e.minHeight,minWidth:e.minWidth,widthInPx:e.widthInPx,heightInPx:e.heightInPx})}const b=t,x={id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=b.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(o=b.workspacesConfig)||void 0===o?void 0:o.frameId,workspaceId:null===(i=b.workspacesConfig)||void 0===i?void 0:i.workspaceId,activeTabIndex:b.activeItemIndex,width:b.width,height:b.height,allowDrop:null===(n=b.workspacesConfig)||void 0===n?void 0:n.allowDrop,allowDropHeader:null===(s=b.workspacesConfig)||void 0===s?void 0:s.allowDropHeader,allowDropLeft:null===(a=b.workspacesConfig)||void 0===a?void 0:a.allowDropLeft,allowDropRight:null===(c=b.workspacesConfig)||void 0===c?void 0:c.allowDropRight,allowDropTop:null===(l=b.workspacesConfig)||void 0===l?void 0:l.allowDropTop,allowDropBottom:null===(d=b.workspacesConfig)||void 0===d?void 0:d.allowDropBottom,isPinned:null===(h=b.workspacesConfig)||void 0===h?void 0:h.isPinned,allowExtract:null===(u=b.workspacesConfig)||void 0===u?void 0:u.allowExtract,showMaximizeButton:null===(p=b.workspacesConfig)||void 0===p?void 0:p.showMaximizeButton,showEjectButton:null===(m=b.workspacesConfig)||void 0===m?void 0:m.showEjectButton,showAddWindowButton:null===(f=b.workspacesConfig)||void 0===f?void 0:f.showAddWindowButton,allowSplitters:null===(g=b.workspacesConfig)||void 0===g?void 0:g.allowSplitters,minWidth:null===(w=b.workspacesConfig)||void 0===w?void 0:w.minWidth,maxWidth:null===(v=b.workspacesConfig)||void 0===v?void 0:v.maxWidth,minHeight:null===(y=b.workspacesConfig)||void 0===y?void 0:y.minHeight,maxHeight:null===(_=b.workspacesConfig)||void 0===_?void 0:_.maxHeight,widthInPx:null===(C=b.workspacesConfig)||void 0===C?void 0:C.widthInPx,heightInPx:null===(I=b.workspacesConfig)||void 0===I?void 0:I.heightInPx,isMaximized:null===(k=b.workspacesConfig)||void 0===k?void 0:k.isMaximized}};return\"group\"!==x.type?(delete x.config.allowExtract,delete x.config.allowDropHeader,delete x.config.allowDropLeft,delete x.config.allowDropTop,delete x.config.allowDropRight,delete x.config.allowDropBottom,delete x.config.showMaximizeButton,delete x.config.showEjectButton,delete x.config.showAddWindowButton):delete x.config.allowSplitters,x}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class K{constructor(t,e,o){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=o}showAddWindowPopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,o):this._externalPopupManager.showAddWindowPopup(e,o)}))}showOpenWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,o)}))}showSaveWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,o):this._externalPopupManager.showSaveWorkspacePopup(e,o)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class tt{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,o);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,o);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,o);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,o){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const o=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),n=i.width-o.right-10,s=i.height-o.bottom-10;if(n<0){const t=e.css(\"left\"),o=parseInt(t.substring(0,t.length-2));e.css(\"left\",o+n)}if(s<0){const t=e.css(\"top\"),o=parseInt(t.substring(0,t.length-2));e.css(\"top\",o+s)}}getPopupSize(e,o){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:o},i)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class et{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:o,parentType:i,boxId:n}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,n,o,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,o)}))}showInternalSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o.workspaceId,buildMode:o.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,o,i,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,o){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,o){t.height&&(o.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(o.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=o[0].getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;if(s<0){const t=o.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"left\",e+s)}if(r<0){const t=o.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var ot=new class{getSettings(e){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this.askForSettings(e)),this.settings}))}askForSettings(e){return t(this,void 0,void 0,(function*(){return(yield e.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}})).returned}))}decorateCommunicationId(t){return`${t}.${window.glue42core.communicationId}`}};class it{constructor(t,e,o,i,n){this._glue=t,this._stateResolver=e,this._frameController=o,this._manager=i,this._delayedExecutor=n,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,o){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[r(e.config.id)])return this.idToWindowPromise[r(e.config.id)];const t=u.getById(o);if(!t)return;const i=this.startCore(e,t);this.idToWindowPromise[r(e.config.id)]=i;const n=this._frameController.onFrameRemoved((t=>{t===r(e.config.id)&&(n(),delete this.idToWindowPromise[t])}));return i}))}getLoadingStrategy(t,e,o){var i,n;return(null==o?void 0:o.loadingStrategy)?o.loadingStrategy:(null===(i=null==e?void 0:e.workspacesOptions)||void 0===i?void 0:i.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(n=null==t?void 0:t.loadingStrategy)||void 0===n?void 0:n.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t)));return Promise.all(i.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t))),n=i.visibleComponents.map((t=>this.start(t,e))),s=(yield ot.getSettings(this._glue)).loadingStrategy;return Promise.all(n).then((()=>{var t,o,n;return this._delayedExecutor.startExecution(i.notImmediatelyVisibleComponents.map((t=>({id:r(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(o=null==s?void 0:s.delayed)||void 0===o?void 0:o.interval)||5e3,initialDelay:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\");yield Promise.all(o.map((t=>this.start(t,e))))}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((o,i)=>{let n,s=()=>{},a=()=>{};const[c,l]=this.waitFor(e.length,(()=>{o(),s(),a(),clearTimeout(n)}));n=setTimeout((()=>{i(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:o})=>{o.config.workspaceId===t&&e.includes(o.itemId)&&c(o.itemId)})),a=this.onFailed((o=>{o.workspaceId===t&&e.includes(r(o.component.config.id))&&c(o.component.config.id)}))}))}getUrlByAppName(t){var e,o,i,n;if(t)return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.userProperties)||void 0===i?void 0:i.details)||void 0===n?void 0:n.url}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,o;if(t)return null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.title}getAppNameByWindowId(t){var e,o,i,n;return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===o?void 0:o.find((e=>e.id===t)))||void 0===i?void 0:i.application)||void 0===n?void 0:n.name}notifyFrameWillStart(t,e,o,i){return this._glue.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:o,title:i}})}waitFor(t,e){const o=[];return[i=>{o.push(i),o.length===t&&e()},()=>o]}vaidateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),o=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:o}}startCore(e,o){var i,n;return t(this,void 0,void 0,(function*(){const t=l(e.element),{componentState:s}=e.config,{title:a,appName:c}=s;let{windowId:d}=s;const h=r(e.config.id),p=this.getTitleByAppName(c),m=this.vaidateTitle(a)||this.vaidateTitle(p)||this.vaidateTitle(c)||\"Glue\",f=null===(i=null==e?void 0:e.config.componentState)||void 0===i?void 0:i.context;let g=this.getUrlByAppName(s.appName)||s.url;const w=!u.getWindow(h)||!u.getWindow(h).windowId,v=o.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(u.addWindow({id:h,bounds:t,windowId:d,url:g,appName:c},o.id),!g&&d){const t=this._glue.windows.list().find((t=>t.id===d));g=yield t.getURL();u.getWindow(h).url=g}if(d=d||j.generate(),(null===(n=e.config.componentState)||void 0===n?void 0:n.context)&&delete e.config.componentState.context,e.config.componentState.url=g,m&&e.setTitle(m),w&&!v){const t=this._stateResolver.getWindowSummarySync(e.config.id,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const o=this._glue.windows.findById(d);if(o)try{yield o.close()}catch(t){}}try{yield this.notifyFrameWillStart(d,c,f,m),yield this._frameController.startFrame(h,g,void 0,d);const t=u.getWindow(h);e.config.componentState.windowId=d,t.windowId=d;if(this._glue.windows.findById(d).getTitle().then((t=>{this.vaidateTitle(m)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(h,l(e.element)),w&&!v&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(h)}}),!c){const o=this.getAppNameByWindowId(d);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${h} with windowId ${d} is missing its state object`);e.config.componentState.appName=o,t.appName=o}const i=e.layoutManager.root.getItemsByFilter((t=>t.isMaximized&&\"component\"!==t.type));i.reduce(((t,e)=>[...t,...e.getItemsByFilter((t=>\"component\"===t.type))]),[]).some((t=>t===e))&&(this._frameController.maximizeTab(h),this._frameController.selectionChanged([h],[]))}catch(t){this.raiseFailed(e,o.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(h,l(e.element)):this._manager.closeTab(e,!1);if(!u.getById(o.id))throw new Error(`Workspace ${o.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{o.hibernatedWindows=o.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}decorateCommunicationId(t){return`${t}.${window.glue42core.communicationId}`}}class nt{constructor(){this.actionsInProgress=[]}startExecution(e,o){return t(this,void 0,void 0,(function*(){const i=this.splitInBatches(e,o.batchSize);yield this.waitFor(o.initialDelay);return i.reduce(((e,i)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(i)),yield this.waitFor(o.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,o,i)=>{if(i%e==0)t.push([o]);else{const e=t.pop();e.push(o),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}class st{validateWorkspace(t){return!this.getAllItemsFromWorkspace(t).filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length}fixWorkspace(t){const e=this.getAllItemsFromWorkspace(t);return!e.filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length||(e.forEach((t=>{t.config&&(t.config.minWidth=20,t.config.minHeight=20,t.config.maxWidth=32767,t.config.maxHeight=32767)})),!1)}fixNewWindow(t,e,o){var i,n,s,r;let a;if(void 0===(null===(i=t.config)||void 0===i?void 0:i.minWidth)&&void 0===(null===(n=t.config)||void 0===n?void 0:n.maxWidth)&&void 0===(null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0===(null===(r=t.config)||void 0===r?void 0:r.maxHeight))return;const c=(t,e)=>{a||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{c(t,o)})):a=t)};c(e,o),a.children.push(t),this.validateWorkspace(e)||(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767)}fixNewContainer(t,e,o){let i;const n=(t,e)=>{i||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{n(t,o)})):i=t)};if(n(e,o),i.children.push(t),!this.validateWorkspace(e)){const e=t=>{t.config&&(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767),\"window\"!==t.type&&t.children.forEach((t=>e(t)))};e(t)}}getAllItemsFromWorkspace(t){const e=[],o=t=>{e.push(t),\"window\"!==t.type&&t.children.forEach((t=>o(t)))};return o(t),e}areConstraintsValid(t){return t.minWidth<=t.maxWidth&&t.minHeight<=t.maxHeight}getConstraintsFromItem(t){var e,o,i,n,s,r,a,c;const l=null!==(o=null===(e=t.config)||void 0===e?void 0:e.minWidth)&&void 0!==o?o:20,d=null!==(n=null===(i=t.config)||void 0===i?void 0:i.maxWidth)&&void 0!==n?n:32767,h=null!==(r=null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0!==r?r:20,u=null!==(c=null===(a=t.config)||void 0===a?void 0:a.maxHeight)&&void 0!==c?c:32767;let p=0,m=0,f=0,g=0;return\"window\"===t.type?{minWidth:l,maxWidth:d,minHeight:h,maxHeight:u}:(\"row\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p+=null!==(e=s.minWidth)&&void 0!==e?e:20,m+=null!==(o=s.maxWidth)&&void 0!==o?o:32767,f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})):\"column\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f+=null!==(i=s.minHeight)&&void 0!==i?i:20,g+=null!==(n=s.maxHeight)&&void 0!==n?n:32767})):t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})),m=m||d,g=g||u,{minWidth:Math.max(l,p),maxWidth:Math.min(d,m),minHeight:Math.max(h,f),maxHeight:Math.min(u,g)})}}var rt=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new Z,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(null===(t=U.config)||void 0===t?void 0:t.build)return;const e=[],o=u.workspaceIds.map((t=>{const o=u.getById(t);e.push(...o.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const i=this.stateResolver.getWorkspaceConfig(t),n=this.stateResolver.extractWindowSummariesFromSnapshot(i);return e.push(...n),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=u.layouts.filter((t=>{var e,o,i;return!(null===(i=null===(o=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}get layoutsManager(){return this._layoutsManager}init(t,e,o,i){this._glue=t,this._facade=o;const n=U.loadConfig();if(this._initialized)return void f.reInitialize(i);this._initialized=!0,this._frameId=e,this._configFactory=new J(t);const r=new Q(this._configFactory);f.init(this._frameId,i),this._frameController=new q(t);const a=new k(s());return this._stateResolver=new X(this._frameId,a,this._frameController,r),this._controller=new I(a,this._stateResolver,n,this._configFactory),this._applicationFactory=new it(t,this.stateResolver,this._frameController,this,new nt),this._layoutsManager=new V(this.stateResolver,t,this._configFactory,r,new st),this._popupManager=new K(new tt(t),new et(i,e),i),n.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}initFrameLayout(e){return t(this,void 0,void 0,(function*(){return e.forEach((t=>{t.id=this._configFactory.getId()})),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,e.map((t=>r(t.id)))}))}saveWorkspace(e,o,i,n){var s,r;return t(this,void 0,void 0,(function*(){const t=u.getById(o)||u.getActiveWorkspace(),a=new v(this.stateResolver,t,u.getWorkspaceContentItem(t.id),this.frameId),c=yield this._layoutsManager.save({name:e,workspace:t,title:a.title,saveContext:i,metadata:n}),l=(null===(s=t.layout)||void 0===s?void 0:s.config)||t.hibernateConfig;return l.workspacesOptions.layoutName=e,(null===(r=f.decoratedFactory)||void 0===r?void 0:r.createWorkspaceTabs)&&f.decoratedFactory.updateWorkspaceTabs({workspaceId:t.id,layoutName:e}),l.workspacesOptions.noTabHeader&&delete l.workspacesOptions.noTabHeader,c}))}openWorkspace(e,o){var i,n,s;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),a=t.config;if(a.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&a.workspacesOptions.context?a.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(a.workspacesOptions.context=null==o?void 0:o.context),a.workspacesOptions.title=(null==o?void 0:o.title)||e,a.workspacesOptions.icon=null!==(i=null==o?void 0:o.icon)&&void 0!==i?i:a.workspacesOptions.icon,a.workspacesOptions.positionIndex=null!==(n=null==o?void 0:o.positionIndex)&&void 0!==n?n:a.workspacesOptions.positionIndex,a&&a.workspacesOptions&&!a.workspacesOptions.name&&(a.workspacesOptions.name=e),a&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.layoutName=t.layoutData.name),a&&o&&(a.workspacesOptions.loadingStrategy=o.loadingStrategy),a&&void 0!==(null==o?void 0:o.noTabHeader)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),a&&void 0!==(null==o?void 0:o.isPinned)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.isPinned=null==o?void 0:o.isPinned),a&&void 0!==(null==o?void 0:o.isSelected)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.selected=null==o?void 0:o.isSelected),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig([a]),this._initPromise=this.initLayout(),yield this._initPromise,r(a.id);if(e){if(a.id=(null==o?void 0:o.reuseWorkspaceId)||this._configFactory.getId(),null==o?void 0:o.reuseWorkspaceId){u.getById(a.id).windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(r(a.id),a),(null===(s=a.workspacesOptions)||void 0===s?void 0:s.context)&&(yield this._glue.contexts.set(d(r(a.id)),a.workspacesOptions.context))}else yield this.addWorkspace(r(a.id),a);return r(a.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){if(u.getContainer(t))return void this._controller.maximizeContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to maximize`);this._controller.maximizeWindow(t)}restoreItem(t){if(u.getContainer(t))return void this._controller.restoreContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to restore`);this._controller.restoreWindow(t)}closeItem(t){const e=u.getWindow(t),o=u.getContainer(t);if(this._frameId===t)u.workspaceIds.forEach((t=>this.closeWorkspace(u.getById(t))));else if(e){const e=u.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(o)this._controller.closeContainer(t);else{const e=u.getById(t);this.closeWorkspace(e)}}addContainer(e,o){return t(this,void 0,void 0,(function*(){const i=this.cleanIsPinned(e),n=u.getByContainerId(o)||u.getById(o),s=u.getWorkspaceContentItem(n.id),c=new v(this.stateResolver,n,s,this.frameId);if(c.hasMaximizedItems)throw new Error(`Cannot add a new container to workspace ${c.id}, because it contains maximized items`);const l=yield this._controller.addContainer(i,o),d=u.getContainer(l);d&&this.applyIsPinned(e,d);const h=a(e.content);return Promise.all(h.map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(r(e.id));yield this._applicationFactory.start(t,n.id)}))))),l}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){const t=u.getContainer(o);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e]));const i=u.getById(o)||u.getByContainerId(o),n=u.getWorkspaceContentItem(i.id),s=new v(this.stateResolver,i,n,this.frameId);if(s.hasMaximizedItems)throw new Error(`Cannot add a new window to workspace ${s.id}, because it contains maximized items`);yield this._controller.addWindow(e,o);const c=a([e]),l=u.getWindowContentItem(r(c[0].id));this._applicationFactory.start(l,i.id)}))}setItemTitle(t,e){u.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:o,windowId:i}=e.config.componentState,n=u.getWorkspaceContext(u.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():n;if(this.closeItem(r(e.config.id)),t){const e=i?{reuseId:i}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const c=this._applicationFactory.getUrlByAppName(t)||o;return{windowId:(yield this._glue.windows.open(`${t}_${i}`,c,{context:a,windowId:i})).id}}))}createWorkspace(e){var o,i,n,s;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig([e]),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)||this._configFactory.getId();if(null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId){const o=u.getById(t);if(!o)throw new Error(`Could not find workspace ${null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId} to reuse`);o.windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),yield this._glue.contexts.set(d(t),null!==(s=e.workspacesOptions.context)&&void 0!==s?s:{})}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=u.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:o}=t.config.componentState;const i=u.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,i.id),yield this.waitForFrameLoaded(e),t=u.getWindowContentItem(e),o=t.config.componentState.windowId),new Promise(((t,i)=>{o||i(`The window id of ${e} is missing`);let n=()=>{};const s=setTimeout((()=>{i(`Could not load window ${o} for 5000ms`),n()}),5e3);n=this._glue.windows.onWindowAdded((e=>{e.id===o&&(t({windowId:o}),n(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===o))&&(t({windowId:o}),n(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=u.getByContainerId(t)||u.getByWindowId(t)||u.getById(t),o=this._frameId===t;return this._context?{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized,initializationContext:{context:this._context}}:{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized}}moveWindowTo(e,o){return t(this,void 0,void 0,(function*(){const t=u.getByWindowId(e),i=u.getByContainerId(o)||u.getById(o);if(!i)throw new Error(`Could not find container ${o} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(i.id))throw new Error(`Could not move window ${e} to workspace ${i.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const n=u.getWindowContentItem(e);if(!n)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e)),r=this.stateResolver.getWindowSummarySync(s.id);this._controller.removeLayoutElement(e),u.removeWindow(s,t.id),u.addWindow(s,i.id),yield this._controller.addWindow(n.config,o);const a=this.stateResolver.getWindowSummarySync(s.id);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:r}}),this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:a}})}))}generateWorkspaceLayout(t,e){const o=u.getById(e);if(!o)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,o)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const o=t.hibernateConfig;o.workspacesOptions||(o.workspacesOptions={}),o.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(o),t.hibernateConfig=void 0;const i=u.getWorkspaceContentItem(t.id),n=new v(this.stateResolver,t,i,this.frameId);n.isPinned?(_.hideHibernatedIcon({workspaceTab:i.tab}),_.hideWorkspaceSaveButton({workspaceTab:i.tab}),_.showWorkspaceIconButton({workspaceTab:i.tab,icon:n.icon})):_.showSaveIcon({workspaceTab:i.tab,workspaceId:t.id})}))}lockWorkspace(t){var e,o,i,n;t.config||(t.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1,showWindowCloseButtons:!1,showEjectButtons:!1,showAddWindowButtons:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),\"boolean\"==typeof t.config.allowDrop&&(t.config.allowDropLeft=null!==(e=t.config.allowDropLeft)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropTop=null!==(o=t.config.allowDropTop)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropRight=null!==(i=t.config.allowDropRight)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropBottom=null!==(n=t.config.allowDropBottom)&&void 0!==n?n:t.config.allowDrop);const{allowDrop:s,allowExtract:r,allowSplitters:a,showCloseButton:c,showSaveButton:l,showAddWindowButtons:d,showWindowCloseButtons:h,showEjectButtons:u}=t.config,{workspaceId:p}=t;!1===s?this._controller.disableWorkspaceDrop(p,t.config):this._controller.enableWorkspaceDrop(p,t.config),!1===r?this._controller.disableWorkspaceExtract(p):this._controller.enableWorkspaceExtract(p),!1===a?this._controller.disableSplitters(p):this._controller.enableSplitters(p),!1===c?this._controller.disableWorkspaceCloseButton(p):this._controller.enableWorkspaceCloseButton(p),!1===l?this._controller.disableWorkspaceSaveButton(p):this._controller.enableWorkspaceSaveButton(p),!1===d?this._controller.disableWorkspaceAddWindowButtons(p):this._controller.enableWorkspaceAddWindowButtons(p),!1===u?this._controller.disableWorkspaceEjectButtons(p):this._controller.enableWorkspaceEjectButtons(p),!1===h?this._controller.disableWorkspaceWindowCloseButtons(p):this._controller.enableWorkspaceWindowCloseButtons(p)}lockContainer(t){var e,o,i,n,s;switch((t.config||\"column\"!==t.type)&&(t.config||\"row\"!==t.type)?t.config||\"group\"!==t.type||(t.config={allowDrop:!1,allowDropHeader:!1,allowDropLeft:!1,allowDropRight:!1,allowDropTop:!1,allowDropBottom:!1,allowExtract:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):t.config={allowDrop:!1,allowSplitters:!1},void 0!==t.config.allowDrop&&\"group\"===t.type&&(t.config.allowDropHeader=null!==(e=t.config.allowDropHeader)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropLeft=null!==(o=t.config.allowDropLeft)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropTop=null!==(i=t.config.allowDropTop)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropRight=null!==(n=t.config.allowDropRight)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropBottom=null!==(s=t.config.allowDropBottom)&&void 0!==s?s:t.config.allowDrop),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),t.type){case\"column\":this.handleColumnLockRequested(t);break;case\"row\":this.handleRowLockRequested(t);break;case\"group\":this.handleGroupLockRequested(t)}}lockWindow(t){t.config||(t.config={allowExtract:!1,showCloseButton:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)}));const{allowExtract:e,showCloseButton:o}=t.config,{windowPlacementId:i}=t;!1===e?this._controller.disableWindowExtract(i):this._controller.enableWindowExtract(i,e),!1===o?this._controller.disableWindowCloseButton(i):this._controller.enableWindowCloseButton(i,o);const n=u.getByWindowId(i);(null==n?void 0:n.layout)&&n.layout.updateSize()}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(u.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const o=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,o.workspacesOptions.isHibernated=!0,t.hibernateConfig=o,t.windows.map((t=>u.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),u.removeLayout(t.id),this._controller.showHibernationIcon(e),o}))}closeTab(t,e=!0){const o=r(t.config.id),i=u.getByWindowId(o),n=this.stateResolver.getWindowSummarySync(o);this._controller.removeLayoutElement(o),this._frameController.remove(o),this._applicationFactory.notifyFrameWillClose(n.config.windowId,n.config.appName).catch((t=>{})),i.hibernatedWindows.some((t=>n.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:n}}),!i.windows.length&&e&&this._controller.resetWorkspace(i.id)}resizeItem(t){if(t.itemId===this.frameId)throw new Error(\"Cannot resize frame \"+t.itemId);return this.resizeWorkspaceItem(t)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}pinWorkspace(t,e){this._controller.pinWorkspace(t,e)}unpinWorkspace(t){this._controller.unpinWorkspace(t)}setWorkspaceIcon(t,e){const o=u.getWorkspaceContentItem(t),i=new v(this.stateResolver,u.getById(t),o,this.frameId);i.icon=e,i.isPinned&&_.showWorkspaceIconButton({workspaceTab:o.tab,icon:e})}setFrameContext(t){this._context=t}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:U.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0};u.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\");yield this._popupManager.showSaveWorkspacePopup(o,t)}))}resizeWorkspaceItem(t){var e,o;const i=u.getContainer(t.itemId)||u.getWindowContentItem(t.itemId);if(!i)throw new Error(`Could not find container ${t.itemId} in frame ${this.frameId}`);if(\"column\"===i.type&&t.height)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (height) was passed`);if(\"row\"===i.type&&t.width)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (width) was passed`);const n=u.getByContainerId(i.config.id)||u.getByWindowId(r(i.config.id));let s,a;if(this.stateResolver.isWorkspaceHibernated(n.id))throw new Error(`Requested resize for ${i.type} ${t.itemId}, however the workspace ${n.id} is hibernated`);n&&(s=n.windows.find((t=>this.stateResolver.isWindowMaximized(t.id))),a=null===(o=null===(e=n.layout)||void 0===e?void 0:e.root)||void 0===o?void 0:o.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type))[0]),s&&this._controller.restoreWindow(s.id),a&&this._controller.restoreContainer(r(a.config.id)),\"row\"===i.type?this._controller.resizeRow(i,t.height):\"column\"===i.type?this._controller.resizeColumn(i,t.width):\"stack\"===i.type?this._controller.resizeStack(i,t.width,t.height):this._controller.resizeComponent(i,t.width,t.height),s&&this._controller.maximizeWindow(s.id),a&&this._controller.maximizeContainer(r(a.config.id))}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield ot.getSettings(this._glue),o=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(o.workspaceConfigs.map((t=>{var e,o;return this._glue.contexts.set(d(t.id),(null===(o=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:o.workspaceLayout,workspaceConfigs:o.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(u.workspaceIds.map((e=>{const i=this._applicationFactory.getLoadingStrategy(t,o.workspaceConfigs[0].config);return this.handleWindows(e,i)}))),u.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),U.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}reinitializeWorkspace(e,o){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,o);const t=yield ot.getSettings(this._glue),i=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,i)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,l(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){u.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id))})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=l(t.contentItem.element),o=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(o,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),o=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),o=l(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,o),this._frameController.bringToFront(i)}}))}));if(!e)return;o.observe(e,{attributes:!0});const i=this.stateResolver.getWindowSummarySync(t.contentItem.config.id,t.contentItem);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}})})),this._controller.emitter.onItemDropped((t=>{const e=this.stateResolver.getWindowSummarySync(t.config.id,t);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:e}})})),this._controller.emitter.onSelectionChanged(((e,o)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(o.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{this.handleOnWorkspaceAdded(t)})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const o=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(o.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:o,bounds:i,parentType:n})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:o,parentType:n,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=u.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),o=l(e);yield this._popupManager.showOpenWorkspacePopup(o,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t=u.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=l(t);yield this.showSaveWorkspacePopup(e,o)})))),this._controller.emitter.onContainerMaximized((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.maximizeTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i)})),this._controller.emitter.onContainerRestored((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.restoreTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const o=r(t);e[o]&&clearTimeout(e[o]),e[o]=setTimeout((()=>{this._controller.refreshWorkspaceSize(o)}),16)})),this._controller.emitter.onContentItemRemoved(((e,o)=>t(this,void 0,void 0,(function*(){\"stack\"===o.type&&f.notifyGroupClosed(r(o.config.id))}))));let o=void 0;f.onWorkspaceContentsShown((t=>{const e=u.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;o&&clearTimeout(o),o=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),o=l(t[0]);e.layout.updateSize(o.width,o.height)}),50);const i=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(i.map((t=>r(t.getActiveContentItem().config.id))),[])})),f.onWorkspaceContentsHidden((t=>{const e=u.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const o=u.getById(e.workspaceSummary.id);o&&(o.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const o=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(o.config.id),l(o.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=t.windows.map((t=>{if(u.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||(f.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}}))}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=this.stateResolver.getSnapshot(t.id,this),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);t.windows.forEach((t=>this._frameController.remove(t.id)));const n=this.checkForEmptyWorkspace(t);i.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n||(f.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}}))}addWorkspace(e,o){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(d(e),(null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,o),this._controller.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e)});const t=yield ot.getSettings(this._glue),n=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,n).catch((t=>{console.log(t)}))}))}handleWindows(e,o){return t(this,void 0,void 0,(function*(){switch(o){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(t){if(1===u.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){const e=this._configFactory.getId();return this._controller.addWorkspace(e,void 0).then((()=>{this.handleOnWorkspaceAddedWithSnapshot(u.getById(e)),this.checkForEmptyWorkspace(t)})).catch((()=>{})),!1}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{i(),o(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((o,s)=>{\"loaded\"===o&&s.windowSummary.itemId===t&&(e(),clearTimeout(n),i())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(n),i())}))}handleGroupLockRequested(t){const{allowExtract:e,showAddWindowButton:o,showEjectButton:i,showMaximizeButton:n,allowDrop:s}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===o?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,o),!1===i?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,i),!1===n?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,n),!1===s?this._controller.disableGroupDrop(t.itemId,t.config):this._controller.enableGroupDrop(t.itemId,t.config);const r=u.getByContainerId(t.itemId);(null==r?void 0:r.layout)&&r.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e),!1===o?this._controller.disableRowSplitters(t.itemId):this._controller.enableRowSplitters(t.itemId,o)}handleColumnLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e),!1===o?this._controller.disableColumnSplitters(t.itemId):this._controller.enableColumnSplitters(t.itemId,o)}cleanIsPinned(t){if(\"row\"!==t.type&&\"column\"!==t.type)return t;let e=!1;const o=JSON.parse(JSON.stringify(t)),i=t=>{t.workspacesConfig.isPinned&&(e=!0,t.workspacesConfig.isPinned=!1),\"component\"!==t.type&&t.content.forEach((t=>i(t)))};return i(o),e?o:t}applyIsPinned(t,e){if(\"row\"!==t.type&&\"column\"!==t.type)return;if(\"row\"!==e.config.type&&\"column\"!==e.config.type)return;const o=(t,e)=>{t.workspacesConfig.isPinned&&(e.config.workspacesConfig.isPinned=!0),\"component\"!==t.type&&\"component\"!==e.type&&t.content.forEach(((t,i)=>o(t,e.contentItems[i])))};o(t,e)}handleOnWorkspaceAdded(t){var e;const o=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],o.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),o.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,n=i.title||i.name;n&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(n))}handleOnWorkspaceAddedWithSnapshot(t){var e;const o=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]),i=this._stateResolver.getWorkspaceSnapshot(t.id,this);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSnapshot:i,workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],o.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),o.map((t=>t.id)))}if(!t.layout)return;const n=t.layout.config.workspacesOptions,s=n.title||n.name;s&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(s))}};class at{constructor(t){this.manager=t}applyLockConfiguration(e,o){const i=(e,n)=>t(this,void 0,void 0,(function*(){\"window\"!==e.type?(\"group\"===e.type||\"row\"===e.type||\"column\"===e.type?this.doesContainerContainLockingProperties(e)&&this.manager.lockContainer({itemId:n.id,type:e.type,config:e.config}):this.doesWorkspaceContainLockingProperties(e)&&this.manager.lockWorkspace({workspaceId:o.id,config:e.config}),yield Promise.all(e.children.map(((t,e)=>i(t,n.children[e]))))):this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:n.id,config:e.config})}));return i(e,o)}applyWindowLockConfiguration(t){const e={config:t.config,id:t.itemId,type:\"window\"};this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:t.itemId,config:t.config})}applyContainerLockConfiguration(t,e,o){const i=this.getItemFromWorkspace(e,o),n=(t,e)=>{\"window\"!==t.type?(\"group\"===t.type||\"row\"===t.type||\"column\"===t.type?this.doesContainerContainLockingProperties(t)&&this.manager.lockContainer({itemId:e.id,type:t.type,config:t.config}):this.doesWorkspaceContainLockingProperties(t)&&this.manager.lockWorkspace({workspaceId:t.id,config:t.config}),t.children.map(((t,o)=>n(t,e.children[o])))):this.doesWindowContainLockingProperties(t)&&this.manager.lockWindow({windowPlacementId:e.id,config:t.config})};return n(t,i)}doesWindowContainLockingProperties(t){var e,o;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.showCloseButton)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowExtract)}doesContainerContainLockingProperties(t){var e,o,i,n,s,r,a,c,l,d,h;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropHeader)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropLeft)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropTop)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowDropBottom)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.allowExtract)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showExtractButton)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showMaximizeButton)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showAddWindowButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.allowSplitters)}doesWorkspaceContainLockingProperties(t){var e,o,i,n,s,r,a,c,l,d,h,u;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropLeft)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropTop)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropBottom)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowExtract)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.showExtractButtons)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showWindowCloseButtons)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showAddWindowButtons)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showSaveButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.showCloseButton)||this.isLockingPropertySet(null===(u=t.config)||void 0===u?void 0:u.allowSplitters)}isLockingPropertySet(t){return\"boolean\"==typeof t}getItemFromWorkspace(t,e){const o=t=>t.id===e?t:\"window\"!==t.type?t.children.map((t=>o(t))).find((t=>t)):void 0;return o(t)}}var ct=new class{constructor(){this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,o,i,n)=>t(this,void 0,void 0,(function*(){try{switch(yield rt.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),i(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),i(void 0);break;case\"lockWorkspace\":this.handleLockWorkspace(e.operationArguments),i(void 0);break;case\"lockContainer\":this.handleLockContainer(e.operationArguments),i(void 0);break;case\"lockWindow\":this.handleLockWindow(e.operationArguments),i(void 0);break;case\"resizeItem\":this.handleResizeItem(e.operationArguments),i(void 0);break;case\"pinWorkspace\":this.handlePinWorkspace(e.operationArguments),i(void 0);break;case\"unpinWorkspace\":this.handleUnpinWorkspace(e.operationArguments),i(void 0);break;case\"getWorkspaceIcon\":i(this.handleGetWorkspaceIcon(e.operationArguments));break;case\"setWorkspaceIcon\":this.handleSetWorkspaceIcon(e.operationArguments),i(void 0);break;case\"initFrame\":yield this.handleInitFrame(e.operationArguments),i(void 0);break;case\"createFrame\":i(this.handleCreateFrame(e.operationArguments));break;default:n(\"Invalid operation - \"+e.operation)}}catch(t){n(t.message),console.warn(t)}})),this.handleControl=(e,o,i,n)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,o,i,n);this._controlPromise=t,yield t}))}init(e,o){return t(this,void 0,void 0,(function*(){this._workspacesControlMethod=\"T42.Web.Workspaces.Control.\"+window.glue42core.communicationId,this._workspacesEventMethod=\"T42.Web.Workspaces.Events.\"+window.glue42core.communicationId,this._frameId=o,this._glue=e,this._configFactory=new J(e),this._converter=new Q(this._configFactory),this._locker=new at(rt),this._constraintValidator=new st,this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){rt.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),rt.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),rt.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),rt.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield rt.openWorkspace(e.name,e.restoreOptions),o=rt.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield rt.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield rt.saveWorkspace(e.name,e.workspaceId,e.saveContext,e.metadata)}))}handleDeleteLayout(t){rt.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=u.getById(t.itemId),o=rt.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:rt.getFrameSummary(this._frameId)}}handleGetAllWorkspaceSummaries(){return{summaries:u.layouts.map((t=>rt.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){rt.closeItem(t.itemId)}handleRestoreItem(t){rt.restoreItem(t.itemId)}handleMaximizeItem(t){rt.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){if(\"workspace\"===e.definition.type)throw new Error(\"Unsuported add container type \"+e.definition.type);const t=u.getByContainerId(e.parentId)||u.getById(e.parentId),o=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));this._constraintValidator.fixNewContainer(e.definition,o,e.parentId);const i=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===i.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(i.id),content:i.content,type:i.type,workspacesConfig:i.workspacesConfig},s=yield rt.addContainer(n,e.parentId),a=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));return this._locker.applyContainerLockConfiguration(e.definition,a,s),{itemId:s}}))}handleAddWindow(e){var o,i,n,s,a,c;return t(this,void 0,void 0,(function*(){const t=new st,l=u.getByContainerId(e.parentId)||u.getById(e.parentId),d=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(l.id));t.fixNewWindow(e.definition,d,e.parentId);const h=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:null===(o=e.definition.config)||void 0===o?void 0:o.allowExtract,showCloseButton:null===(i=e.definition.config)||void 0===i?void 0:i.showCloseButton,minWidth:null===(n=e.definition.config)||void 0===n?void 0:n.minWidth,maxWidth:null===(s=e.definition.config)||void 0===s?void 0:s.maxWidth,minHeight:null===(a=e.definition.config)||void 0===a?void 0:a.minHeight,maxHeight:null===(c=e.definition.config)||void 0===c?void 0:c.maxHeight});if(e.definition.windowId){const t=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),o=yield t.getURL();h.componentState.url=o,h.componentState.appName=this._configFactory.getAppNameFromWindowId(t.id)}yield rt.addWindow(h,e.parentId);const p=rt.stateResolver.getWindowSummarySync(h.id);return this._locker.applyWindowLockConfiguration(p),{itemId:r(h.id)}}))}handleSetItemTitle(t){rt.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),o=e.children.some((t=>\"column\"===t.type));if(o&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};o&&(i={type:\"row\",children:e.children});const n=this._converter.convertToRendererConfig(i);yield rt.addContainer(n,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield rt.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={});const t=this.convertCreateWorkspaceArgumentsToWorkspaceItem(e);this._constraintValidator.fixWorkspace(t);const o=this._converter.convertToRendererConfig(t),i=yield rt.createWorkspace(o),n=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(i));return this._locker.applyLockConfiguration(t,n),{id:n.id,children:n.children,config:n.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield rt.loadWindow(e.itemId)}))}handleFocusItem(t){return rt.focusItem(t.itemId)}handleBundleWorkspace(t){return rt.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:rt.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(t){return rt.getFrameSummary(t.itemId)}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield rt.move(e.location)}))}handleGetFrameSnapshot(){return rt.stateResolver.getFrameSnapshot(rt)}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return rt.stateResolver.getSnapshot(e.itemId,rt)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return rt.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return rt.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return rt.lockWorkspace(t)}handleLockWindow(t){return rt.lockWindow(t)}handleLockContainer(t){return rt.lockContainer(t)}handleResizeItem(t){return rt.resizeItem(t)}handlePinWorkspace(t){return rt.pinWorkspace(t.workspaceId,t.icon)}handleUnpinWorkspace(t){return rt.unpinWorkspace(t.workspaceId)}handleGetWorkspaceIcon(t){const e=rt.stateResolver.getWorkspaceIcon(t.workspaceId);return e?{icon:e}:{}}handleSetWorkspaceIcon(t){rt.setWorkspaceIcon(t.workspaceId,t.icon)}handleInitFrame(e){return t(this,void 0,void 0,(function*(){const o=yield Promise.all(e.workspaces.map((e=>t(this,void 0,void 0,(function*(){const t=e,o=e;return t.name?this._configFactory.convertLayoutOptionsToWorkspaceItem(t.name,t.restoreOptions,rt.layoutsManager):this._converter.convertToRendererConfig(this.convertCreateWorkspaceArgumentsToWorkspaceItem(o))})))));(yield rt.initFrameLayout(o)).forEach(((t,o)=>{const i=e.workspaces[o];if(!i.children)return;const n=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t));this._locker.applyLockConfiguration(i,n)}))}))}handleCreateFrame(t){return rt.setFrameContext(null==t?void 0:t.context),rt.getFrameSummary(this._frameId)}publishEventData(t,e,o){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:o,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}convertCreateWorkspaceArgumentsToWorkspaceItem(t){var e,o;const i=Object.assign({},t);return i.config||(i.config={}),\"boolean\"==typeof(null===(e=t.config)||void 0===e?void 0:e.isSelected)&&(i.config.selected=t.config.isSelected),i.config.context=(null===(o=t.config)||void 0===o?void 0:o.context)||t.context,i.config.allowDrop=void 0,i}},lt=o((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,o){t.exports=e.document?o(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return o(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var o=[],i=Object.getPrototypeOf,n=o.slice,s=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},r=o.push,a=o.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,o){var i,n,s=(o=o||g).createElement(\"script\");if(s.text=t,e)for(i in w)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,n);o.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,o=y(t);return!m(t)&&!f(t)&&(\"array\"===o||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return n.call(this)},get:function(t){return null==t?n.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,o){return t.call(e,o,e)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,o=+t+(t<0?e:0);return this.pushStack(o>=0&&o<e?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,o,i,n,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(C.isPlainObject(i)||(n=Array.isArray(i)))?(o=r[e],s=n&&!Array.isArray(o)?[]:n||C.isPlainObject(o)?o:{},n=!1,r[e]=C.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,o;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(o=d.call(e,\"constructor\")&&e.constructor)&&h.call(o)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,o){v(t,{nonce:e&&e.nonce},o)},each:function(t,e){var o,i=0;if(I(t))for(o=t.length;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var o=e||[];return null!=t&&(I(Object(t))?C.merge(o,\"string\"==typeof t?[t]:t):r.call(o,t)),o},inArray:function(t,e,o){return null==e?-1:a.call(e,t,o)},merge:function(t,e){for(var o=+e.length,i=0,n=t.length;i<o;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,o){for(var i=[],n=0,s=t.length,r=!o;n<s;n++)!e(t[n],n)!==r&&i.push(t[n]);return i},map:function(t,e,o){var i,n,r=0,a=[];if(I(t))for(i=t.length;r<i;r++)null!=(n=e(t[r],r,o))&&a.push(n);else for(r in t)null!=(n=e(t[r],r,o))&&a.push(n);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var k=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,o,i,n,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_=\"sizzle\"+1*new Date,C=t.document,I=0,k=0,b=ct(),x=ct(),W=ct(),E=ct(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,B=[],D=B.pop,M=B.push,A=B.push,P=B.slice,L=function(t,e){for(var o=0,i=t.length;o<i;o++)if(t[o]===e)return o;return-1},O=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",R=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",H=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",F=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+H+\")(?:\"+R+\"*([*^$|!~]?=)\"+R+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+H+\"))|)\"+R+\"*\\\\]\",z=\":(\"+H+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+F+\")*)|.*)\\\\)|)\",$=new RegExp(R+\"+\",\"g\"),N=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),G=new RegExp(R+\"|>\"),U=new RegExp(z),V=new RegExp(\"^\"+H+\"$\"),X={ID:new RegExp(\"^#(\"+H+\")\"),CLASS:new RegExp(\"^\\\\.(\"+H+\")\"),TAG:new RegExp(\"^(\"+H+\"|[*])\"),ATTR:new RegExp(\"^\"+F),PSEUDO:new RegExp(\"^\"+z),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+O+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ot=function(t,e){var o=\"0x\"+t.slice(1)-65536;return e||(o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,nt=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{A.apply(B=P.call(C.childNodes),C.childNodes),B[C.childNodes.length].nodeType}catch(t){A={apply:B.length?function(t,e){M.apply(t,P.call(e))}:function(t,e){for(var o=t.length,i=0;t[o++]=e[i++];);t.length=o-1}}}function at(t,e,i,n){var s,a,l,d,h,m,w,v=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!n&&(u(e),e=e||p,f)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&y(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&o.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(s)),i}if(o.qsa&&!E[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,v=e,1===C&&(G.test(t)||q.test(t))){for((v=tt.test(t)&&wt(e.parentNode)||e)===e&&o.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,nt):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+yt(m[a]);w=m.join(\",\")}try{return A.apply(i,v.querySelectorAll(w)),i}catch(e){E(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(N,\"$1\"),e,i,n)}function ct(){var t=[];return function e(o,n){return t.push(o+\" \")>i.cacheLength&&delete e[t.shift()],e[o+\" \"]=n}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var o=t.split(\"|\"),n=o.length;n--;)i.attrHandle[o[n]]=e}function ut(t,e){var o=e&&t,i=o&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(o)for(;o=o.nextSibling;)if(o===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var o=e.nodeName.toLowerCase();return(\"input\"===o||\"button\"===o)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(o,i){for(var n,s=t([],o.length,e),r=s.length;r--;)o[n=s[r]]&&(o[n]=!(i[n]=o[n]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in o=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,o=(t.ownerDocument||t).documentElement;return!Y.test(e||o&&o.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),C!=p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener(\"unload\",st,!1):n.attachEvent&&n.attachEvent(\"onunload\",st)),o.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),o.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),o.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),o.getElementsByClassName=Q.test(p.getElementsByClassName),o.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),o.getById?(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o=e.getElementById(t);return o?[o]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){var o=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return o&&o.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o,i,n,s=e.getElementById(t);if(s){if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s];for(n=e.getElementsByName(t),i=0;s=n[i++];)if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s]}return[]}}),i.find.TAG=o.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):o.qsa?e.querySelectorAll(t):void 0}:function(t,e){var o,i=[],n=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;o=s[n++];)1===o.nodeType&&i.push(o);return i}return s},i.find.CLASS=o.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},w=[],g=[],(o.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+O+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(o.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){o.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),w.push(\"!=\",z)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(m.compareDocumentPosition),y=e||Q.test(m.contains)?function(t,e){var o=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(o.contains?o.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!o.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==C&&y(C,t)?-1:e==p||e.ownerDocument==C&&y(C,e)?1:d?L(d,t)-L(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var o,i=0,n=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!n||!s)return t==p?-1:e==p?1:n?-1:s?1:d?L(d,t)-L(d,e):0;if(n===s)return ut(t,e);for(o=t;o=o.parentNode;)r.unshift(o);for(o=e;o=o.parentNode;)a.unshift(o);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==C?-1:a[i]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),o.matchesSelector&&f&&!E[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||o.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var n=i.attrHandle[e.toLowerCase()],s=n&&T.call(i.attrHandle,e.toLowerCase())?n(t,e,!f):void 0;return void 0!==s?s:o.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,nt)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],n=0,s=0;if(h=!o.detectDuplicates,d=!o.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return d=null,t},n=at.getText=function(t){var e,o=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=n(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)o+=n(e);return o},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,ot),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,ot),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":o&&U.test(o)&&(e=r(o,!0))&&(e=o.indexOf(\")\",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,ot).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=b[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+R+\"|$)\"))&&b(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,o){return function(i){var n=at.attr(i,t);return null==n?\"!=\"===e:!e||(n+=\"\",\"=\"===e?n===o:\"!=\"===e?n!==o:\"^=\"===e?o&&0===n.indexOf(o):\"*=\"===e?o&&n.indexOf(o)>-1:\"$=\"===e?o&&n.slice(-o.length)===o:\"~=\"===e?(\" \"+n.replace($,\" \")+\" \").indexOf(o)>-1:\"|=\"===e&&(n===o||n.slice(0,o.length+1)===o+\"-\"))}},CHILD:function(t,e,o,i,n){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===n?function(t){return!!t.parentNode}:function(e,o,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),v=!c&&!a,y=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(y=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[I,p,y];break}}else if(v&&(y=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++y||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,y]),u!==e)););return(y-=n)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var o,n=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return n[_]?n(e):n.length>1?(o=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,o){for(var i,s=n(t,e),r=s.length;r--;)t[i=L(t,s[r])]=!(o[i]=s[r])})):function(t){return n(t,0,o)}):n}},pseudos:{not:lt((function(t){var e=[],o=[],i=a(t.replace(N,\"$1\"));return i[_]?lt((function(t,e,o,n){for(var s,r=i(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,n,s){return e[0]=t,i(e,null,s,o),e[0]=null,!o.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,ot),function(e){return(e.textContent||n(e)).indexOf(t)>-1}})),lang:lt((function(t){return V.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,ot).toLowerCase(),function(e){var o;do{if(o=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(o=o.toLowerCase())===t||0===o.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var o=t.location&&t.location.hash;return o&&o.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,o){return[o<0?o+e:o]})),even:gt((function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t})),odd:gt((function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t})),lt:gt((function(t,e,o){for(var i=o<0?o+e:o>e?e:o;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,o){for(var i=o<0?o+e:o;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function yt(t){for(var e=0,o=t.length,i=\"\";e<o;e++)i+=t[e].value;return i}function _t(t,e,o){var i=e.dir,n=e.next,s=n||i,r=o&&\"parentNode\"===s,a=k++;return e.first?function(e,o,n){for(;e=e[i];)if(1===e.nodeType||r)return t(e,o,n);return!1}:function(e,o,c){var l,d,h,u=[I,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,o,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===I&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,o,c))return!0}return!1}}function Ct(t){return t.length>1?function(e,o,i){for(var n=t.length;n--;)if(!t[n](e,o,i))return!1;return!0}:t[0]}function It(t,e,o,i,n){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(o&&!o(s,i,n)||(r.push(s),l&&e.push(a)));return r}function kt(t,e,o,i,n,s){return i&&!i[_]&&(i=kt(i)),n&&!n[_]&&(n=kt(n,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,o){for(var i=0,n=e.length;i<n;i++)at(t,e[i],o);return o}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:It(f,u,t,a,c),w=o?n||(s?t:m||i)?[]:r:g;if(o&&o(g,w,a,c),i)for(l=It(w,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(n||t){if(n){for(l=[],d=w.length;d--;)(h=w[d])&&l.push(g[d]=h);n(null,w=[],l,c)}for(d=w.length;d--;)(h=w[d])&&(l=n?L(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else w=It(w===r?w.splice(m,w.length):w),n?n(null,r,w,c):A.apply(r,w)}))}function bt(t){for(var e,o,n,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return L(e,t)>-1}),a,!0),u=[function(t,o,i){var n=!r&&(i||o!==l)||((e=o).nodeType?d(t,o,i):h(t,o,i));return e=null,n}];c<s;c++)if(o=i.relative[t[c].type])u=[_t(Ct(u),o)];else{if((o=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(n=++c;n<s&&!i.relative[t[n].type];n++);return kt(c>1&&Ct(u),c>1&&yt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(N,\"$1\"),o,c<n&&bt(t.slice(c,n)),n<s&&bt(t=t.slice(n)),n<s&&yt(t))}u.push(o)}return Ct(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var o,n,s,r,a,c,l,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in o&&!(n=j.exec(a))||(n&&(a=a.slice(n[0].length)||a),c.push(s=[])),o=!1,(n=q.exec(a))&&(o=n.shift(),s.push({value:o,type:n[0].replace(N,\" \")}),a=a.slice(o.length)),i.filter)!(n=X[r].exec(a))||l[r]&&!(n=l[r](n))||(o=n.shift(),s.push({value:o,type:r,matches:n}),a=a.slice(o.length));if(!o)break}return e?a.length:a?at.error(t):x(t,c).slice(0)},a=at.compile=function(t,e){var o,n=[],s=[],a=W[t+\" \"];if(!a){for(e||(e=r(t)),o=e.length;o--;)(a=bt(e[o]))[_]?n.push(a):s.push(a);(a=W(t,function(t,e){var o=e.length>0,n=t.length>0,s=function(s,r,a,c,d){var h,m,g,w=0,v=\"0\",y=s&&[],_=[],C=l,k=s||n&&i.find.TAG(\"*\",d),b=I+=null==C?1:Math.random()||.1,x=k.length;for(d&&(l=r==p||r||d);v!==x&&null!=(h=k[v]);v++){if(n&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(I=b)}o&&((h=!g&&h)&&w--,s&&y.push(h))}if(w+=v,o&&v!==w){for(m=0;g=e[m++];)g(y,_,r,a);if(s){if(w>0)for(;v--;)y[v]||_[v]||(_[v]=D.call(c));_=It(_)}A.apply(c,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(c)}return d&&(I=b,l=C),y};return o?lt(s):s}(s,n))).selector=t}return a},c=at.select=function(t,e,o,n){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!n&&r(t=u.selector||t);if(o=o||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,ot),e)||[])[0]))return o;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(n=h(l.matches[0].replace(et,ot),tt.test(c[0].type)&&wt(e.parentNode)||e))){if(c.splice(s,1),!(t=n.length&&yt(c)))return A.apply(o,n),o;break}}return(u||a(t,p))(n,e,!f,o,!e||tt.test(t)&&wt(e.parentNode)||e),o},o.sortStable=_.split(\"\").sort(S).join(\"\")===_,o.detectDuplicates=!!h,u(),o.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,o){if(!o)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),o.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,o){if(!o&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(O,(function(t,e,o){var i;if(!o)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);C.find=k,C.expr=k.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var b=function(t,e,o){for(var i=[],n=void 0!==o;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&C(t).is(o))break;i.push(t)}return i},x=function(t,e){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&o.push(t);return o},W=C.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,o){return m(e)?C.grep(t,(function(t,i){return!!e.call(t,i,t)!==o})):e.nodeType?C.grep(t,(function(t){return t===e!==o})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==o})):C.filter(e,t,o)}C.filter=function(t,e,o){var i=e[0];return o&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,o,i=this.length,n=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<i;e++)if(C.contains(n[e],this))return!0})));for(o=this.pushStack([]),e=0;e<i;e++)C.find(t,n[e],o);return i>1?C.uniqueSort(o):o},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&W.test(t)?C(t):t||[],!1).length}});var B,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,o){var i,n;if(!t)return this;if(o=o||B,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||o).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(i[1])&&C.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=g.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==o.ready?o.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(g);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),o=e.length;return this.filter((function(){for(var t=0;t<o;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var o,i=0,n=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!W.test(t))for(;i<n;i++)for(o=this[i];o&&o!==e;o=o.parentNode)if(o.nodeType<11&&(r?r.index(o)>-1:1===o.nodeType&&C.find.matchesSelector(o,t))){s.push(o);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,\"parentNode\")},parentsUntil:function(t,e,o){return b(t,\"parentNode\",o)},next:function(t){return P(t,\"nextSibling\")},prev:function(t){return P(t,\"previousSibling\")},nextAll:function(t){return b(t,\"nextSibling\")},prevAll:function(t){return b(t,\"previousSibling\")},nextUntil:function(t,e,o){return b(t,\"nextSibling\",o)},prevUntil:function(t,e,o){return b(t,\"previousSibling\",o)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(E(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(o,i){var n=C.map(this,e,o);return\"Until\"!==t.slice(-5)&&(i=o),i&&\"string\"==typeof i&&(n=C.filter(i,n)),this.length>1&&(A[t]||C.uniqueSort(n),M.test(t)&&n.reverse()),this.pushStack(n)}}));var L=/[^\\x20\\t\\r\\n\\f]+/g;function O(t){return t}function R(t){throw t}function H(t,e,o,i){var n;try{t&&m(n=t.promise)?n.call(t).done(e).fail(o):t&&m(n=t.then)?n.call(t,e,o):e.apply(void 0,[t].slice(i))}catch(t){o.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(L)||[],(function(t,o){e[o]=!0})),e}(t):C.extend({},t);var e,o,i,n,s=[],r=[],a=-1,c=function(){for(n=n||t.once,i=e=!0;r.length;a=-1)for(o=r.shift();++a<s.length;)!1===s[a].apply(o[0],o[1])&&t.stopOnFalse&&(a=s.length,o=!1);t.memory||(o=!1),e=!1,n&&(s=o?[]:\"\")},l={add:function(){return s&&(o&&!e&&(a=s.length-1,r.push(o)),function e(o){C.each(o,(function(o,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==y(i)&&e(i)}))}(arguments),o&&!e&&c()),this},remove:function(){return C.each(arguments,(function(t,e){for(var o;(o=C.inArray(e,s,o))>-1;)s.splice(o,1),o<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=r=[],s=o=\"\",this},disabled:function(){return!s},lock:function(){return n=r=[],o||e||(s=o=\"\"),this},locked:function(){return!!n},fireWith:function(t,o){return n||(o=[t,(o=o||[]).slice?o.slice():o],r.push(o),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},C.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(o,(function(o,i){var n=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=n&&n.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,n?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,n){var s=0;function r(e,o,i,n){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===o.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?n?l.call(t,r(s,o,O,n),r(s,o,R,n)):(s++,l.call(t,r(s,o,O,n),r(s,o,R,n),r(s,o,O,o.notifyWith))):(i!==O&&(a=void 0,c=[t]),(n||o.resolveWith)(a,c))}},d=n?l:function(){try{l()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==R&&(a=void 0,c=[t]),o.rejectWith(a,c))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){o[0][3].add(r(0,t,m(n)?n:O,t.notifyWith)),o[1][3].add(r(0,t,m(e)?e:O)),o[2][3].add(r(0,t,m(i)?i:R))})).promise()},promise:function(t){return null!=t?C.extend(t,n):n}},s={};return C.each(o,(function(t,e){var r=e[2],a=e[5];n[e[1]]=r.add,a&&r.add((function(){i=a}),o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),n.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,o=e,i=Array(o),s=n.call(arguments),r=C.Deferred(),a=function(t){return function(o){i[t]=this,s[t]=arguments.length>1?n.call(arguments):o,--e||r.resolveWith(i,s)}};if(e<=1&&(H(t,r.done(a(o)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[o]&&s[o].then)))return r.then();for(;o--;)H(s[o],a(o),r.reject);return r.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,o){t.console&&t.console.warn&&e&&F.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,o)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var z=C.Deferred();function $(){g.removeEventListener(\"DOMContentLoaded\",$),t.removeEventListener(\"load\",$),C.ready()}C.fn.ready=function(t){return z.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||z.resolveWith(g,[C]))}}),C.ready.then=z.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",$),t.addEventListener(\"load\",$));var N=function(t,e,o,i,n,s,r){var a=0,c=t.length,l=null==o;if(\"object\"===y(o))for(a in n=!0,o)N(t,e,a,o[a],!0,s,r);else if(void 0!==i&&(n=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,o){return l.call(C(t),o)})),e))for(;a<c;a++)e(t[a],o,r?i:i.call(t[a],a,e(t[a],o)));return n?t:l?e.call(t):c?e(t[0],o):s},j=/^-ms-/,q=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function U(t){return t.replace(j,\"ms-\").replace(q,G)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,o){var i,n=this.cache(t);if(\"string\"==typeof e)n[U(e)]=o;else for(i in e)n[U(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,o){return void 0===e||e&&\"string\"==typeof e&&void 0===o?this.get(t,e):(this.set(t,e,o),void 0!==o?o:e)},remove:function(t,e){var o,i=t[this.expando];if(void 0!==i){if(void 0!==e){o=(e=Array.isArray(e)?e.map(U):(e=U(e))in i?[e]:e.match(L)||[]).length;for(;o--;)delete i[e[o]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,o){var i;if(void 0===o&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(o=t.getAttribute(i))){try{o=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(o)}catch(t){}J.set(t,e,o)}else o=void 0;return o}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,o){return J.access(t,e,o)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,o){return Y.access(t,e,o)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var o,i,n,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(n=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(o=r.length;o--;)r[o]&&0===(i=r[o].name).indexOf(\"data-\")&&(i=U(i.slice(5)),K(s,i,n[i]));Y.set(s,\"hasDataAttrs\",!0)}return n}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):N(this,(function(e){var o;if(s&&void 0===e)return void 0!==(o=J.get(s,t))||void 0!==(o=K(s,t))?o:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,o){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),o&&(!i||Array.isArray(o)?i=Y.access(t,e,C.makeArray(o)):i.push(o)),i||[]},dequeue:function(t,e){e=e||\"fx\";var o=C.queue(t,e),i=o.length,n=o.shift(),s=C._queueHooks(t,e);\"inprogress\"===n&&(n=o.shift(),i--),n&&(\"fx\"===e&&o.unshift(\"inprogress\"),delete s.stop,n.call(t,(function(){C.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var o=e+\"queueHooks\";return Y.get(t,o)||Y.access(t,o,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",o])}))})}}),C.fn.extend({queue:function(t,e){var o=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",o--),arguments.length<o?C.queue(this[0],t):void 0===e?this:this.each((function(){var o=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==o[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var o,i=1,n=C.Deferred(),s=this,r=this.length,a=function(){--i||n.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(o=Y.get(s[r],t+\"queueHooks\"))&&o.empty&&(i++,o.empty.add(a));return a(),n.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),ot=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,nt=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(nt=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&nt(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,o,i){var n,s,r=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,\"\")},c=a(),l=o&&o[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(C.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)C.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+l),o=o||[]}return o&&(d=+d||+c||0,n=o[1]?d+(o[1]+1)*o[2]:+o[2],i&&(i.unit=l,i.start=d,i.end=n)),n}var ct={};function lt(t){var e,o=t.ownerDocument,i=t.nodeName,n=ct[i];return n||(e=o.body.appendChild(o.createElement(i)),n=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===n&&(n=\"block\"),ct[i]=n,n)}function dt(t,e){for(var o,i,n=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(o=i.style.display,e?(\"none\"===o&&(n[s]=Y.get(i,\"display\")||null,n[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(n[s]=lt(i))):\"none\"!==o&&(n[s]=\"none\",Y.set(i,\"display\",o)));for(s=0;s<r;s++)null!=n[s]&&(t[s].style.display=n[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var o;return o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&E(t,e)?C.merge([t],o):o}function vt(t,e){for(var o=0,i=t.length;o<i;o++)Y.set(t[o],\"globalEval\",!e||Y.get(e[o],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var yt=/<|&#?\\w+;/;function _t(t,e,o,i,n){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===y(s))C.merge(u,s.nodeType?[s]:s);else if(yt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+C.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&C.inArray(s,i)>-1)n&&n.push(s);else if(l=nt(s),r=wt(h.appendChild(s),\"script\"),l&&vt(r),o)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&o.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\\.(.+)|)/;function bt(){return!0}function xt(){return!1}function Wt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Et(t,e,o,i,n,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof o&&(i=i||o,o=void 0),e)Et(t,a,o,i,e[a],s);return t}if(null==i&&null==n?(n=o,i=o=void 0):null==n&&(\"string\"==typeof o?(n=i,i=void 0):(n=i,i=o,o=void 0)),!1===n)n=xt;else if(!n)return t;return 1===s&&(r=n,(n=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,n,i,o)}))}function St(t,e,o){o?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=n.call(arguments),Y.set(this,e,r),i=o(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,bt)}C.event={global:{},add:function(t,e,o,i,n){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(V(t))for(o.handler&&(o=(s=o).handler,n=s.selector),n&&C.find.matchesSelector(it,n),o.guid||(o.guid=C.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:f,data:i,handler:o,guid:o.guid,selector:n,needsContext:n&&C.expr.match.needsContext.test(n),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=o.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,o,i,n){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)if(p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!n&&f!==d.origType||o&&o.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||C.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)C.event.remove(t,p+e[l],o,i,!0);C.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,o,i,n,s,r,a=new Array(arguments.length),c=C.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=C.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=C.event.handlers.call(this,c,l),e=0;(n=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=n.elem,o=0;(s=n.handlers[o++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((C.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var o,i,n,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},o=0;o<c;o++)void 0===r[n=(i=e[o]).selector+\" \"]&&(r[n]=i.needsContext?C(n,this).index(l)>-1:C.find(n,this,null,[l]).length),r[n]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\",bt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&E(e,\"input\")&&Y.get(e,\"click\")||E(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,o){t.removeEventListener&&t.removeEventListener(e,o)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Wt),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var o,i=this,n=t.relatedTarget,s=t.handleObj;return n&&(n===i||C.contains(i,n))||(t.type=s.origType,o=s.handler.apply(this,arguments),t.type=e),o}}})),C.fn.extend({on:function(t,e,o,i){return Et(this,t,e,o,i)},one:function(t,e,o,i){return Et(this,t,e,o,i,1)},off:function(t,e,o){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&\"function\"!=typeof e||(o=e,e=void 0),!1===o&&(o=xt),this.each((function(){C.event.remove(this,t,o,e)}))}});var Tt=/<script|<style|<link/i,Bt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Mt(t,e){return E(t,\"table\")&&E(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function At(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Pt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Lt(t,e){var o,i,n,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(n in Y.remove(e,\"handle events\"),a)for(o=0,i=a[n].length;o<i;o++)C.event.add(e,n,a[n][o]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Ot(t,e){var o=e.nodeName.toLowerCase();\"input\"===o&&pt.test(t.type)?e.checked=t.checked:\"input\"!==o&&\"textarea\"!==o||(e.defaultValue=t.defaultValue)}function Rt(t,e,o,i){e=s(e);var n,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],w=m(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&Bt.test(g))return t.each((function(n){var s=t.eq(n);w&&(e[0]=g.call(this,n,s.html())),Rt(s,e,o,i)}));if(u&&(r=(n=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===n.childNodes.length&&(n=r),r||i)){for(c=(a=C.map(wt(n,\"script\"),At)).length;h<u;h++)l=n,h!==f&&(l=C.clone(l,!0,!0),c&&C.merge(a,wt(l,\"script\"))),o.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,C.map(a,Pt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&C.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Ht(t,e,o){for(var i,n=e?C.filter(e,t):t,s=0;null!=(i=n[s]);s++)o||1!==i.nodeType||C.cleanData(wt(i)),i.parentNode&&(o&&nt(i)&&vt(wt(i,\"script\")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,o){var i,n,s,r,a=t.cloneNode(!0),c=nt(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),i=0,n=(s=wt(t)).length;i<n;i++)Ot(s[i],r[i]);if(e)if(o)for(s=s||wt(t),r=r||wt(a),i=0,n=s.length;i<n;i++)Lt(s[i],r[i]);else Lt(t,a);return(r=wt(a,\"script\")).length>0&&vt(r,!c&&wt(t,\"script\")),a},cleanData:function(t){for(var e,o,i,n=C.event.special,s=0;void 0!==(o=t[s]);s++)if(V(o)){if(e=o[Y.expando]){if(e.events)for(i in e.events)n[i]?C.event.remove(o,i):C.removeEvent(o,i,e.handle);o[Y.expando]=void 0}o[J.expando]&&(o[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return N(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Rt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)}))},prepend:function(){return Rt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return N(this,(function(t){var e=this[0]||{},o=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;o<i;o++)1===(e=this[o]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,(function(e){var o=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),o&&o.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var o,i=[],n=C(t),s=n.length-1,a=0;a<=s;a++)o=a===s?this:this.clone(!0),C(n[a])[e](o),r.apply(i,o.get());return this.pushStack(i)}}));var Ft=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),zt=function(e){var o=e.ownerDocument.defaultView;return o&&o.opener||(o=t),o.getComputedStyle(e)},$t=function(t,e,o){var i,n,s={};for(n in e)s[n]=t.style[n],t.style[n]=e[n];for(n in i=o.call(t),e)t.style[n]=s[n];return i},Nt=new RegExp(ot.join(\"|\"),\"i\");function jt(t,e,o){var i,n,s,r,a=t.style;return(o=o||zt(t))&&(\"\"!==(r=o.getPropertyValue(e)||o[e])||nt(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&Ft.test(r)&&Nt.test(e)&&(i=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=o.width,a.width=i,a.minWidth=n,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===o(e.marginLeft),d.style.right=\"60%\",r=36===o(e.right),n=36===o(e.width),d.style.position=\"absolute\",s=12===o(d.offsetWidth/3),it.removeChild(l),d=null}}function o(t){return Math.round(parseFloat(t))}var i,n,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,o,i,n;return null==a&&(e=g.createElement(\"table\"),o=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",o.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(o).appendChild(i),n=t.getComputedStyle(o),a=parseInt(n.height)>3,it.removeChild(e)),a}}))}();var Gt=[\"Webkit\",\"Moz\",\"ms\"],Ut=g.createElement(\"div\").style,Vt={};function Xt(t){var e=C.cssProps[t]||Vt[t];return e||(t in Ut?t:Vt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),o=Gt.length;o--;)if((t=Gt[o]+e)in Ut)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,o){var i=et.exec(e);return i?Math.max(0,i[2]-(o||0))+(i[3]||\"px\"):e}function te(t,e,o,i,n,s){var r=\"width\"===e?1:0,a=0,c=0;if(o===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===o&&(c+=C.css(t,o+ot[r],!0,n)),i?(\"content\"===o&&(c-=C.css(t,\"padding\"+ot[r],!0,n)),\"margin\"!==o&&(c-=C.css(t,\"border\"+ot[r]+\"Width\",!0,n))):(c+=C.css(t,\"padding\"+ot[r],!0,n),\"padding\"!==o?c+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n):a+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,o){var i=zt(t),n=(!p.boxSizingReliable()||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,i),s=n,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ft.test(r)){if(!o)return r;r=\"auto\"}return(!p.boxSizingReliable()&&n||!p.reliableTrDimensions()&&E(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,i))&&t.getClientRects().length&&(n=\"border-box\"===C.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,o||(n?\"border\":\"content\"),s,i,r)+\"px\"}function oe(t,e,o,i,n){return new oe.prototype.init(t,e,o,i,n)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var o=jt(t,\"opacity\");return\"\"===o?\"1\":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,o,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,r,a=U(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===o)return r&&\"get\"in r&&void 0!==(n=r.get(t,!1,i))?n:l[e];\"string\"===(s=typeof o)&&(n=et.exec(o))&&n[1]&&(o=at(t,e,n),s=\"number\"),null!=o&&o==o&&(\"number\"!==s||c||(o+=n&&n[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==o||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(o=r.set(t,o,i))||(c?l.setProperty(e,o):l[e]=o))}},css:function(t,e,o,i){var n,s,r,a=U(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(n=r.get(t,!0,o)),void 0===n&&(n=jt(t,e,i)),\"normal\"===n&&e in Qt&&(n=Qt[e]),\"\"===o||o?(s=parseFloat(n),!0===o||isFinite(s)?s||0:n):n}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,o,i){if(o)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):$t(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,o,i){var n,s=zt(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(n=et.exec(o))&&\"px\"!==(n[3]||\"px\")&&(t.style[e]=o,o=C.css(t,e)),Kt(0,o,c)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-$t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(o){for(var i=0,n={},s=\"string\"==typeof o?o.split(\" \"):[o];i<4;i++)n[t+ot[i]+e]=s[i]||s[i-2]||s[0];return n}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return N(this,(function(t,e,o){var i,n,s={},r=0;if(Array.isArray(e)){for(i=zt(t),n=e.length;r<n;r++)s[e[r]]=C.css(t,e[r],!1,i);return s}return void 0!==o?C.style(t,e,o):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,o,i,n,s){this.elem=t,this.prop=o,this.easing=n||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(C.cssNumber[o]?\"\":\"px\")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,o=oe.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=oe.prototype.init,C.fx.step={};var ie,ne,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ne&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var o,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n[\"margin\"+(o=ot[i])]=n[\"padding\"+o]=t;return e&&(n.opacity=n.width=t),n}function de(t,e,o){for(var i,n=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=n.length;s<r;s++)if(i=n[s].call(o,e,t))return i}function he(t,e,o){var i,n,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(n)return!1;for(var e=ie||ce(),o=Math.max(0,l.startTime+l.duration-e),i=1-(o/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,o]),i<1&&r?o:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},o),originalProperties:e,originalOptions:o,startTime:ie||ce(),duration:o.duration,tweens:[],createTween:function(e,o){var i=C.Tween(t,l.opts,e,o,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var o=0,i=e?l.tweens.length:0;if(n)return this;for(n=!0;o<i;o++)l.tweens[o].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var o,i,n,s,r;for(o in t)if(n=e[i=U(o)],s=t[o],Array.isArray(s)&&(n=s[1],s=t[o]=s[0]),o!==i&&(t[i]=s,delete t[o]),(r=C.cssHooks[i])&&\"expand\"in r)for(o in s=r.expand(s),delete t[i],s)o in t||(t[o]=s[o],e[o]=n);else e[i]=n}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return C.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var o=this.createTween(t,e);return at(o.elem,t,et.exec(e),o),o}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(L);for(var o,i=0,n=t.length;i<n;i++)o=t[i],he.tweeners[o]=he.tweeners[o]||[],he.tweeners[o].unshift(e)},prefilters:[function(t,e,o){var i,n,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in o.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(n=e[i],se.test(n)){if(delete e[i],s=s||\"toggle\"===n,n===(f?\"hide\":\"show\")){if(\"show\"!==n||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||C.style(t,i)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(i in h&&1===t.nodeType&&(o.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===C.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),o.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=o.overflow[0],m.overflowX=o.overflow[1],m.overflowY=o.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,o){var i=t&&\"object\"==typeof t?C.extend({},t):{complete:o||!o&&e||m(t)&&t,duration:t,easing:o&&e||e&&!m(e)&&e};return C.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,o,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,o,i)},animate:function(t,e,o,i){var n=C.isEmptyObject(t),s=C.speed(e,o,i),r=function(){var e=he(this,C.extend({},t),s);(n||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,o){var i=function(t){var e=t.stop;delete t.stop,e(o)};return\"string\"!=typeof t&&(o=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,n=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(n)r[n]&&r[n].stop&&i(r[n]);else for(n in r)r[n]&&r[n].stop&&re.test(n)&&i(r[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(o),e=!1,s.splice(n,1));!e&&o||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,o=Y.get(this),i=o[t+\"queue\"],n=o[t+\"queueHooks\"],s=C.timers,r=i?i.length:0;for(o.finish=!0,C.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete o.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var o=C.fn[e];C.fn[e]=function(t,i,n){return null==t||\"boolean\"==typeof t?o.apply(this,arguments):this.animate(le(e,!0),t,i,n)}})),C.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,o,i){return this.animate(e,t,o,i)}})),C.timers=[],C.fx.tick=function(){var t,e=0,o=C.timers;for(ie=Date.now();e<o.length;e++)(t=o[e])()||o[e]!==t||o.splice(e--,1);o.length||C.fx.stop(),ie=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ne||(ne=!0,ae())},C.fx.stop=function(){ne=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,o){return e=C.fx&&C.fx.speeds[e]||e,o=o||\"fx\",this.queue(o,(function(o,i){var n=t.setTimeout(o,e);i.stop=function(){t.clearTimeout(n)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return N(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,o):(1===s&&C.isXMLDoc(t)||(n=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==o?null===o?void C.removeAttr(t,e):n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:(t.setAttribute(e,o+\"\"),o):n&&\"get\"in n&&null!==(i=n.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&E(t,\"input\")){var o=t.value;return t.setAttribute(\"type\",e),o&&(t.value=o),e}}}},removeAttr:function(t,e){var o,i=0,n=e&&e.match(L);if(n&&1===t.nodeType)for(;o=n[i++];)t.removeAttribute(o)}}),ue={set:function(t,e,o){return!1===e?C.removeAttr(t,o):t.setAttribute(o,o),o}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var o=pe[e]||C.find.attr;pe[e]=function(t,e,i){var n,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=n,n=null!=o(t,e,i)?r:null,pe[r]=s),n}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(L)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(L)||[]}C.fn.extend({prop:function(t,e){return N(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,n=C.propHooks[e]),void 0!==o?n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:t[e]=o:n&&\"get\"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,o,i,n,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ve(t)).length)for(;o=this[c++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,o,i,n,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;o=this[c++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var o=typeof t,i=\"string\"===o||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(o){C(this).toggleClass(t.call(this,o,we(this),e),e)})):this.each((function(){var e,n,s,r;if(i)for(n=0,s=C(this),r=ve(t);e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==o||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,o,i=0;for(e=\" \"+t+\" \";o=this[i++];)if(1===o.nodeType&&(\" \"+ge(we(o))+\" \").indexOf(e)>-1)return!0;return!1}});var ye=/\\r/g;C.fn.extend({val:function(t){var e,o,i,n=this[0];return arguments.length?(i=m(t),this.each((function(o){var n;1===this.nodeType&&(null==(n=i?t.call(this,o,C(this).val()):t)?n=\"\":\"number\"==typeof n?n+=\"\":Array.isArray(n)&&(n=C.map(n,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,n,\"value\")||(this.value=n))}))):n?(e=C.valHooks[n.type]||C.valHooks[n.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(o=e.get(n,\"value\"))?o:\"string\"==typeof(o=n.value)?o.replace(ye,\"\"):null==o?\"\":o:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,o,i,n=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:n.length;for(i=s<0?c:r?s:0;i<c;i++)if(((o=n[i]).selected||i===s)&&!o.disabled&&(!o.parentNode.disabled||!E(o.parentNode,\"optgroup\"))){if(e=C(o).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var o,i,n=t.options,s=C.makeArray(e),r=n.length;r--;)((i=n[r]).selected=C.inArray(C.valHooks.option.get(i),s)>-1)&&(o=!0);return o||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,o,i,n){var s,r,a,c,l,h,u,p,w=[i||g],v=d.call(e,\"type\")?e.type:e,y=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+C.event.triggered)&&(v.indexOf(\".\")>-1&&(y=v.split(\".\"),v=y.shift(),y.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[C.expando]?e:new C.Event(v,\"object\"==typeof e&&e)).isTrigger=n?2:3,e.namespace=y.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+y.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),o=null==o?[e]:C.makeArray(o,[e]),u=C.event.special[v]||{},n||!u.trigger||!1!==u.trigger.apply(i,o))){if(!n&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(i.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,o),(h=l&&r[l])&&h.apply&&V(r)&&(e.result=h.apply(r,o),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),o)||!V(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),C.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,Ce),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,Ce),C.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,o){var i=C.extend(new C.Event,o,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var o=this[0];if(o)return C.event.trigger(t,e,o,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var o=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e);n||i.addEventListener(t,o,!0),Y.access(i,e,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e)-1;n?Y.access(i,e,n):(i.removeEventListener(t,o,!0),Y.remove(i,e))}}}));var Ie=t.location,ke={guid:Date.now()},be=/\\?/;C.parseXML=function(e){var o;if(!e||\"string\"!=typeof e)return null;try{o=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){o=void 0}return o&&!o.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),o};var xe=/\\[\\]$/,We=/\\r?\\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,o,i){var n;if(Array.isArray(e))C.each(e,(function(e,n){o||xe.test(t)?i(t,n):Te(t+\"[\"+(\"object\"==typeof n&&null!=n?e:\"\")+\"]\",n,o,i)}));else if(o||\"object\"!==y(e))i(t,e);else for(n in e)Te(t+\"[\"+n+\"]\",e[n],o,i)}C.param=function(t,e){var o,i=[],n=function(t,e){var o=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==o?\"\":o)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){n(this.name,this.value)}));else for(o in t)Te(o,t[o],e,n);return i.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var o=C(this).val();return null==o?null:Array.isArray(o)?C.map(o,(function(t){return{name:e.name,value:t.replace(We,\"\\r\\n\")}})):{name:e.name,value:o.replace(We,\"\\r\\n\")}})).get()}});var Be=/%20/g,De=/#.*$/,Me=/([?&])_=[^&]*/,Ae=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Le=/^\\/\\//,Oe={},Re={},He=\"*/\".concat(\"*\"),Fe=g.createElement(\"a\");function ze(t){return function(e,o){\"string\"!=typeof e&&(o=e,e=\"*\");var i,n=0,s=e.toLowerCase().match(L)||[];if(m(o))for(;i=s[n++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(o)):(t[i]=t[i]||[]).push(o)}}function $e(t,e,o,i){var n={},s=t===Re;function r(a){var c;return n[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,o,i);return\"string\"!=typeof l||s||n[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!n[\"*\"]&&r(\"*\")}function Ne(t,e){var o,i,n=C.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((n[o]?t:i||(i={}))[o]=e[o]);return i&&C.extend(!0,t,i),t}Fe.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":He,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,C.ajaxSettings),e):Ne(C.ajaxSettings,t)},ajaxPrefilter:ze(Oe),ajaxTransport:ze(Re),ajax:function(e,o){\"object\"==typeof e&&(o=e,e=void 0),o=o||{};var i,n,s,r,a,c,l,d,h,u,p=C.ajaxSetup({},o),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?C(m):C.event,w=C.Deferred(),v=C.Callbacks(\"once memory\"),y=p.statusCode||{},_={},I={},k=\"canceled\",b={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Ae.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)b.always(t[b.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return i&&i.abort(e),x(0,e),this}};if(w.promise(b),p.url=((e||p.url||Ie.href)+\"\").replace(Le,Ie.protocol+\"//\"),p.type=o.method||o.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(L)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Fe.protocol+\"//\"+Fe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),$e(Oe,p,o,b),l)return b;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),n=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Be,\"+\")):(u=p.url.slice(n.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(n+=(be.test(n)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Me,\"$1\"),u=(be.test(n)?\"&\":\"?\")+\"_=\"+ke.guid+++u),p.url=n+u),p.ifModified&&(C.lastModified[n]&&b.setRequestHeader(\"If-Modified-Since\",C.lastModified[n]),C.etag[n]&&b.setRequestHeader(\"If-None-Match\",C.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||o.contentType)&&b.setRequestHeader(\"Content-Type\",p.contentType),b.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+He+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)b.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,b,p)||l))return b.abort();if(k=\"abort\",v.add(p.complete),b.done(p.success),b.fail(p.error),i=$e(Re,p,o,b)){if(b.readyState=1,d&&f.trigger(\"ajaxSend\",[b,p]),l)return b;p.async&&p.timeout>0&&(a=t.setTimeout((function(){b.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,o,r,c){var h,u,g,_,I,k=o;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",b.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,o){for(var i,n,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(n in a)if(a[n]&&a[n].test(i)){c.unshift(n);break}if(c[0]in o)s=c[0];else{for(n in o){if(!c[0]||t.converters[n+\" \"+c[0]]){s=n;break}r||(r=n)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),o[s]}(p,b,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,o,i){var n,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(o[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(n in l)if((a=n.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[n]:!0!==l[n]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,b,h),h?(p.ifModified&&((I=b.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[n]=I),(I=b.getResponseHeader(\"etag\"))&&(C.etag[n]=I)),204===e||\"HEAD\"===p.type?k=\"nocontent\":304===e?k=\"notmodified\":(k=_.state,u=_.data,h=!(g=_.error))):(g=k,!e&&k||(k=\"error\",e<0&&(e=0))),b.status=e,b.statusText=(o||k)+\"\",h?w.resolveWith(m,[u,k,b]):w.rejectWith(m,[b,k,g]),b.statusCode(y),y=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[b,p,h?u:g]),v.fireWith(m,[b,k]),d&&(f.trigger(\"ajaxComplete\",[b,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return b},getJSON:function(t,e,o){return C.get(t,e,o,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,o,i,n){return m(o)&&(n=n||i,i=o,o=void 0),C.ajax(C.extend({url:t,type:e,dataType:n,data:o,success:i},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,o){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,o)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),o=e.contents();o.length?o.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(o){C(this).wrapAll(e?t.call(this,o):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var o,i;if(p.cors||qe&&!e.crossDomain)return{send:function(n,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n[\"X-Requested-With\"]||(n[\"X-Requested-With\"]=\"XMLHttpRequest\"),n)a.setRequestHeader(r,n[r]);o=function(t){return function(){o&&(o=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=o(),i=a.onerror=a.ontimeout=o(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){o&&i()}))},o=o(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,o;if(t.crossDomain||t.scriptAttrs)return{send:function(i,n){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",o=function(t){e.remove(),o=null,t&&n(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){o&&o()}}}));var Ge,Ue=[],Ve=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ue.pop()||C.expando+\"_\"+ke.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,o,i){var n,s,r,a=!1!==e.jsonp&&(Ve.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ve.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return n=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ve,\"$1\"+n):!1!==e.jsonp&&(e.url+=(be.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+n),e.converters[\"script json\"]=function(){return r||C.error(n+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[n],t[n]=function(){r=arguments},i.always((function(){void 0===s?C(t).removeProp(n):t[n]=s,e[n]&&(e.jsonpCallback=o.jsonpCallback,Ue.push(n)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ge=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ge.childNodes.length),C.parseHTML=function(t,e,o){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(o=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!o&&[],(n=S.exec(t))?[e.createElement(n[1])]:(n=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],n.childNodes)));var i,n,s},C.fn.load=function(t,e,o){var i,n,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(o=e,e=void 0):e&&\"object\"==typeof e&&(n=\"POST\"),r.length>0&&C.ajax({url:t,type:n||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?C(\"<div>\").append(C.parseHTML(t)).find(i):t)})).always(o&&function(t,e){r.each((function(){o.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,o){var i,n,s,r,a,c,l=C.css(t,\"position\"),d=C(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),c=C.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,n=i.left):(r=parseFloat(s)||0,n=parseFloat(c)||0),m(e)&&(e=e.call(t,o,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+n),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,o,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),o=i.ownerDocument.defaultView,{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,o,i=this[0],n={top:0,left:0};if(\"fixed\"===C.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),o=i.ownerDocument,t=i.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),n.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-n.top-C.css(i,\"marginTop\",!0),left:e.left-n.left-C.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var o=\"pageYOffset\"===e;C.fn[t]=function(i){return N(this,(function(t,i,n){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===n)return s?s[e]:t[i];s?s.scrollTo(o?s.pageXOffset:n,o?n:s.pageYOffset):t[i]=n}),t,i,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,o){if(o)return o=jt(t,e),Ft.test(o)?C(t).position()[e]+\"px\":o}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(o,i){C.fn[i]=function(n,s){var r=arguments.length&&(o||\"boolean\"!=typeof n),a=o||(!0===n||!0===s?\"margin\":\"border\");return N(this,(function(e,o,n){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===n?C.css(e,o,a):C.style(e,o,n,a)}),e,r?n:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,o){return this.on(t,null,e,o)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,o,i){return this.on(e,t,o,i)},undelegate:function(t,e,o){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,o){return arguments.length>0?this.on(e,null,t,o):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var o,i,s;if(\"string\"==typeof e&&(o=t[e],e=t,t=o),m(t))return i=n.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(n.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=m,C.isWindow=f,C.camelCase=U,C.type=y,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let dt;window.$=lt,window.addEventListener(\"beforeunload\",(()=>{ct.dispose(),dt&&dt()}));const ht={init:(t,e)=>{if(rt.initialized)return void rt.init(t,t.agm.instance.windowId,ct,e);ct.subscribeForWorkspaceEvents();const o=rt.init(t,t.agm.instance.windowId,ct,e);return dt=o.cleanUp,ct.init(t,t.agm.instance.windowId).then((()=>{U.config.emptyFrame||rt.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),rt},getFrameId:()=>rt.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>rt.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{rt.unmount()},subscribeForWindowFocused:t=>rt.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{},closeWorkspace:t=>{rt.closeItem(t)},showSaveWorkspacePopup:(t,e)=>{rt.showSaveWorkspacePopup(t,e)}};export default ht;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n\r\n    public showSaveWorkspacePopup(workspaceId: string, bounds: Bounds): void {\r\n        return (window.workspacesManager || workspacesManager).showSaveWorkspacePopup(workspaceId, bounds);\r\n    }\r\n\r\n    public closeWorkspace(workspaceId:string):void{\r\n        return (window.workspacesManager || workspacesManager).closeWorkspace(workspaceId);\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React, { useEffect, useRef } from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nconst WorkspacesWrapper: React.FC<WorkspacesWrapperProps> = ({ shouldInit, glue, ...props }) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!containerRef.current) {\r\n            return;\r\n        }\r\n        containerRef.current.appendChild(placeholder.content);\r\n\r\n        if (!shouldInit) {\r\n            return;\r\n        }\r\n        const componentFactory = {\r\n            // Create\r\n            createLogo: props.onCreateLogoRequested,\r\n            createWorkspaceTabs: props.onCreateWorkspaceTabRequested,\r\n            createAddWorkspace: props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: props.onCreateWorkspaceContentsRequested,\r\n            createBeforeGroupTabs: props.onCreateBeforeGroupTabsRequested,\r\n            createGroupTabs: props.onCreateGroupTabRequested,\r\n            createAfterGroupTabs: props.onCreateAfterGroupTabsRequested,\r\n            createGroupHeaderButtons: props.onCreateGroupHeaderButtonsRequested,\r\n            createSaveWorkspacePopup: props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: props.onCreateAddWorkspacePopupRequested,\r\n            // Update\r\n            updateWorkspaceTabs: props.onUpdateWorkspaceTabsRequested,\r\n            // Remove\r\n            removeWorkspaceTabs: props.onRemoveWorkspaceTabsRequested,\r\n            removeWorkspaceContents: props.onRemoveWorkspaceContentsRequested,\r\n            removeBeforeGroupTabs: props.onRemoveBeforeGroupTabsRequested,\r\n            removeGroupTab: props.onRemoveGroupTabRequested,\r\n            removeAfterGroupTabs: props.onRemoveAfterGroupTabsRequested,\r\n            removeGroupHeaderButtons: props.onRemoveGroupHeaderButtonsRequested,\r\n            // Misc\r\n            hideSystemPopups: props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(glue, componentFactory);\r\n\r\n        return () => {\r\n            let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n            if (!containerRef.current) {\r\n                return;\r\n            }\r\n\r\n            placeholder?.content.appendChild(containerRef.current.children[0]);\r\n\r\n            workspacesManager.unmount();\r\n        }\r\n    }, [shouldInit]);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React, { useState } from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions, CreateGroupRequestOptions, RemoveWorkspaceContentsRequestOptions, CreateGroupTabRequestOptions, RemoveRequestOptions, CreateWorkspaceTabRequestOptions, Bounds } from \"./types/internal\";\r\nimport workspacesManager from \"./workspacesManager\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            workspaceTabs: {},\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            beforeGroupTabsZones: {},\r\n            afterGroupTabsZones: {},\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined,\r\n            shouldInit: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState((s) => {\r\n            return { ...s, shouldInit: true };\r\n        })\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (options === this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateBeforeGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.beforeGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const beforeTabsZonesObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.beforeGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            beforeTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: beforeTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAfterGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.afterGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const afterTabsZonesObj = Object.keys(s.afterGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.afterGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            afterTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: afterTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onUpdateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveWorkspaceTabRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                if (workspaceId != options.elementId) {\r\n                    acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                workspaceTabs: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveWorkspaceContentsRequested = (options: RemoveWorkspaceContentsRequestOptions) => {\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents.filter((wc) => wc.workspaceId !== options.workspaceId),\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveBeforeTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.beforeGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.beforeGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveAfterTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.afterGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.afterGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.afterGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderWorkspaceTabs = () => {\r\n        const TabComponent = this.props.components?.header?.WorkspaceTabComponent;\r\n\r\n        return Object.values(this.state.workspaceTabs).map((g) => {\r\n            if (!TabComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            const onCloseClick = () => {\r\n                workspacesManager.closeWorkspace(g.workspaceId);\r\n            };\r\n\r\n            const onSaveClick = (bounds: Bounds) => {\r\n                workspacesManager.showSaveWorkspacePopup(g.workspaceId, bounds);\r\n            };\r\n            return <Portal key={`${options.workspaceId}-tab`} domNode={domNode}><TabComponent onCloseClick={onCloseClick} onSaveClick={onSaveClick} {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorkspaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderBeforeGroupTabs = () => {\r\n        const BeforeGroupTabsComponent = this.props.components?.containers?.group?.header?.BeforeTabs;\r\n\r\n        return Object.values(this.state.beforeGroupTabsZones).map((g) => {\r\n            if (!BeforeGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><BeforeGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderAfterGroupTabs = () => {\r\n        const AfterGroupTabsComponent = this.props.components?.containers?.group?.header?.AfterTabs;\r\n\r\n        return Object.values(this.state.afterGroupTabsZones).map((g) => {\r\n            if (!AfterGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><AfterGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderWorkspaceTabs()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorkspaceContents()}\r\n                {this.renderBeforeGroupTabs()}\r\n                {this.renderAfterGroupTabs()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateWorkspaceTabRequested={components?.header?.WorkspaceTabComponent ? this.onCreateWorkspaceTabRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? this.onCreateBeforeGroupTabsComponentRequested : undefined}\r\n                    onCreateAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? this.onCreateAfterGroupTabsComponentRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onUpdateWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? this.onUpdateWorkspaceTabRequested : undefined}\r\n                    onRemoveWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? this.onRemoveWorkspaceTabRequested : undefined}\r\n                    onRemoveWorkspaceContentsRequested={components?.WorkspaceContents ? this.onRemoveWorkspaceContentsRequested : undefined}\r\n                    onRemoveBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? this.onRemoveBeforeTabsComponentRequested : undefined}\r\n                    onRemoveAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? this.onRemoveAfterTabsComponentRequested : undefined}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    shouldInit={this.state.shouldInit}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/workspace/WorkspaceContents\";\r\nimport MoveArea from \"./defaultComponents/MoveArea\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    AddWindowButtonProps,\r\n    MaximizeGroupButtonProps,\r\n    EjectButtonProps,\r\n    MoveAreaProps,\r\n    WorkspaceTabComponentProps,\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\nimport WorkspaceTab from \"./defaultComponents/workspace/WorkspaceTab\";\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents,\r\n    MoveArea,\r\n    WorkspaceTab\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    AddWindowButtonProps,\r\n    MaximizeGroupButtonProps,\r\n    EjectButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    MoveAreaProps,\r\n    WorkspaceTabComponentProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","import React from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\nconst parseConfig = (config) => {\r\n    var _a, _b, _c, _d;\r\n    const isPlatformInternal = !!((_c = (_b = (_a = config) === null || _a === void 0 ? void 0 : _a.gateway) === null || _b === void 0 ? void 0 : _b.webPlatform) === null || _c === void 0 ? void 0 : _c.port);\r\n    const combined = Object.assign({}, defaultConfig, config, { isPlatformInternal });\r\n    if (combined.systemLogger) {\r\n        combined.logger = (_d = combined.systemLogger.level) !== null && _d !== void 0 ? _d : \"info\";\r\n    }\r\n    return combined;\r\n};\n\nconst checkSingleton = () => {\r\n    const glue42CoreNamespace = window.glue42core;\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n    if (!glue42CoreNamespace) {\r\n        window.glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n    glue42CoreNamespace.webStarted = true;\r\n};\n\nconst enterprise = (config) => {\r\n    var _a, _b;\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: (_b = (_a = config === null || config === void 0 ? void 0 : config.systemLogger) === null || _a === void 0 ? void 0 : _a.level) !== null && _b !== void 0 ? _b : \"warn\"\r\n    };\r\n    return window.Glue(enterpriseConfig);\r\n};\n\n/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest$1(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest$1(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\n\nconst nonEmptyStringDecoder = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nconst nonNegativeNumberDecoder = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nconst libDomainDecoder = oneOf(constant(\"system\"), constant(\"windows\"), constant(\"appManager\"), constant(\"layouts\"), constant(\"intents\"), constant(\"notifications\"), constant(\"channels\"), constant(\"extension\"));\r\nconst windowOperationTypesDecoder = oneOf(constant(\"openWindow\"), constant(\"windowHello\"), constant(\"windowAdded\"), constant(\"windowRemoved\"), constant(\"getBounds\"), constant(\"getFrameBounds\"), constant(\"getUrl\"), constant(\"moveResize\"), constant(\"focus\"), constant(\"close\"), constant(\"getTitle\"), constant(\"setTitle\"));\r\nconst appManagerOperationTypesDecoder = oneOf(constant(\"appHello\"), constant(\"appDirectoryStateChange\"), constant(\"instanceStarted\"), constant(\"instanceStopped\"), constant(\"applicationStart\"), constant(\"instanceStop\"), constant(\"clear\"));\r\nconst layoutsOperationTypesDecoder = oneOf(constant(\"layoutAdded\"), constant(\"layoutChanged\"), constant(\"layoutRemoved\"), constant(\"get\"), constant(\"getAll\"), constant(\"export\"), constant(\"import\"), constant(\"remove\"));\r\nconst notificationsOperationTypesDecoder = oneOf(constant(\"raiseNotification\"), constant(\"requestPermission\"), constant(\"notificationShow\"), constant(\"notificationClick\"), constant(\"getPermission\"));\r\nconst windowRelativeDirectionDecoder = oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"));\r\nconst windowOpenSettingsDecoder = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder),\r\n    windowId: optional(nonEmptyStringDecoder)\r\n}));\r\nconst openWindowConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\nconst windowHelloDecoder = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\nconst coreWindowDataDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst simpleWindowDecoder = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\nconst helloSuccessDecoder = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\nconst windowTitleConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: string()\r\n});\r\nconst windowMoveResizeConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\nconst windowBoundsResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst frameWindowBoundsResultDecoder = object({\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst windowUrlResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\nconst anyDecoder = anyJson();\r\nconst boundsDecoder = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst instanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\nconst applicationDetailsDecoder = object({\r\n    url: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst intentDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    displayName: optional(string()),\r\n    contexts: optional(array(string())),\r\n    customConfig: optional(object())\r\n});\r\nconst fdc3AppDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    appId: optional(nonEmptyStringDecoder),\r\n    manifest: nonEmptyStringDecoder,\r\n    manifestType: nonEmptyStringDecoder,\r\n    tooltip: optional(nonEmptyStringDecoder),\r\n    description: optional(nonEmptyStringDecoder),\r\n    contactEmail: optional(nonEmptyStringDecoder),\r\n    supportEmail: optional(nonEmptyStringDecoder),\r\n    publisher: optional(nonEmptyStringDecoder),\r\n    images: optional(array(object({ url: optional(nonEmptyStringDecoder) }))),\r\n    icons: optional(array(object({ icon: optional(nonEmptyStringDecoder) }))),\r\n    customConfig: anyJson(),\r\n    intents: optional(array(intentDefinitionDecoder))\r\n});\r\nconst applicationDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    customProperties: optional(anyJson()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder),\r\n    details: applicationDetailsDecoder,\r\n    intents: optional(array(intentDefinitionDecoder)),\r\n    hidden: optional(boolean())\r\n});\r\nconst allApplicationDefinitionsDecoder = oneOf(applicationDefinitionDecoder, fdc3AppDefinitionDecoder);\r\nconst appsImportOperationDecoder = object({\r\n    definitions: array(allApplicationDefinitionsDecoder),\r\n    mode: oneOf(constant(\"replace\"), constant(\"merge\"))\r\n});\r\nconst appRemoveConfigDecoder = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst appsExportOperationDecoder = object({\r\n    definitions: array(applicationDefinitionDecoder)\r\n});\r\nconst applicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst baseApplicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst appDirectoryStateChangeDecoder = object({\r\n    appsAdded: array(baseApplicationDataDecoder),\r\n    appsChanged: array(baseApplicationDataDecoder),\r\n    appsRemoved: array(baseApplicationDataDecoder)\r\n});\r\nconst appHelloSuccessDecoder = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\nconst basicInstanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst applicationStartConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    id: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"))),\r\n    forceChromeTab: optional(boolean())\r\n});\r\nconst layoutTypeDecoder = oneOf(constant(\"Global\"), constant(\"Activity\"), constant(\"ApplicationDefault\"), constant(\"Swimlane\"), constant(\"Workspace\"));\r\nconst componentTypeDecoder = oneOf(constant(\"application\"), constant(\"activity\"));\r\nconst windowLayoutComponentDecoder = object({\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    componentType: optional(componentTypeDecoder),\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\nconst windowLayoutItemDecoder = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        isMaximized: optional(boolean())\r\n    })\r\n});\r\nconst groupLayoutItemDecoder = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(windowLayoutItemDecoder))\r\n});\r\nconst columnLayoutItemDecoder = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => columnLayoutItemDecoder), lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst rowLayoutItemDecoder = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst workspaceLayoutComponentDecoder = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf(rowLayoutItemDecoder, columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder))\r\n    })\r\n});\r\nconst glueLayoutDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf(windowLayoutComponentDecoder, workspaceLayoutComponentDecoder)),\r\n    version: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst newLayoutOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst restoreOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\nconst layoutSummaryDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst simpleLayoutConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\nconst getAllLayoutsConfigDecoder = object({\r\n    type: layoutTypeDecoder\r\n});\r\nconst allLayoutsFullConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\nconst importModeDecoder = oneOf(constant(\"replace\"), constant(\"merge\"));\r\nconst layoutsImportConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder),\r\n    mode: importModeDecoder\r\n});\r\nconst allLayoutsSummariesResultDecoder = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\nconst simpleLayoutResult = object({\r\n    layout: glueLayoutDecoder\r\n});\r\nconst optionalSimpleLayoutResult = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\nconst intentsOperationTypesDecoder = oneOf(constant(\"findIntent\"), constant(\"getIntents\"), constant(\"raiseIntent\"));\r\nconst intentHandlerDecoder = object({\r\n    applicationName: nonEmptyStringDecoder,\r\n    applicationTitle: string(),\r\n    applicationDescription: optional(string()),\r\n    applicationIcon: optional(string()),\r\n    type: oneOf(constant(\"app\"), constant(\"instance\")),\r\n    displayName: optional(string()),\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    instanceId: optional(string()),\r\n    instanceTitle: optional(string())\r\n});\r\nconst intentDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    handlers: array(intentHandlerDecoder)\r\n});\r\nconst intentTargetDecoder = oneOf(constant(\"startNew\"), constant(\"reuse\"), object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    instance: optional(nonEmptyStringDecoder)\r\n}));\r\nconst intentContextDecoder = object({\r\n    type: optional(nonEmptyStringDecoder),\r\n    data: optional(object())\r\n});\r\nconst intentsDecoder = array(intentDecoder);\r\nconst wrappedIntentsDecoder = object({\r\n    intents: intentsDecoder\r\n});\r\nconst intentFilterDecoder = object({\r\n    name: optional(nonEmptyStringDecoder),\r\n    contextType: optional(nonEmptyStringDecoder)\r\n});\r\nconst findFilterDecoder = oneOf(nonEmptyStringDecoder, intentFilterDecoder);\r\nconst wrappedIntentFilterDecoder = object({\r\n    filter: optional(intentFilterDecoder)\r\n});\r\nconst intentRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    target: optional(intentTargetDecoder),\r\n    context: optional(intentContextDecoder),\r\n    options: optional(windowOpenSettingsDecoder)\r\n});\r\nconst raiseRequestDecoder = oneOf(nonEmptyStringDecoder, intentRequestDecoder);\r\nconst intentResultDecoder = object({\r\n    request: intentRequestDecoder,\r\n    handler: intentHandlerDecoder,\r\n    result: anyJson()\r\n});\r\nconst addIntentListenerRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    displayName: optional(string()),\r\n    icon: optional(string()),\r\n    description: optional(string())\r\n});\r\nconst addIntentListenerIntentDecoder = oneOf(nonEmptyStringDecoder, addIntentListenerRequestDecoder);\r\nconst channelNameDecoder = (channelNames) => {\r\n    return nonEmptyStringDecoder.where(s => channelNames.includes(s), \"Expected a valid channel name\");\r\n};\r\nconst interopActionSettingsDecoder = object({\r\n    method: nonEmptyStringDecoder,\r\n    arguments: optional(anyJson()),\r\n    target: optional(oneOf(constant(\"all\"), constant(\"best\")))\r\n});\r\nconst glue42NotificationActionDecoder = object({\r\n    action: string(),\r\n    title: nonEmptyStringDecoder,\r\n    icon: optional(string()),\r\n    interop: optional(interopActionSettingsDecoder)\r\n});\r\nconst notificationDefinitionDecoder = object({\r\n    badge: optional(string()),\r\n    body: optional(string()),\r\n    data: optional(anyJson()),\r\n    dir: optional(oneOf(constant(\"auto\"), constant(\"ltr\"), constant(\"rtl\"))),\r\n    icon: optional(string()),\r\n    image: optional(string()),\r\n    lang: optional(string()),\r\n    renotify: optional(boolean()),\r\n    requireInteraction: optional(boolean()),\r\n    silent: optional(boolean()),\r\n    tag: optional(string()),\r\n    timestamp: optional(nonNegativeNumberDecoder),\r\n    vibrate: optional(array(number()))\r\n});\r\nconst glue42NotificationOptionsDecoder = object({\r\n    title: nonEmptyStringDecoder,\r\n    clickInterop: optional(interopActionSettingsDecoder),\r\n    actions: optional(array(glue42NotificationActionDecoder)),\r\n    focusPlatformOnDefaultClick: optional(boolean()),\r\n    badge: optional(string()),\r\n    body: optional(string()),\r\n    data: optional(anyJson()),\r\n    dir: optional(oneOf(constant(\"auto\"), constant(\"ltr\"), constant(\"rtl\"))),\r\n    icon: optional(string()),\r\n    image: optional(string()),\r\n    lang: optional(string()),\r\n    renotify: optional(boolean()),\r\n    requireInteraction: optional(boolean()),\r\n    silent: optional(boolean()),\r\n    tag: optional(string()),\r\n    timestamp: optional(nonNegativeNumberDecoder),\r\n    vibrate: optional(array(number()))\r\n});\r\nconst raiseNotificationDecoder = object({\r\n    settings: glue42NotificationOptionsDecoder,\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst permissionRequestResultDecoder = object({\r\n    permissionGranted: boolean()\r\n});\r\nconst permissionQueryResultDecoder = object({\r\n    permission: oneOf(constant(\"default\"), constant(\"granted\"), constant(\"denied\"))\r\n});\r\nconst notificationEventPayloadDecoder = object({\r\n    definition: notificationDefinitionDecoder,\r\n    action: optional(string()),\r\n    id: optional(nonEmptyStringDecoder)\r\n});\n\nconst operations = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: frameWindowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nclass WebWindowModel {\r\n    constructor(_id, _name, _bridge) {\r\n        this._id = _id;\r\n        this._name = _name;\r\n        this._bridge = _bridge;\r\n        this.registry = lib();\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n    get id() {\r\n        return this._id.slice();\r\n    }\r\n    get name() {\r\n        return this._name.slice();\r\n    }\r\n    clean() {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n    toApi() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.ctxUnsubscribe = yield this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n            const api = {\r\n                id: this.id,\r\n                name: this.name,\r\n                getURL: this.getURL.bind(this),\r\n                moveResize: this.moveResize.bind(this),\r\n                resizeTo: this.resizeTo.bind(this),\r\n                moveTo: this.moveTo.bind(this),\r\n                focus: this.focus.bind(this),\r\n                close: this.close.bind(this),\r\n                getTitle: this.getTitle.bind(this),\r\n                setTitle: this.setTitle.bind(this),\r\n                getBounds: this.getBounds.bind(this),\r\n                getContext: this.getContext.bind(this),\r\n                updateContext: this.updateContext.bind(this),\r\n                setContext: this.setContext.bind(this),\r\n                onContextUpdated: this.onContextUpdated.bind(this)\r\n            };\r\n            this.me = Object.freeze(api);\r\n            return this.me;\r\n        });\r\n    }\r\n    getURL() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getUrl, { windowId: this.id });\r\n            return result.url;\r\n        });\r\n    }\r\n    moveResize(dimension) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetBounds = boundsDecoder.runWithException(dimension);\r\n            const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    resizeTo(width, height) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof width !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(width);\r\n            }\r\n            if (typeof height !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(height);\r\n            }\r\n            const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    moveTo(top, left) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof top !== \"undefined\") {\r\n                number().runWithException(top);\r\n            }\r\n            if (typeof left !== \"undefined\") {\r\n                number().runWithException(left);\r\n            }\r\n            const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    focus() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.focus, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.close, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    getTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getTitle, { windowId: this.id });\r\n            return result.title;\r\n        });\r\n    }\r\n    setTitle(title) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ttl = nonEmptyStringDecoder.runWithException(title);\r\n            yield this._bridge.send(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n            return this.me;\r\n        });\r\n    }\r\n    getBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getBounds, { windowId: this.id });\r\n            return result.bounds;\r\n        });\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = yield this._bridge.contextLib.get(this.myCtxKey);\r\n            return ctx;\r\n        });\r\n    }\r\n    updateContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    setContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    onContextUpdated(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n        const wrappedCallback = (data) => {\r\n            callback(data, this.me);\r\n        };\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n}\n\nclass WindowsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.allWindowProjections = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n            this.logger.trace(\"starting the web windows controller\");\r\n            this.publicWindowId = ioc.publicWindowId;\r\n            this.actualWindowId = ioc.actualWindowId;\r\n            this.addWindowOperationExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.windows = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    open(name, url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            nonEmptyStringDecoder.runWithException(url);\r\n            const settings = windowOpenSettingsDecoder.runWithException(options);\r\n            const windowSuccess = yield this.bridge.send(\"windows\", operations.openWindow, { name, url, options: settings });\r\n            const projection = yield this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n            return projection.api;\r\n        });\r\n    }\r\n    list() {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n    findById(id) {\r\n        var _a;\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return (_a = this.allWindowProjections.find((projection) => projection.id === id)) === null || _a === void 0 ? void 0 : _a.api;\r\n    }\r\n    toApi() {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n    addWindowOperationExecutors() {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getFrameBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n    my() {\r\n        return Object.assign({}, this.me);\r\n    }\r\n    onWindowAdded(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n    onWindowRemoved(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n    sayHello() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const helloSuccess = yield this.bridge.send(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n            return helloSuccess;\r\n        });\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { windows, isWorkspaceFrame } = yield this.sayHello();\r\n            this.logger.trace(\"the platform responded to the hello message\");\r\n            if (!isWorkspaceFrame) {\r\n                this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n                const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n                if (!myWindow) {\r\n                    throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n                }\r\n                this.me = (yield this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n            }\r\n            const currentWindows = yield Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n            this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n            this.allWindowProjections.push(...currentWindows);\r\n        });\r\n    }\r\n    handleWindowAdded(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n                return;\r\n            }\r\n            const webWindowProjection = yield this.ioc.buildWebWindow(data.windowId, data.name);\r\n            this.allWindowProjections.push(webWindowProjection);\r\n            this.registry.execute(\"window-added\", webWindowProjection.api);\r\n        });\r\n    }\r\n    handleWindowRemoved(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n            if (!removed) {\r\n                return;\r\n            }\r\n            this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n            removed.model.clean();\r\n            this.registry.execute(\"window-removed\", removed.api);\r\n        });\r\n    }\r\n    handleGetBounds() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: (_a = this.me) === null || _a === void 0 ? void 0 : _a.id,\r\n                bounds: {\r\n                    top: window.screenTop,\r\n                    left: window.screenLeft,\r\n                    width: window.innerWidth,\r\n                    height: window.innerHeight\r\n                }\r\n            };\r\n        });\r\n    }\r\n    handleGetTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                title: document.title\r\n            };\r\n        });\r\n    }\r\n    handleGetUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                url: window.location.href\r\n            };\r\n        });\r\n    }\r\n    handleMoveResize(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetTop = typeof config.top === \"number\" ? config.top :\r\n                config.relative ? 0 : window.screenTop;\r\n            const targetLeft = typeof config.left === \"number\" ? config.left :\r\n                config.relative ? 0 : window.screenLeft;\r\n            const targetHeight = typeof config.height === \"number\" ? config.height :\r\n                config.relative ? 0 : window.innerHeight;\r\n            const targetWidth = typeof config.width === \"number\" ? config.width :\r\n                config.relative ? 0 : window.innerWidth;\r\n            const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n            const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n            moveMethod(targetLeft, targetTop);\r\n            resizeMethod(targetWidth, targetHeight);\r\n        });\r\n    }\r\n    handleSetTitle(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            document.title = config.title;\r\n        });\r\n    }\r\n}\n\nconst PromiseWrap = (promise, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        let promiseActive = true;\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        promise()\r\n            .then((result) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\r\nconst PromisePlus = (executor, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        const providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then((result) => {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nconst GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\nconst GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\nconst GlueClientControlName = \"T42.Web.Client.Control\";\n\nclass GlueBridge {\r\n    constructor(coreGlue, communicationId) {\r\n        this.coreGlue = coreGlue;\r\n        this.communicationId = communicationId;\r\n        this.platformMethodTimeoutMs = 10000;\r\n    }\r\n    get contextLib() {\r\n        return this.coreGlue.contexts;\r\n    }\r\n    get interopInstance() {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n    start(controllers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.controllers = controllers;\r\n            yield Promise.all([\r\n                this.checkWaitMethod(this.decorateCommunicationId(GlueWebPlatformControlName)),\r\n                this.checkWaitMethod(this.decorateCommunicationId(GlueWebPlatformStreamName))\r\n            ]);\r\n            const [sub] = yield Promise.all([\r\n                this.coreGlue.interop.subscribe(this.decorateCommunicationId(GlueWebPlatformStreamName)),\r\n                this.coreGlue.interop.registerAsync(this.decorateCommunicationId(GlueClientControlName), (args, _, success, error) => this.passMessageController(args, success, error))\r\n            ]);\r\n            this.sub = sub;\r\n            this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n        });\r\n    }\r\n    getInteropInstance(windowId) {\r\n        const result = this.coreGlue.interop.servers().find((s) => s.windowId && s.windowId === windowId);\r\n        return {\r\n            application: result === null || result === void 0 ? void 0 : result.application,\r\n            applicationName: result === null || result === void 0 ? void 0 : result.applicationName,\r\n            peerId: result === null || result === void 0 ? void 0 : result.peerId,\r\n            instance: result === null || result === void 0 ? void 0 : result.instance,\r\n            windowId: result === null || result === void 0 ? void 0 : result.windowId\r\n        };\r\n    }\r\n    send(domain, operation, operationData, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (operation.dataDecoder) {\r\n                try {\r\n                    operation.dataDecoder.runWithException(operationData);\r\n                }\r\n                catch (error) {\r\n                    throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n            }\r\n            let operationResult;\r\n            try {\r\n                operationResult = yield this.transmitMessage(domain, operation, operationData, options);\r\n                if (operation.resultDecoder) {\r\n                    operationResult = operation.resultDecoder.runWithException(operationResult);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.kind) {\r\n                    throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n                throw new Error(error.message);\r\n            }\r\n            return operationResult;\r\n        });\r\n    }\r\n    checkWaitMethod(name) {\r\n        return PromisePlus((resolve) => {\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n    passMessageController(args, success, error) {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n        const domain = decodeResult.result;\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData) => {\r\n            if (success) {\r\n                success(resolutionData);\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            if (error) {\r\n                error(err);\r\n            }\r\n            console.warn(err);\r\n        });\r\n    }\r\n    transmitMessage(domain, operation, data, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const messageData = { domain, data, operation: operation.name };\r\n            let invocationResult;\r\n            const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n            try {\r\n                invocationResult = yield this.coreGlue.interop.invoke(this.decorateCommunicationId(GlueWebPlatformControlName), messageData, undefined, options);\r\n                if (!invocationResult) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty result\");\r\n                }\r\n                if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error && error.all_errors && error.all_errors.length) {\r\n                    const invocationErrorMessage = error.all_errors[0].message;\r\n                    throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n                }\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n            }\r\n            return invocationResult.all_return_values[0].returned;\r\n        });\r\n    }\r\n    decorateCommunicationId(base) {\r\n        return `${base}.${this.communicationId}`;\r\n    }\r\n}\n\nconst operations$1 = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    appDirectoryStateChange: { name: \"appDirectoryStateChange\", dataDecoder: appDirectoryStateChangeDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\n\nclass AppManagerController {\r\n    constructor() {\r\n        this.baseApplicationsTimeoutMS = 60000;\r\n        this.appImportTimeoutMS = 20;\r\n        this.registry = lib();\r\n        this.applications = [];\r\n        this.instances = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n            this.logger.trace(\"starting the web appManager controller\");\r\n            this.publicWindowId = ioc.publicWindowId;\r\n            this.actualWindowId = ioc.actualWindowId;\r\n            this.addOperationsExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.appManager = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$1[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    onInstanceStarted(callback) {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n    onInstanceStopped(callback) {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n    startApplication(appName, context, options) {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const startOptions = {\r\n                name: appName,\r\n                waitForAGMReady: (_a = options === null || options === void 0 ? void 0 : options.waitForAGMReady) !== null && _a !== void 0 ? _a : true,\r\n                context,\r\n                top: options === null || options === void 0 ? void 0 : options.top,\r\n                left: options === null || options === void 0 ? void 0 : options.left,\r\n                width: options === null || options === void 0 ? void 0 : options.width,\r\n                height: options === null || options === void 0 ? void 0 : options.height,\r\n                relativeTo: options === null || options === void 0 ? void 0 : options.relativeTo,\r\n                relativeDirection: options === null || options === void 0 ? void 0 : options.relativeDirection,\r\n                id: (_b = options) === null || _b === void 0 ? void 0 : _b.reuseId,\r\n                forceChromeTab: (_c = options) === null || _c === void 0 ? void 0 : _c.forceTab\r\n            };\r\n            const openResult = yield this.bridge.send(\"appManager\", operations$1.applicationStart, startOptions);\r\n            const app = this.applications.find((a) => a.name === openResult.applicationName);\r\n            return this.ioc.buildInstance(openResult, app);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            myInstance: this.me,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        return api;\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$1.appDirectoryStateChange.execute = this.handleAppDirectoryStateChange.bind(this);\r\n        operations$1.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations$1.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n    handleAppDirectoryStateChange(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            data.appsAdded.forEach(this.handleApplicationAddedMessage.bind(this));\r\n            data.appsChanged.forEach(this.handleApplicationChangedMessage.bind(this));\r\n            data.appsRemoved.forEach(this.handleApplicationRemovedMessage.bind(this));\r\n        });\r\n    }\r\n    onAppAdded(callback) {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n    onAppRemoved(callback) {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n    onAppChanged(callback) {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n    handleApplicationAddedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.applications.some((app) => app.name === appData.name)) {\r\n                return;\r\n            }\r\n            const app = yield this.ioc.buildApplication(appData, []);\r\n            const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n            app.instances.push(...instances);\r\n            this.applications.push(app);\r\n            this.registry.execute(\"application-added\", app);\r\n        });\r\n    }\r\n    handleApplicationRemovedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n            if (appIndex < 0) {\r\n                return;\r\n            }\r\n            const app = this.applications[appIndex];\r\n            this.applications.splice(appIndex, 1);\r\n            this.registry.execute(\"application-removed\", app);\r\n        });\r\n    }\r\n    handleApplicationChangedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const app = this.applications.find((app) => app.name === appData.name);\r\n            if (!app) {\r\n                return this.handleApplicationAddedMessage(appData);\r\n            }\r\n            app.title = appData.title;\r\n            app.version = appData.version;\r\n            app.icon = appData.icon;\r\n            app.caption = appData.caption;\r\n            app.userProperties = appData.userProperties;\r\n            this.registry.execute(\"application-changed\", app);\r\n        });\r\n    }\r\n    handleInstanceStartedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n                return;\r\n            }\r\n            const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n            if (!application) {\r\n                throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n            }\r\n            const instance = this.ioc.buildInstance(instanceData, application);\r\n            this.instances.push(instance);\r\n            application.instances.push(instance);\r\n            this.registry.execute(\"instance-started\", instance);\r\n        });\r\n    }\r\n    handleInstanceStoppedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const instance = this.instances.find((i) => i.id === instanceData.id);\r\n            if (instance) {\r\n                const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                this.instances.splice(instIdx, 1);\r\n            }\r\n            const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n            if (application) {\r\n                const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                application.instances.splice(instIdxApps, 1);\r\n            }\r\n            if (!instance) {\r\n                return;\r\n            }\r\n            this.registry.execute(\"instance-stopped\", instance);\r\n        });\r\n    }\r\n    import(definitions, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(definitions)) {\r\n                throw new Error(\"Import must be called with an array of definitions\");\r\n            }\r\n            if (definitions.length > 10000) {\r\n                throw new Error(\"Cannot import more than 10000 app definitions in Glue42 Core.\");\r\n            }\r\n            const parseResult = definitions.reduce((soFar, definition) => {\r\n                const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n                if (!decodeResult.ok) {\r\n                    soFar.invalid.push({ app: definition === null || definition === void 0 ? void 0 : definition.name, error: JSON.stringify(decodeResult.error) });\r\n                }\r\n                else {\r\n                    soFar.valid.push(definition);\r\n                }\r\n                return soFar;\r\n            }, { valid: [], invalid: [] });\r\n            const responseTimeout = this.baseApplicationsTimeoutMS + this.appImportTimeoutMS * parseResult.valid.length;\r\n            yield this.bridge.send(\"appManager\", operations$1.import, { definitions: parseResult.valid, mode }, { methodResponseTimeoutMs: responseTimeout });\r\n            return {\r\n                imported: parseResult.valid.map((valid) => valid.name),\r\n                errors: parseResult.invalid\r\n            };\r\n        });\r\n    }\r\n    remove(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"appManager\", operations$1.remove, { name }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n        });\r\n    }\r\n    clear() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.clear, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n        });\r\n    }\r\n    export() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield this.bridge.send(\"appManager\", operations$1.export, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n            return response.definitions;\r\n        });\r\n    }\r\n    getApplication(name) {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n        return this.applications.find((app) => app.name === verifiedName);\r\n    }\r\n    getApplications() {\r\n        return this.applications.slice();\r\n    }\r\n    getInstances() {\r\n        return this.instances.slice();\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"appManager\", operations$1.appHello, { windowId: this.actualWindowId }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n            this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n            this.applications = yield Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n            this.instances = this.applications.reduce((instancesSoFar, app) => {\r\n                instancesSoFar.push(...app.instances);\r\n                return instancesSoFar;\r\n            }, []);\r\n            this.me = this.findMyInstance();\r\n            this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n        });\r\n    }\r\n    findMyInstance() {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\n\nclass InstanceModel {\r\n    constructor(data, bridge, application) {\r\n        this.data = data;\r\n        this.bridge = bridge;\r\n        this.application = application;\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n    toApi() {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n        const api = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n        this.me = Object.freeze(api);\r\n        return this.me;\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.bridge.contextLib.get(this.myCtxKey);\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.instanceStop, { id: this.data.id });\r\n        });\r\n    }\r\n}\n\nclass ApplicationModel {\r\n    constructor(data, instances, controller) {\r\n        this.data = data;\r\n        this.instances = instances;\r\n        this.controller = controller;\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            name: this.data.name,\r\n            title: this.data.title,\r\n            version: this.data.version,\r\n            icon: this.data.icon,\r\n            caption: this.data.caption,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        this.me = api;\r\n        return this.me;\r\n    }\r\n    onInstanceStarted(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    onInstanceStopped(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    start(context, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.controller.startApplication(this.data.name, context, options);\r\n        });\r\n    }\r\n}\n\nconst operations$2 = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\n\nclass LayoutsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n            this.logger.trace(\"starting the web layouts controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.addOperationsExecutors();\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n            coreGlue.layouts = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$2[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$2.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations$2.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations$2.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n    get(name, type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.get, { name, type });\r\n            return result.layout;\r\n        });\r\n    }\r\n    getAll(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.getAll, { type });\r\n            return result.summaries;\r\n        });\r\n    }\r\n    export(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (type) {\r\n                layoutTypeDecoder.runWithException(type);\r\n            }\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.export, { type: \"Workspace\" });\r\n            return result.layouts;\r\n        });\r\n    }\r\n    import(layouts, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(\"Import must be called with an array of layouts\");\r\n            }\r\n            const parseResult = layouts.reduce((soFar, layout) => {\r\n                const decodeResult = glueLayoutDecoder.run(layout);\r\n                if (decodeResult.ok) {\r\n                    soFar.valid.push(layout);\r\n                }\r\n                else {\r\n                    this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n                }\r\n                return soFar;\r\n            }, { valid: [] });\r\n            yield this.bridge.send(\"layouts\", operations$2.import, { layouts: parseResult.valid, mode });\r\n        });\r\n    }\r\n    save(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            newLayoutOptionsDecoder.runWithException(layout);\r\n            throw new Error(\"Save is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    restore(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            restoreOptionsDecoder.runWithException(options);\r\n            throw new Error(\"Restore is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    remove(type, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"layouts\", operations$2.remove, { type, name });\r\n        });\r\n    }\r\n    onAdded(callback) {\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations$2.layoutAdded.name, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.registry.add(operations$2.layoutChanged.name, callback);\r\n    }\r\n    onRemoved(callback) {\r\n        return this.registry.add(operations$2.layoutRemoved.name, callback);\r\n    }\r\n    handleOnAdded(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutAdded.name, layout);\r\n        });\r\n    }\r\n    handleOnChanged(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutChanged.name, layout);\r\n        });\r\n    }\r\n    handleOnRemoved(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutRemoved.name, layout);\r\n        });\r\n    }\r\n}\n\nconst operations$3 = {\r\n    raiseNotification: { name: \"raiseNotification\", dataDecoder: raiseNotificationDecoder },\r\n    requestPermission: { name: \"requestPermission\", resultDecoder: permissionRequestResultDecoder },\r\n    notificationShow: { name: \"notificationShow\", dataDecoder: notificationEventPayloadDecoder },\r\n    notificationClick: { name: \"notificationClick\", dataDecoder: notificationEventPayloadDecoder },\r\n    getPermission: { name: \"getPermission\", resultDecoder: permissionQueryResultDecoder }\r\n};\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t  path: basedir,\n\t  exports: {},\n\t  require: function (path, base) {\n      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n    }\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nvar alphabet_1 = {\n    get: get,\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nvar randomByteBrowser = randomByte;\n\n// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nvar format_browser = function (random, alphabet, size) {\n  // We can’t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1;\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length);\n  var id = '';\n\n  while (true) {\n    var bytes = random(step);\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step;\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || '';\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n};\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format_browser(randomByteBrowser, alphabet_1.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar generate_1 = generate;\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate_1(version);\n    str = str + generate_1(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate_1(counter);\n    }\n    str = str + generate_1(seconds);\n    return str;\n}\n\nvar build_1 = build;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet_1.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build_1(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n});\n\nvar shortid = lib$1;\n\nclass NotificationsController {\r\n    constructor() {\r\n        this.notifications = {};\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n            this.logger.trace(\"starting the web notifications controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.coreGlue = coreGlue;\r\n            this.notificationsSettings = ioc.config.notifications;\r\n            this.buildNotificationFunc = ioc.buildNotification;\r\n            const api = this.toApi();\r\n            this.addOperationExecutors();\r\n            coreGlue.notifications = api;\r\n            this.logger.trace(\"notifications are ready\");\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = notificationsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$3[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            requestPermission: this.requestPermission.bind(this),\r\n            getPermission: this.getPermission.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    getPermission() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const queryResult = yield this.bridge.send(\"notifications\", operations$3.getPermission, undefined);\r\n            return queryResult.permission;\r\n        });\r\n    }\r\n    requestPermission() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const permissionResult = yield this.bridge.send(\"notifications\", operations$3.requestPermission, undefined);\r\n            return permissionResult.permissionGranted;\r\n        });\r\n    }\r\n    raise(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const settings = glue42NotificationOptionsDecoder.runWithException(options);\r\n            const permissionGranted = yield this.requestPermission();\r\n            if (!permissionGranted) {\r\n                throw new Error(\"Cannot raise the notification, because the user has declined the permission request\");\r\n            }\r\n            const id = shortid.generate();\r\n            yield this.bridge.send(\"notifications\", operations$3.raiseNotification, { settings, id });\r\n            const notification = this.buildNotificationFunc(options);\r\n            this.notifications[id] = notification;\r\n            return notification;\r\n        });\r\n    }\r\n    addOperationExecutors() {\r\n        operations$3.notificationShow.execute = this.handleNotificationShow.bind(this);\r\n        operations$3.notificationClick.execute = this.handleNotificationClick.bind(this);\r\n    }\r\n    handleNotificationShow(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!data.id) {\r\n                return;\r\n            }\r\n            const notification = this.notifications[data.id];\r\n            if (notification && notification.onshow) {\r\n                notification.onshow();\r\n            }\r\n        });\r\n    }\r\n    handleNotificationClick(data) {\r\n        var _a, _b, _c, _d, _e;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!data.action && ((_a = this.notificationsSettings) === null || _a === void 0 ? void 0 : _a.defaultClick)) {\r\n                this.notificationsSettings.defaultClick(this.coreGlue, data.definition);\r\n            }\r\n            if (data.action && ((_c = (_b = this.notificationsSettings) === null || _b === void 0 ? void 0 : _b.actionClicks) === null || _c === void 0 ? void 0 : _c.some((actionDef) => actionDef.action === data.action))) {\r\n                const foundHandler = (_e = (_d = this.notificationsSettings) === null || _d === void 0 ? void 0 : _d.actionClicks) === null || _e === void 0 ? void 0 : _e.find((actionDef) => actionDef.action === data.action);\r\n                foundHandler.handler(this.coreGlue, data.definition);\r\n            }\r\n            if (!data.id) {\r\n                return;\r\n            }\r\n            const notification = this.notifications[data.id];\r\n            if (notification && notification.onclick) {\r\n                notification.onclick();\r\n                delete this.notifications[data.id];\r\n            }\r\n        });\r\n    }\r\n}\n\nconst operations$4 = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\n\nclass IntentsController {\r\n    constructor() {\r\n        this.myIntents = new Set();\r\n        this.GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n            this.logger.trace(\"starting the web intents controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n            coreGlue.intents = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$4[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(request) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestObj = raiseRequestDecoder.runWithException(request);\r\n            let data;\r\n            if (typeof requestObj === \"string\") {\r\n                data = {\r\n                    intent: requestObj\r\n                };\r\n            }\r\n            else {\r\n                data = requestObj;\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$4.raiseIntent, data);\r\n            return result;\r\n        });\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"intents\", operations$4.getIntents, undefined);\r\n            return result.intents;\r\n        });\r\n    }\r\n    addIntentListener(intent, handler) {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n        let subscribed = true;\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n        const result = {\r\n            unsubscribe: () => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                }\r\n                catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n        let intentFlag = {};\r\n        if (typeof intent === \"object\") {\r\n            const rest = __rest(intent, [\"intent\"]);\r\n            intentFlag = rest;\r\n        }\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    find(intentFilter) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = undefined;\r\n            if (typeof intentFilter !== \"undefined\") {\r\n                const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n                if (typeof intentFilterObj === \"string\") {\r\n                    data = {\r\n                        filter: {\r\n                            name: intentFilterObj\r\n                        }\r\n                    };\r\n                }\r\n                else if (typeof intentFilterObj === \"object\") {\r\n                    data = {\r\n                        filter: intentFilterObj\r\n                    };\r\n                }\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$4.findIntent, data);\r\n            return result.intents;\r\n        });\r\n    }\r\n}\n\nclass ChannelsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.GlueWebChannelsPrefix = \"___channel___\";\r\n        this.SubsKey = \"subs\";\r\n        this.ChangedKey = \"changed\";\r\n    }\r\n    start(coreGlue) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n            this.logger.trace(\"starting the web channels controller\");\r\n            this.contexts = coreGlue.contexts;\r\n            this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.channels = api;\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    list() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            const channelContexts = yield Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n            return channelContexts;\r\n        });\r\n    }\r\n    my() {\r\n        return this.current();\r\n    }\r\n    join(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            yield this.switchToChannel(name);\r\n        });\r\n    }\r\n    onChanged(callback) {\r\n        return this.changed(callback);\r\n    }\r\n    leave() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.switchToChannel();\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    createContextName(channelName) {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n    getAllChannelNames() {\r\n        const contextNames = this.contexts.all();\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n        return channelNames;\r\n    }\r\n    unsubscribe() {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n    switchToChannel(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unsubscribe();\r\n            this.currentChannelName = name;\r\n            if (typeof name !== \"undefined\") {\r\n                const contextName = this.createContextName(name);\r\n                this.unsubscribeFunc = yield this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                    this.registry.execute(this.SubsKey, context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n                });\r\n            }\r\n            this.registry.execute(this.ChangedKey, name);\r\n        });\r\n    }\r\n    updateData(name, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                const pathValues = Object.keys(data).map((key) => {\r\n                    return {\r\n                        path: `data.${key}`,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                yield this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                yield this.contexts.update(contextName, { data });\r\n            }\r\n        });\r\n    }\r\n    subscribe(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n    subscribeFor(name, callback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n            }\r\n            const contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                callback(context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n            });\r\n        });\r\n    }\r\n    publish(data, name) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            return this.updateData(name, data);\r\n        }\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            return channelNames;\r\n        });\r\n    }\r\n    get(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            const contextName = this.createContextName(name);\r\n            const channelContext = yield this.contexts.get(contextName);\r\n            return channelContext;\r\n        });\r\n    }\r\n    current() {\r\n        return this.currentChannelName;\r\n    }\r\n    changed(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n    add(info) {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\n\nconst operations$5 = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\n\nclass SystemController {\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.bridge = ioc.bridge;\r\n            yield this.setEnvironment();\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    setEnvironment() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const environment = yield this.bridge.send(\"system\", operations$5.getEnvironment, undefined);\r\n            const base = yield this.bridge.send(\"system\", operations$5.getBase, undefined);\r\n            const glue42core = Object.assign({}, window.glue42core, base, { environment });\r\n            window.glue42core = Object.freeze(glue42core);\r\n        });\r\n    }\r\n}\n\nclass Notification {\r\n    constructor(config) {\r\n        this.onclick = () => { };\r\n        this.onshow = () => { };\r\n        this.badge = config.badge;\r\n        this.body = config.body;\r\n        this.data = config.data;\r\n        this.dir = config.dir;\r\n        this.icon = config.icon;\r\n        this.image = config.image;\r\n        this.lang = config.lang;\r\n        this.renotify = config.renotify;\r\n        this.requireInteraction = config.requireInteraction;\r\n        this.silent = config.silent;\r\n        this.tag = config.tag;\r\n        this.timestamp = config.timestamp;\r\n        this.vibrate = config.vibrate;\r\n    }\r\n}\n\nconst extensionOperationTypesDecoder = oneOf(constant(\"clientHello\"));\r\nconst extensionConfigDecoder = object({\r\n    widget: object({\r\n        inject: boolean()\r\n    })\r\n});\n\nconst operations$6 = {\r\n    clientHello: { name: \"clientHello\", resultDecoder: extensionConfigDecoder }\r\n};\n\nclass ExtController {\r\n    constructor() {\r\n        this.channels = [];\r\n        this.contentCommands = {\r\n            widgetVisualizationPermission: { name: \"widgetVisualizationPermission\", handle: this.handleWidgetVisualizationPermission.bind(this) },\r\n            changeChannel: { name: \"changeChannel\", handle: this.handleChangeChannel.bind(this) }\r\n        };\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"extension.controller.web\");\r\n            this.windowId = ioc.publicWindowId;\r\n            this.logger.trace(\"starting the extension web controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.channelsController = ioc.channelsController;\r\n            this.eventsDispatcher = ioc.eventsDispatcher;\r\n            try {\r\n                yield this.registerWithPlatform();\r\n            }\r\n            catch (error) {\r\n                return;\r\n            }\r\n            this.channels = yield this.channelsController.list();\r\n            this.eventsDispatcher.onContentMessage(this.handleContentMessage.bind(this));\r\n            this.channelsController.onChanged((channel) => {\r\n                this.eventsDispatcher.sendContentMessage({ command: \"channelChange\", newChannel: channel });\r\n            });\r\n        });\r\n    }\r\n    handleBridgeMessage(_) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    handleContentMessage(message) {\r\n        if (!message || typeof message.command !== \"string\") {\r\n            return;\r\n        }\r\n        const foundHandler = this.contentCommands[message.command];\r\n        if (!foundHandler) {\r\n            return;\r\n        }\r\n        foundHandler.handle(message);\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger.trace(\"registering with the platform\");\r\n            this.config = yield this.bridge.send(\"extension\", operations$6.clientHello, { windowId: this.windowId });\r\n            this.logger.trace(\"the platform responded to the hello message with a valid extension config\");\r\n        });\r\n    }\r\n    handleWidgetVisualizationPermission() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!((_a = this.config) === null || _a === void 0 ? void 0 : _a.widget.inject)) {\r\n                return this.eventsDispatcher.sendContentMessage({ command: \"permissionResponse\", allowed: false });\r\n            }\r\n            const currentChannel = this.channels.find((channel) => channel.name === this.channelsController.my());\r\n            this.eventsDispatcher.sendContentMessage({ command: \"permissionResponse\", allowed: true, channels: this.channels, currentChannel });\r\n        });\r\n    }\r\n    handleChangeChannel(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (message.name === \"no-channel\") {\r\n                yield this.channelsController.leave();\r\n                return;\r\n            }\r\n            yield this.channelsController.join(message.name);\r\n        });\r\n    }\r\n}\n\nclass EventsDispatcher {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.glue42CoreEventName = \"Glue42CoreRuntime\";\r\n        this.events = {\r\n            notifyStarted: { name: \"notifyStarted\", handle: this.handleNotifyStarted.bind(this) },\r\n            contentInc: { name: \"contentInc\", handle: this.handleContentInc.bind(this) }\r\n        };\r\n    }\r\n    start(glue) {\r\n        this.glue = glue;\r\n        this.wireCustomEventListener();\r\n        this.announceStarted();\r\n    }\r\n    sendContentMessage(message) {\r\n        this.send(\"contentOut\", message);\r\n    }\r\n    onContentMessage(callback) {\r\n        return this.registry.add(\"content-inc\", callback);\r\n    }\r\n    wireCustomEventListener() {\r\n        window.addEventListener(this.glue42CoreEventName, (event) => {\r\n            const data = event.detail;\r\n            if (!data || !data.glue42core) {\r\n                return;\r\n            }\r\n            const glue42Event = data.glue42core.event;\r\n            const foundHandler = this.events[glue42Event];\r\n            if (!foundHandler) {\r\n                return;\r\n            }\r\n            foundHandler.handle(data.glue42core.message);\r\n        });\r\n    }\r\n    announceStarted() {\r\n        this.send(\"start\");\r\n    }\r\n    handleNotifyStarted() {\r\n        this.announceStarted();\r\n    }\r\n    handleContentInc(message) {\r\n        this.registry.execute(\"content-inc\", message);\r\n    }\r\n    send(eventName, message) {\r\n        const payload = { glue42core: { event: eventName, message } };\r\n        const event = new CustomEvent(this.glue42CoreEventName, { detail: payload });\r\n        window.dispatchEvent(event);\r\n    }\r\n}\n\nconst Glue42CoreMessageTypes = {\r\n    platformUnload: { name: \"platformUnload\" },\r\n    transportSwitchRequest: { name: \"transportSwitchRequest\" },\r\n    transportSwitchResponse: { name: \"transportSwitchResponse\" },\r\n    getCurrentTransport: { name: \"getCurrentTransport\" },\r\n    getCurrentTransportResponse: { name: \"getCurrentTransportResponse\" },\r\n    checkPreferredLogic: { name: \"checkPreferredLogic\" },\r\n    checkPreferredConnection: { name: \"checkPreferredConnection\" },\r\n    checkPreferredLogicResponse: { name: \"checkPreferredLogicResponse\" },\r\n    checkPreferredConnectionResponse: { name: \"checkPreferredConnectionResponse\" }\r\n};\r\nconst webPlatformTransportName = \"web-platform\";\n\nclass PreferredConnectionController {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.transactionTimeout = 15000;\r\n        this.transactionLocks = {};\r\n        this.reconnectCounter = 0;\r\n        this.logger = this.coreGlue.logger.subLogger(\"web.preferred.connection.controller\");\r\n    }\r\n    start(coreConfig) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (coreConfig.isPlatformInternal) {\r\n                this.logger.trace(\"This is an internal client to the platform, skipping all client preferred communication logic.\");\r\n                return;\r\n            }\r\n            const isConnectedToPlatform = this.coreGlue.connection.transport.name() === webPlatformTransportName;\r\n            if (!isConnectedToPlatform) {\r\n                throw new Error(\"Cannot initiate the Glue Web Bridge, because the initial connection was not handled by a Web Platform transport.\");\r\n            }\r\n            if (!this.coreGlue.connection.transport.isPreferredActivated) {\r\n                this.logger.trace(\"The platform of this client was configured without a preferred connection, skipping the rest of the initialization.\");\r\n                return;\r\n            }\r\n            this.webPlatformTransport = this.coreGlue.connection.transport;\r\n            this.webPlatformMessagesUnsubscribe = this.webPlatformTransport.onMessage(this.handleWebPlatformMessage.bind(this));\r\n            const transportState = yield this.getCurrentPlatformTransportState();\r\n            yield this.checkSwitchTransport(transportState);\r\n        });\r\n    }\r\n    handleWebPlatformMessage(msg) {\r\n        if (typeof msg === \"string\") {\r\n            return;\r\n        }\r\n        const isConnectedToPlatform = this.coreGlue.connection.transport.name() === webPlatformTransportName;\r\n        const type = msg.type;\r\n        const args = msg.args;\r\n        const transactionId = msg.transactionId;\r\n        if (type === Glue42CoreMessageTypes.transportSwitchRequest.name) {\r\n            return this.handleTransportSwitchRequest(args, transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.platformUnload.name && !isConnectedToPlatform) {\r\n            return this.handlePlatformUnload();\r\n        }\r\n        if (type === Glue42CoreMessageTypes.getCurrentTransportResponse.name) {\r\n            return this.handleGetCurrentTransportResponse(args, transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.checkPreferredLogic.name) {\r\n            return this.handleCheckPreferredLogic(transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.checkPreferredConnection.name) {\r\n            return this.handleCheckPreferredConnection(args, transactionId);\r\n        }\r\n    }\r\n    reEstablishPlatformPort() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.webPlatformTransport.connect();\r\n            }\r\n            catch (error) {\r\n                this.logger.trace(`Error when re-establishing port connection to the platform: ${JSON.stringify(error)}`);\r\n                --this.reconnectCounter;\r\n                if (this.reconnectCounter > 0) {\r\n                    return this.reEstablishPlatformPort();\r\n                }\r\n                this.logger.warn(\"This client lost connection to the platform while connected to a preferred GW and was not able to re-connect to the platform.\");\r\n            }\r\n            this.logger.trace(\"The connection to the platform was re-established, closing the connection to the web gateway.\");\r\n            this.reconnectCounter = 0;\r\n            this.webPlatformTransport.close();\r\n            const transportState = yield this.getCurrentPlatformTransportState();\r\n            yield this.checkSwitchTransport(transportState);\r\n        });\r\n    }\r\n    checkSwitchTransport(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const myCurrentTransportName = this.coreGlue.connection.transport.name();\r\n            if (myCurrentTransportName === config.transportName) {\r\n                this.logger.trace(\"A check switch was requested, but the platform transport and my transport are identical, no switch is necessary\");\r\n                return;\r\n            }\r\n            this.logger.trace(`A check switch was requested and a transport switch is necessary, because this client is now on ${myCurrentTransportName}, but it should reconnect to ${JSON.stringify(config)}`);\r\n            const result = yield this.coreGlue.connection.switchTransport(config);\r\n            this.setConnected();\r\n            this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n        });\r\n    }\r\n    getCurrentPlatformTransportState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger.trace(\"Requesting the current transport state of the platform.\");\r\n            const transaction = this.setTransaction(Glue42CoreMessageTypes.getCurrentTransport.name);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.getCurrentTransport.name, transaction.id);\r\n            const transportState = yield transaction.lock;\r\n            this.logger.trace(`The platform responded with transport state: ${JSON.stringify(transportState)}`);\r\n            return transportState;\r\n        });\r\n    }\r\n    setTransaction(operation) {\r\n        const transaction = {};\r\n        const transactionId = shortid.generate();\r\n        const transactionLock = new Promise((resolve, reject) => {\r\n            let transactionLive = true;\r\n            transaction.lift = (args) => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                resolve(args);\r\n            };\r\n            transaction.fail = (reason) => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                reject(reason);\r\n            };\r\n            setTimeout(() => {\r\n                if (!transactionLive) {\r\n                    return;\r\n                }\r\n                transactionLive = false;\r\n                this.logger.warn(`Transaction for operation: ${operation} timed out.`);\r\n                delete this.transactionLocks[transactionId];\r\n                reject(`Transaction for operation: ${operation} timed out.`);\r\n            }, this.transactionTimeout);\r\n        });\r\n        transaction.lock = transactionLock;\r\n        transaction.id = transactionId;\r\n        this.transactionLocks[transactionId] = transaction;\r\n        return transaction;\r\n    }\r\n    sendPlatformMessage(type, transactionId, args) {\r\n        this.logger.trace(`Sending a platform message of type: ${type}, id: ${transactionId} and args: ${JSON.stringify(args)}`);\r\n        this.webPlatformTransport.sendObject({\r\n            glue42core: { type, args, transactionId }\r\n        });\r\n    }\r\n    handleTransportSwitchRequest(args, transactionId) {\r\n        this.logger.trace(`Received a transport switch request with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        this.coreGlue.connection.switchTransport(args.switchSettings)\r\n            .then((result) => {\r\n            this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n            this.setConnected();\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: result.success });\r\n        })\r\n            .catch((error) => {\r\n            this.logger.error(error);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: false });\r\n        });\r\n    }\r\n    handlePlatformUnload() {\r\n        this.reconnectCounter = 5;\r\n        this.logger.trace(\"The platform was unloaded while I am connected to a preferred connection, re-establishing the port connection.\");\r\n        this.reEstablishPlatformPort();\r\n    }\r\n    handleGetCurrentTransportResponse(args, transactionId) {\r\n        this.logger.trace(`Got a current transport response from the platform with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        const transportState = args.transportState;\r\n        const transaction = this.transactionLocks[transactionId];\r\n        transaction === null || transaction === void 0 ? void 0 : transaction.lift(transportState);\r\n    }\r\n    handleCheckPreferredLogic(transactionId) {\r\n        setTimeout(() => this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredLogicResponse.name, transactionId), 0);\r\n    }\r\n    handleCheckPreferredConnection(args, transactionId) {\r\n        const url = args.url;\r\n        this.logger.trace(`Testing the possible connection to: ${url}`);\r\n        this.checkPreferredConnection(url)\r\n            .then((result) => {\r\n            this.logger.trace(`The connection to ${url} is possible`);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, result);\r\n        })\r\n            .catch((error) => {\r\n            this.logger.trace(`The connection to ${url} is not possible`);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, { error });\r\n        });\r\n    }\r\n    checkPreferredConnection(url) {\r\n        return new Promise((resolve) => {\r\n            const ws = new WebSocket(url);\r\n            ws.onerror = () => resolve({ live: false });\r\n            ws.onopen = () => {\r\n                ws.close();\r\n                resolve({ live: true });\r\n            };\r\n        });\r\n    }\r\n    setConnected() {\r\n        this.webPlatformTransport.manualSetReadyState();\r\n    }\r\n}\n\nclass IoC {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.controllers = {\r\n            windows: this.windowsController,\r\n            appManager: this.appManagerController,\r\n            layouts: this.layoutsController,\r\n            notifications: this.notificationsController,\r\n            intents: this.intentsController,\r\n            channels: this.channelsController,\r\n            system: this.systemController,\r\n            extension: this.extensionController\r\n        };\r\n        this._publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n        this._actualWindowId = coreGlue.interop.instance.windowId;\r\n        this._communicationId = this.coreGlue.connection.transport.communicationId || window.glue42core.communicationId;\r\n        if (!this._communicationId) {\r\n            throw new Error(\"Cannot configure the Glue Bridge, because no communication id was provided.\");\r\n        }\r\n    }\r\n    get communicationId() {\r\n        return this._communicationId;\r\n    }\r\n    get publicWindowId() {\r\n        if (!this._publicWindowId) {\r\n            throw new Error(\"Accessing undefined public window id.\");\r\n        }\r\n        return this._publicWindowId;\r\n    }\r\n    get actualWindowId() {\r\n        return this._actualWindowId;\r\n    }\r\n    get windowsController() {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n        return this._windowsControllerInstance;\r\n    }\r\n    get appManagerController() {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n        return this._appManagerControllerInstance;\r\n    }\r\n    get layoutsController() {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n        return this._layoutsControllerInstance;\r\n    }\r\n    get notificationsController() {\r\n        if (!this._notificationsControllerInstance) {\r\n            this._notificationsControllerInstance = new NotificationsController();\r\n        }\r\n        return this._notificationsControllerInstance;\r\n    }\r\n    get intentsController() {\r\n        if (!this._intentsControllerInstance) {\r\n            this._intentsControllerInstance = new IntentsController();\r\n        }\r\n        return this._intentsControllerInstance;\r\n    }\r\n    get systemController() {\r\n        if (!this._systemControllerInstance) {\r\n            this._systemControllerInstance = new SystemController();\r\n        }\r\n        return this._systemControllerInstance;\r\n    }\r\n    get channelsController() {\r\n        if (!this._channelsControllerInstance) {\r\n            this._channelsControllerInstance = new ChannelsController();\r\n        }\r\n        return this._channelsControllerInstance;\r\n    }\r\n    get extensionController() {\r\n        if (!this._extensionController) {\r\n            this._extensionController = new ExtController();\r\n        }\r\n        return this._extensionController;\r\n    }\r\n    get eventsDispatcher() {\r\n        if (!this._eventsDispatcher) {\r\n            this._eventsDispatcher = new EventsDispatcher();\r\n        }\r\n        return this._eventsDispatcher;\r\n    }\r\n    get bridge() {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue, this.communicationId);\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n    get preferredConnectionController() {\r\n        if (!this._preferredConnectionController) {\r\n            this._preferredConnectionController = new PreferredConnectionController(this.coreGlue);\r\n        }\r\n        return this._preferredConnectionController;\r\n    }\r\n    get config() {\r\n        return this._webConfig;\r\n    }\r\n    defineConfig(config) {\r\n        this._webConfig = config;\r\n    }\r\n    buildWebWindow(id, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const model = new WebWindowModel(id, name, this.bridge);\r\n            const api = yield model.toApi();\r\n            return { id, model, api };\r\n        });\r\n    }\r\n    buildNotification(config) {\r\n        return new Notification(config);\r\n    }\r\n    buildApplication(app, applicationInstances) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n            const instances = applicationInstances.map((instanceData) => this.buildInstance(instanceData, application));\r\n            application.instances.push(...instances);\r\n            return application;\r\n        });\r\n    }\r\n    buildInstance(instanceData, app) {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}\n\nvar version$1 = \"2.6.1\";\n\nconst createFactoryFunction = (coreFactoryFunction) => {\r\n    return (userConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const config = parseConfig(userConfig);\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n        checkSingleton();\r\n        const glue = yield PromiseWrap(() => coreFactoryFunction(config, { version: version$1 }), 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n        const ioc = new IoC(glue);\r\n        yield ioc.preferredConnectionController.start(config);\r\n        yield ioc.bridge.start(ioc.controllers);\r\n        ioc.defineConfig(config);\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n        yield Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n        yield Promise.all(config.libraries.map((lib) => lib(glue, config)));\r\n        logger.trace(\"all libraries were started\");\r\n        ioc.eventsDispatcher.start(glue);\r\n        logger.trace(\"start event dispatched, glue is ready, returning it\");\r\n        return glue;\r\n    });\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign$1 = function() {\r\n    __assign$1 = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign$1.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter$1(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign$1({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign$1({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                var _a;\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                var className = target ? (_a = target.getAttribute(\"class\")) !== null && _a !== void 0 ? _a : \"\" : \"\";\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: className,\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry$1(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry$1.default = createRegistry$1;\r\nvar lib$2 = createRegistry$1;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib$2();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib$2();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib$2();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (typeof retriesLeft === \"undefined\") {\r\n                            retriesLeft = this.settings.reconnectAttempts;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule$1(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed$1 = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue$1() {\n    seed$1 = (seed$1 * 9301 + 49297) % 233280;\n    return seed$1/(233280.0);\n}\n\nfunction setSeed$2(_seed_) {\n    seed$1 = _seed_;\n}\n\nvar randomFromSeed$1 = {\n    nextValue: getNextValue$1,\n    seed: setSeed$2\n};\n\nvar ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet$1;\nvar previousSeed$1;\n\nvar shuffled$1;\n\nfunction reset$1() {\n    shuffled$1 = false;\n}\n\nfunction setCharacters$1(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet$1 !== ORIGINAL$1) {\n            alphabet$1 = ORIGINAL$1;\n            reset$1();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet$1) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL$1.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet$1 = _alphabet_;\n    reset$1();\n}\n\nfunction characters$1(_alphabet_) {\n    setCharacters$1(_alphabet_);\n    return alphabet$1;\n}\n\nfunction setSeed$1$1(seed) {\n    randomFromSeed$1.seed(seed);\n    if (previousSeed$1 !== seed) {\n        reset$1();\n        previousSeed$1 = seed;\n    }\n}\n\nfunction shuffle$1() {\n    if (!alphabet$1) {\n        setCharacters$1(ORIGINAL$1);\n    }\n\n    var sourceArray = alphabet$1.split('');\n    var targetArray = [];\n    var r = randomFromSeed$1.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed$1.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled$1() {\n    if (shuffled$1) {\n        return shuffled$1;\n    }\n    shuffled$1 = shuffle$1();\n    return shuffled$1;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup$1(index) {\n    var alphabetShuffled = getShuffled$1();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1$1 = {\n    characters: characters$1,\n    seed: setSeed$1$1,\n    lookup: lookup$1,\n    shuffled: getShuffled$1\n};\n\nvar crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte$1() {\n    if (!crypto$1 || !crypto$1.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto$1.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser$1 = randomByte$1;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1$1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId$1(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1$1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid$1 = isShortId$1;\n\nvar lib$1$1 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1$1.lookup, version);\n    str = str + encode_1(alphabet_1$1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1$1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1$1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1$1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1$1.characters(newCharacters);\n    }\n\n    return alphabet_1$1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid$1;\n});\nvar lib_1 = lib$1$1.generate;\nvar lib_2 = lib$1$1.seed;\nvar lib_3 = lib$1$1.worker;\nvar lib_4 = lib$1$1.characters;\nvar lib_5 = lib$1$1.decode;\nvar lib_6 = lib$1$1.isValid;\n\nvar shortid$1 = lib$1$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib$2();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid$1();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib$2();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else if (config.provider) {\r\n                            authentication.provider = config.provider;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus$1 = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.iAmConnected = false;\r\n        this.parentReady = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.parentPingTimeout = 5000;\r\n        this.connectionRequestTimeout = 7000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib$2();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) },\r\n            gatewayDisconnect: { name: \"gatewayDisconnect\", handle: this.handleGatewayDisconnect.bind(this) },\r\n            gatewayInternalConnect: { name: \"gatewayInternalConnect\", handle: this.handleGatewayInternalConnect.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        this.setupPlatformUnloadListener();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    WebPlatformTransport.prototype.manualSetReadyState = function () {\r\n        this.iAmConnected = true;\r\n        this.parentReady = true;\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"communicationId\", {\r\n        get: function () {\r\n            return this._communicationId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.gatewayDisconnect.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        this.parentReady = false;\r\n        this.notifyStatusChanged(false, \"manual reconnection\");\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.close()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, Promise.resolve()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.settings.port) return [3, 2];\r\n                        return [4, this.initiateInternalConnection()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.logger.debug(\"internal web platform connection completed\");\r\n                        return [2];\r\n                    case 2:\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 5];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateInternalConnection = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.logger.debug(\"opening an internal web platform connection\");\r\n            _this.port = _this.settings.port;\r\n            if (_this.iAmConnected) {\r\n                _this.logger.warn(\"cannot open a new connection, because this client is currently connected\");\r\n                return;\r\n            }\r\n            _this.port.onmessage = function (event) {\r\n                var _a, _b;\r\n                if (_this.iAmConnected && !((_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core)) {\r\n                    _this.registry.execute(\"onMessage\", event.data);\r\n                    return;\r\n                }\r\n                var data = (_b = event.data) === null || _b === void 0 ? void 0 : _b.glue42core;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.success) {\r\n                    _this.publicWindowId = _this.settings.windowId;\r\n                    if (_this.identity) {\r\n                        _this.identity.windowId = _this.publicWindowId;\r\n                    }\r\n                    resolve();\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.error) {\r\n                    reject(data.error);\r\n                }\r\n            };\r\n            _this.port.postMessage({\r\n                glue42core: {\r\n                    type: _this.messages.gatewayInternalConnect.name\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve, reject) {\r\n            var _a;\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = (_a = _this.myClientId) !== null && _a !== void 0 ? _a : shortid$1();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus$1(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            _this.parentPingInterval = setInterval(function () {\r\n                                target.postMessage(message, _this.defaultTargetString);\r\n                            }, 1000);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        parentCheck.catch(function () {\r\n                            if (_this.parentPingInterval) {\r\n                                clearInterval(_this.parentPingInterval);\r\n                                delete _this.parentPingInterval;\r\n                            }\r\n                        });\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        this.isPreferredActivated = data.isPreferredActivated;\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this._communicationId = data.communicationId;\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.setupPlatformUnloadListener = function () {\r\n        var _this = this;\r\n        this.onMessage(function (msg) {\r\n            if (msg.type === \"platformUnload\") {\r\n                _this.logger.debug(\"detected a web platform unload\");\r\n                _this.parentReady = false;\r\n                _this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n            }\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus$1(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayDisconnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayInternalConnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus$1(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar waitForInvocations = function (invocations, callback) {\r\n    var left = invocations;\r\n    return function () {\r\n        left--;\r\n        if (left === 0) {\r\n            callback();\r\n        }\r\n    };\r\n};\n\nvar AsyncSequelizer = (function () {\r\n    function AsyncSequelizer(minSequenceInterval) {\r\n        if (minSequenceInterval === void 0) { minSequenceInterval = 0; }\r\n        this.minSequenceInterval = minSequenceInterval;\r\n        this.queue = [];\r\n        this.isExecutingQueue = false;\r\n    }\r\n    AsyncSequelizer.prototype.enqueue = function (action) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.queue.push({ action: action, resolve: resolve, reject: reject });\r\n            _this.executeQueue();\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.executeQueue = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var operation, actionResult, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.isExecutingQueue) {\r\n                            return [2];\r\n                        }\r\n                        this.isExecutingQueue = true;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.queue.length) return [3, 7];\r\n                        operation = this.queue.shift();\r\n                        if (!operation) {\r\n                            this.isExecutingQueue = false;\r\n                            return [2];\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4, operation.action()];\r\n                    case 3:\r\n                        actionResult = _a.sent();\r\n                        operation.resolve(actionResult);\r\n                        return [3, 5];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        operation.reject(error_1);\r\n                        return [3, 5];\r\n                    case 5: return [4, this.intervalBreak()];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [3, 1];\r\n                    case 7:\r\n                        this.isExecutingQueue = false;\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.intervalBreak = function () {\r\n        var _this = this;\r\n        return new Promise(function (res) { return setTimeout(res, _this.minSequenceInterval); });\r\n    };\r\n    return AsyncSequelizer;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib$2();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        this._swapTransport = false;\r\n        this._switchInProgress = false;\r\n        this._transportSubscriptions = [];\r\n        this._sequelizer = new AsyncSequelizer();\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        this._defaultTransport = this.transport;\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.switchTransport = function (settings) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                return [2, this._sequelizer.enqueue(function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var switchTargetTransport, verifyPromise, isSwitchSuccess, error_1;\r\n                        return __generator(this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    if (!settings || typeof settings !== \"object\") {\r\n                                        throw new Error(\"Cannot switch transports, because the settings are missing or invalid.\");\r\n                                    }\r\n                                    if (typeof settings.type === \"undefined\") {\r\n                                        throw new Error(\"Cannot switch the transport, because the type is not defined\");\r\n                                    }\r\n                                    this.logger.trace(\"Starting transport switch with settings: \" + JSON.stringify(settings));\r\n                                    switchTargetTransport = settings.type === \"secondary\" ? this.getNewSecondaryTransport(settings) : this._defaultTransport;\r\n                                    this._targetTransport = switchTargetTransport;\r\n                                    this._targetAuth = settings.type === \"secondary\" ? this.getNewSecondaryAuth(settings) : this._defaultAuth;\r\n                                    verifyPromise = this.verifyConnection();\r\n                                    this._swapTransport = true;\r\n                                    this._switchInProgress = true;\r\n                                    this.logger.trace(\"The new transport has been set, closing the current transport\");\r\n                                    return [4, this.transport.close()];\r\n                                case 1:\r\n                                    _a.sent();\r\n                                    _a.label = 2;\r\n                                case 2:\r\n                                    _a.trys.push([2, 4, , 5]);\r\n                                    return [4, verifyPromise];\r\n                                case 3:\r\n                                    _a.sent();\r\n                                    isSwitchSuccess = this.transport === switchTargetTransport;\r\n                                    this.logger.info(\"The reconnection after the switch was completed. Was the switch a success: \" + isSwitchSuccess);\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: isSwitchSuccess }];\r\n                                case 4:\r\n                                    error_1 = _a.sent();\r\n                                    this.logger.info(\"The reconnection after the switch timed out, reverting back to the default transport.\");\r\n                                    this.switchTransport({ type: \"default\" });\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: false }];\r\n                                case 5: return [2];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.onLibReAnnounced = function (callback) {\r\n        return this.registry.add(\"libReAnnounced\", callback);\r\n    };\r\n    Connection.prototype.setLibReAnnounced = function (lib) {\r\n        this.registry.execute(\"libReAnnounced\", lib);\r\n    };\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            var currentServer = _this.transport.name();\r\n            callback(currentServer);\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var newAuth, identity, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._defaultAuth) {\r\n                            this._defaultAuth = authRequest;\r\n                        }\r\n                        if (this._swapTransport) {\r\n                            this.logger.trace(\"Detected a transport swap, swapping transports\");\r\n                            newAuth = this.transportSwap();\r\n                            authRequest = newAuth !== null && newAuth !== void 0 ? newAuth : authRequest;\r\n                        }\r\n                        this.logger.trace(\"Starting login for transport: \" + this.transport.name() + \" and auth \" + JSON.stringify(authRequest));\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4, this.transport.open()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.trace(\"Transport: \" + this.transport.name() + \" opened, logging in\");\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        return [4, this.protocol.login(authRequest, reconnect)];\r\n                    case 3:\r\n                        identity = _a.sent();\r\n                        this.logger.trace(\"Logged in with identity: \" + JSON.stringify(identity));\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                    case 4:\r\n                        error_2 = _a.sent();\r\n                        if (this._switchInProgress) {\r\n                            this.logger.trace(\"An error while logging in after a transport swap, preparing a default swap.\");\r\n                            this.prepareDefaultSwap();\r\n                        }\r\n                        throw new Error(error_2);\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            if (this.settings.replaySpecs && this.settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(this.settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    Connection.prototype.verifyConnection = function () {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve) {\r\n            var unsub;\r\n            var ready = waitForInvocations(2, function () {\r\n                if (unsub) {\r\n                    unsub();\r\n                }\r\n                resolve();\r\n            });\r\n            unsub = _this.onLibReAnnounced(function (lib) {\r\n                if (lib.name === \"interop\") {\r\n                    return ready();\r\n                }\r\n                if (lib.name === \"contexts\") {\r\n                    return ready();\r\n                }\r\n            });\r\n        }, 10000, \"Transport switch timed out waiting for all libraries to be re-announced\");\r\n    };\r\n    Connection.prototype.getNewSecondaryTransport = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.url)) {\r\n            throw new Error(\"Missing secondary transport URL.\");\r\n        }\r\n        return new WS(Object.assign({}, this.settings, { ws: settings.transportConfig.url, reconnectAttempts: 1 }), this.logger.subLogger(\"ws-secondary\"));\r\n    };\r\n    Connection.prototype.getNewSecondaryAuth = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.auth)) {\r\n            throw new Error(\"Missing secondary transport auth information.\");\r\n        }\r\n        return settings.transportConfig.auth;\r\n    };\r\n    Connection.prototype.transportSwap = function () {\r\n        this._swapTransport = false;\r\n        if (!this._targetTransport || !this._targetAuth) {\r\n            this.logger.warn(\"Error while switching transports - either the target transport or auth is not defined: transport defined -> \" + !!this._defaultTransport + \", auth defined -> \" + !!this._targetAuth + \". Staying on the current one.\");\r\n            return;\r\n        }\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport = this._targetTransport;\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        return this._targetAuth;\r\n    };\r\n    Connection.prototype.prepareDefaultSwap = function () {\r\n        var _this = this;\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport.close().catch(function (error) { return _this.logger.warn(\"Error closing the \" + _this.transport.name() + \" transport after a failed connection attempt: \" + JSON.stringify(error)); });\r\n        this._targetTransport = this._defaultTransport;\r\n        this._targetAuth = this._defaultAuth;\r\n        this._swapTransport = true;\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version$2 = \"5.7.1\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_e) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version$2\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getContexts() {\r\n        if (typeof configuration.contexts === \"undefined\") {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"boolean\" && configuration.contexts) {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"object\") {\r\n            return Object.assign({}, { reAnnounceKnownContexts: true }, configuration.contexts);\r\n        }\r\n        return false;\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid$1();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: getContexts(),\r\n        version: ext.version || version$2,\r\n        libs: (_d = ext.libs) !== null && _d !== void 0 ? _d : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign$1({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._contextsTempCache = {};\r\n        this._contextsSubscriptionsCache = [];\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._trackAllContexts = config.trackAllContexts;\r\n        this._reAnnounceKnownContexts = config.reAnnounceKnownContexts;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this._gw3Session.disconnected(this.resetState.bind(this));\r\n        this._gw3Session.onJoined(function (wasReconnect) {\r\n            if (!wasReconnect) {\r\n                return;\r\n            }\r\n            if (!_this._reAnnounceKnownContexts) {\r\n                return _this._connection.setLibReAnnounced({ name: \"contexts\" });\r\n            }\r\n            _this.reInitiateState().then(function () { return _this._connection.setLibReAnnounced({ name: \"contexts\" }); });\r\n        });\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve) {\r\n                _this.subscribe(name, function (data, _d, _r, un) {\r\n                    _this.unsubscribe(un);\r\n                    resolve(data);\r\n                });\r\n            });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback, subscriptionKey) {\r\n        var _this = this;\r\n        var thisCallbackSubscriptionNumber = typeof subscriptionKey === \"undefined\" ? this._nextCallbackSubscriptionNumber : subscriptionKey;\r\n        if (typeof subscriptionKey === \"undefined\") {\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n        }\r\n        if (this._contextsSubscriptionsCache.every(function (subscription) { return subscription.subKey !== _this._nextCallbackSubscriptionNumber; })) {\r\n            this._contextsSubscriptionsCache.push({ contextName: name, subKey: thisCallbackSubscriptionNumber, callback: callback });\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        this._contextsSubscriptionsCache = this._contextsSubscriptionsCache.filter(function (subscription) { return subscription.subKey !== subscriptionKey; });\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var _this = this;\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            if (this._trackAllContexts) {\r\n                this.subscribe(name, function () { }).then(function (subKey) { return _this._systemContextsSubKey = subKey; });\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.resetState = function () {\r\n        var _this = this;\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        if (this._systemContextsSubKey) {\r\n            this.unsubscribe(this._systemContextsSubKey);\r\n            delete this._systemContextsSubKey;\r\n        }\r\n        this._gw3Subscriptions = [];\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        delete this._protocolVersion;\r\n        this._contextsTempCache = Object.keys(this._contextNameToData).reduce(function (cacheSoFar, ctxName) {\r\n            cacheSoFar[ctxName] = _this._contextNameToData[ctxName].context;\r\n            return cacheSoFar;\r\n        }, {});\r\n        this._contextNameToData = {};\r\n    };\r\n    GW3Bridge.prototype.reInitiateState = function () {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _b, _c, _i, ctxName, lastKnownData;\r\n            var _this = this;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        this.subscribeToContextCreatedMessages();\r\n                        this.subscribeToContextUpdatedMessages();\r\n                        this.subscribeToContextDestroyedMessages();\r\n                        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                            var type = message.type;\r\n                            if (!type) {\r\n                                return;\r\n                            }\r\n                            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                                _this.handleContextCreatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                                _this.handleContextUpdatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                                _this.handleContextDestroyedMessage(message);\r\n                            }\r\n                        });\r\n                        return [4, Promise.all(this._contextsSubscriptionsCache.map(function (subscription) { return _this.subscribe(subscription.contextName, subscription.callback, subscription.subKey); }))];\r\n                    case 1:\r\n                        _e.sent();\r\n                        return [4, this.flushQueue()];\r\n                    case 2:\r\n                        _e.sent();\r\n                        _b = [];\r\n                        for (_c in this._contextsTempCache)\r\n                            _b.push(_c);\r\n                        _i = 0;\r\n                        _e.label = 3;\r\n                    case 3:\r\n                        if (!(_i < _b.length)) return [3, 6];\r\n                        ctxName = _b[_i];\r\n                        if (typeof this._contextsTempCache[ctxName] !== \"object\" || Object.keys(this._contextsTempCache[ctxName]).length === 0) {\r\n                            return [3, 5];\r\n                        }\r\n                        lastKnownData = this._contextsTempCache[ctxName];\r\n                        this._logger.info(\"Re-announcing known context: \" + ctxName);\r\n                        return [4, this.update(ctxName, lastKnownData)];\r\n                    case 4:\r\n                        _e.sent();\r\n                        _e.label = 5;\r\n                    case 5:\r\n                        _i++;\r\n                        return [3, 3];\r\n                    case 6:\r\n                        this._contextsTempCache = {};\r\n                        this._logger.info(\"Contexts are re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.flushQueue = function () {\r\n        return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 0); });\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign$1({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign$1({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign$1({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid$1();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && filter[prop] !== null\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign$1({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign$1({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid$1();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign$1(__assign$1({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib$2();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var _a, _b;\r\n        var accepts = (_a = methodInfo.input_signature) !== null && _a !== void 0 ? _a : \"\";\r\n        var returns = (_b = methodInfo.result_signature) !== null && _b !== void 0 ? _b : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign$1(__assign$1({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib$2();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib$2();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar TimedCache = (function () {\r\n    function TimedCache(config) {\r\n        this.config = config;\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n    }\r\n    TimedCache.prototype.add = function (element) {\r\n        var _this = this;\r\n        var id = shortid$1();\r\n        this.cache.push({ id: id, element: element });\r\n        var timeoutId = setTimeout(function () {\r\n            var elementIdx = _this.cache.findIndex(function (entry) { return entry.id === id; });\r\n            if (elementIdx < 0) {\r\n                return;\r\n            }\r\n            _this.cache.splice(elementIdx, 1);\r\n        }, this.config.ELEMENT_TTL_MS);\r\n        this.timeoutIds.push(timeoutId);\r\n    };\r\n    TimedCache.prototype.flush = function () {\r\n        var elements = this.cache.map(function (entry) { return entry.element; });\r\n        this.timeoutIds.forEach(function (id) { return clearInterval(id); });\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n        return elements;\r\n    };\r\n    return TimedCache;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.timedCache = new TimedCache({ ELEMENT_TTL_MS: 10000 });\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                _this.timedCache.add(subscription);\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptionsCache = function () {\r\n        return this.timedCache.flush();\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptionsCache = function () {\r\n        return this.streaming.drainSubscriptionsCache();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var reconnectionPromises, existingSubscriptions, _loop_1, _i, existingSubscriptions_1, sub, registeredMethods, _loop_2, _a, registeredMethods_1, method;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n                        client.drainSubscriptionsCache().forEach(function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to soft-re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"soft-subscribing to method \" + methodInfo.name + \" DONE\"); }).catch(function (error) { return logger.warn(\"subscribing to method \" + methodInfo.name + \" failed: \" + JSON.stringify(error) + \"}\"); });\r\n                        });\r\n                        reconnectionPromises = [];\r\n                        existingSubscriptions = client.drainSubscriptions();\r\n                        _loop_1 = function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            reconnectionPromises.push(interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"subscribing to method \" + methodInfo.name + \" DONE\"); }));\r\n                        };\r\n                        for (_i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                            sub = existingSubscriptions_1[_i];\r\n                            _loop_1(sub);\r\n                        }\r\n                        registeredMethods = serverRepository.getList();\r\n                        serverRepository.reset();\r\n                        _loop_2 = function (method) {\r\n                            var def = method.definition;\r\n                            logger.info(\"re-publishing method \" + def.name);\r\n                            if (method.stream) {\r\n                                reconnectionPromises.push(interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallback) {\r\n                                reconnectionPromises.push(interop.register(def, method.theFunction.userCallback).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                                reconnectionPromises.push(interop.registerAsync(def, method.theFunction.userCallbackAsync).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            logger.info(\"re-publishing method \" + def.name + \" DONE\");\r\n                        };\r\n                        for (_a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                            method = registeredMethods_1[_a];\r\n                            _loop_2(method);\r\n                        }\r\n                        return [4, Promise.all(reconnectionPromises)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        logger.info(\"Interop is re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect().then(function () { return connection.setLibReAnnounced({ name: \"interop\" }); }).catch(function (error) { return logger.warn(\"Error while re-announcing interop: \" + JSON.stringify(error)); });\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid$1(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\"),\r\n                trackAllContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.trackAllContexts : false,\r\n                reAnnounceKnownContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.reAnnounceKnownContexts : false\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version$2,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version$2;\r\nGlueCore.default = GlueCore;\n\nconst glueWebFactory = createFactoryFunction(GlueCore);\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\nif (!window.glue42gd && !window.glue42core) {\r\n    window.glue42core = { webStarted: false };\r\n}\r\nglueWebFactory.version = version$1;\n\nexport default glueWebFactory;\n//# sourceMappingURL=web.es.js.map\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig,\r\n    FrameBoundsResult,\r\n    GetWorkspaceIconResult,\r\n    PinWorkspaceConfig,\r\n    SetWorkspaceIconConfig,\r\n    FrameInitializationConfigProtocol,\r\n    WorkspaceSelector\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nexport const positiveNumberDecoder: Decoder<number> = number().where((num) => num > 0, \"Expected a positive number\");\r\n\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowDefinitionConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const groupDefinitionConfigDecoder: Decoder<Glue42Workspaces.GroupDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean())\r\n});\r\n\r\nexport const rowDefinitionConfigDecoder: Decoder<Glue42Workspaces.RowDefinitionConfig> = object({\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const columnDefinitionConfigDecoder: Decoder<Glue42Workspaces.ColumnDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(anyJson())\r\n}));\r\n\r\n\r\nexport const strictColumnDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"column\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(columnDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictRowDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"row\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(rowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictGroupDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"group\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(groupDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = oneOf(strictGroupDefinitionDecoder, strictColumnDefinitionDecoder, strictRowDefinitionDecoder);\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    isPinned: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    positionIndex: optional(nonNegativeNumberDecoder)\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder),\r\n        allowDrop: optional(boolean()),\r\n        allowDropLeft: optional(boolean()),\r\n        allowDropTop: optional(boolean()),\r\n        allowDropRight: optional(boolean()),\r\n        allowDropBottom: optional(boolean()),\r\n        allowExtract: optional(boolean()),\r\n        showSaveButton: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        allowSplitters: optional(boolean()),\r\n        showWindowCloseButtons: optional(boolean()),\r\n        showEjectButtons: optional(boolean()),\r\n        showAddWindowButtons: optional(boolean()),\r\n        icon: optional(nonEmptyStringDecoder),\r\n        isPinned: optional(boolean()),\r\n        isSelected: optional(boolean()),\r\n        positionIndex: optional(nonNegativeNumberDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const restoreWorkspaceDefinitionDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceDefinition> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const emptyFrameDefinitionDecoder: Decoder<Glue42Workspaces.EmptyFrameDefinition> = optional(object({\r\n    frameConfig: optional(newFrameConfigDecoder),\r\n    context: optional(object())\r\n}));\r\n\r\nexport const frameInitConfigDecoder: Decoder<Glue42Workspaces.FrameInitializationConfig> = object({\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        optional(workspaceDefinitionDecoder),\r\n        optional(restoreWorkspaceDefinitionDecoder)\r\n    ))\r\n});\r\n\r\nexport const frameInitProtocolConfigDecoder: Decoder<FrameInitializationConfigProtocol> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        restoreWorkspaceDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameInitializationContextDecoder: Decoder<Glue42Workspaces.FrameInitializationContext> = object({\r\n    context: optional(object())\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    widthInPx: optional(number()),\r\n    heightInPx: optional(number()),\r\n    isPinned: optional(boolean()),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number())\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        widthInPx: optional(number()),\r\n        heightInPx: optional(number())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        isMaximized: optional(boolean())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const frameBoundsResultDecoder: Decoder<FrameBoundsResult> = object({\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const getWorkspaceIconResultDecoder: Decoder<GetWorkspaceIconResult> = object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(positiveNumberDecoder),\r\n    height: optional(positiveNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder,\r\n    workspaceSnapshot: optional(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean()),\r\n    metadata: optional(object())\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const elementResizeConfigDecoder: Decoder<Glue42Workspaces.ElementResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<Glue42Workspaces.RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<Glue42Workspaces.ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<Glue42Workspaces.GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n\r\nexport const pinWorkspaceDecoder: Decoder<PinWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const setWorkspaceIconDecoder: Decoder<SetWorkspaceIconConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder) // to enable the user to remove the icon from the workspace altogether\r\n});\r\n\r\nexport const workspacePinOptionsDecoder: Decoder<Glue42Workspaces.WorkspacePinOptions> = optional(object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n}));\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder,\r\n    frameBoundsResultDecoder,\r\n    getWorkspaceIconResultDecoder,\r\n    pinWorkspaceDecoder,\r\n    setWorkspaceIconDecoder,\r\n    frameSummaryResultDecoder,\r\n    emptyFrameDefinitionDecoder,\r\n    frameInitProtocolConfigDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"getFrameBounds\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\" |\r\n    \"pinWorkspace\" |\r\n    \"unpinWorkspace\" |\r\n    \"getWorkspaceIcon\" |\r\n    \"setWorkspaceIcon\" |\r\n    \"createFrame\" |\r\n    \"initFrame\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    createFrame: { name: \"createFrame\", resultDecoder: frameSummaryResultDecoder, argsDecoder: emptyFrameDefinitionDecoder },\r\n    initFrame: { name: \"initFrame\", resultDecoder: voidResultDecoder, argsDecoder: frameInitProtocolConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameBoundsResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder },\r\n    pinWorkspace: { name: \"pinWorkspace\", argsDecoder: pinWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    unpinWorkspace: { name: \"unpinWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    getWorkspaceIcon: { name: \"getWorkspaceIcon\", argsDecoder: workspaceSelectorDecoder, resultDecoder: getWorkspaceIconResultDecoder },\r\n    setWorkspaceIcon: { name: \"setWorkspaceIcon\", argsDecoder: setWorkspaceIconDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(this.decorateCommunicationId(webPlatformMethodName)),\r\n            this.verifyMethodLive(this.decorateCommunicationId(webPlatformWspStreamName))\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(this.decorateCommunicationId(webPlatformWspStreamName));\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : this.decorateCommunicationId(webPlatformMethodName);\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n\r\n    private decorateCommunicationId(base: string): string {\r\n        return `${base}.${(window as any).glue42core.communicationId}`;\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { nonNegativeNumberDecoder, rowLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.RowLockConfig | ((config: Glue42Workspaces.RowLockConfig) => Glue42Workspaces.RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setHeight(height: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(height);\r\n        return getBase(this).setHeight(this, height);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { columnLockConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.ColumnLockConfig | ((config: Glue42Workspaces.ColumnLockConfig) => Glue42Workspaces.ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setWidth(width: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(width);\r\n        return getBase(this).setWidth(this, width);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { elementResizeConfigDecoder, groupLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getBase(this).getAllowDropLeft(this);\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getBase(this).getAllowDropRight(this);\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getBase(this).getAllowDropTop(this);\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getBase(this).getAllowDropBottom(this);\r\n    }\r\n\r\n    public get allowDropHeader(): boolean {\r\n        return getBase(this).getAllowDropHeader(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.GroupLockConfig | ((config: Glue42Workspaces.GroupLockConfig) => Glue42Workspaces.GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropHeader: this.allowDropHeader,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n\r\n        return getBase(this).setSize(this, config.width, config.height);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder, workspacePinOptionsDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\ntype SaveLayoutConfig = Omit<Omit<Glue42Workspaces.WorkspaceLayoutSaveConfig, \"name\">, \"workspaceId\">;\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean | undefined {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get isSelected(): boolean {\r\n        return getData(this).config.isSelected;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get showWindowCloseButtons(): boolean {\r\n        return getData(this).config.showWindowCloseButtons;\r\n    }\r\n\r\n    public get showEjectButtons(): boolean {\r\n        return getData(this).config.showEjectButtons;\r\n    }\r\n\r\n    public get showAddWindowButtons(): boolean {\r\n        return getData(this).config.showAddWindowButtons;\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getData(this).config.isPinned;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: SaveLayoutConfig): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext, metadata: config?.metadata });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public async getIcon(): Promise<string> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceIcon(this.id);\r\n    }\r\n\r\n    public async setIcon(icon: string): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceIcon(this.id, icon);\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceLockConfig | ((config: Glue42Workspaces.WorkspaceLockConfig) => Glue42Workspaces.WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async pin(options: Glue42Workspaces.WorkspacePinOptions): Promise<void> {\r\n        workspacePinOptionsDecoder.runWithException(options);\r\n        await getData(this).controller.pinWorkspace(this.id, options?.icon);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async unpin(): Promise<void> {\r\n        await getData(this).controller.unpinWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder, elementResizeConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceWindowLockConfig | ((config: Glue42Workspaces.WorkspaceWindowLockConfig) => Glue42Workspaces.WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.resizeItem(myId, {\r\n            height: verifiedConfig.height,\r\n            width: verifiedConfig.width,\r\n            relative: false\r\n        });\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder, frameInitConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public get isInitialized(): boolean {\r\n        return getData(this).summary.isInitialized;\r\n    }\r\n\r\n    public getBounds(): Promise<Glue42Workspaces.FrameBounds> {\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.getFrameBounds(myId);\r\n    }\r\n\r\n    public async resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public async move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspacesByFrameId(this.id);\r\n    }\r\n\r\n    public async getConstraints(): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const controller = getData(this).controller;\r\n        const myId = getData(this).summary.id;\r\n\r\n        return controller.getFrameConstraints(myId);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async init(config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        frameInitConfigDecoder.runWithException(config);\r\n\r\n        if (getData(this).summary.isInitialized) {\r\n            throw new Error(\"The frame has already been initialized\");\r\n        }\r\n        return getData(this).controller.initFrame(this.id, config);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.transformStreamPayloadToWorkspace(payload);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspaceById(payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onInitializationRequested(callback: (context?: Glue42Workspaces.FrameInitializationContext) => Promise<void>): Promise<void> {\r\n        checkThrowCallback(callback);\r\n\r\n        if (!this.isInitialized) {\r\n            await callback(getData(this).summary.initializationContext);\r\n        }\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\nimport { Row } from \"../row\";\r\nimport { Column } from \"../column\";\r\nimport { ColumnSnapshotConfig, GroupSnapshotConfig, RowSnapshotConfig } from \"../../types/protocol\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async restore(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes): boolean {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowDropLeft(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropLeft is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropLeft;\r\n    }\r\n\r\n    public getAllowDropRight(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropRight is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropRight;\r\n    }\r\n\r\n    public getAllowDropTop(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropTop is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropTop;\r\n    }\r\n\r\n    public getAllowDropBottom(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropBottom is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropBottom;\r\n    }\r\n\r\n    public getAllowDropHeader(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropHeader is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropHeader;\r\n    }\r\n\r\n    public getAllowSplitters(model: Row | Column): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        if (privateData.type === \"group\") {\r\n            throw new Error(`Cannot get allow splitters from private data ${privateData.type}`);\r\n        }\r\n\r\n        return privateData.config.allowSplitters;\r\n    }\r\n\r\n    public getAllowExtract(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    public getMinWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minWidth;\r\n    }\r\n\r\n    public getMaxWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxWidth;\r\n    }\r\n\r\n    public getMinHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minHeight;\r\n    }\r\n\r\n    public getMaxHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxHeight;\r\n    }\r\n\r\n    public getWidthInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.widthInPx;\r\n    }\r\n\r\n    public getHeightInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.heightInPx;\r\n    }\r\n\r\n    public getIsPinned(model: Column | Row): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig).isPinned;\r\n    }\r\n\r\n    public getIsMaximized(model: Column | Row | Group): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig | GroupSnapshotConfig).isMaximized;\r\n    }\r\n\r\n    public async setHeight(model: Row, height: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setWidth(model: Column, width: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setSize(model: Group, width?: number, height?: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width,\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.createFrame.name, definition);\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.initFrame.name, { frameId, ...config });\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n\r\n            return Object.assign(\r\n                {},\r\n                { id: summary.id, width: summary.config.widthInPx, height: summary.config.heightInPx },\r\n                summary.config\r\n            );\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: payload.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const snapshot = payload.workspaceSnapshot || (await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: payload.workspaceSummary.id }));\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        const workspace = this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n        return workspace;\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n\r\n    public async pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.pinWorkspace.name, { workspaceId, icon });\r\n    }\r\n\r\n    public async unpinWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.unpinWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        const result = await this.bridge.send<{ icon: string }>(OPERATIONS.getWorkspaceIcon.name, { workspaceId });\r\n        return result.icon;\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.bridge.send<void>(OPERATIONS.setWorkspaceIcon.name, { workspaceId, icon });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult, FrameBoundsResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        return await this.base.createEmptyFrame(definition);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        return this.base.initFrame(frameId, config);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public getWorkspaceById(workspaceId: string): Promise<Workspace> {\r\n        return this.base.fetchWorkspace(workspaceId);\r\n    }\r\n\r\n    public transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        return this.base.transformStreamPayloadToWorkspace(payload);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getWorkspacesByFrameId(frameId: string): Promise<Workspace[]> {\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n        const summariesForFrame = workspaceSummaries.filter((s) => s.frameId === frameId);\r\n\r\n        const workspacesForFrame = await Promise.all(summariesForFrame.map((summary) => {\r\n            return this.base.fetchWorkspace(summary.id);\r\n        }));\r\n\r\n        return workspacesForFrame;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameBounds(frameId: string): Promise<Glue42Workspaces.FrameBounds> {\r\n        const frameResult = await this.bridge.send<FrameBoundsResult>(OPERATIONS.getFrameBounds.name, { itemId: frameId });\r\n        return frameResult.bounds;\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\"): Promise<WorkspaceSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"frame\"): Promise<FrameSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    public pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        return this.base.pinWorkspace(workspaceId, icon);\r\n    }\r\n\r\n    public unpinWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.unpinWorkspace(workspaceId);\r\n    }\r\n\r\n    public getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        return this.base.getWorkspaceIcon(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.base.setWorkspaceIcon(workspaceId, icon);\r\n    }\r\n\r\n    public async getFrameConstraints(frameId: string): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const frameSnapshot = await this.getSnapshot(frameId, \"frame\");\r\n\r\n        return {\r\n            minWidth: frameSnapshot.config.minWidth,\r\n            maxWidth: frameSnapshot.config.maxWidth,\r\n            minHeight: frameSnapshot.config.minHeight,\r\n            maxHeight: frameSnapshot.config.maxHeight,\r\n        };\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition as Glue42Workspaces.BoxDefinition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder, emptyFrameDefinitionDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getWorkspaceById = async (workspaceId: string): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(workspaceId);\r\n\r\n        return controller.getWorkspaceById(workspaceId);\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const createEmptyFrame = async (definition?: Glue42Workspaces.EmptyFrameDefinition): Promise<Glue42Workspaces.Frame> => {\r\n        const validatedDefinition = emptyFrameDefinitionDecoder.runWithException(definition);\r\n\r\n        return controller.createEmptyFrame(validatedDefinition ?? {});\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await controller.transformStreamPayloadToWorkspace(payload);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const waitForFrame = async (id: string): Promise<Glue42Workspaces.Frame> => {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return new Promise<Glue42Workspaces.Frame>((res, rej) => {\r\n            let unsub: Glue42Workspaces.Unsubscribe = () => {\r\n                // do nothing\r\n            };\r\n            onFrameOpened((f) => {\r\n                if (f.id === id) {\r\n                    res(f);\r\n                    unsub();\r\n                }\r\n            }).then((u) => {\r\n                unsub = u;\r\n                return getAllFrames();\r\n            }).then((frames) => {\r\n                const myFrame = frames.find((f) => f.id === id);\r\n                if (myFrame) {\r\n                    res(myFrame);\r\n                    unsub();\r\n                }\r\n            }).catch(rej);\r\n        });\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getWorkspaceById,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        createEmptyFrame,\r\n        waitForFrame,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue from \"@glue42/desktop\";\r\nimport GlueWeb from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider settings={{\r\n      web: {\r\n        config: { libraries: [GlueWorkspaces] },\r\n        factory: (config) => {\r\n          return GlueWeb(config);\r\n        }\r\n      },\r\n      desktop: {\r\n        config: { libraries: [GlueWorkspaces], appManager: \"skipIcons\" },\r\n        factory: (config) => {\r\n          return Glue(config);\r\n        }\r\n      }\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","MetricTypes","STRING","NUMBER","TIMESTAMP","OBJECT","getMetricTypeByValue","metric","type","getTypeByValue","Date","serializeMetric","serializedMetrics","values","keys","reduce","memo","key","innerType","composite","defineNestedComposite","description","context","name","normalizeMetricName","path","join","getMetricValueByType","now","publishNestedComposite","getTime","Boolean","toString","flatten","arr","flat","toFlatten","concat","isArray","getHighestState","sort","state","aggregateDescription","msg","forEach","m","idx","slice","composeMsgForRootStateMetric","system","merged","root","getAggregateState","highestState","gw3","connection","config","joinPromise","session","_this","Error","init","repo","resolveReadyPromise","domain","onJoined","reconnect","undefined","defineRootMetricsMsg","metrics","Description","Value","send","replayRepo","service","instance","replaySystem","createSystem","createMetric","subSystems","ss","createMetricsMsg","_a","parent","updateSystem","shadowedUpdateMetric","stateObj","rootMetric","timestamp","peer_id","peerId","metricClone","cloneMetric","updateMetricCore","updateMetric","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","_b","Helpers","validate","definition","transport","BaseMetric","defineProperty","get","enumerable","configurable","update","newValue","NumberMetric","_super","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","protocol","_transport","_name","_description","_repo","_parent","_path","_buildPath","_state","id","_arrayToString","_subSystems","_metrics","subSystem","nameSystem","descriptionSystem","match","filter","_system","me","setState","stateDescription","stringMetric","_getOrCreateMetric","metricDef","numberMetric","objectMetric","timestampMetric","metricObject","expectedType","matching","shadowedMetric","existing","catch","shadowedSystem","separator","aggState","shadowedSubSystem","getState","Repository","options","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","document","clickStream_1","documentClickHandler","target","className","getAttribute","tagName","toLowerCase","href","title","page","window","location","addEventListener","attachEvent","urlMetric","appNameMetric","startUrl","glue42gd","appName","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","setTimeout","collect","setInterval","collectMemory","collectEntries","memory","performance","JSON","stringify","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","map","toJSON","disableAutoAppSystem","addFAVSupport","initPerf","pagePerformanceMetrics","perfConfig","enabled","featureMetric","reportingSystem","def","featureMetricFunc","action","payload","createRegistry","errorHandling","_userErrorHandler","callbacks","add","callback","replayArgumentsArr","callbacksForKey","replayArgument","includes","err","_handleError","allForKey","acc","element","index","execute","argumentsArr","_i","results","exceptionArtifact","errParam","stack","console","error","clear","clearKey","default","lib","InProcTransport","settings","logger","registry","gw","facade","connect","_client","message","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","close","open","SharedWorkerTransport","workerFile","worker","SharedWorker","port","onmessage","data","postMessage","Utils","getGDMajorVersion","glueDesktop","version","ver","Number","substr","isNaN","isNode","_isNode","global","process","PromiseWrapper","resolved","promise","delay","time","timers","getAllTimers","timer","timerName","marks","endTime","period","startTime","stop","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","_registry","wsRequests","ws","waitForSocketConnection","info","pw","failed","readyState","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","onerror","reason","seen_1","WeakSet","replacer","has","notifyStatusChanged","onclose","onopen","identity","application","wsRequest","status","createCommonjsModule","fn","module","exports","seed","getNextValue","setSeed","_seed_","alphabet","previousSeed","shuffled","randomFromSeed","nextValue","ORIGINAL","reset","setCharacters","_alphabet_","unique","split","item","ind","lastIndexOf","characters","setSeed$1","shuffle","characterIndex","sourceArray","targetArray","Math","floor","splice","getShuffled","lookup","alphabet_1","crypto","msCrypto","randomByte","getRandomValues","random","dest","Uint8Array","randomByteBrowser","encode","number","loopCounter","str","pow","encode_1","decode","indexOf","decode_1","isShortId","len","isValid","lib$1","counter","previousSeconds","REDUCE_TIME","clusterWorkerId","generate","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","handleConnectionDisconnected","loggedIn","handleConnectionLoggedIn","on","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","handleJoined","leave","wasReconnect","onLeft","requestId","request_id","entry","success","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","warn","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","parse","substring","milliseconds","parseInt","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","_c","loginConfig","username","password","gatewayToken","getNewGWToken","method","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","Buffer","from","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","clearTimeout","all","domainName","domainLogger","bind","authToken","createTokenReq","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","off","PromisePlus","executor","timeoutMilliseconds","timeoutMessage","timeout","WebPlatformTransport","parentReady","iAmConnected","children","extContentAvailable","extContentConnecting","extContentConnected","parentInExtMode","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handle","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","extConnectionResponse","handleExtConnectionResponse","extSetupRequest","handleExtSetupRequest","glue42ext","setUpMessageListener","setUpUnload","opener","top","parentType","publicWindowId","glue42ExtOut","windowId","event","waitParent","requestConnectionPermissionFromExt","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","request","glue42core","clientId","clientType","parentWindowId","connectionNotPossibleMsg","parentCheck","isIframe","self","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","extMode","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","processExtContentConnection","applicationName","extData","glue42ExtInc","child","find","c","grandChildId","source","origin","rejectConnectionRequest","typeToValidate","rejection","waitForContentScript","extConnectionResolve","extConnectionReject","approved","content","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","webPlatform","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlers","handlerId","handler","loggerError","log","msgObj","order","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","level","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","interop","Interop","methods","InteropMethodName","invoke","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","prepareConfig","configuration","ext","_d","_e","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getConnection","instanceId","pid","environment","region","gwConfig","gateway","defaultWs","gwURL","getApplication","uniqueAppName","env","appInstanceId","glue42electron","uid","applicationConfig","getAuth","auth","gwToken","getLogger","gdConsoleLevel","defaultLevel","consoleLogLevel","publish","windowAsAny","containerApplication","htmlContainer","containerName","bus","contexts","libs","customLogger","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","obj","hash","WeakMap","Set","RegExp","flags","set","Map","val","what","withWhat","right","left","deepEqual","x","pathArr","isSubset","superObj","subObj","every","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","dispose","contextName","createContext","lifetime","createContextMsg","context_id","contextData","hasReceivedSnapshot","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","subscribe","_r","un","unsubscribe","thisCallbackSubscriptionNumber","clone","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","destroy","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","ContextsModule","_bridge","checkName","checkData","checkPath","paths","paths_1","ready","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayStep","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","servers","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","getInvokePromise","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","methodResponseTimeoutMs","tryToAwaitForMethods","supportsStreaming","objectTypes","metadata","called_with","executed_by","returned","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","interval","clearInterval","filterByTarget","matches","myMatches","serverMethodPair","instanceMatch","localMachine","isLocal","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","prop","isMatch","filterValue","repoMethodValue","filterValueEl","String","matchingServers","resultMethodsObject","methodKey","identifier","prev","current","matchingMethods","ServerSubscription","subscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","accepts","displayName","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","some","serverMethod","protocolState","streamUserObject","repoId","remove","register","wrappedCallbackFunction","resultCallback","resultValue","args","userCallback","registerCore","registerAsync","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","methodName","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","unwrap","user","machine","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","wrapper","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","getById","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","br","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","eventName","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","errorMessage","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ERR_MSG_SUB_REJECTED","ON_CLOSE_MSG_SERVER_INIT","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","handleReconnect","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleInitialJoin","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","response","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupConnection","initTimer","authPromise","authConfig","setupLogger","setupMetrics","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","setupExternalLib","createCallback","waitForLibs","libsReadyPromises","constructGlueObject","feedbackFunc","feedbackInfo","coreVersion","glue","feedback","agm","glueVer","glueConfig","browser","timing","initTimes","duration","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_id","other","_updateCore","isNumber","arg","isString","isObject","isUndefined","isUndefinedOrNull","isNullOrWhiteSpace","test","isBoolean","isFunction","array","predicate","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","_manager","initiate","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","eventType","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","ActivityState","ActivityAGM","_activity","_ensureHasAgm","AGM","util.isUndefinedOrNull","windows","w","methodNames","methodsForWindow","currentWindowMethod","activityServers","util.isString","potentialTargets","util.isArray","firstElem","_isInstance","_isActivityWindow","win","parameters","AttachedActivityDescriptor","manager","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","descriptor","detachActivities","nextTick","cb","nodeify","util.isFunction","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","windowTypes","createStackedWindows","leaveWindowFromActivity","setActivityContext","updateActivityContext","subscribeActivityEvents","ns","os","subscribeWindowEvents","subscribeActivityContextChanged","act","stopActivity","attachActivities","subscribeActivitiesAttached","newActId","oldActId","subscribeActivitiesDetached","newAct","originalActivity","allStates","_attached","color","callbacksToWait","underlyingWindow","setFrameColor","LogLevel","GlueLogger","_glueLogger","Level","Trace","_getMessage","Debug","Info","Warn","owner","GetTypeName","object","exec","ActivityWindow","windowGetter","hcWindowId","Get","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getWindowBounds","getWindowType","util.isUndefined","getActivityById","isVisible","setWindowVisibility","focus","activateWindow","bounds","setWindowBounds","closeWindow","_subscribeForActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityStatus","gwMmessageError","gwMessageAddActivityTypes","gwMmessageActivityTypesAdded","gwMessageRemoveActivityTypes","gwMessageActivityTypesRemoved","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMmessageJoinActivity","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageLeaveActivity","gwMessageActivityLeft","gwNmessageMergeActivities","gwMessageSplitActivities","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessageRemovePeerFactories","gwMessagePeerFactoriesRemoved","gwMessageCreateActivity","gwMessageCreatePeer","gwMessagePeerRequested","gwMessageReady","gwMessagePeerCreated","gwMessageDestroyActivity","gwMessageDisposePeer","gwMessageDestroyPeer","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_config","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","addRefreshHandler","setGWToken","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","my","exit","mode","activity_types","typesToTrack","activityTypeName","toActivityPeerConfig","windowDefinition","owner_type","helper_types","activityType","activityTypeGwMessageEntityToActivityType","invokeCallbacks","Added","Removed","factory","peer_type","factories","peerFactoryGwMessageEntityToWindowType","factory_ids","initiateMsg","activity_type","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","activityWindowId","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","layout","width","height","cellSize","joinPeer","joinActivity","peer_name","created_id","destroy_peer_id","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","search","URLSearchParams","searchParams","maybeName","target_id","Updated","windowDefinitions","visible","cloneOptions","into","merge","newActivityInfo","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","getEntityEvent","ent","h","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","listenForRecreates","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","getRandomRequestId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","recreated","msg1","msg2","msg3","toReturn","factoryId","peerType","subscribeToContext","unsubscribeContext","owner_id","forwardAddedAndRemovedMessagesToEventHandler","activityCreatedMessage","participants","createdMessage","activityGwMessageToActivity","activityToActivityStatusChangeEvent","peerFactoryIdAndOwnerIdToWindowType","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","list","nameToWindowType","windowName","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","updateContext","setContext","attached","getFrameColor","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","detached","_notifyAttachedTo","_notifyAttached","oldAct","_notifyDetached","_notifyDetachedFrom","ReadyMarker","signalsToWait","_signals","_callbacks","isSet","isError","_error","EntityObservableCollection","processNew","_items","_listeners","_processNew","items","internalEntity","_updateInternalCollections","_notifyListeners","entityAddedHandler","getByName","listener","entityAsAny","isActivityDestroy","Destroyed","isWindowClose","Closed","oldEntity","_beforeDelete","_update","ActivityManager","bridge","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","setCallback","dataErr","announceWindow","signal","errCatch","refreshDescriptors","onActivitiesAttached","_handleActivitiesAttached","onActivitiesDetached","_handleActivitiesDetached","onActivityAttachedDescriptorsRefreshed","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","initReady","aw","_getInitialData","bridgeType","getError","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","registerActivityType","unregisterActivityType","initiateActivity","actId","getOrWait","at","factoryMethod","util.isObject","getName","registerWindowFactory","unregisterWindowFactory","util.some","getAnnouncementInfo","registerWindow","currentWindow","windowEventHandler","unsubscribeWindowEvents","wt","wrappingHandler","found","windowTypeOrConfiguration","relativeToWindow","invalidKeys","filteredWindowTypeOrConfiguration","wid","relativeWindowTypes","stackedWindow","tasks","leaveActivity","removedKey","cloneActivity","descriptors","_updateDescriptors","stateWrapped","u","getActivityTypes","getWindowTypes","getActivities","ac","getActivityWindows","onActivityTypeStatusChange","onWindowTypeStatusChange","onActivityWindowChange","onActivityStatusChange","descriptorAsObjectFromAPI","oldActivityId","newActivityId","getAttachedDescriptors","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","subscribeActivityTypeEvents","_getWindowTypesWrapper","registerFactory","unregisterFactory","subscribeWindowTypeEvents","announce","instances","subscribeActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","My","_api","_readyPromise","ShutdownMethodName","OnGDShutdownMethodName","RestartMethodName","GetConfigurationRegionMethodName","SetConfigurationRegionMethodName","GetUserMethodName","GetBranchesMethodName","GetCurrentBranchMethodName","SetCurrentBranchMethodName","GetFunctionalEntitlementMethodName","CanIMethodName","StartApplicationMethodName","StopApplicationMethodName","ActivateApplicationMethodName","OnEventMethodName","GetApplicationsMethodName","objectValues","objectClone","ApplicationImpl","_appManager","CallbackRegistryFactory","onInstanceStarted","onInstanceStopped","onAppRemoved","app","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","caption","hidden","container","allowMultiple","Type","Mode","isActivity","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","style","props","Name","startTimeout","waitForAGMInstance","waitForAGMReady","waitForApplicationInstance","unsub","waitFunc","onInstanceAgmServerReady","AgmNames.StartApplicationMethodName","Context","Options","acsResult","waitForInterop","Id","handleInstanceStarted","ActivityId","IsActivityOwner","AgmServers","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","onWindowAdded","updateAgmInstanceFromProps","agmInstances","AgmNames.StopApplicationMethodName","handleInstanceStopped","AgmNames.ActivateApplicationMethodName","AppManagerImpl","_gdMajorVersion","_apps","_instances","applications","getMyInstance","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","updateFromProps","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","EntitlementsImpl","_isMethodRegistered","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","AgmNames.GetConfigurationRegionMethodName","Region","getBranches","AgmNames.GetBranchesMethodName","Branches","getCurrentBranch","AgmNames.GetCurrentBranchMethodName","Branch","setRegion","AgmNames.SetConfigurationRegionMethodName","ResultMessage","setCurrentBranch","AgmNames.SetCurrentBranchMethodName","currentUser","AgmNames.GetUserMethodName","getFunctionalEntitlement","funct","AgmNames.GetFunctionalEntitlementMethodName","Entitlement","Function","getFunctionalEntitlementBranch","canI","func","AgmNames.CanIMethodName","Result","canIBranch","onBranchesChanged","onBranchChanged","AgmNames.ShutdownMethodName","onShuttingDown","registerMethod","restart","AgmNames.RestartMethodName","transformFunction","errHandler","prevent","snapshot","appManager","AgmNames.GetApplicationsMethodName","skipIcon","OnBranchChangedEvent","OnBranchesModifiedEvent","OnApplicationAddedEvent","OnApplicationRemovedEvent","OnApplicationChangedEvent","OnApplicationReadyEvent","OnApplicationStartedEvent","OnApplicationAgmServerReadyEvent","OnApplicationUpdatedEvent","OnApplicationStoppedEvent","OnApplicationStartFailedEvent","createDataSubscription","entitlements","skipIcons","start","resolveFunc","rejectFunc","resultPromise","AgmNames.OnEventMethodName","streamData","events","EventNames.OnApplicationAddedEvent","EventNames.OnApplicationChangedEvent","EventNames.OnApplicationRemovedEvent","EventNames.OnApplicationReadyEvent","EventNames.OnApplicationStartedEvent","EventNames.OnApplicationStartFailedEvent","EventNames.OnApplicationStoppedEvent","EventNames.OnApplicationUpdatedEvent","EventNames.OnApplicationAgmServerReadyEvent","EventNames.OnBranchChangedEvent","EventNames.OnBranchesModifiedEvent","InMemoryStoreCommandMethodName","InMemoryStore","apps","url","details","START_ONLY","SKIP_ICONS","FULL","subscriptionFactory","myInstance","inMemory","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","CallbackFactory","remote","urlChanged","targetWindowState","markReadyToShow","onReadyWindow","fail","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","display","max","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","min","appManagerGetter","displayAPIGetter","resultWindow","_group","_mode","_bounds","_url","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","_isCollapsed","isCollapsed","_windowState","_tabGroupId","tabGroupId","_tabIndex","tabIndex","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","_placementSettings","placementSettings","utils","callbackifyPromise","navigate","newUrl","util.isNullOrWhiteSpace","setStyle","styleAsAny","util.isNumber","resetButtons","buttons","setOnTop","onTop","setSizeConstraints","constraints","setTitle","newTitle","setSticky","moveResize","addFrameButton","buttonInfo","buttonId","imageBase64","removeFrameButton","activate","maximizeRestore","maximize","restore","minimize","collapse","expand","toggleCollapse","snap","direction","windowStore","attachTab","tab","opt","sourceWindow","attachOptions","selected","detachTab","argsForSend","isDetachRelative","o","hideTabHeader","setVisible","toBeVisible","showLoader","loader","hideLoader","lock","unlock","getIcon","setIcon","base64Image","setTabHeaderVisible","toBeTabHeaderVisible","setTabTooltip","tooltip","showPopup","createFlydown","setModalState","isModal","zoomIn","zoomOut","setZoomFactor","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","print","printOptions","printToPDF","printToPDFOptions","ungroup","ungroupOptions","unGroupChanged","onGroupChanged","newGroup","oldGroup","place","ignoreCache","download","opts","configure","configureWindow","onTitleChanged","onEventCore","onClose","onUrlChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onAttached","onDetached","onVisibilityChanged","onContextUpdated","onLockingChanged","onBoundsChanged","onFocusChanged","onStickyChanged","onFrameColorChanged","onTabHeaderVisibilityChanged","onWindowAttached","onWindowDetached","onTabSelectionChanged","onClosing","callbackWrap","onRefreshing","onZoomFactorChanged","onPlacementSettingsChanged","onNeighboursChanged","replayArguments","handleUpdate","handleTitleChanged","finished","finally","handleUrlChanged","handleVisibilityChanged","handleWindowSettingsChanged","handleContextUpdated","handleWindowClose","handleFrameButtonAdded","frameButton","buttonObj","btn","handleFrameButtonRemoved","frameButtonId","button","handleFrameButtonClicked","handleWindowChangeState","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","isFocused","handleIsStickyChanged","handleFrameColorChanged","handleFrameAttached","handleCompositionChanged","neighbors","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleFrameSelectionChanged","newWindow","prevWindow","selectedWindow","previousWindow","handleAttached","newTabGroupId","tabHeaderVisible","winsToBeNotified","Events","handleWindowAttached","handleDetached","handleWindowDetached","handleZoomFactorChanged","handlePlacementSettingsChanged","copy","displayAPI","handleGroupChanged","getAllTabs","allWindows","w1","w2","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","mapWindowIdsToWindowObjects","windowIdArr","winId","getNeighboursByDirection","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","hostInstance","agmInstance","frameButtons","minHeight","maxHeight","minWidth","maxWidth","opened","group","topNeighbours","leftNeighbours","rightNeighbours","bottomNeighbours","screen","getMonitor","monitors","show","hide","center","getDisplayCenterOfScreen","tabs","getURL","getTitle","getBounds","getContext","getDisplay","getByWindowId","resizeTo","moveTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","build","require$$0","GDExecutor","_finished","agmTarget","finishedResolve","waitFor","stylePromises","wait","tabTooltip","tabToolTip","toolTip","tabTitle","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","buttonsConfig","versionNum","rej","resolveImmediately","areBoundsEqual","unsubscribeBoundsChanged","resolveTimeout","targetWindow","targetWindowId","snappingEdge","sourceWindowId","eventKeys","replace","contextWithoutUndefinedValues","swapUndefinedToNull","icon","dataURL","toShow","optionsCopy","targetLocation","reformatedOptions","popupBounds","size","targetId","popupId","horizontalOffset","verticalOffset","fullOptions","reformatFlydownOptions","zoneIds","zones","z","flydownSize","cancel","clearFlydownArea","cancelCallback","callbackData","zoneId","flydownId","flydownWindowBounds","flydownWindowId","responses","defaultResponse","responseOptions","base64screenshot","groupWindowIds","filePath","enableDownloadBar","silent","fullPath","fileSize","executeWithoutToken","executeWithToken","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","uns","executed","requested","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","getWindowsByTabGroupId","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","_displayAPIGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","handleEvent","copyOptions","windowState","handleFlydownBoundsRequested","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","existingWindow","mapToWindowConstructorOptions","windowInfoCreatedEvent","setReadyState","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","setUrlChangedState","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","groupHeaderVisible","windowInfoFocusChanged","focusChanged","frameId","oldTabGroupId","newWindowId","prevWindowId","windowObjAndEvents","windowFactory","isActiveTab","streamEvent","charAt","toUpperCase","GD","gdPromise","callbackRegistry","_windowsId","addWindow","groupObject","removeWindow","_mapToWindowObject","mappedWindows","_mapToWindowObjects","winObjects","windowObject","_getGroupHeaderVisibility","onHeaderVisibilityChanged","onWindowRemoved","isHeaderVisible","showHeader","hideHeader","captureGroup","groupAPI","groupInternal","_groups","heardForWindowsCounter","findGroupByWindow","groupObj","onWindowMoved","createOrGet","createdGroup","groupFactory","deleteIfEmpty","currentGroup","findGroupWrapperByWindow","moveWindow","fromGroup","toGroup","onRemoved","onCompositionChanged","onGroupHeaderVisibilityChanged","groupEvents","groupsAPI","groupsEvents","groups","isReady","envDetector","groupsFactory","myWindow","getIfReady","optionsAsAny","errMessage","windowsForListing","findById","windowAdded","windowRemoved","tabAttached","unsubFunc","unsubscribed","tabDetached","onWindowGotFocus","onWindowLostFocus","onEvent","handleWindowAdded","handleWindowRemoved","onTabAttached","onTabDetached","LayoutStore","layouts","condition","where","SaveContextMethodName","ContextProvider","activitiesGetter","registerRequestMethods","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","initial","accumulator","convertedValue","LayoutImpl","components","LayoutsAPIImpl","activityGetter","isSlimMode","l","gotSnapshot","verifyNotSlimMode","layoutObject","ignoreInstances","invokeMethodAndTrack","activityIdToJoin","closeRunningInstance","closeRunningInstances","closeMe","restoreOptions","activityToJoin","ignoreActivityWindowTypes","reuseExistingWindows","reuseWindows","excludeFromClosing","store","layoutType","handleResult","getObjectValues","Layouts","newName","oldName","onSaveRequested","skipStreamEvent","agmResult","streamEventReceived","responseHandler","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","transform","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","layoutData","removedLayouts","removedLayout","removeWhere","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","first","layout1","layout2","restoredLayouts","acsStream","DisplayCommand","T42DisplayCommand","T42DisplayOnEvent","DisplayManager","_registered","callGD","GetAll","decorateDisplay","getPrimary","primary","isPrimary","Capture","screenshot","captureAll","CaptureAll","screenshots","getMousePosition","GetMousePosition","point","invocationResult","original","decoratedDisplay","workAreaAsAny","workArea","GetByWindowId","setupAGM","interopLib","channels","leaveNoSelectorSwitch","channel","joinNoSelectorSwitch","swId","switchChannel","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","isChannel","createContextName","___","startsWith","channelContextName","channelName","ChannelsImpl","shared","subsKey","changedKey","isInitialJoin","initialChannel","subscribeFor","updateData","channelNames","channelContexts","getContextData","joinCore","leaveCore","changed","updateChannel","getWindowsWithChannels","windowInfos","changeSelector","doesChannelExist","channelExistsPromise","intervalId","sharedContexts","onChanged","getWindowsOnChannel","getMy","CommandMethod","InvokeMethod","RegisterCommand","UnregisterCommand","UnregisterAllCommand","HotkeysImpl","firstHotkey","hotkeys","hotkey","hkToLower","formatHotkey","registerInvokeAGMMethod","delete","unregisterAll","isRegistered","getLibConfig","defaultMode","trueMode","getModeAsString","appDefaultMode","appDefaultTrueMode","activitiesDefaultMode","layoutsDefaultMode","Glue42Notification","actions","badge","dir","image","lang","renotify","requireInteraction","PanelAPI","STARTING_INDEX","Notifications","methodsRegistered","methodNameRoot","notifications","panel","bunchOfPromises","maxActions","handleNotificationAction","notification","severity","glueRoutingDetailMethodName","sourceId","validActions","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","attributes","dataAsString","g42notification","Event","onaction","actionInterop","dispatchEvent","sourceNotificationId","onclick","clickInterop","ThemesConfigurationMethodName","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getAll","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","themes","getCurrent","select","initInfo","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","intent","contextType","ctToLower","contextTypes","ct","intentName","intentDef","isDynamicIntent","intentDefHandler","anAppHandler","intentHandler","anInstanceHandler","startApp","raiseIntentToInstance","withIntentsInfo","appsWithIntents","applicationTitle","applicationDescription","applicationIcon","serverWindowIds","serverWindowId","T42WndGetInfo","windowsInfos","appWithIntents","appIntent","appDefIntent","windowsIdToTitle","instanceTitle","intentFlag","registeredIntent","interopServer","registeredMethod","addedMethod","windowsInfo","InitInfo","numberOfCalls","Prefs","interopMethodRegistered","verifyDataObject","verifyApp","verifyCallback","unsubscribeFn","registerInteropIfNeeded","getPromise","factoryCore","createWindows","createActivities","createAppManager","createLayouts","createChannels","createHotkeys","createIntents","createNotifications","createDisplaysApi","createThemes","createPrefs","getLibLogger","debugLog","currentLog","newLogger","loggerConfig","prefs","themesAPI","displaysLogger","_displays","notificationsAPI","intentsAPI","hotkeysAPI","channelsAPI","layoutsConfig","lay","LayoutsFactory","AppManagerFactory","activityLogger","windowsLogger","WindowsFactory","glueFactoryLog","CoreFactory","glueApi","libraries","whatToExpose","CreateGlue","shouldSetToWindow","autoInjected","Glue","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","fromCharCode","test3","letter","shouldUseNative","symbols","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","getShim","isRequired","ReactPropTypes","bool","string","symbol","any","arrayOf","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","aa","encodeURIComponent","ba","ca","da","ea","fa","createElement","ha","ia","ja","ka","B","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","D","oa","pa","qa","ma","na","la","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ra","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","for","E","Ma","Ka","La","Na","trim","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","render","_render","Ra","$$typeof","_payload","_init","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","ownerDocument","eb","Children","db","fb","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","ob","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeType","nodeValue","qb","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","setProperty","ub","menuitem","area","base","col","embed","hr","img","input","keygen","link","param","track","wbr","vb","wb","is","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","removeEventListener","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","return","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","pointerId","tc","vc","wc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","shift","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","transition","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","F","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","bd","cd","LN2","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","code","repeat","locale","which","Rd","Td","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","datetime","email","month","range","tel","text","week","ne","oe","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","De","Ee","Fe","He","Ie","Je","Ke","Le","offset","nextSibling","Me","contains","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","end","selectionEnd","anchorNode","defaultView","getSelection","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","G","$e","af","bf","cf","df","passive","Nb","q","ef","ff","parentWindow","gf","hf","J","K","Q","L","je","char","ke","unshift","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","H","I","Cf","M","N","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","O","eg","fg","gg","hg","ig","jg","kg","ReactCurrentBatchConfig","lg","defaultProps","mg","ng","og","pg","qg","rg","_currentValue","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","A","C","Dg","Eg","Fg","Component","refs","Gg","Kg","isMounted","_reactInternals","enqueueSetState","Hg","Ig","Jg","enqueueReplaceState","enqueueForceUpdate","Lg","shouldComponentUpdate","isPureReactComponent","Mg","updater","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","ref","_owner","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","documentElement","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","th","uh","_workInProgressVersionPrimary","vh","ReactCurrentDispatcher","wh","xh","R","S","T","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","queue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","U","useState","getSnapshot","useEffect","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useCallback","useContext","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","ReactCurrentOwner","fi","gi","hi","ii","ji","compare","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","fallback","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","last","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onClick","createElementNS","createTextNode","V","Hi","Ii","W","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","insertBefore","_reactRootContainer","ij","jj","kj","lj","mj","nj","ceil","oj","pj","X","Y","qj","rj","sj","tj","uj","vj","Infinity","wj","ck","Z","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","extend","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","onCommitFiberRoot","fk","gk","ik","isReactComponent","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","ok","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","_calculateChangedBits","unstable_observedBits","unmount","querySelectorAll","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","__REACT_DEVTOOLS_GLOBAL_HOOK__","yk","isDisabled","supportsFiber","inject","createPortal","findDOMNode","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","checkDCE","__self","__source","jsx","Fragment","StrictMode","Profiler","Suspense","forceUpdate","escape","_result","IsSomeRendererActing","count","toArray","only","PureComponent","cloneElement","_currentValue2","_threadCount","Provider","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","async","iter","reverse","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","MapShim","getIndex","class_1","__entries__","ctx","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","arr2","__esModule","arrayLikeToArray","ReferenceError","asyncGeneratorStep","gen","_next","_throw","Constructor","_defineProperties","protoProps","staticProps","unsupportedIterableToArray","allowArrayLike","it","normalCompletion","didErr","_e2","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","superPropBase","_get","property","receiver","desc","_getPrototypeOf","subClass","superClass","sham","Proxy","_s","_arr","_n","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptors","defineProperties","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","sourceKeys","_typeof","assertThisInitialized","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","chunkId","miniCssF","globalThis","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","charset","src","onScriptComplete","onload","doneFns","head","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","chunkLoadingGlobal","_arrayLikeToArray","_unsupportedIterableToArray","_defineProperty","_classCallCheck","_createClass","GlueContext","GlueProvider","setGlue","web","desktop","factoryResult","_g","_h","_j","_k","GlueWeb","GlueWebPlatform","useGlueInit","React","propTypes","__rest","throw","ApplicationItem","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isShell","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","workspaceWindow","onWindowLoaded","workspace","addGroup","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","htmlFor","role","withGlueInstance","WrappedComponent","workspaceId","boxId","resizePopup","setParent","setSearchTerm","containerRef","shouldUpdate","workspaces","getWorkspaceById","myWorkspace","getBox","getAllWorkspaces","allWorkspaces","refreshPopupHeight","containerHeight","getBoundingClientRect","placeholder","onChange","Feedback","regexResult","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","summary","layoutName","restoreWorkspace","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","operation","operationArguments","downloadElement","append","click","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","controls","errors","createObject","contructor","objectKeys","getHashValue","getQueryStringParam","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","fnBind","removeFromArray","moveInArray","getUniqueId","filterXss","stripTags","idAsString","isCustomWorkspaceTab","_layoutManager","_componentFactory","createWorkspaceTabs","EventEmitter","_mSubscriptions","ALL_EVENT","emit","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_ignorePinned","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","Stack","component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","dimensions","labels","workspacesOptions","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","_createSubWindows","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","_maximizeContainers","callDownwards","_dragListener","_element","_itemConfig","createContentItem","Root","createPopout","isRoot","addId","screenLeft","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","_$maximiseItem","_$minimiseItem","after","prepend","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","allowDrop","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","side","_$calculateItemAreas","_getAllContentItems","isStack","workspacesConfig","contentItem","_contentAreaDimensions","header","highlightArea","_dropSegment","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","_findAllStackContainers","_addChildContentItemsToContainer","getItemsByFilter","isMaximized","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","restoreMaximizedContainers","hasId","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","workspaceInnerDrag","borderWidth","borderGrabWidth","minItemHeight","maxItemHeight","maxItemWidth","dragProxyWidth","dragProxyHeight","popout","tabDropdown","itemDefaultConfig","isClosable","_dimensions","_parentId","_indexInParent","_popoutWindow","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","_positionWindow","_onClose","_onInitialised","setItem","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","layoutManager","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_dragProxy","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","createBeforeGroupTabs","elementId","createAfterGroupTabs","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","moveTab","_syncContentItemOrder","removeTab","setActiveContentItem","setActive","activeItemIndex","emitBubblingEvent","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","outerHeight","z-index","margin-left","[object Object]","isPinned","_action","Splitter","_isVertical","_size","_grabSize","_createElement","_customTabTemplate","_elementOffset","_xOfLastReorder","titleElement","closeElement","TabDragListener","_onReorderStart","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","createWorkspaceTabsOptions","pin","_getLastIndexOfPinnedTab","unpin","componentState","allowExtract","_onReorder","_onReorderStop","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","ItemContainer","isHidden","_contentElement","getElement","setSize","isColumn","_calculateRelativeSizes","extendState","_$setSize","offsetWidth","_extendItemNode","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","_$hide","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","_scheduleEventPropagationToLayoutManager","_propagateEventToLayoutManager","_$shown","shown","_containerElement","getMinWidth","getMaxWidth","getMinHeight","getMaxHeight","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","pinnedSize","_respectItemWidthConstraints","_respectItemHeightConstraints","_isRow","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","horizontal","vertical","_getMaximumDimensions","_setMinMaxSplitterPosition","allowSplitters","_activeContentItem","_dropZones","_dropIndex","createId","_$validateClosability","realHeight","_getItemToFocusAfterRemove","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","allowDropHeader","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","initEvent","createEventObject","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_destroy","ReactDOM","_getReactComponent","_onUpdate","glEventHub","glContainer","reorderTimeout","_startReorder","_inReorder","_stopReorder","_idToLayout","workspaceIds","workspaceLayout","_workspaceLayout","workspaceLayoutHeader","getByContainerIdCore","mergeWindows","hibernatedWindows","lastActive","getWorkspaceContentItem","containerElement","setupEvents","visibleTabs","getTabWidth","refreshTabClasses","classList","handleTabCountChanged","removedNodes","addedNodes","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","isTabPinned","visibilityState","logo","workspaceTabs","addWorkspace","systemButtons","workspaceContents","beforeGroupTabs","afterGroupTabs","componentsFactory","_decoratedFactory","getWorkspaceIdFromContents","decoratedFactory","isSelected","changeSelectedState","onWorkspaceClosed","removeWorkspaceTabs","createWorkspaceContents","removeWorkspaceContents","subscribeForWorkspaceContentsVisibility","removeBeforeGroupTabs","onGroupClosed","removeAfterGroupTabs","updateWorkspaceTabs","showSaveButton","showCloseButton","getElementById","lastSelectedWorkspaceTab","stateResolver","windowContentItem","isTabless","getSummaryCore","isWorkspaceSelected","cachedBounds","getUserFriendlyParent","itemId","isLoaded","positionIndex","widthInPx","heightInPx","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtact","populateChildrenAllowSplitters","showMaximizeButton","showEjectButton","showAddWindowButton","getByContainerId","getUserFriendlyType","findElementInConfig","workspaceContentItem","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","isHibernated","hibernateConfig","findIndex","showAddWindowButtons","showEjectButtons","showWindowCloseButtons","transformComponentsToWindowSummary","transformParentsToContainerSummary","getPropertyFromConfig","populateChildrenAllowExtract","populateChildrenShowAddWindowButtons","populateChildrenShowEjectButtons","populateChildrenShowWindowCloseButtons","parentElement","hasMaximizedItems","getWindowSummarySync","getContainerSummary","hibernatedWorkspaceIconLabel","workspaceTab","getWorkspaceTabElement","hasClass","HibernationIconClass","hideWorkspaceSaveButton","showWorkspaceIconButton","hideWorkspaceIconButton","showWorkspaceSaveButton","SaveWorkspaceButtonLabel","getWindowContentItem","getContainer","showWindowCloseButton","hideWindowCloseButton","hideEjectButton","hideAddWindowButton","hasTransition","getPropertyValue","_maximizedId","_workspaceLayoutElementId","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","getImmediateChildEmptyWindow","_options","_emitter","_stateResolver","_configFactory","emitter","_frameId","_showLoadingIndicator","showLoadingIndicator","_tabObserver","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","raiseEvent","setupOuterLayout","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","resetWorkspace","getContainerConfig","getWorkspaceLayoutComponentName","getWorkspaceTitle","getWorkspaceTitles","registerWorkspaceComponent","hideWorkspaceCloseButton","replaceWorkspaceSaveButtonWithIcon","waitForTransition","refreshTabsMaxWidth","removeLayout","reuseWorkspaceId","setWorkspaceTitle","getWorkspaceLayoutItemById","removeById","showAddButton","getDragElement","setDragElementSize","waitForWindowContainer","getElementsByClassName","showWorkspaceCloseButton","hideWindowCloseButtons","hideEjectButtons","hideAddWindowButtons","hideMaximizeButton","validateRowHeight","resizeComponentCore","validateColumnWidth","validateStackWidth","validateStackHeight","unpinWorkspace","pinWorkspace","validateComponentWidth","validateComponentHeight","addOrUpdate","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","getElementByClass","waitForLayout","composedPath","blur","syncWorkspaceOrder","onOuterLayoutContainerResized","onContentContainerResized","dt","_idToFrame","_glue","startCore","setImmediate","loading","URL","waitForWindow","LAST_SESSION_KEY","sessionStorage","emptyFrame","workspaceNames","cleanUpUrl","removeQueryParams","history","replaceState","pathname","resolver","_configConverter","_constraintsValidator","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","export","fixWorkspace","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","getWorkspaceConfig","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","getWindowLayoutState","layoutState","_layoutEventEmitter","frameController","converter","waitForWindowContentItem","frameSummary","getFrameSummary","getWorkspaceSnapshot","getFrameConstraints","getFrameSnapshot","hasFrame","visualViewport","offsetLeft","offsetTop","getRendererWindowBounds","_pattern","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getDefaultWorkspaceConfig","loadingStrategy","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","tt","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","interopId","et","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","ot","askForSettings","decorateCommunicationId","communicationId","_frameController","_delayedExecutor","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","defaultStrategy","getComponentsByVisibility","visibleComponents","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","initialDelay","initialOffsetInterval","onLoaded","getTitleByAppName","vaidateTitle","getUrlByAppName","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","maximizeTab","selectionChanged","raiseFailed","closeTab","nt","actionsInProgress","splitInBatches","executeBatch","st","getAllItemsFromWorkspace","areConstraintsValid","getConstraintsFromItem","validateWorkspace","rt","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","extractWindowSummariesFromSnapshot","getWorkspaceSummary","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","initPromise","initialized","_initialized","layoutsManager","_facade","loadConfig","_popupManager","initLayout","reInitialize","setInitialWorkspaceConfig","getActiveWorkspace","reinitializeWorkspace","maximizeContainer","maximizeWindow","restoreContainer","restoreWindow","closeWorkspace","closeContainer","cleanIsPinned","addContainer","applyIsPinned","setWindowTitle","closeItem","reuseId","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","isInitialized","initializationContext","removeLayoutElement","generateLayout","hideHibernatedIcon","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","disableWorkspaceAddWindowButtons","enableWorkspaceAddWindowButtons","disableWorkspaceEjectButtons","enableWorkspaceEjectButtons","disableWorkspaceWindowCloseButtons","enableWorkspaceWindowCloseButtons","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","windowPlacementId","disableWindowExtract","enableWindowExtract","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","resizeWorkspaceItem","isWindowMaximized","resizeRow","resizeColumn","resizeStack","resizeComponent","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onItemDropped","onSelectionChanged","onWorkspaceAdded","handleOnWorkspaceAdded","onWorkspaceSelectionChanged","selectionChangedDeep","isWindowVisible","onAddButtonClicked","onContentLayoutInit","onWorkspaceAddButtonClicked","onWorkspaceSaveRequested","onContainerMaximized","onContainerRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","refreshWorkspaceSize","onContentItemRemoved","notifyGroupClosed","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","checkForEmptyWorkspace","notifyWorkspaceClosed","startDelayed","startDirect","startLazy","isPlatformFrame","handleOnWorkspaceAddedWithSnapshot","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableRowSplitters","enableRowSplitters","disableColumnDrop","enableColumnDrop","disableColumnSplitters","enableColumnSplitters","workspaceSnapshot","doesContainerContainLockingProperties","lockContainer","doesWorkspaceContainLockingProperties","lockWorkspace","doesWindowContainLockingProperties","lockWindow","getItemFromWorkspace","isLockingPropertySet","showExtractButton","showExtractButtons","_inDisposing","_controlPromise","handleControlCore","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleResizeItem","handlePinWorkspace","handleUnpinWorkspace","handleGetWorkspaceIcon","handleSetWorkspaceIcon","handleInitFrame","handleCreateFrame","handleControl","_workspacesControlMethod","_workspacesEventMethod","_converter","_locker","_constraintValidator","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","openWorkspace","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","fixNewContainer","applyContainerLockConfiguration","fixNewWindow","applyWindowLockConfiguration","convertCreateWorkspaceArgumentsToWorkspaceItem","applyLockConfiguration","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","move","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","resizeItem","getWorkspaceIcon","setWorkspaceIcon","convertLayoutOptionsToWorkspaceItem","initFrameLayout","setFrameContext","lt","nonce","noModule","jquery","pushStack","prevObject","each","eq","even","grep","odd","expando","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","needsContext","charCodeAt","_t","childNodes","qsa","scope","yt","cacheLength","ht","attrHandle","ut","sourceIndex","pt","mt","ft","gt","isXML","setDocument","createComment","getElementsByName","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","sortDetached","specified","uniqueSort","detectDuplicates","sortStable","getText","selectors","createPseudo","relative",">"," ","+","~","preFilter","uniqueID","pseudos","setFilters","not","hasFocus","selectedIndex","empty","nth","radio","checkbox","file","submit","vt","Ct","It","kt","bt","filters","tokenize","compile","selector","expr","isXMLDoc","escapeSelector","parseHTML","contents","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","Callbacks","once","stopOnFalse","disable","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","tr","_default","tbody","tfoot","colgroup","optgroup","htmlPrefilter","xt","Wt","Et","St","namespace","isTrigger","special","delegateType","stopImmediatePropagation","triggered","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","isSimulated","offsetX","offsetY","mouseenter","mouseleave","pointerenter","pointerleave","Tt","Bt","Dt","Mt","At","Pt","Lt","Ot","Rt","_evalUrl","Ht","cleanData","detach","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ft","zt","$t","Nt","jt","pixelBoxStyles","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Gt","Ut","Vt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","Kt","getClientRects","cssHooks","isFinite","border","Tween","easing","propHooks","run","pos","fx","linear","swing","cos","PI","tick","tweeners","prefilters","tweens","specialEasing","originalProperties","originalOptions","createTween","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","removeAttr","attrHooks","removeProp","propFix","class","toggleClass","valHooks","focusin","simulate","triggerHandler","parseXML","DOMParser","parseFromString","serialize","serializeArray","dataTypes","ajaxSettings","flatOptions","active","lastModified","etag","processData","contentType","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","xhr","XMLHttpRequest","0","1223","cors","xhrFields","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","scriptCharset","Ge","jsonp","jsonpCallback","createHTMLDocument","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","undelegate","hover","holdReady","parseJSON","isWindow","camelCase","isNumeric","jQuery","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","_extends","useIsomorphicLayoutEffect","Style","popupContent","modal","popupArrow","background","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","arrowTop","arrowLeft","popupIdCounter","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","contentRef","arrowRef","focusedElBeforeOpen","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","contentBox","calculatePosition","scrollY","scrollX","els","firstFocusableEl","lastFocusableEl","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","Portal","templateId","shouldInit","template","onCreateLogoRequested","onCreateWorkspaceTabRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateBeforeGroupTabsRequested","createGroupTabs","onCreateGroupTabRequested","onCreateAfterGroupTabsRequested","createGroupHeaderButtons","onCreateGroupHeaderButtonsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onUpdateWorkspaceTabsRequested","onRemoveWorkspaceTabsRequested","onRemoveWorkspaceContentsRequested","onRemoveBeforeGroupTabsRequested","removeGroupTab","onRemoveGroupTabRequested","onRemoveAfterGroupTabsRequested","removeGroupHeaderButtons","onRemoveGroupHeaderButtonsRequested","onHideSystemPopupsRequested","externalPopupApplications","workspaceTabsObj","previousObj","beforeGroupTabsZones","beforeTabsZonesObj","afterGroupTabsZones","afterTabsZonesObj","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","newTabElementsObj","LogoCustomElement","LogoComponent","TabComponent","WorkspaceTabComponent","onSaveClick","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","BeforeGroupTabsComponent","containers","BeforeTabs","AfterGroupTabsComponent","AfterTabs","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_x","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderWorkspaceTabs","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorkspaceContents","renderBeforeGroupTabs","renderAfterGroupTabs","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","WorkspacesWrapper","onCreateBeforeGroupTabsComponentRequested","onCreateAfterGroupTabsComponentRequested","onUpdateWorkspaceTabRequested","onRemoveWorkspaceTabRequested","onRemoveBeforeTabsComponentRequested","onRemoveAfterTabsComponentRequested","onHideSystemPopups","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","_createForOfIteratorHelper","parseConfig","isPlatformInternal","combined","systemLogger","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","asPromise","withDefault","withException","map2","ar","mapError","andThen","freeze","isOk","isErr","successes","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","prependAt","newAt","rest","__rest$1","Decoder","kind","runPromise","runWithException","succeed","boolean","constant","decoders","decoder","err$$1","decodeValue_1","tuple","union","ad","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","mkDecoder","nonEmptyStringDecoder","nonNegativeNumberDecoder","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","notificationsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","frameWindowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDetailsDecoder","intentDefinitionDecoder","customConfig","fdc3AppDefinitionDecoder","appId","manifest","manifestType","contactEmail","supportEmail","publisher","images","icons","applicationDefinitionDecoder","customProperties","allApplicationDefinitionsDecoder","appRemoveConfigDecoder","definitions","appsExportOperationDecoder","applicationDataDecoder","baseApplicationDataDecoder","appDirectoryStateChangeDecoder","appsAdded","appsChanged","appsRemoved","appHelloSuccessDecoder","basicInstanceDataDecoder","applicationStartConfigDecoder","forceChromeTab","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","layoutSummaryDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","importModeDecoder","layoutsImportConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","intentsOperationTypesDecoder","intentHandlerDecoder","intentDecoder","intentTargetDecoder","intentContextDecoder","wrappedIntentsDecoder","intentFilterDecoder","findFilterDecoder","wrappedIntentFilterDecoder","intentRequestDecoder","raiseRequestDecoder","intentResultDecoder","addIntentListenerRequestDecoder","addIntentListenerIntentDecoder","channelNameDecoder","interopActionSettingsDecoder","glue42NotificationActionDecoder","notificationDefinitionDecoder","vibrate","glue42NotificationOptionsDecoder","focusPlatformOnDefaultClick","raiseNotificationDecoder","permissionRequestResultDecoder","permissionGranted","permissionQueryResultDecoder","permission","notificationEventPayloadDecoder","operations","openWindow","dataDecoder","resultDecoder","windowHello","getFrameBounds","getUrl","WebWindowModel","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","ioc","actualWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationName","operationData","windowSuccess","buildWebWindow","projection","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","promiseActive","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","operationResult","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","baseErrorMessage","invocationErrorMessage","operations$1","appHello","appDirectoryStateChange","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","baseApplicationsTimeoutMS","appImportTimeoutMS","addOperationsExecutors","startOptions","forceTab","openResult","buildInstance","getApplications","getInstances","handleAppDirectoryStateChange","handleInstanceStartedMessage","handleInstanceStoppedMessage","handleApplicationAddedMessage","handleApplicationChangedMessage","handleApplicationRemovedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","parseResult","soFar","valid","invalid","responseTimeout","imported","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","startApplication","operations$2","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","onAdded","handleOnAdded","handleOnChanged","handleOnRemoved","operations$3","raiseNotification","requestPermission","notificationShow","notificationClick","getPermission","bytes","format_browser","mask","generate_1","build_1","basedir","commonjsRequire","NotificationsController","notificationsSettings","buildNotificationFunc","buildNotification","addOperationExecutors","raise","queryResult","permissionResult","handleNotificationShow","handleNotificationClick","onshow","defaultClick","actionClicks","actionDef","operations$4","getIntents","findIntent","raiseIntent","IntentsController","myIntents","GlueWebIntentsPrefix","addIntentListener","requestObj","subscribed","intentFilterObj","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","getAllChannelNames","switchToChannel","currentChannelName","channelContext","operations$5","getEnvironment","getBase","SystemController","setEnvironment","Notification","operations$6","clientHello","widget","ExtController","contentCommands","widgetVisualizationPermission","handleWidgetVisualizationPermission","changeChannel","handleChangeChannel","channelsController","eventsDispatcher","onContentMessage","handleContentMessage","sendContentMessage","foundHandler","allowed","currentChannel","EventsDispatcher","glue42CoreEventName","notifyStarted","handleNotifyStarted","contentInc","handleContentInc","wireCustomEventListener","announceStarted","glue42Event","CustomEvent","Glue42CoreMessageTypes","webPlatformTransportName","PreferredConnectionController","transactionTimeout","transactionLocks","reconnectCounter","coreConfig","isPreferredActivated","webPlatformTransport","webPlatformMessagesUnsubscribe","handleWebPlatformMessage","getCurrentPlatformTransportState","transportState","checkSwitchTransport","isConnectedToPlatform","transactionId","handleTransportSwitchRequest","handleGetCurrentTransportResponse","handleCheckPreferredLogic","handleCheckPreferredConnection","reEstablishPlatformPort","myCurrentTransportName","transportName","switchTransport","setConnected","transaction","setTransaction","sendPlatformMessage","transactionLock","transactionLive","lift","switchSettings","checkPreferredConnection","manualSetReadyState","IoC","windowsController","appManagerController","layoutsController","notificationsController","intentsController","systemController","extension","extensionController","_publicWindowId","_actualWindowId","_communicationId","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_notificationsControllerInstance","_intentsControllerInstance","_systemControllerInstance","_channelsControllerInstance","_extensionController","_eventsDispatcher","_bridgeInstance","_preferredConnectionController","_webConfig","applicationInstances","version$1","__assign$1","__awaiter$1","aggregateDesc","createRegistry$1","lib$2","seed$1","alphabet$1","previousSeed$1","shuffled$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","isValid$1","lib$1$1","createCommonjsModule$1","shortid$1","PromisePlus$1","gatewayDisconnect","handleGatewayDisconnect","gatewayInternalConnect","handleGatewayInternalConnect","setupPlatformUnloadListener","initiateInternalConnection","parentPingInterval","AsyncSequelizer","minSequenceInterval","isExecutingQueue","enqueue","executeQueue","actionResult","intervalBreak","_swapTransport","_switchInProgress","_transportSubscriptions","_sequelizer","unsubConnectionChanged","unsubOnMessage","_defaultTransport","switchTargetTransport","verifyPromise","isSwitchSuccess","getNewSecondaryTransport","_targetTransport","_targetAuth","getNewSecondaryAuth","_defaultAuth","verifyConnection","onLibReAnnounced","setLibReAnnounced","currentServer","newAuth","error_2","transportSwap","prepareDefaultSwap","waitForInvocations","transportConfig","version$2","_contextsTempCache","_contextsSubscriptionsCache","_trackAllContexts","trackAllContexts","_reAnnounceKnownContexts","reAnnounceKnownContexts","resetState","reInitiateState","subKey","_systemContextsSubKey","cacheSoFar","ctxName","lastKnownData","flushQueue","allRejected","TimedCache","timeoutIds","elementIdx","ELEMENT_TTL_MS","flush","elements","timedCache","drainSubscriptionsCache","reconnectionPromises","existingSubscriptions","_loop_2","coreFactoryFunction","glueWebFactory","preferredConnectionController","defineConfig","windowAny","positiveNumberDecoder","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","windowDefinitionConfigDecoder","groupDefinitionConfigDecoder","rowDefinitionConfigDecoder","columnDefinitionConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictColumnDefinitionDecoder","strictParentDefinitionDecoder","strictRowDefinitionDecoder","strictGroupDefinitionDecoder","newFrameConfigDecoder","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","workspaceSelectorDecoder","restoreWorkspaceDefinitionDecoder","emptyFrameDefinitionDecoder","frameConfig","frameInitConfigDecoder","frameInitProtocolConfigDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameInitializationContextDecoder","frameSummaryDecoder","eventTypeDecoder","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","minHeigth","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","frameBoundsResultDecoder","getWorkspaceIconResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","elementResizeConfigDecoder","lockWindowDecoder","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","pinWorkspaceDecoder","setWorkspaceIconDecoder","workspacePinOptionsDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","createFrame","initFrame","getAllFramesSummaries","getAllWorkspacesSummaries","getAllLayoutsSummaries","importLayout","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","Bridge","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","requestedArgumentsResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","InteropTransport","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","privateData","ParentBuilder","wrapChildren","serializeChildren","BaseBuilder","getBuilder","validatedDefinition","childBuilder","WorkspaceBuilder","Row","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","getAllowSplitters","getWidthInPx","getHeightInPx","getIsPinned","getIsMaximized","addParent","lockConfigResult","verifiedConfig","setHeight","Column","setWidth","Group","getAllowExtract","getAllowDropLeft","getAllowDropRight","getAllowDropTop","getAllowDropBottom","getAllowDropHeader","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","getWorkspaceData","getDataManager","Workspace","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","bundleTo","currentLockConfig","processLocalSubscription","windowParent","foundWindow","getWindowData","Window","checkIsWindowLoaded","getGdWindow","myId","getGDWindow","getParent","foundParent","getFrameData","Frame","validatedConfig","getWorkspacesByFrameId","validatedOptions","transformStreamPayloadToWorkspace","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","BaseController","privateDataManager","createConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","remapChild","foundChild","foundChildren","grandChildren","innerFound","MainController","createEmptyFrame","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","fetchWorkspace","iterateWorkspaces","foundWorkspace","matchingWorkspaces","getAllWorkspaceSummaries","workspaceSummaries","summariesForFrame","workspacesForFrame","allSummariesResult","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","frameSnapshot","createCoreEventSubscription","originalCB","wrappedCB","handleCoreSubscription","ended","_baseController","_controllerInstance","baseController","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","frameData","setFrameData","windowPrivateData","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","composeAPI","getAllFrames","exportLayout","onSaved","onFrameOpened","processGlobalSubscription","checkIsInSwimlane","getWorkspaces","getWorkspace","waitForFrame","myFrame","onFrameClosed","onWorkspaceOpened","factoryFunction","GlueWorkspaces","reportWebVitals"],"sourceRoot":""}