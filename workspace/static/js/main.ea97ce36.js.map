{"version":3,"file":"static/js/main.ea97ce36.js","mappings":"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","sources":["../node_modules/@glue42/desktop/node_modules/@glue42/core/dist/core.es.js","../node_modules/@glue42/desktop/src/activity/entities/activityEntity.ts","../node_modules/@glue42/desktop/src/activity/helpers/util.ts","../node_modules/@glue42/desktop/src/activity/entities/activityType.ts","../node_modules/@glue42/desktop/src/activity/entities/windowType.ts","../node_modules/@glue42/desktop/src/activity/contracts/entityEvent.ts","../node_modules/@glue42/desktop/src/activity/core/activityAGM.ts","../node_modules/@glue42/desktop/src/activity/entities/attachedActivityDescriptor.ts","../node_modules/@glue42/desktop/src/activity/helpers/promiseExtensions.ts","../node_modules/@glue42/desktop/src/activity/entities/activity.ts","../node_modules/@glue42/desktop/src/activity/helpers/logger.ts","../node_modules/@glue42/desktop/src/activity/entities/activityWindow.ts","../node_modules/@glue42/desktop/src/activity/contracts/activityStatus.ts","../node_modules/@glue42/desktop/src/activity/bridges/gw3Bridge.ts","../node_modules/@glue42/desktop/src/activity/API/activityMyAPI.ts","../node_modules/@glue42/desktop/src/activity/helpers/readyMarker.ts","../node_modules/@glue42/desktop/src/activity/helpers/entityObservableCollection.ts","../node_modules/@glue42/desktop/src/activity/core/activityManager.ts","../node_modules/@glue42/desktop/src/activity/API/activityManagementAPI.ts","../node_modules/@glue42/desktop/src/activity/API/activityAPI.ts","../node_modules/@glue42/desktop/src/activity/activityModule.ts","../node_modules/@glue42/desktop/src/app-manager/const/agm-names.ts","../node_modules/@glue42/desktop/node_modules/callback-registry/lib/index.js","../node_modules/@glue42/desktop/src/app-manager/helper.ts","../node_modules/@glue42/desktop/src/app-manager/application.ts","../node_modules/@glue42/desktop/src/app-manager/instance.ts","../node_modules/@glue42/desktop/src/app-manager/app-manager.ts","../node_modules/@glue42/desktop/src/app-manager/entitlements.ts","../node_modules/@glue42/desktop/src/app-manager/snapshot.ts","../node_modules/@glue42/desktop/src/app-manager/const/event-names.ts","../node_modules/@glue42/desktop/src/app-manager/data-subscription.ts","../node_modules/@glue42/desktop/src/app-manager/in-memory.ts","../node_modules/@glue42/desktop/src/app-manager/main.ts","../node_modules/@glue42/desktop/node_modules/shortid/lib/random/random-from-seed.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/alphabet.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/random/random-byte-browser.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/encode.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/decode.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/build.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/is-valid.js","../node_modules/@glue42/desktop/node_modules/shortid/lib/index.js","../node_modules/@glue42/desktop/node_modules/shortid/index.js","../node_modules/@glue42/desktop/src/windows/jumpList/manager.ts","../node_modules/@glue42/desktop/src/windows/store.ts","../node_modules/@glue42/desktop/src/utils.ts","../node_modules/@glue42/desktop/src/windows/jumpList/actions.ts","../node_modules/@glue42/desktop/src/windows/jumpList/categories.ts","../node_modules/@glue42/desktop/src/windows/jumpList/main.ts","../node_modules/@glue42/desktop/src/windows/window.ts","../node_modules/@glue42/desktop/src/windows/environment/gd/executor.ts","../node_modules/@glue42/desktop/src/windows/environment/helpers.ts","../node_modules/@glue42/desktop/src/windows/environment/gd/gd.ts","../node_modules/@glue42/desktop/src/windows/environment/detector.ts","../node_modules/@glue42/desktop/src/windows/group.ts","../node_modules/@glue42/desktop/src/windows/groups.ts","../node_modules/@glue42/desktop/src/windows/main.ts","../node_modules/@glue42/desktop/src/layouts/store.ts","../node_modules/@glue42/desktop/src/layouts/contextProvider.ts","../node_modules/@glue42/desktop/src/layouts/transform.ts","../node_modules/@glue42/desktop/src/layouts/layout.ts","../node_modules/@glue42/desktop/src/layouts/layouts.ts","../node_modules/@glue42/desktop/src/layouts/stream/acsStream.ts","../node_modules/@glue42/desktop/src/layouts/main.ts","../node_modules/@glue42/desktop/src/displays/displayManager.ts","../node_modules/@glue42/desktop/src/channels/agm.ts","../node_modules/@glue42/desktop/src/channels/contexts.ts","../node_modules/@glue42/desktop/src/channels/channels.ts","../node_modules/@glue42/desktop/src/channels/main.ts","../node_modules/@glue42/desktop/src/hotkeys/hotkeys.ts","../node_modules/@glue42/desktop/src/hotkeys/main.ts","../node_modules/@glue42/desktop/src/config.ts","../node_modules/@glue42/desktop/src/notifications/notification.ts","../node_modules/@glue42/desktop/src/notifications/panel.ts","../node_modules/@glue42/desktop/src/notifications/main.ts","../node_modules/@glue42/desktop/src/themes/themes.ts","../node_modules/@glue42/desktop/src/themes/main.ts","../node_modules/@glue42/desktop/src/intents/intents.ts","../node_modules/@glue42/desktop/src/factoryCallInfo.ts","../node_modules/@glue42/desktop/src/prefs/index.ts","../node_modules/@glue42/desktop/src/cookies/index.ts","../node_modules/@glue42/desktop/src/cookies/main.ts","../node_modules/@glue42/desktop/src/glue.ts","../node_modules/@glue42/desktop/src/index.ts","../node_modules/object-assign/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../node_modules/semver/classes/semver.js","../node_modules/semver/functions/compare.js","../node_modules/semver/functions/lte.js","../node_modules/semver/internal/constants.js","../node_modules/semver/internal/debug.js","../node_modules/semver/internal/identifiers.js","../node_modules/semver/internal/parse-options.js","../node_modules/semver/internal/re.js","../node_modules/shortid/index.js","../node_modules/shortid/lib/alphabet.js","../node_modules/shortid/lib/build.js","../node_modules/shortid/lib/decode.js","../node_modules/shortid/lib/encode.js","../node_modules/shortid/lib/index.js","../node_modules/shortid/lib/is-valid.js","../node_modules/shortid/lib/random/random-byte-browser.js","../node_modules/shortid/lib/random/random-from-seed.js","../node_modules/shortid/lib/util/cluster-worker-id-browser.js","../node_modules/ws/browser.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@glue42/react-hooks/src/Glue.tsx","../node_modules/@glue42/react-hooks/src/useGlueInit.ts","../node_modules/@glue42/workspaces-ui-react/node_modules/tslib/tslib.es6.js","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/HeaderButton.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../node_modules/@glue42/workspaces-ui-react/src/withGlueInstance.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/Feedback.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/helpers.ts","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../node_modules/@glue42/workspaces-ui-react/src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-core/dist/export.js","../node_modules/@glue42/workspaces-ui-react/src/workspacesManager.ts","../node_modules/@glue42/workspaces-ui-react/node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../node_modules/@glue42/workspaces-ui-react/src/WorkspacePopup.tsx","../node_modules/@glue42/workspaces-ui-react/src/Portal.tsx","../node_modules/@glue42/workspaces-ui-react/src/WorkspacesWrapper.tsx","../node_modules/@glue42/workspaces-ui-react/src/workspacesStore.ts","../node_modules/@glue42/workspaces-ui-react/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/@glue42/workspaces-ui-react/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js","../node_modules/@glue42/workspaces-ui-react/node_modules/use-sync-external-store/shim/index.js","../node_modules/@glue42/workspaces-ui-react/src/WorkspacesElementCreationWrapper.tsx","App.tsx","reportWebVitals.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@glue42/web/dist/web.es.js","../node_modules/@glue42/workspaces-api/node_modules/callback-registry/lib/index.js","../node_modules/@glue42/workspaces-api/node_modules/decoder-validate/dist/index.es5.js","../node_modules/@glue42/workspaces-api/src/shared/decoders.ts","../node_modules/@glue42/workspaces-api/src/communication/constants.ts","../node_modules/@glue42/workspaces-api/src/shared/promiseWrapper.ts","../node_modules/@glue42/workspaces-api/src/communication/bridge.ts","../node_modules/@glue42/workspaces-api/src/communication/interop-transport.ts","../node_modules/@glue42/workspaces-api/src/shared/promisePlus.ts","../node_modules/@glue42/workspaces-api/src/builders/parentBuilder.ts","../node_modules/@glue42/workspaces-api/src/builders/baseBuilder.ts","../node_modules/@glue42/workspaces-api/src/builders/workspaceBuilder.ts","../node_modules/@glue42/workspaces-api/src/models/row.ts","../node_modules/@glue42/workspaces-api/src/models/column.ts","../node_modules/@glue42/workspaces-api/src/models/group.ts","../node_modules/@glue42/workspaces-api/src/models/workspace.ts","../node_modules/@glue42/workspaces-api/src/models/window.ts","../node_modules/@glue42/workspaces-api/src/models/frame.ts","../node_modules/@glue42/workspaces-api/src/shared/privateDataManager.ts","../node_modules/@glue42/workspaces-api/src/models/base/base.ts","../node_modules/@glue42/workspaces-api/src/controllers/base.ts","../node_modules/@glue42/workspaces-api/src/controllers/main.ts","../node_modules/@glue42/workspaces-api/src/controllers/shortcuts.ts","../node_modules/@glue42/workspaces-api/src/shared/ioc.ts","../node_modules/@glue42/workspaces-api/src/main.ts","../node_modules/@glue42/workspaces-api/src/index.ts","index.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                var _a;\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                var className = target ? (_a = target.getAttribute(\"class\")) !== null && _a !== void 0 ? _a : \"\" : \"\";\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: className,\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (typeof retriesLeft === \"undefined\") {\r\n                            retriesLeft = this.settings.reconnectAttempts;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else if (config.provider) {\r\n                            authentication.provider = config.provider;\r\n                            authentication.providerContext = config.providerContext;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.iAmConnected = false;\r\n        this.parentReady = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.parentPingTimeout = 5000;\r\n        this.connectionRequestTimeout = 7000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) },\r\n            gatewayDisconnect: { name: \"gatewayDisconnect\", handle: this.handleGatewayDisconnect.bind(this) },\r\n            gatewayInternalConnect: { name: \"gatewayInternalConnect\", handle: this.handleGatewayInternalConnect.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        this.setupPlatformUnloadListener();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    WebPlatformTransport.prototype.manualSetReadyState = function () {\r\n        this.iAmConnected = true;\r\n        this.parentReady = true;\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"communicationId\", {\r\n        get: function () {\r\n            return this._communicationId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.gatewayDisconnect.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        this.parentReady = false;\r\n        this.notifyStatusChanged(false, \"manual reconnection\");\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.close()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, Promise.resolve()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.settings.port) return [3, 2];\r\n                        return [4, this.initiateInternalConnection()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.logger.debug(\"internal web platform connection completed\");\r\n                        return [2];\r\n                    case 2:\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 5];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateInternalConnection = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.logger.debug(\"opening an internal web platform connection\");\r\n            _this.port = _this.settings.port;\r\n            if (_this.iAmConnected) {\r\n                _this.logger.warn(\"cannot open a new connection, because this client is currently connected\");\r\n                return;\r\n            }\r\n            _this.port.onmessage = function (event) {\r\n                var _a, _b;\r\n                if (_this.iAmConnected && !((_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core)) {\r\n                    _this.registry.execute(\"onMessage\", event.data);\r\n                    return;\r\n                }\r\n                var data = (_b = event.data) === null || _b === void 0 ? void 0 : _b.glue42core;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.success) {\r\n                    _this.publicWindowId = _this.settings.windowId;\r\n                    if (_this.identity) {\r\n                        _this.identity.windowId = _this.publicWindowId;\r\n                    }\r\n                    resolve();\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.error) {\r\n                    reject(data.error);\r\n                }\r\n            };\r\n            _this.port.postMessage({\r\n                glue42core: {\r\n                    type: _this.messages.gatewayInternalConnect.name\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            var _a;\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = (_a = _this.myClientId) !== null && _a !== void 0 ? _a : shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            _this.parentPingInterval = setInterval(function () {\r\n                                target.postMessage(message, _this.defaultTargetString);\r\n                            }, 1000);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        parentCheck.catch(function () {\r\n                            if (_this.parentPingInterval) {\r\n                                clearInterval(_this.parentPingInterval);\r\n                                delete _this.parentPingInterval;\r\n                            }\r\n                        });\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        this.isPreferredActivated = data.isPreferredActivated;\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this._communicationId = data.communicationId;\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.setupPlatformUnloadListener = function () {\r\n        var _this = this;\r\n        this.onMessage(function (msg) {\r\n            if (msg.type === \"platformUnload\") {\r\n                _this.logger.debug(\"detected a web platform unload\");\r\n                _this.parentReady = false;\r\n                _this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n            }\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayDisconnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayInternalConnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar waitForInvocations = function (invocations, callback) {\r\n    var left = invocations;\r\n    return function () {\r\n        left--;\r\n        if (left === 0) {\r\n            callback();\r\n        }\r\n    };\r\n};\n\nvar AsyncSequelizer = (function () {\r\n    function AsyncSequelizer(minSequenceInterval) {\r\n        if (minSequenceInterval === void 0) { minSequenceInterval = 0; }\r\n        this.minSequenceInterval = minSequenceInterval;\r\n        this.queue = [];\r\n        this.isExecutingQueue = false;\r\n    }\r\n    AsyncSequelizer.prototype.enqueue = function (action) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.queue.push({ action: action, resolve: resolve, reject: reject });\r\n            _this.executeQueue();\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.executeQueue = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var operation, actionResult, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.isExecutingQueue) {\r\n                            return [2];\r\n                        }\r\n                        this.isExecutingQueue = true;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.queue.length) return [3, 7];\r\n                        operation = this.queue.shift();\r\n                        if (!operation) {\r\n                            this.isExecutingQueue = false;\r\n                            return [2];\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4, operation.action()];\r\n                    case 3:\r\n                        actionResult = _a.sent();\r\n                        operation.resolve(actionResult);\r\n                        return [3, 5];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        operation.reject(error_1);\r\n                        return [3, 5];\r\n                    case 5: return [4, this.intervalBreak()];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [3, 1];\r\n                    case 7:\r\n                        this.isExecutingQueue = false;\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.intervalBreak = function () {\r\n        var _this = this;\r\n        return new Promise(function (res) { return setTimeout(res, _this.minSequenceInterval); });\r\n    };\r\n    return AsyncSequelizer;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        this._swapTransport = false;\r\n        this._switchInProgress = false;\r\n        this._transportSubscriptions = [];\r\n        this._sequelizer = new AsyncSequelizer();\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        this._defaultTransport = this.transport;\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.switchTransport = function (settings) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                return [2, this._sequelizer.enqueue(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                        var switchTargetTransport, verifyPromise, isSwitchSuccess, error_1;\r\n                        return __generator(this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    if (!settings || typeof settings !== \"object\") {\r\n                                        throw new Error(\"Cannot switch transports, because the settings are missing or invalid.\");\r\n                                    }\r\n                                    if (typeof settings.type === \"undefined\") {\r\n                                        throw new Error(\"Cannot switch the transport, because the type is not defined\");\r\n                                    }\r\n                                    this.logger.trace(\"Starting transport switch with settings: \" + JSON.stringify(settings));\r\n                                    switchTargetTransport = settings.type === \"secondary\" ? this.getNewSecondaryTransport(settings) : this._defaultTransport;\r\n                                    this._targetTransport = switchTargetTransport;\r\n                                    this._targetAuth = settings.type === \"secondary\" ? this.getNewSecondaryAuth(settings) : this._defaultAuth;\r\n                                    verifyPromise = this.verifyConnection();\r\n                                    this._swapTransport = true;\r\n                                    this._switchInProgress = true;\r\n                                    this.logger.trace(\"The new transport has been set, closing the current transport\");\r\n                                    return [4, this.transport.close()];\r\n                                case 1:\r\n                                    _a.sent();\r\n                                    _a.label = 2;\r\n                                case 2:\r\n                                    _a.trys.push([2, 4, , 5]);\r\n                                    return [4, verifyPromise];\r\n                                case 3:\r\n                                    _a.sent();\r\n                                    isSwitchSuccess = this.transport === switchTargetTransport;\r\n                                    this.logger.info(\"The reconnection after the switch was completed. Was the switch a success: \" + isSwitchSuccess);\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: isSwitchSuccess }];\r\n                                case 4:\r\n                                    error_1 = _a.sent();\r\n                                    this.logger.info(\"The reconnection after the switch timed out, reverting back to the default transport.\");\r\n                                    this.switchTransport({ type: \"default\" });\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: false }];\r\n                                case 5: return [2];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.onLibReAnnounced = function (callback) {\r\n        return this.registry.add(\"libReAnnounced\", callback);\r\n    };\r\n    Connection.prototype.setLibReAnnounced = function (lib) {\r\n        this.registry.execute(\"libReAnnounced\", lib);\r\n    };\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            var currentServer = _this.transport.name();\r\n            callback(currentServer);\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var newAuth, identity, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._defaultAuth) {\r\n                            this._defaultAuth = authRequest;\r\n                        }\r\n                        if (this._swapTransport) {\r\n                            this.logger.trace(\"Detected a transport swap, swapping transports\");\r\n                            newAuth = this.transportSwap();\r\n                            authRequest = newAuth !== null && newAuth !== void 0 ? newAuth : authRequest;\r\n                        }\r\n                        this.logger.trace(\"Starting login for transport: \" + this.transport.name() + \" and auth \" + JSON.stringify(authRequest));\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4, this.transport.open()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.trace(\"Transport: \" + this.transport.name() + \" opened, logging in\");\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        return [4, this.protocol.login(authRequest, reconnect)];\r\n                    case 3:\r\n                        identity = _a.sent();\r\n                        this.logger.trace(\"Logged in with identity: \" + JSON.stringify(identity));\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                    case 4:\r\n                        error_2 = _a.sent();\r\n                        if (this._switchInProgress) {\r\n                            this.logger.trace(\"An error while logging in after a transport swap, preparing a default swap.\");\r\n                            this.prepareDefaultSwap();\r\n                        }\r\n                        throw new Error(error_2);\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            if (this.settings.replaySpecs && this.settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(this.settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    Connection.prototype.verifyConnection = function () {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            var unsub;\r\n            var ready = waitForInvocations(2, function () {\r\n                if (unsub) {\r\n                    unsub();\r\n                }\r\n                resolve();\r\n            });\r\n            unsub = _this.onLibReAnnounced(function (lib) {\r\n                if (lib.name === \"interop\") {\r\n                    return ready();\r\n                }\r\n                if (lib.name === \"contexts\") {\r\n                    return ready();\r\n                }\r\n            });\r\n        }, 10000, \"Transport switch timed out waiting for all libraries to be re-announced\");\r\n    };\r\n    Connection.prototype.getNewSecondaryTransport = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.url)) {\r\n            throw new Error(\"Missing secondary transport URL.\");\r\n        }\r\n        return new WS(Object.assign({}, this.settings, { ws: settings.transportConfig.url, reconnectAttempts: 1 }), this.logger.subLogger(\"ws-secondary\"));\r\n    };\r\n    Connection.prototype.getNewSecondaryAuth = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.auth)) {\r\n            throw new Error(\"Missing secondary transport auth information.\");\r\n        }\r\n        return settings.transportConfig.auth;\r\n    };\r\n    Connection.prototype.transportSwap = function () {\r\n        this._swapTransport = false;\r\n        if (!this._targetTransport || !this._targetAuth) {\r\n            this.logger.warn(\"Error while switching transports - either the target transport or auth is not defined: transport defined -> \" + !!this._defaultTransport + \", auth defined -> \" + !!this._targetAuth + \". Staying on the current one.\");\r\n            return;\r\n        }\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport = this._targetTransport;\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        return this._targetAuth;\r\n    };\r\n    Connection.prototype.prepareDefaultSwap = function () {\r\n        var _this = this;\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport.close().catch(function (error) { return _this.logger.warn(\"Error closing the \" + _this.transport.name() + \" transport after a failed connection attempt: \" + JSON.stringify(error)); });\r\n        this._targetTransport = this._defaultTransport;\r\n        this._targetAuth = this._defaultAuth;\r\n        this._swapTransport = true;\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.7.5\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_e) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        else ;\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getContexts() {\r\n        if (typeof configuration.contexts === \"undefined\") {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"boolean\" && configuration.contexts) {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"object\") {\r\n            return Object.assign({}, { reAnnounceKnownContexts: true }, configuration.contexts);\r\n        }\r\n        return false;\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: getContexts(),\r\n        version: ext.version || version,\r\n        libs: (_d = ext.libs) !== null && _d !== void 0 ? _d : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._contextsTempCache = {};\r\n        this._contextsSubscriptionsCache = [];\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._trackAllContexts = config.trackAllContexts;\r\n        this._reAnnounceKnownContexts = config.reAnnounceKnownContexts;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this._gw3Session.disconnected(this.resetState.bind(this));\r\n        this._gw3Session.onJoined(function (wasReconnect) {\r\n            if (!wasReconnect) {\r\n                return;\r\n            }\r\n            if (!_this._reAnnounceKnownContexts) {\r\n                return _this._connection.setLibReAnnounced({ name: \"contexts\" });\r\n            }\r\n            _this.reInitiateState().then(function () { return _this._connection.setLibReAnnounced({ name: \"contexts\" }); });\r\n        });\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve) {\r\n                _this.subscribe(name, function (data, _d, _r, un) {\r\n                    _this.unsubscribe(un);\r\n                    resolve(data);\r\n                });\r\n            });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback, subscriptionKey) {\r\n        var _this = this;\r\n        var thisCallbackSubscriptionNumber = typeof subscriptionKey === \"undefined\" ? this._nextCallbackSubscriptionNumber : subscriptionKey;\r\n        if (typeof subscriptionKey === \"undefined\") {\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n        }\r\n        if (this._contextsSubscriptionsCache.every(function (subscription) { return subscription.subKey !== _this._nextCallbackSubscriptionNumber; })) {\r\n            this._contextsSubscriptionsCache.push({ contextName: name, subKey: thisCallbackSubscriptionNumber, callback: callback });\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        this._contextsSubscriptionsCache = this._contextsSubscriptionsCache.filter(function (subscription) { return subscription.subKey !== subscriptionKey; });\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var _this = this;\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            if (this._trackAllContexts) {\r\n                this.subscribe(name, function () { }).then(function (subKey) { return _this._systemContextsSubKey = subKey; });\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.resetState = function () {\r\n        var _this = this;\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        if (this._systemContextsSubKey) {\r\n            this.unsubscribe(this._systemContextsSubKey);\r\n            delete this._systemContextsSubKey;\r\n        }\r\n        this._gw3Subscriptions = [];\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        delete this._protocolVersion;\r\n        this._contextsTempCache = Object.keys(this._contextNameToData).reduce(function (cacheSoFar, ctxName) {\r\n            cacheSoFar[ctxName] = _this._contextNameToData[ctxName].context;\r\n            return cacheSoFar;\r\n        }, {});\r\n        this._contextNameToData = {};\r\n    };\r\n    GW3Bridge.prototype.reInitiateState = function () {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _b, _c, _i, ctxName, lastKnownData;\r\n            var _this = this;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        this.subscribeToContextCreatedMessages();\r\n                        this.subscribeToContextUpdatedMessages();\r\n                        this.subscribeToContextDestroyedMessages();\r\n                        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                            var type = message.type;\r\n                            if (!type) {\r\n                                return;\r\n                            }\r\n                            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                                _this.handleContextCreatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                                _this.handleContextUpdatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                                _this.handleContextDestroyedMessage(message);\r\n                            }\r\n                        });\r\n                        return [4, Promise.all(this._contextsSubscriptionsCache.map(function (subscription) { return _this.subscribe(subscription.contextName, subscription.callback, subscription.subKey); }))];\r\n                    case 1:\r\n                        _e.sent();\r\n                        return [4, this.flushQueue()];\r\n                    case 2:\r\n                        _e.sent();\r\n                        _b = [];\r\n                        for (_c in this._contextsTempCache)\r\n                            _b.push(_c);\r\n                        _i = 0;\r\n                        _e.label = 3;\r\n                    case 3:\r\n                        if (!(_i < _b.length)) return [3, 6];\r\n                        ctxName = _b[_i];\r\n                        if (typeof this._contextsTempCache[ctxName] !== \"object\" || Object.keys(this._contextsTempCache[ctxName]).length === 0) {\r\n                            return [3, 5];\r\n                        }\r\n                        lastKnownData = this._contextsTempCache[ctxName];\r\n                        this._logger.info(\"Re-announcing known context: \" + ctxName);\r\n                        return [4, this.update(ctxName, lastKnownData)];\r\n                    case 4:\r\n                        _e.sent();\r\n                        _e.label = 5;\r\n                    case 5:\r\n                        _i++;\r\n                        return [3, 3];\r\n                    case 6:\r\n                        this._contextsTempCache = {};\r\n                        this._logger.info(\"Contexts are re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.flushQueue = function () {\r\n        return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 0); });\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && filter[prop] !== null\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var _a, _b;\r\n        var accepts = (_a = methodInfo.input_signature) !== null && _a !== void 0 ? _a : \"\";\r\n        var returns = (_b = methodInfo.result_signature) !== null && _b !== void 0 ? _b : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar TimedCache = (function () {\r\n    function TimedCache(config) {\r\n        this.config = config;\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n    }\r\n    TimedCache.prototype.add = function (element) {\r\n        var _this = this;\r\n        var id = shortid();\r\n        this.cache.push({ id: id, element: element });\r\n        var timeoutId = setTimeout(function () {\r\n            var elementIdx = _this.cache.findIndex(function (entry) { return entry.id === id; });\r\n            if (elementIdx < 0) {\r\n                return;\r\n            }\r\n            _this.cache.splice(elementIdx, 1);\r\n        }, this.config.ELEMENT_TTL_MS);\r\n        this.timeoutIds.push(timeoutId);\r\n    };\r\n    TimedCache.prototype.flush = function () {\r\n        var elements = this.cache.map(function (entry) { return entry.element; });\r\n        this.timeoutIds.forEach(function (id) { return clearInterval(id); });\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n        return elements;\r\n    };\r\n    return TimedCache;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.timedCache = new TimedCache({ ELEMENT_TTL_MS: 10000 });\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                _this.timedCache.add(subscription);\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptionsCache = function () {\r\n        return this.timedCache.flush();\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptionsCache = function () {\r\n        return this.streaming.drainSubscriptionsCache();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var reconnectionPromises, existingSubscriptions, _loop_1, _i, existingSubscriptions_1, sub, registeredMethods, _loop_2, _a, registeredMethods_1, method;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n                        client.drainSubscriptionsCache().forEach(function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to soft-re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"soft-subscribing to method \" + methodInfo.name + \" DONE\"); }).catch(function (error) { return logger.warn(\"subscribing to method \" + methodInfo.name + \" failed: \" + JSON.stringify(error) + \"}\"); });\r\n                        });\r\n                        reconnectionPromises = [];\r\n                        existingSubscriptions = client.drainSubscriptions();\r\n                        _loop_1 = function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            reconnectionPromises.push(interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"subscribing to method \" + methodInfo.name + \" DONE\"); }));\r\n                        };\r\n                        for (_i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                            sub = existingSubscriptions_1[_i];\r\n                            _loop_1(sub);\r\n                        }\r\n                        registeredMethods = serverRepository.getList();\r\n                        serverRepository.reset();\r\n                        _loop_2 = function (method) {\r\n                            var def = method.definition;\r\n                            logger.info(\"re-publishing method \" + def.name);\r\n                            if (method.stream) {\r\n                                reconnectionPromises.push(interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallback) {\r\n                                reconnectionPromises.push(interop.register(def, method.theFunction.userCallback).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                                reconnectionPromises.push(interop.registerAsync(def, method.theFunction.userCallbackAsync).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            logger.info(\"re-publishing method \" + def.name + \" DONE\");\r\n                        };\r\n                        for (_a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                            method = registeredMethods_1[_a];\r\n                            _loop_2(method);\r\n                        }\r\n                        return [4, Promise.all(reconnectionPromises)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        logger.info(\"Interop is re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect().then(function () { return connection.setLibReAnnounced({ name: \"interop\" }); }).catch(function (error) { return logger.warn(\"Error while re-announcing interop: \" + JSON.stringify(error)); });\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\"),\r\n                trackAllContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.trackAllContexts : false,\r\n                reAnnounceKnownContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.reAnnounceKnownContexts : false\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    function registerInstanceIfNeeded() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var RegisterInstanceMethodName, isMethodAvailable, error_1, typedError;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        RegisterInstanceMethodName = \"T42.ACS.RegisterInstance\";\r\n                        if (!(Utils.isNode() && typeof process.env._GD_STARTING_CONTEXT_ === \"undefined\" && typeof (userConfig === null || userConfig === void 0 ? void 0 : userConfig.application) !== \"undefined\")) return [3, 4];\r\n                        isMethodAvailable = _interop.methods({ name: RegisterInstanceMethodName }).length > 0;\r\n                        if (!isMethodAvailable) return [3, 4];\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4, _interop.invoke(RegisterInstanceMethodName, { appName: userConfig === null || userConfig === void 0 ? void 0 : userConfig.application, pid: process.pid })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        typedError = error_1;\r\n                        _logger.error(\"Cannot register as an instance: \" + JSON.stringify(typedError.message));\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () { return registerInstanceIfNeeded(); })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import ActivityManager from \"../core/activityManager\";\n\n/**\n * Base class for activity entities with reference to the activity manager\n * @private\n */\nexport default class ActivityEntity {\n\n  public _manager: ActivityManager;\n  public _id: string;\n\n  constructor(id: string) {\n    this._id = id;\n  }\n\n  public get id(): string {\n    return this._id;\n  }\n\n  /**\n   * Updates the properties of the current object using the properties of another object\n   * These two should have the same id.\n   */\n  public _update(other: ActivityEntity) {\n    if (other._id !== this._id) {\n      throw Error(\"Can not update from entity with different id.\");\n    }\n    this._updateCore(other);\n  }\n\n  public _updateCore(other: ActivityEntity) {\n    return;\n  }\n\n  public _beforeDelete(other: ActivityEntity) {\n    return;\n  }\n}\n","// some small useful functions (so we don't reference underscore or lodash)\n\nexport function isNumber(arg: any) {\n  return typeof arg === \"number\";\n}\n\nexport function isString(arg: any) {\n  return typeof arg === \"string\";\n}\n\nexport function isObject(arg: any) {\n  return typeof arg === \"object\" && arg !== null;\n}\n\nexport function isArray(arg: any) {\n  // TODO optimize\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return toString.call(arg) === \"[object Array]\";\n}\nexport function isUndefined(arg: any) {\n  return typeof arg === \"undefined\";\n}\n\nexport function isUndefinedOrNull(arg: any) {\n  return arg === null || typeof arg === \"undefined\";\n}\n\nexport function isNullOrWhiteSpace(str: string) {\n  return (typeof str !== \"string\" || !str || str.length === 0 || /^\\s*$/.test(str));\n}\n\nexport function isBoolean(obj: any) {\n  return obj === true || obj === false || toString.call(obj) === \"[object Boolean]\";\n}\n\n/**\n *  Checks if an object is empty (has no properties)\n * @private\n */\nexport function isEmpty(arg: any) {\n  for (const prop in arg) {\n    if (arg.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function isFunction(arg: any) {\n  return !!(arg && arg.constructor && arg.call && arg.apply);\n}\n\nexport function some<T>(array: T[], predicate: (el: any, index: number) => boolean) {\n  for (let index = 0; index < array.length; index++) {\n    if (predicate(array[index], index)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function first<T>(array: T[], predicate: (el: any, index: number) => boolean) {\n  for (let index = 0; index < array.length; index++) {\n    if (predicate(array[index], index)) {\n      return array[index];\n    }\n  }\n  return undefined;\n}\n\nexport function ifNotUndefined<T>(what: T, doWithIt: (what: T) => void) {\n  if (typeof what !== \"undefined\") {\n    doWithIt(what);\n  }\n}\n\nexport function promisify(promise: Promise<any>, successCallback: () => void, errorCallback: () => void) {\n  \"use strict\";\n  if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\n    return promise;\n  }\n\n  if (typeof successCallback !== \"function\") {\n    successCallback = () => { return; };\n  } else if (typeof errorCallback !== \"function\") {\n    errorCallback = () => { return; };\n  }\n\n  promise.then(successCallback, errorCallback);\n}\n","import * as contracts from \"../contracts/contracts\";\nimport Activity from \"./activity\";\nimport ActivityEntity from \"./activityEntity\";\nimport WindowType from \"./windowType\";\nimport { ifNotUndefined } from \"../helpers/util\";\nimport { WindowDefinition } from \"./windowDefinition\";\n\nimport { Glue42 } from \"../../../glue\";\ntype OverrideTypeDefinition = Glue42.Activities.OverrideTypeDefinition;\n\n/**\n * An activity type is a definition template for an activity, consisting of a collection of window types,\n * their layout and an initial activity context.\n *\n * @module activityType\n */\nexport default class ActivityType extends ActivityEntity {\n\n  public _name: string;\n  public _description: string;\n  public _ownerWindow: WindowType;\n  public _helperWindows: WindowType[];\n\n  constructor(name: string, ownerWindow: WindowType, helperWindows?: WindowType[], description?: string) {\n    super(name);\n    this._name = name;\n    this._description = description;\n    this._ownerWindow = ownerWindow;\n    this._helperWindows = helperWindows || [];\n  }\n\n  /**\n   * @var {string} name Name of the activity type\n   */\n  public get name(): string {\n    return this._name;\n  }\n\n  /**\n   * @var {string} description description for the activity type\n   */\n  public get description(): string {\n    return this._description;\n  }\n\n  /**\n   * A list of window types that should be created when initiating a new instance of that activity type\n   * @var {windowDefinition[]} helperWindows\n   */\n  public get helperWindows(): WindowType[] {\n    return this._helperWindows.map((hw) => this.covertToWindowDef(hw));\n  }\n\n  /**\n   * @var {windowDefinition} ownerWindow Returns the definition of the owner window for that activity type\n   */\n  public get ownerWindow(): WindowType {\n    return this.covertToWindowDef(this._ownerWindow);\n  }\n\n  /**\n   * Initiates a new activity of this type\n   *\n   * @function initiate\n   * @param {object} context The initial context to be used for the new activity\n   * @param callback\n   * @param configuration\n   * @returns {Promise<activity>}\n   */\n  public initiate(context: object, callback?: contracts.Callback<Activity>, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<Activity> {\n    return this._manager.initiate(this._name, context, callback, configuration);\n  }\n\n  public _updateCore(other: ActivityType) {\n    super._updateCore(other);\n    ifNotUndefined(other._description, (x) => this._description = x);\n    ifNotUndefined(other._ownerWindow, (x) => this._ownerWindow = x);\n    ifNotUndefined(other._helperWindows, (x) => this._helperWindows = x);\n  }\n\n  private covertToWindowDef(windowType: any): any {\n    // GD2 + old glue js backward compatible\n    return {\n      type: windowType?.id?.type,\n      name: windowType?.id?.name\n    };\n  }\n}\n","import ActivityEntity from \"./activityEntity\";\nimport ActivityWindow from \"./activityWindow\";\nimport { WindowDefinition } from \"./windowDefinition\";\nimport Activity from \"./activity\";\nimport { Glue42 } from \"../../../glue\";\n\n/**\n * A window type is a definition of a window, typically configured in ACS.\n *\n * @module windowType\n */\nexport default class WindowType extends ActivityEntity {\n\n  public _name: string;\n  public _appByWindowTypeGetter: (name: string) => void;\n\n  constructor(name: string, appByWindowTypeGetter: (wt: string) => Glue42.AppManager.Application) {\n    super(name);\n    this._name = name;\n    this._appByWindowTypeGetter = appByWindowTypeGetter;\n  }\n\n  /**\n   * Name of the window type\n   * @var {string} name\n   */\n  public get name(): string {\n    return this._name;\n  }\n\n  /**\n   * Returns the ACS configuration related to this window type (as application object from AppManager API)\n   * @returns {any}\n   */\n  public get config(): any {\n    return this._appByWindowTypeGetter(this._name);\n  }\n\n  /**\n   * @var {activityWindow[]} windows All windows from that type\n   */\n  public get windows(): ActivityWindow[] {\n    return this._manager.getWindows({ type: this._name });\n  }\n\n  public create(activity: Activity, configuration: any): Promise<ActivityWindow> {\n    const definition: WindowDefinition = (Object as any).assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\n    return this._manager.createWindow(activity, definition);\n  }\n}\n","import { ActivityStatus } from \"./activityStatus\";\n\nexport class EntityEvent<T> {\n    public entity: T;\n    public context: EntityEventContext;\n\n    constructor(entitiy: T, context: EntityEventContext) {\n        this.entity = entitiy;\n        this.context = context;\n    }\n}\n\nexport class EntityEventContext {\n    public type: string;\n\n    constructor(eventType: string) {\n        this.type = eventType;\n    }\n}\n\nexport class ActivityStatusChangeEventContext extends EntityEventContext {\n    public oldStatus: ActivityStatus;\n    public newStatus: ActivityStatus;\n\n    constructor(newStatus: ActivityStatus, oldStatus: ActivityStatus) {\n        super(EntityEventType.StatusChange);\n        this.newStatus = newStatus;\n        this.oldStatus = oldStatus;\n    }\n}\n\nexport class ActivityContextChangedEventContext extends EntityEventContext {\n    public context: object;\n    public updated: object;\n    public removed: string[];\n\n    constructor(context: string | object, updated: object, removed: string[]) {\n        super(EntityEventType.ActivityContextChange);\n        this.context = typeof context === \"string\" ? JSON.parse(context) : context;\n        this.updated = updated;\n        this.removed = removed;\n    }\n}\n\nexport class EntityEventType {\n    public static Added: string = \"added\";\n    public static Removed: string = \"removed\";\n    public static Updated: string = \"updated\";\n    public static Closed: string = \"closed\";\n    public static StatusChange: string = \"statusChange\";\n    public static ActivityContextChange: string = \"activityContextUpdate\";\n    public static ActivityWindowEvent: string = \"activityWindowEvent\";\n    // #deleteme TODO: these are not implemented in HC\n    public static ActivityWindowJoinedActivity: string = \"joined\";\n    public static ActivityWindowLeftActivity: string = \"left\";\n}\n\nexport class ActivityState {\n    public static Created: string = \"created\";\n    public static Started: string = \"started\";\n    public static Destroyed: string = \"destroyed\";\n}\n","import Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport * as util from \"../helpers/util\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { promisify } from \"../helpers/util\";\n\n// A helper class that provides lame activity AGM implementation\n// Can be initialized with or without activity - in case no activity (independent windows outside activity) only\n// subset of the methods work\nexport class ActivityAGM {\n    public static AGM: Glue42Core.AGM.API;\n\n    private _activity: Activity;\n\n    constructor(activity: Activity) {\n        this._activity = activity;\n    }\n\n    public register(definition: string | Glue42Core.AGM.MethodDefinition, handler: (args: object, caller: Glue42Core.AGM.Instance) => object) {\n        this._ensureHasAgm();\n        ActivityAGM.AGM.register(definition, handler);\n    }\n\n    public servers(): Glue42Core.AGM.Instance[] {\n        this._ensureHasAgm();\n\n        if (util.isUndefinedOrNull(this._activity)) {\n            // or return ActivityAGM.AGM.servers()\n            return [];\n        }\n\n        return this._activity.windows.map(\n            (w: ActivityWindow) => {\n                return w.instance;\n            });\n    }\n\n    public methods(): Glue42Core.AGM.MethodDefinition[] {\n        this._ensureHasAgm();\n\n        if (util.isUndefinedOrNull(this._activity)) {\n            // or return ActivityAGM.AGM.methods()\n            return [];\n        }\n\n        const windows = this._activity.windows;\n        const methodNames: string[] = [];\n        const methods: Glue42Core.AGM.MethodDefinition[] = [];\n\n        // get all windows and their methods, then assemble distinct methods\n        windows.forEach((window) => {\n            const windowMethods = this.methodsForWindow(window);\n            windowMethods.forEach((currentWindowMethod) => {\n                if (methodNames.indexOf(currentWindowMethod.name) === -1) {\n                    methodNames.push(currentWindowMethod.name);\n                    methods.push(currentWindowMethod);\n                }\n            });\n        });\n\n        return methods;\n    }\n\n    public methodsForWindow(window: ActivityWindow): Glue42Core.AGM.MethodDefinition[] {\n        this._ensureHasAgm();\n        // get instance and use agm to get methods for instance\n        if (!window.instance) {\n            return [];\n        }\n\n        return ActivityAGM.AGM.methodsForInstance(window.instance);\n    }\n\n    /** Possible invoke targets\n     *\n     * \"activity.all\" - [default]\n     * \"activity.best\"\n     * ActivityWindow\n     * [ActivityWindow] -\n     *\n     * classic AGM\n     * \"all\" - agm all\n     * \"best\" - agm best\n     * instance - agm\n     * [ instances ]\n     *\n     */\n    public invoke(\n        methodName: string,\n        arg: object,\n        target: string | Glue42Core.AGM.Instance | ActivityWindow | Glue42Core.AGM.Instance[] | ActivityWindow[],\n        options?: Glue42Core.AGM.InvokeOptions,\n        success?: () => void,\n        error?: () => void): Promise<object> {\n\n        this._ensureHasAgm();\n        const activityServers = this.servers();\n        let serversToInvokeAgainst: Glue42Core.AGM.Instance[] = [];\n\n        if (util.isUndefinedOrNull(target)) {\n            target = \"activity.all\";\n        }\n\n        if (util.isString(target)) {\n            if (target === \"activity.all\") {\n                serversToInvokeAgainst = activityServers;\n            } else if (target === \"activity.best\") {\n                const potentialTargets = activityServers.filter((server) => {\n                    const methods = ActivityAGM.AGM.methodsForInstance(server);\n                    return methods.filter((m) => {\n                        return m.name === methodName;\n                    }).length > 0;\n                });\n                if (potentialTargets.length > 0) {\n                    serversToInvokeAgainst = [potentialTargets[0]];\n                }\n            } else if (target === \"all\" || target === \"best\") {\n                return promisify(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\n            } else {\n                throw new Error(\"Invalid invoke target \" + target);\n            }\n        } else if (util.isArray(target)) {\n            // if the array is not empty\n            if ((target as any).length >= 0) {\n                const firstElem = (target as any)[0];\n                // check argument type\n                if (this._isInstance(firstElem)) {\n                    serversToInvokeAgainst = (target as Glue42Core.AGM.Instance[]).map((instance: Glue42Core.AGM.Instance) => instance);\n                } else if (this._isActivityWindow(firstElem)) {\n                    serversToInvokeAgainst = (target as ActivityWindow[]).map((win: ActivityWindow) => win.instance);\n                } else {\n                    throw new Error(\"Unknown target object\");\n                }\n            }\n        } else {\n            if (this._isInstance(target)) {\n                serversToInvokeAgainst = [target as Glue42Core.AGM.Instance];\n            } else if (this._isActivityWindow(target)) {\n                serversToInvokeAgainst = [(target as ActivityWindow).instance];\n            } else {\n                throw new Error(\"Unknown target object\");\n            }\n        }\n\n        throw new Error(\"Not implemented\");\n        // return promisify(ActivityAGM.AGM.invoke(methodName, arg, serversToInvokeAgainst, options), success, error);\n    }\n\n    public unregister(definition: string | Glue42Core.AGM.MethodDefinition) {\n        this._ensureHasAgm();\n        return ActivityAGM.AGM.unregister(definition);\n    }\n\n    public createStream(methodDefinition: string | Glue42Core.AGM.MethodDefinition,\n                        subscriptionAddedHandler: (request: Glue42Core.AGM.StreamSubscription) => void,\n                        subscriptionRemovedHandler: (request: Glue42Core.AGM.StreamSubscription) => void) {\n        this._ensureHasAgm();\n\n        ActivityAGM.AGM.createStream(methodDefinition, {\n            subscriptionAddedHandler,\n            subscriptionRemovedHandler,\n            subscriptionRequestHandler: undefined\n        });\n    }\n\n    public subscribe(methodDefinition: string | Glue42Core.AGM.MethodDefinition, parameters: object, target: string | Glue42Core.AGM.Instance | Glue42Core.AGM.Instance[]): Promise<Glue42Core.AGM.Subscription> {\n        this._ensureHasAgm();\n        // #deleteme TODO: check servers needed?\n        // const servers = this.servers();\n\n        return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\n    }\n\n    public _ensureHasAgm() {\n        if (util.isUndefinedOrNull(ActivityAGM.AGM)) {\n            throw new Error(\"Agm should be configured to be used in activity\");\n        }\n    }\n\n    public _isInstance(obj: any) {\n        // lame check\n        return obj.application !== undefined;\n    }\n\n    public _isActivityWindow(obj: any) {\n        return obj.instance !== undefined;\n    }\n}\n","import { ActivityDescriptor } from \"./activityDescriptor\";\nimport ActivityManager from \"../core/activityManager\";\nimport Activity from \"./activity\";\n\nexport class AttachedActivityDescriptor implements ActivityDescriptor {\n  private _manager: ActivityManager;\n  private _state: ActivityDescriptor;\n  private _ownerActivityId: string;\n\n  constructor(\n    manager: ActivityManager,\n    ownerActivityId: string,\n    state: ActivityDescriptor) {\n    this._manager = manager;\n    this._ownerActivityId = ownerActivityId;\n    this._state = state;\n  }\n\n  public get ownerId() {\n    return this._state.ownerId;\n  }\n\n  public get windowIds() {\n    return this._state.windowIds;\n  }\n\n  public get frameColor() {\n    return this._state.frameColor;\n  }\n\n  public get context() {\n    return this._state.context;\n  }\n\n  public get tag() {\n    return this._state.tag;\n  }\n\n  public detach(descriptor?: ActivityDescriptor): Promise<Activity> {\n\n    descriptor = descriptor || {};\n\n    const merged: ActivityDescriptor = {};\n\n    Object.keys(this._state).forEach((prop) => {\n      merged[prop] = this._state[prop];\n    });\n\n    merged.context = descriptor.context || merged.context;\n    merged.frameColor = descriptor.frameColor || merged.frameColor;\n\n    return this._manager.detachActivities(this._ownerActivityId, merged);\n  }\n}\n","import * as util from \"../helpers/util\";\n\nconst nextTick = (cb: () => void) => {\n  setTimeout(cb, 0);\n};\n\n/**\n * Convert a Promise to node style callback\n * @private\n */\nexport function nodeify<T>(promise: Promise<T>, callback: any): Promise<T> {\n  if (!util.isFunction(callback)) {\n    return promise;\n  }\n\n  promise.then(\n    (resp) => {\n      nextTick( () => { // not sure if this is needed, promises should be already executed on the event pool\n        callback(null, resp);\n      });\n    },\n    (err) => {\n      nextTick(() => {\n        callback(err, null);\n      });\n    });\n}\n","import * as contracts from \"../contracts/contracts\";\nimport ActivityType from \"./activityType\";\nimport ActivityWindow from \"./activityWindow\";\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport ActivityEntity from \"./activityEntity\";\nimport { WindowDefinition } from \"./windowDefinition\";\nimport { ActivityAGM } from \"../core/activityAGM\";\nimport { CloneOptions } from \"./cloneOptions\";\nimport { AttachedActivityDescriptor } from \"./attachedActivityDescriptor\";\nimport { nodeify } from \"../helpers/promiseExtensions\";\nimport { ifNotUndefined } from \"../helpers/util\";\n\n/**\n * Activity is an instance of an activity type just like an object is an instance of a class\n * in class-based languages (and just like ‘John’ is an instance of a 'Person’).\n *\n * Activity is often used as a synonym for activity instance.\n *\n * Each activity instance has a single owner window and can optionally have one or more helper windows.\n *\n * @module activity\n */\nexport default class Activity extends ActivityEntity {\n\n  public _id: string;\n  public _actType: string;\n  public _status: ActivityStatus;\n  public _context: object;\n  public _ownerId: string;\n  public _agm: ActivityAGM;\n  public _attached: any;\n\n  constructor(\n    id: string,\n    actType: string,\n    status: ActivityStatus,\n    context: object,\n    ownerId: string) {\n    super(id);\n    this._id = id;\n    this._actType = actType;\n    this._status = status;\n    this._context = context;\n    this._ownerId = ownerId;\n    this._agm = new ActivityAGM(this);\n  }\n\n  /**\n   * Activity type\n   * @var {module:activityType} type\n   */\n  public get type(): ActivityType {\n    if (this._manager) {\n      return this._manager.getActivityType(this._actType);\n    }\n    return undefined;\n  }\n\n  /**\n   * Get current activity context. To update use updateContext , to replace setContext\n   * @var {object} context\n   */\n  public get context(): object {\n    return this._context;\n  }\n\n  /**\n   * Get activity status\n   * @var {activityStatus} status\n   */\n  public get status(): ActivityStatus {\n    return this._status;\n  }\n\n  /**\n   * The owner window\n   * @var {module:activityWindow} owner\n   */\n  public get owner(): ActivityWindow {\n    if (!this._ownerId) {\n      return null;\n    }\n    return this._manager.getWindows({ id: this._ownerId })[0];\n  }\n\n  /**\n   * All windows participating in the activity\n   * @var {module:activityWindow[]} windows\n   */\n  public get windows(): ActivityWindow[] {\n    return this._manager.getWindows({ activityId: this._id });\n  }\n\n  /**\n   * @var {module:activityAGM} agm\n   */\n  public get agm(): ActivityAGM {\n    return this._agm;\n  }\n\n  /**\n   * Joins a specific window to the activity\n   *\n   * @private\n   * @function join\n   * @param window    The window to join\n   * @param callback  (Optional) Result callback\n   * @returns         Promise for ActivityWindow\n   */\n  public addWindow(window: ActivityWindow, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.addWindowToActivity(this, window, callback);\n  }\n\n  /**\n   * Creates a new window and joins it to the activity\n   *\n   * @function createWindow\n   * @param {string|windowDefinition} windowType The type of the window to be created\n   * @param callback\n   * @returns {Promise<module:activityWindow>}\n   */\n  public createWindow(windowType: string | WindowDefinition, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.createWindow(this, windowType, callback);\n  }\n\n  /**\n   * Creates a stacked set of windows and joins them to the\n   *\n   * @function createStackedWindows\n   * @param {string[] | windowDefinition[]} windowTypes The types of the windows to be created\n   * @param {number} timeout\n   * @param callback\n   * @returns {Promise<module:activityWindow[]>}\n   */\n  public createStackedWindows(windowTypes: Array<string | WindowDefinition>, timeout?: number, callback?: contracts.Callback<ActivityWindow[]>): Promise<ActivityWindow[]> {\n    return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\n  }\n\n  /**\n   * Removes a window from the activity\n   *\n   * @private\n   * @param window\n   * @param callback\n   * @returns     Promise for ActivityWindow\n   */\n  public leave(window: ActivityWindow, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n    return this._manager.leaveWindowFromActivity(this, window, callback);\n  }\n\n  /**\n   * Get all windows participating in the activity from a given type\n   *\n   * @param {string} windowType\n   * @returns {module:activityWindow[]}\n   */\n  public getWindowsByType(windowType: string): ActivityWindow[] {\n    const filter = { activityId: this._id, type: windowType };\n    return this._manager.getWindows(filter);\n  }\n\n  /**\n   * Replaces the activity context with a new one.\n   *\n   * @function setContext\n   * @param {object} context   The new context\n   * @param callback\n   * @returns {Promise<Object>}\n   */\n  public setContext(context: object, callback?: contracts.Callback<Activity>): Promise<object> {\n    return this._manager.setActivityContext(this, context, callback);\n  }\n\n  /**\n   * Updates activity context using the properties from the context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @function updateContext\n   * @param {object} context\n   * @param callback\n   * @return {Promise<object>}\n   */\n  public updateContext(context: object, callback?: contracts.Callback<Activity>): Promise<object> {\n    return this._manager.updateActivityContext(this, context, callback);\n  }\n\n  /**\n   * Subscribe for status change events\n   *\n   * @function onStatusChange\n   *\n   * @param {activityStatusChangeHandler} handler Handler function that will receive status notifications\n   */\n  public onStatusChange(handler: (activity: Activity, newStatus: ActivityStatus, oldStatus: ActivityStatus) => void): () => void {\n    return this._manager.subscribeActivityEvents((a, ns, os) => {\n      if (a.id === this.id) {\n        handler(a, ns, os);\n      }\n    });\n  }\n\n  /**\n   * Subscribe for window related events, like joined, removed from activity\n   *\n   * @function onWindowEvent\n   * @param {windowEventHandler} handler Handler function that will receive windows events\n   */\n  public onWindowEvent(handler: contracts.ActivityWindowEventHandler): () => void {\n    return this._manager.subscribeWindowEvents((a, w, e) => {\n      if (a.id === this.id) {\n        handler(a, w, e);\n      }\n    });\n  }\n\n  /**\n   * Subscribe for context updates\n   *\n   * @function onContextChanged\n   * @param {contextChangedHandler} handler Handler function that will receive context related events\n   */\n  public onContextChanged(handler: contracts.ContextUpdateHandler) {\n    this._manager.subscribeActivityContextChanged((act, context, updated, removed) => {\n      if (act.id === this.id) {\n        handler(context, updated, removed, act);\n      }\n    });\n\n    try {\n      // replay the context at the time of subscribing, swallow user exceptions\n      handler(this.context, this.context, [], this);\n    } catch (e) {\n      return;\n    }\n  }\n\n  /**\n   * Stops the activity\n   * @function stop\n   */\n  public stop() {\n    this._manager.stopActivity(this);\n  }\n\n  /**\n   * Clones the activity into a new one\n   * @function clone\n   * @param {CloneOptions} options\n   */\n  public clone(options: CloneOptions) {\n    return this._manager.clone(this, options);\n  }\n\n  public attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor> {\n    let activityId;\n    if (typeof activity === \"string\") {\n      activityId = activity;\n    } else {\n      activityId = activity.id;\n    }\n    return this._manager.attachActivities(activityId, this.id, tag);\n  }\n\n  public onActivityAttached(callback: (descriptor: AttachedActivityDescriptor) => void) {\n    this._manager.subscribeActivitiesAttached((newActId: string, oldActId: string, descriptor: AttachedActivityDescriptor) => {\n      if (newActId !== this._id) {\n        return;\n      }\n\n      callback(descriptor);\n    });\n  }\n\n  public onDetached(callback: (newAct: Activity, state: any) => void) {\n    this._manager.subscribeActivitiesDetached((newAct: Activity, originalActivity: Activity, state: any) => {\n      if (originalActivity.id !== this._id) {\n        return;\n      }\n\n      callback(newAct, state);\n    });\n  }\n\n  public _updateCore(other: Activity) {\n    super._updateCore(other);\n    ifNotUndefined(other._actType, (x) => this._actType = x);\n    ifNotUndefined(other._context, (x) => this._context = x);\n    ifNotUndefined(other._ownerId, (x) => this._ownerId = x);\n    if (other._status && (!this._status || (this._status.state !== other._status.state))) {\n      this._status = other._status;\n    }\n  }\n\n  public _updateDescriptors(allStates: any) {\n    this._attached = allStates.map((s: any) => {\n      return new AttachedActivityDescriptor(this._manager, this._id, s);\n    });\n  }\n\n  public get attached(): AttachedActivityDescriptor[] {\n    return this._attached;\n  }\n\n  public setFrameColor(color: string, callback: () => void): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n\n      let callbacksToWait = this.windows.length;\n      if (callbacksToWait === 0) {\n        resolve(this);\n      }\n\n      this.windows.forEach((w) => {\n        w.underlyingWindow.setFrameColor(color, () => {\n          callbacksToWait--;\n          if (callbacksToWait <= 0) {\n            resolve(this);\n          }\n        });\n      });\n\n      setTimeout(() => {\n\n        if (callbacksToWait > 0) {\n          reject(this.id + \" - timed out waiting for setFrameColor with\" + color);\n        }\n\n      }, 5000);\n\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public getFrameColor(): string {\n\n    if (!this.windows || this.windows.length === 0) {\n      return \"\";\n    }\n\n    return this.windows[0].underlyingWindow.frameColor;\n  }\n}\n","/* tslint:disable */\n\nimport * as util from \"./util\";\nimport {Glue42Core} from \"@glue42/core\";\n\nexport class LogLevel {\n  public static Trace: string = \"trace\";\n  public static Debug: string = \"debug\";\n  public static Info: string = \"info\";\n  public static Warn: string = \"warn\";\n  public static Error: string = \"error\";\n}\n\nexport class Logger {\n\n  public static Level: string = LogLevel.Info;\n  public static GlueLogger: Glue42Core.Logger.API;\n\n  private _glueLogger: Glue42Core.Logger.API;\n\n  public static GetNamed(name: string): Logger {\n    return new Logger(name);\n  }\n\n  public static Get(owner: Object): Logger {\n    return new Logger(Logger.GetTypeName(owner));\n  }\n\n  public _name: string;\n\n  constructor(name: string) {\n    this._name = name;\n    // we have a glue logger let's create a new logger for it\n    if (!util.isUndefinedOrNull(Logger.GlueLogger)) {\n      this._glueLogger = Logger.GlueLogger.subLogger(name);\n    }\n  }\n\n  public trace(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.trace(message);\n    } else {\n      if (Logger.Level === LogLevel.Trace) {\n        console.info(this._getMessage(message, LogLevel.Trace));\n      }\n    }\n  }\n\n  public debug(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.debug(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace) {\n        console.info(this._getMessage(message, LogLevel.Debug));\n      }\n    }\n  }\n\n  public info(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.info(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace ||\n        Logger.Level === LogLevel.Info) {\n        console.info(this._getMessage(message, LogLevel.Info));\n      }\n    }\n  }\n\n  public warn(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.warn(message);\n    } else {\n      if (Logger.Level === LogLevel.Debug ||\n        Logger.Level === LogLevel.Trace ||\n        Logger.Level === LogLevel.Info ||\n        Logger.Level === LogLevel.Warn) {\n        console.info(this._getMessage(message, LogLevel.Info));\n      }\n    }\n  }\n\n  public error(message: string) {\n    if (!util.isUndefinedOrNull(this._glueLogger)) {\n      this._glueLogger.error(message);\n    } else {\n      console.error(this._getMessage(message, LogLevel.Error));\n      console.trace();\n    }\n  }\n\n  public _getMessage(message: string, level: string): string {\n    return \"[\" + level + \"] \" + this._name + \" - \" + message;\n  }\n\n  /**\n   * Returns the function name for a given object (same as constructor.name but cross-browser)\n   */\n  public static GetTypeName(object: object): string {\n    const funcNameRegex = /function (.{1,})\\(/;\n    const results = (funcNameRegex).exec(object.constructor.toString());\n    return (results && results.length > 1) ? results[1] : \"\";\n  }\n}\n","import * as contracts from \"../contracts/contracts\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\n\nimport WindowType from \"./windowType\";\nimport ActivityEntity from \"./activityEntity\";\nimport Activity from \"./activity\";\n\nimport { Logger } from \"../helpers/logger\";\nimport * as util from \"../helpers/util\";\nimport { ifNotUndefined } from \"../helpers/util\";\nimport { EntityEventType } from \"../contracts/entityEvent\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../glue\";\n\n/**\n * A window participating in an activity\n *\n * @module activityWindow\n */\nexport default class ActivityWindow extends ActivityEntity {\n\n    private _logger: Logger = Logger.Get(\"window\");\n\n    private _type: string;\n    private _activityId: string;\n    private _name: string;\n    private _instance: Glue42Core.AGM.Instance;\n    private _isIndependent: boolean;\n    private _windowGetter: () => Glue42.Windows.GDWindow;\n    private _hcWindowId: string;\n\n    constructor(id: string, name: string, type: string, activityId: string, instance: Glue42Core.AGM.Instance, isIndependent: boolean, windowGetter: any,\n                hcWindowId: string) {\n        super(id);\n        this._type = type;\n        this._activityId = activityId;\n        this._name = name;\n        this._instance = instance;\n        this._isIndependent = isIndependent;\n        this._windowGetter = windowGetter;\n        this._hcWindowId = hcWindowId;\n    }\n\n    /**\n     * Return window's title\n     * @function getBounds\n     * @return {Promise<WindowBounds>}\n     */\n    public getBounds(): Promise<WindowBounds> {\n        return this._manager.getWindowBounds(this.id);\n    }\n\n    /**\n     * @var {string} name The window name\n     */\n    public get name(): string {\n        return this._name;\n    }\n\n    /**\n     * @var {bool} isIndependent True if this is an independent window\n     */\n    public get isIndependent(): boolean {\n        return this._isIndependent;\n    }\n\n    /**\n     * @var {module:windowType} type The window type\n     */\n    public get type(): WindowType {\n        if (this._manager) {\n            return this._manager.getWindowType(this._type);\n        }\n        return undefined;\n    }\n\n    /**\n     * @var {module:activity} activity The activity that the window is part of\n     */\n    public get activity(): Activity {\n        if (util.isUndefined(this._activityId)) {\n            return undefined;\n        }\n        return this._manager.getActivityById(this._activityId);\n    }\n\n    /**\n     * @var {bool} isOwner True if the window is the owner of the activity.\n     */\n    public get isOwner(): boolean {\n        const act = this.activity;\n        if (util.isUndefined(act)) {\n            return false;\n        }\n\n        return act.owner.id === this.id;\n    }\n\n    /**\n     * Sets window's visibility\n     *\n     * @function setVisible\n     * @param {boolean} isVisible\n     * @returns {Promise<module:activityWindow>}\n     */\n    public setVisible(isVisible: boolean, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n        return this._manager.setWindowVisibility(this.id, isVisible);\n    }\n\n    /**\n     * Activate window\n     * @function activate\n     * @param {boolean} focus If true then activate window with focus otherwise activate window without focus\n     */\n    public activate(focus: boolean): Promise<ActivityWindow> {\n        return this._manager.activateWindow(this.id, focus);\n    }\n\n    /**\n     * Sets window's bounds\n     * @function setBounds\n     *\n     * @param {bounds} bounds The new bounds to be applied\n     * @returns  {Promise<module:activityWindow>}\n     */\n    public setBounds(bounds: WindowBounds, callback?: contracts.Callback<ActivityWindow>): Promise<ActivityWindow> {\n        return this._manager.setWindowBounds(this.id, bounds, callback);\n    }\n\n    /**\n     * Closes the window\n     *\n     * @function close\n     * @returns {Promise}\n     */\n    public close(): Promise<any> {\n        return this._manager.closeWindow(this.id);\n    }\n\n    /**\n     * @var {agmInstance} instance The agm instance of that window. You can use this to invoke AGM methods against that window\n     */\n    public get instance(): Glue42Core.AGM.Instance {\n        return this._instance;\n    }\n\n    /**\n     * Returns the window as object from Windows API (glue.windows).\n     *\n     * @var {window} underlyingWindow\n     */\n    public get underlyingWindow(): any {\n        const window = this._windowGetter();\n        if (!window) {\n            // we don't have the window object any more, let's return as much as we can\n            return {\n                id: this._hcWindowId\n            };\n        }\n        return window;\n    }\n\n    public onActivityJoined(callback: (activity: Activity) => void) {\n        this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\n    }\n\n    public onActivityRemoved(callback: (activity: Activity) => void) {\n        this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\n    }\n\n    public _updateCore(other: ActivityWindow) {\n        ifNotUndefined(other._activityId, (x) => this._activityId = x);\n        ifNotUndefined(other._isIndependent, (x) => this._isIndependent = x);\n        ifNotUndefined(other._hcWindowId, (x) => this._hcWindowId = x);\n        ifNotUndefined(other._type, (x) => this._type = x);\n        ifNotUndefined(other._name, (x) => this._name = x);\n\n        if (!util.isUndefinedOrNull(other._instance)) {\n            this._instance = other._instance;\n        }\n    }\n\n    public _subscribeForActivityWindowEvent(eventName: string, callback: (activity: Activity) => void) {\n        this._manager.subscribeWindowEvents((activity, window, event) => {\n            // ignore events not related to this window\n            if (window.id !== this.id) {\n                return;\n            }\n\n            if (event === eventName) {\n                callback(activity);\n            }\n        });\n    }\n\n    public _beforeDelete(other: ActivityWindow) {\n        this._hcWindowId = other._hcWindowId;\n    }\n}\n","/**\n * @typedef {Object} activityStatus Defines activity instance status\n * @property {string} state Current state\n * @property {string} message Message\n * @property {Date} time Time of the last status update\n */\nexport class ActivityStatus {\n  public state: string;\n  public message: string;\n  public time: Date;\n\n  constructor(state: string, message: string, time: Date) {\n    this.state = state;\n    this.message = message;\n    this.time = time;\n  }\n\n  public getState(): string {\n    return this.state;\n  }\n\n  public getMessage(): string {\n    return this.message;\n  }\n\n  public getTime(): Date {\n    return this.time;\n  }\n}\n","import { AnnouncementInfo } from \"../contracts/announcementInfo\";\n\nimport { ActivityBridge } from \"./activityBridge\";\nimport ActivityType from \"../entities/activityType\";\nimport WindowType from \"../entities/windowType\";\nimport { EventHandlerCallback } from \"../contracts/contracts\";\nimport { WindowDefinition } from \"../entities/windowDefinition\";\nimport {\n    ActivityContextChangedEventContext,\n    ActivityStatusChangeEventContext,\n    EntityEvent,\n    EntityEventContext,\n    EntityEventType,\n} from \"../contracts/entityEvent\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\nimport {\n    ActivityGwMessage,\n    ActivityTypeGwMessage,\n    ActivityTypeGwMessageEntity,\n    GwMessage,\n    PeerCreatedGwMessage,\n    PeerFactoryGwMessage,\n    PeerFactoryGwMessageEntity,\n    PeerRequestedGwMessage,\n} from \"./gw3BridgeMessages\";\nimport { ActivityDescriptor } from \"../entities/activityDescriptor\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { Glue42 } from \"../../../glue\";\n\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport { ActivityConfig } from \"../activityConfig\";\nimport { Glue42Core } from \"@glue42/core\";\n\nimport { Glue42 as glue42 } from \"../../../glue\";\ntype OverrideTypeDefinition = glue42.Activities.OverrideTypeDefinition;\n\nconst gwMessageSuccess = \"success\";\nconst gwMmessageError = \"error\";\n\nconst gwMessageAddActivityTypes = \"add-types\";\nconst gwMmessageActivityTypesAdded = \"types-added\";\nconst gwMessageRemoveActivityTypes = \"remove-types\";\nconst gwMessageActivityTypesRemoved = \"types-removed\";\n\nconst gwMessageActivityCreated = \"created\";\nconst gwMessageActivityDestroyed = \"destroyed\";\nconst gwMessageActivityInitiated = \"initiated\";\nconst gwMmessageJoinActivity = \"join-activity\";\nconst gwMessageJoinedActivity = \"joined\";\nconst gwMessageActivityJoined = \"activity-joined\";\nconst gwMessageLeaveActivity = \"leave-activity\";\nconst gwMessageActivityLeft = \"left\";\nconst gwNmessageMergeActivities = \"merge\";\nconst gwMessageSplitActivities = \"split\";\nconst gwMessageChildrenChanged = \"children-changed\";\nconst gwMessageOwnerChanged = \"owner-changed\";\n\nconst gwMessageAddPeerFactories = \"add-peer-factories\";\nconst gwMessagePeerFactoriesAdded = \"peer-factories-added\";\nconst gwMessageRemovePeerFactories = \"remove-peer-factories\";\nconst gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\n\nconst gwMessageCreateActivity = \"create\";\nconst gwMessageCreatePeer = \"create-peer\";\nconst gwMessagePeerRequested = \"peer-requested\";\nconst gwMessageReady = \"ready\";\nconst gwMessagePeerCreated = \"peer-created\";\n\nconst gwMessageDestroyActivity = \"destroy\";\nconst gwMessageDisposePeer = \"dispose-peer\";\nconst gwMessageDestroyPeer = \"destroy-peer\";\n\ndeclare let window: any;\ndeclare let process: any;\n\nexport default class GW3Bridge implements ActivityBridge {\n\n    private static activityTypeGwMessageEntityToActivityType(\n        entity: ActivityTypeGwMessageEntity,\n        description: string): ActivityType {\n\n        const nameToWindowType =\n            (windowName: any) =>\n                new WindowType(\n                    windowName,\n                    undefined);\n\n        return new ActivityType(\n            entity.name,\n            entity.owner_type && nameToWindowType(entity.owner_type),\n            entity.helper_types && entity.helper_types.map(nameToWindowType),\n            description);\n    }\n\n    private static peerFactoryGwMessageEntityToWindowType(entity: PeerFactoryGwMessageEntity): WindowType {\n        return new WindowType(\n            entity.peer_type,\n      /* #deleteme TODO: review - appmanager configuration? */(_) => undefined);\n    }\n\n    private static activityGwMessageToActivity(msg: ActivityGwMessage, status: ActivityStatus): Activity {\n        const ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\n        return new Activity(\n            msg.activity_id,\n            msg.activity_type,\n            status,\n            msg.context_snapshot,\n            ownerId);\n    }\n\n    private static activityToActivityStatusChangeEvent(act: Activity) {\n        return new EntityEvent<Activity>(act, new ActivityStatusChangeEventContext(act.status, undefined));\n    }\n\n    private _connection: Glue42.Connection.API;\n    private _logger: any;\n    private _contexts: Glue42.Contexts.API;\n    private _windows: Glue42.Windows.API;\n\n    private _gw3Session: Glue42Core.Connection.GW3DomainSession;\n\n    // callbacks\n\n    private _activityChangeCallbacks: Array<EventHandlerCallback<EntityEvent<Activity>>> = [];\n    private _activityTypeStatusChangeCallbacks: Array<EventHandlerCallback<EntityEvent<ActivityType>>> = [];\n    private _activityWindowChangeCallbacks: Array<EventHandlerCallback<EntityEvent<ActivityWindow>>> = [];\n    private _windowTypeStatusChangeCallbacks: Array<EventHandlerCallback<EntityEvent<WindowType>>> = [];\n\n    // state tracking\n    private _peerIdAndFactoryIdToPeerType: any = {};\n    private _peerFactoriesRegisteredByUs: { [index: string]: WindowFactory } = {};\n    private _gw3Subscriptions: any[] = [];\n    private _contextSubscriptions: any = {};\n    private _activityTypesInitiatedFromMe: any = {};\n\n    private _sessionJoinedPromise: Promise<GW3Bridge>;\n    private _sessionJoinedPromiseResolve: (bridge: GW3Bridge) => void;\n    private _activityJoinedPromise: Promise<object>;\n    private _activityJoinedPromiseResolve: (obj: object) => void;\n    private _config: ActivityConfig;\n\n    constructor(config: ActivityConfig) {\n        this._config = config;\n        this._connection = config.connection;\n        this._logger = config.logger;\n        this._contexts = config.contexts;\n        this._windows = config.windows;\n\n        this._sessionJoinedPromise = new Promise<GW3Bridge>((resolve /*, reject */) => {\n            this._sessionJoinedPromiseResolve = resolve;\n        });\n\n        this._activityJoinedPromise = new Promise<object>((resolve /*, reject */) => {\n            this._activityJoinedPromiseResolve = resolve;\n        });\n\n        if (!this._config.activityId) {\n            this._activityJoinedPromiseResolve({});\n        }\n\n        this._gw3Session = this._connection.domain(\n            \"activity\",\n            [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\n\n        if (typeof window !== \"undefined\") {\n\n            const glue42gd = (window as any).glue42gd;\n\n            // only execute if in activity\n            if (glue42gd && glue42gd.activityInfo) {\n                // G4E-1343\n                if (typeof glue42gd.addRefreshHandler === \"function\") {\n\n                    glue42gd.addRefreshHandler((success: any, error: any) => {\n                        this._gw3Session\n                            .send(\n                                {\n                                    type: \"reload\"\n                                })\n                            .then(\n                                (msg: any) => {\n                                    if (!msg.token) {\n                                        error(\"Expected gateway token for refreshing.\");\n                                        return;\n                                    }\n                                    try {\n                                        glue42gd.setGWToken(msg.token as string);\n                                    } catch (e) {\n                                        error(e.message || e);\n                                        return;\n                                    }\n                                    success();\n                                },\n                                error);\n                    });\n                }\n\n                // JP_GD3-598\n                if (glue42gd && typeof glue42gd.addWillNavigateHandler === \"function\") {\n\n                    glue42gd.addWillNavigateHandler((success: any, error: any) => {\n                        this._gw3Session\n                            .send(\n                                {\n                                    type: \"reload\"\n                                })\n                            .then(\n                                (msg: any) => {\n                                    if (!msg.token) {\n                                        error(\"Expected gateway token for refreshing.\");\n                                        return;\n                                    }\n                                    try {\n                                        glue42gd.setGWToken(msg.token as string);\n                                    } catch (e) {\n                                        error(e.message || e);\n                                        return;\n                                    }\n                                    success();\n                                },\n                                error);\n                    });\n                }\n            }\n        }\n    }\n\n    public get bridgeType(): \"GW3\" {\n        return \"GW3\";\n    }\n\n    public init() {\n        // activity types\n        this.forwardActivityTypeMessagesToStatusEventHandlers();\n\n        // activities\n        this.subscribe<ActivityGwMessage>(\n            gwMessageActivityCreated,\n            this.handleActivityCreatedMessage);\n\n        this.subscribe<ActivityGwMessage>(\n            gwMessageActivityDestroyed,\n            this.handleActivityDestroyedMessage);\n\n        this.forwardActivityMessagesToStatusEventHandlers();\n\n        this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\n\n        // window types / peer factories\n\n        // NB: this forward must happen before the handlePeerFactoriesRemoved subscription\n        // since the latter clears state which is used by peerFactoryIdAndOwnerIdToWindowType\n        this.forwardPeerFactoryMessagesToStatusEventHandlers();\n\n        this.forwardPeerFactoryMessagesToPeerFactoryRequests();\n\n        this.subscribe(\n            gwMessagePeerFactoriesAdded,\n            this.handlePeerFactoriesAdded);\n\n        this.subscribe(\n            gwMessagePeerFactoriesRemoved,\n            this.handlePeerFactoriesRemoved);\n\n        // activity windows\n\n        this.forwardActivityWindowMessagesToEventHandlers();\n        //\n\n        this.subscribe(\n            gwMessageDisposePeer,\n      /*(msg)*/() => {\n                if (this._config.disposeRequestHandling === \"dispose\") {\n                    this.dispose();\n                    return;\n                }\n                if (this._config.disposeRequestHandling === \"exit\") {\n                    if (this._windows && typeof this._windows.my() !== \"undefined\") {\n                        this._windows.my().close();\n                        return;\n                    }\n                    if (typeof window !== \"undefined\" && typeof (window as any).close === \"function\") {\n                        window.close();\n                        return;\n                    }\n                    if (typeof process !== \"undefined\" && typeof (process as any).exit === \"function\") {\n                        process.exit();\n                        return;\n                    }\n                }\n            });\n\n        // start domain join handshake\n        this._gw3Session.onJoined(() => {\n\n            if (this._config.mode === \"trackMyOnly\" ||\n                this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\n                this._sessionJoinedPromiseResolve(this);\n            } else {\n                this._gw3Session\n                    .send(\n                        {\n                            type: \"subscribe\",\n                            activity_types:\n                                (this._config.mode === \"trackAll\" ? [] :\n                                    this._config.mode === \"trackTypes\" ? this._config.typesToTrack : [])\n                        })\n                    .then(() => {\n                        this._sessionJoinedPromiseResolve(this);\n                    });\n            }\n        });\n        this._gw3Session.join();\n    }\n\n    public dispose() {\n        this._gw3Subscriptions.forEach((sub) => sub && this._connection.off(sub));\n        this._gw3Subscriptions.length = 0;\n    }\n\n    // ActivityBridge interface\n\n    public ready(): Promise<object> {\n        return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\n    }\n\n    public initReady(): Promise<ActivityBridge> {\n        return this._sessionJoinedPromise;\n    }\n\n    public onActivityTypeStatusChange(callback: EventHandlerCallback<EntityEvent<ActivityType>>) {\n        this._activityTypeStatusChangeCallbacks.push(callback);\n    }\n\n    public registerActivityType(\n        activityTypeName: string,\n        ownerWindow: WindowDefinition,\n        helperWindows?: WindowDefinition[],\n        config?: any,\n        description?: string): Promise<ActivityType> {\n\n        const entity: ActivityTypeGwMessageEntity = {};\n        entity.name = activityTypeName;\n        const toActivityPeerConfig = (windowDefinition: WindowDefinition) => ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition });\n\n        entity.owner_type = toActivityPeerConfig(ownerWindow);\n        entity.helper_types = helperWindows.map(toActivityPeerConfig);\n\n        return this._gw3Session\n            .send(\n                {\n                    type: gwMessageAddActivityTypes,\n                    types: [entity]\n                })\n            .then(() => {\n                const activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\n                this.invokeCallbacks(\n                    this._activityTypeStatusChangeCallbacks,\n                    new EntityEvent<ActivityType>(\n                        activityType,\n                        new EntityEventContext(EntityEventType.Added)),\n                    gwMessageAddActivityTypes);\n                return activityType;\n            });\n    }\n\n    public unregisterActivityType(activityTypeName: string): Promise<void> {\n        return this._gw3Session\n            .send(\n                {\n                    type: gwMessageRemoveActivityTypes,\n                    types: [activityTypeName]\n                })\n            .then(() => {\n                const activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\n                this.invokeCallbacks(\n                    this._activityTypeStatusChangeCallbacks,\n                    new EntityEvent<ActivityType>(\n                        activityType,\n                        new EntityEventContext(EntityEventType.Removed)),\n                    gwMessageAddActivityTypes);\n            });\n    }\n\n    public onWindowTypeStatusChange(callback: EventHandlerCallback<EntityEvent<WindowType>>): void {\n        this._windowTypeStatusChangeCallbacks.push(callback);\n    }\n\n    // NB: in GW3, peer factories have ids separate from the ids of the peers they create\n    // in this implementation we keep the two equal for simplicity\n    // NB: we assume only one peer will register a peer factory for a given type; otherwise the\n    // add/remove window types event logic will get messy\n    public registerWindowFactory(\n        windowType: string,\n        factory: WindowFactory,\n        parameters?: any): Promise<void> {\n        if (this._peerFactoriesRegisteredByUs[windowType]) {\n            return Promise.reject(new Error(`Factory for windowType ${windowType} already registered.`));\n        }\n\n        this._peerFactoriesRegisteredByUs[windowType] = factory;\n\n        // #deleteme TODO: review success/failure code paths\n        // #deleteme TODO: review - should we create the window type here?\n        const entity = {\n            id: windowType,\n            peer_type: windowType,\n            configuration: parameters\n        };\n        return this._gw3Session.send({\n            type: gwMessageAddPeerFactories,\n            factories: [entity]\n        })\n            .then(() => {\n                this.invokeCallbacks(\n                    this._windowTypeStatusChangeCallbacks,\n                    new EntityEvent(\n                        GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity),\n                        new EntityEventContext(EntityEventType.Added)),\n                    gwMessageAddPeerFactories);\n            })\n            .catch(() => {\n                delete this._peerFactoriesRegisteredByUs[windowType];\n            });\n    }\n\n    public unregisterWindowFactory(windowType: string): Promise<void> {\n        const factory = this._peerFactoriesRegisteredByUs[windowType];\n        if (!factory) {\n            return Promise.reject(new Error(`Factory for windowType ${windowType} not registered.`));\n        }\n\n        delete this._peerFactoriesRegisteredByUs[windowType];\n\n        return this._gw3Session.send({\n            type: gwMessageRemovePeerFactories,\n            factory_ids: [windowType]\n        }).then(() => {\n            this.invokeCallbacks(\n                this._windowTypeStatusChangeCallbacks,\n                new EntityEvent(\n                    new WindowType(windowType, undefined),\n                    new EntityEventContext(EntityEventType.Removed)),\n                gwMessageAddPeerFactories);\n        });\n    }\n\n    public onActivityStatusChange(callback: EventHandlerCallback<EntityEvent<Activity>>) {\n        this._activityChangeCallbacks.push(callback);\n    }\n\n    public initiateActivity(activityType: string, context?: object, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<string> {\n        const initiateMsg: any = {\n            type: gwMessageCreateActivity,\n            activity_type: activityType,\n            initial_context: context,\n        };\n\n        if (this.isOverrideTypeDefinition(configuration)) {\n            initiateMsg.types_override = {\n                owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\n                helper_types: configuration.helpers && configuration.helpers.map((wd) => ({ type: wd.type, name: wd.name, configuration: wd }))\n            };\n        } else {\n            initiateMsg.configuration = configuration && configuration.map((wd) => ({ type: wd.type, name: wd.name, configuration: wd }));\n        }\n\n        return this.sendCreateAndMapResultingMessagesToPromise(\n            initiateMsg,\n            gwMessageActivityInitiated,\n            (msg, requestId) => msg.request_id === requestId,\n            gwMessageActivityCreated,\n            (msg, requestId, initMsg) => msg.activity_id === initMsg.activity_id,\n            gwMessageActivityDestroyed,\n            (msg, requestId, initMsg) => msg.activity_id === initMsg.activity_id,\n            (msg) => msg.activity_id,\n            null).then((id) => {\n                if (this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\n                    if (!this._activityTypesInitiatedFromMe[activityType]) {\n                        this._activityTypesInitiatedFromMe[activityType] = true;\n\n                        return this._gw3Session\n                            .send(\n                                {\n                                    type: \"subscribe\",\n                                    activity_types: [activityType]\n                                })\n                            .then(() => {\n                                return id;\n                            });\n                    }\n                }\n                return id;\n            });\n    }\n\n    public stopActivity(activity: Activity): Promise<boolean> {\n        return this._gw3Session.send({\n            type: gwMessageDestroyActivity,\n            activity_id: activity.id,\n            reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\n            reason: \"Destroying activity\"\n        }).then((_) => true);\n    }\n\n    public updateActivityContext(activity: Activity, context: any, fullReplace: boolean, removedKeys?: string[]): Promise<void> {\n        if (fullReplace) {\n            // this will currently fail on GW3\n            return this._contexts.set(activity.id, context);\n        } else {\n            removedKeys = removedKeys || [];\n            for (const x of removedKeys) {\n                context[x] = null;\n            }\n            return this._contexts.update(activity.id, context);\n        }\n    }\n\n    public announceWindow(windowType?: string, activityWindowId?: string) {\n        // in the GW3 case we are only joined to an activity after we announce ourselves\n        // so all announcement calls should go in 'registerWindow', not here\n        // (registerWindow registers a window that's not part of an activity, at least yet)\n        throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\n    }\n\n    public registerWindow(type: string, name: string, independent: boolean): Promise<string> {\n\n        let shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\n        const peerId = this._connection.peerId;\n\n        // if running in GD3 (glue42gd is there) we should send ready only if we have the activityInfo object in glue\n        if (typeof window !== \"undefined\") {\n            const glue42gd = window.glue42gd;\n            if (glue42gd) {\n                shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\n            }\n        }\n\n        if (shouldSendReady) {\n            this._gw3Session.send({\n                type: gwMessageReady,\n            });\n        }\n\n        this.invokeCallbacks(\n            this._activityWindowChangeCallbacks,\n            new EntityEvent<ActivityWindow>(\n                new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined),\n                new EntityEventContext(EntityEventType.Added)),\n            \"register window\");\n\n        return Promise.resolve(peerId);\n    }\n\n    public onActivityWindowChange(callback: EventHandlerCallback<EntityEvent<ActivityWindow>>) {\n        this._activityWindowChangeCallbacks.push(callback);\n    }\n\n    public createWindow(activityId: string, windowDefinition: WindowDefinition): Promise<string> {\n\n        // if the user hasn't provided a layout option but has some of left,top,width,height\n        // insert a layout\n        if (!windowDefinition.layout) {\n            if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\n                windowDefinition.layout = {\n                    mode: \"pixels\",\n                    cellSize: 1,\n                };\n            }\n        }\n\n        const joinPeer = (id: string) => {\n            if (!activityId) {\n                return;\n            }\n            return this.joinActivity(activityId, id, windowDefinition.name)\n                .then(() => {\n                    return id;\n                });\n        };\n\n        return this.sendCreateAndMapResultingMessagesToPromise(\n            {\n                type: gwMessageCreatePeer,\n                peer_type: windowDefinition.type,\n                peer_name: windowDefinition.name || windowDefinition.type,\n                configuration: windowDefinition,\n                activity_id: activityId,\n            },\n            undefined,\n            undefined,\n            gwMessagePeerCreated,\n            (msg, requestId) => msg.request_id === requestId,\n            undefined,\n            undefined,\n            (msg) => msg.created_id,\n            joinPeer)\n            .then(joinPeer);\n    }\n\n    public closeWindow(id: string): Promise<void> {\n        return this._gw3Session.send({\n            type: gwMessageDestroyPeer,\n            destroy_peer_id: id\n        }).then((_) => undefined);\n    }\n\n    public getAnnouncementInfo(): AnnouncementInfo {\n        let activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\n        let activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\n        let activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\n        let activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\n\n        if (typeof window !== \"undefined\" &&\n            typeof window.location !== \"undefined\" &&\n            window.location.search &&\n            typeof URLSearchParams === \"function\") {\n            const searchParams = new URLSearchParams(location.search.slice(1));\n            activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\n            activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\n            if (typeof activityWindowIndependent === \"undefined\") {\n                activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\n            }\n            activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\n            activityId = activityId || searchParams.get(\"t42ActivityId\");\n        }\n\n        activityWindowType = activityWindowType || \"unknown\";\n        activityWindowIndependent = activityWindowIndependent || false;\n        activityWindowName = activityWindowName || this._connection.peerId;\n\n        return {\n            activityWindowId: undefined, // not member of activity from the get go\n            activityId,\n            activityWindowType,\n            activityWindowIndependent,\n            activityWindowName,\n        };\n    }\n\n    public joinActivity(activityId: string, windowId: string, name?: string): Promise<void> {\n        const maybeName = (name && { name }) || {};\n        return this._gw3Session.send({\n            type: gwMmessageJoinActivity,\n            target_id: windowId,\n            activity_id: activityId,\n            ...maybeName\n        }).then(() => {\n            this.invokeCallbacks(\n                this._activityWindowChangeCallbacks,\n                new EntityEvent<ActivityWindow>(\n                    new ActivityWindow(windowId, undefined, undefined, activityId, this.getAgmInstance(windowId), undefined, this.generateWindowGetter(windowId), undefined),\n                    new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                \"activity joined - ActivityWindow\");\n\n            this.invokeCallbacks(\n                this._activityChangeCallbacks,\n                new EntityEvent<Activity>(\n                    new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined),\n                    new EntityEventContext(EntityEventType.Updated)),\n                \"activity joined - Activity\");\n        });\n    }\n\n    public leaveActivity(activityId: string, windowId: string): Promise<void> {\n        return this._gw3Session.send({\n            type: gwMessageLeaveActivity,\n            target_id: windowId,\n            activity_id: activityId\n        }).then(() => {\n            this.invokeCallbacks(\n                this._activityWindowChangeCallbacks,\n                new EntityEvent<ActivityWindow>(\n                    new ActivityWindow(windowId, undefined, undefined, null, this.getAgmInstance(windowId), undefined, this.generateWindowGetter(windowId), undefined),\n                    new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)),\n                \"activity left - ActivityWindow\");\n\n            this.invokeCallbacks(\n                this._activityChangeCallbacks,\n                new EntityEvent<Activity>(\n                    new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined),\n                    new EntityEventContext(EntityEventType.Updated)),\n                \"activity left - Activity\");\n        });\n    }\n\n    // purposefully returning empty arrays\n    public getActivityTypes(): Promise<ActivityType[]> {\n        return Promise.resolve([]);\n    }\n\n    public getWindowTypes(): Promise<WindowType[]> {\n        return Promise.resolve([]);\n    }\n\n    public getActivities(): Promise<Activity[]> {\n        return Promise.resolve([]);\n    }\n\n    public getActivityWindows(): Promise<ActivityWindow[]> {\n        return Promise.resolve([]);\n    }\n\n    // N/A\n\n    // ignore for now\n\n    // POSTPONED\n    public createStackedWindows(id: string, windowDefinitions: WindowDefinition[], timeout: number): Promise<string[]> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public getWindowBounds(id: string): Promise<WindowBounds> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public setWindowBounds(id: string, bounds: WindowBounds): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public activateWindow(id: string, focus: boolean): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public setWindowVisibility(id: string, visible: boolean): Promise<void> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public cloneActivity(id: string, cloneOptions: CloneOptions): Promise<string> {\n        return undefined;\n    }\n\n    // POSTPONED\n    public attachActivities(from: string, to: string, tag: object): Promise<any> {\n        return this._gw3Session.send({\n            type: gwNmessageMergeActivities,\n            into: to,\n            merge: from\n        });\n    }\n\n    // POSTPONED\n    public detachActivities(activityId: string, newActivityInfo: ActivityDescriptor): Promise<string> {\n        return this._gw3Session.send({\n            type: gwMessageSplitActivities,\n            from: activityId,\n            // split: from\n        }).then(() => \"\");\n    }\n\n    // POSTPONED\n    public onActivitiesAttached(callback: (info: any) => void) {\n        // POSTPONED\n    }\n\n    // POSTPONED\n    public onActivitiesDetached(callback: (info: any) => void) {\n        // POSTPONED\n    }\n\n    public onActivityAttachedDescriptorsRefreshed(callback: (info: any) => void): void {\n        // POSTPONED\n    }\n\n    // POSTPONED\n    public getAttachedDescriptors(): Promise<any[]> {\n        return Promise.resolve([]);\n    }\n\n    // helpers\n\n    // Protocol handling\n\n    private getRandomRequestId() {\n        return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\n    }\n\n    private forwardAddedAndRemovedMessagesToEventHandler<TMessage, TEntity>(\n        addedMessageType: string,\n        removedMessageType: string,\n        mapper: (msg: TMessage, isAdded: boolean) => TEntity[],\n        handlers: Array<EventHandlerCallback<EntityEvent<TEntity>>>) {\n\n        const getGetEntityEvent = (isAdded: boolean) => (entity: any) => new EntityEvent<TEntity>(\n            entity,\n            new EntityEventContext(\n                isAdded ?\n                    EntityEventType.Added :\n                    EntityEventType.Removed));\n\n        let sub1;\n        let sub2;\n\n        sub1 = addedMessageType && this.forwardMessageToEventHandler<TMessage, TEntity>(\n            addedMessageType,\n            (msg) => mapper(msg, true),\n            getGetEntityEvent(true),\n            handlers);\n\n        sub2 = removedMessageType && this.forwardMessageToEventHandler<TMessage, TEntity>(\n            removedMessageType,\n            (msg) => mapper(msg, false),\n            getGetEntityEvent(false),\n            handlers);\n\n        return [sub1, sub2].filter((x) => x);\n    }\n\n    private forwardMessageToEventHandler<TMessage, TEntity>(\n        messageType: string,\n        mapper: (msg: TMessage) => TEntity[],\n        getEntityEvent: (entity: TEntity, msg: TMessage) => EntityEvent<TEntity>,\n        handler: Array<EventHandlerCallback<EntityEvent<TEntity>>>) {\n        return this.subscribe(\n            messageType,\n            (msg: TMessage) => {\n                mapper(msg)\n                    .forEach((ent: any) =>\n                        handler.forEach((h) => h(getEntityEvent(ent, msg))));\n            });\n    }\n\n    private sendCreateAndMapResultingMessagesToPromise<TCreatedMessage extends GwMessage, TPromiseType>(\n        msg: any,\n        initiatedMessageType: string,\n        initiatedMessageFilter: (msg: any, requestId: string) => boolean,\n        createdMessageType: string,\n        createdMessageFilter: (msg: any, requestId: string, initMsg: any) => boolean,\n        cancelledMessageType: string,\n        cancelledMessageFilter: (msg: any, requestId: string, initMsg: any) => boolean,\n        createdMessageToPromiseResolution: (TCreatedMessage: any) => TPromiseType,\n        listenForRecreates: (result: TPromiseType) => void): Promise<TPromiseType> {\n\n        const reqId = this.getRandomRequestId();\n\n        let resolveCreatedPromise: (arg: any) => void;\n        let rejectCreatedPromise: (arg: any) => void;\n        const createdPromise = new Promise<TPromiseType>((resolve, reject) => {\n            resolveCreatedPromise = resolve;\n            rejectCreatedPromise = reject;\n        });\n\n        let initiatedMessageAck: any = null;\n\n        let initiatedSubscription: any;\n        let createdSubscription: any;\n        let cancelledSubscription: any;\n        let errorSubscription: any;\n\n        const dropSubscriptions = () => {\n            this.dropSubscription(initiatedSubscription);\n            if (!listenForRecreates) {\n                this.dropSubscription(createdSubscription);\n            }\n            this.dropSubscription(cancelledSubscription);\n            this.dropSubscription(errorSubscription);\n        };\n\n        initiatedSubscription = initiatedMessageType &&\n            this.subscribe(\n                initiatedMessageType,\n                (msg4: any) => {\n                    if (!initiatedMessageFilter(msg4, reqId)) {\n                        return;\n                    }\n                    initiatedMessageAck = msg4;\n                    this.dropSubscription(initiatedSubscription);\n                });\n\n        let recreated = false;\n        createdSubscription =\n            this.subscribe(\n                createdMessageType,\n                (msg1: TCreatedMessage) => {\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\n                        return;\n                    }\n                    if (recreated) {\n                        if (listenForRecreates) {\n                            listenForRecreates(createdMessageToPromiseResolution(msg1));\n                        }\n                    } else {\n                        recreated = true;\n                        resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\n                    }\n                });\n        cancelledSubscription = cancelledMessageType &&\n            this.subscribe(\n                cancelledMessageType,\n                (msg2: any) => {\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\n                        return;\n                    }\n                    rejectCreatedPromise(msg2);\n                });\n        errorSubscription = cancelledMessageType &&\n            this.subscribe(\n                gwMmessageError,\n                (msg3: any) => {\n                    if (msg3.request_id !== reqId) {\n                        return;\n                    }\n                    rejectCreatedPromise(msg3);\n                });\n\n        msg.request_id = reqId;\n\n        const toReturn = this._gw3Session\n            .send(msg)\n            .then(() => {\n                return createdPromise;\n            });\n        toReturn.then(dropSubscriptions, dropSubscriptions);\n        return toReturn;\n    }\n\n    // Entity Mapping\n\n    private peerFactoryIdAndOwnerIdToWindowType(factoryId: string, ownerId: string) {\n        const peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\n        if (!peerType) {\n            return null;\n        } else {\n            return new WindowType(peerType, undefined);\n        }\n    }\n\n    private subscribe<TMessage>(messageType: string, handler: (msg: TMessage) => void) {\n        const sub = this._connection.on(\n            messageType,\n            (msg: TMessage) => handler.bind(this)(msg));\n\n        this._gw3Subscriptions.push(sub);\n\n        return sub;\n    }\n\n    private dropSubscription(subscription: any) {\n        if (subscription) {\n            this._connection.off(subscription);\n            delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\n        }\n    }\n\n    private invokeCallbacks<TEvent>(\n        callbacks: Array<EventHandlerCallback<EntityEvent<TEvent>>>,\n        event: EntityEvent<TEvent>,\n        description?: string) {\n        callbacks.forEach((cb) => {\n            try {\n                cb(event);\n            } catch (err) {\n                this._logger.error(`Error in ${description || event.context.type} callback: ` + JSON.stringify(err));\n            }\n        });\n    }\n\n    private handleActivityCreatedMessage(msg: ActivityGwMessage) {\n        if (!msg.context_id) {\n            this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\n        } else {\n            if (!this._contextSubscriptions[msg.activity_id]) {\n                this.subscribeToContext(msg);\n            }\n        }\n    }\n\n    private async subscribeToContext(msg: ActivityGwMessage): Promise<void> {\n        const activityId = msg.activity_id;\n        this._contextSubscriptions[activityId] =\n            await this._contexts.subscribe(activityId,\n                (data: any, updated: any, removed: string[]) => {\n                    const event = new EntityEvent<Activity>(\n                        new Activity(activityId, undefined, undefined, data, undefined),\n                        new ActivityContextChangedEventContext(data, updated, removed));\n\n                    this.invokeCallbacks(\n                        this._activityChangeCallbacks,\n                        event,\n                        \"context updated\");\n                });\n    }\n\n    private handleActivityDestroyedMessage(msg: ActivityGwMessage) {\n        const unsubscribeContext = this._contextSubscriptions[msg.activity_id];\n        if (typeof unsubscribeContext === \"function\") {\n            unsubscribeContext();\n        }\n        delete this._contextSubscriptions[msg.activity_id];\n    }\n\n    private handlePeerFactoriesAdded(msg: PeerFactoryGwMessage) {\n        msg.factories.forEach((entity: PeerFactoryGwMessageEntity) => {\n            this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\n        });\n    }\n\n    private handlePeerFactoriesRemoved(msg: PeerFactoryGwMessage) {\n        msg.factory_ids.forEach((factoryId: string) => {\n            delete this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\n        });\n    }\n\n    private forwardActivityTypeMessagesToStatusEventHandlers() {\n        this.forwardAddedAndRemovedMessagesToEventHandler<ActivityTypeGwMessage, ActivityType>(\n            gwMmessageActivityTypesAdded,\n            gwMessageActivityTypesRemoved,\n            (msg: ActivityTypeGwMessage, isAdded) => isAdded\n                ? msg.types.map((t) => GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined))\n                : msg.types.map((t) => new ActivityType(t.name, undefined, undefined, undefined)),\n            this._activityTypeStatusChangeCallbacks);\n\n    }\n\n    private forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers() {\n        // if we're created as part of this activity, the JOINED ACTIVITY is\n\n        // the first time we'll hear about it; so let's record the participants\n        for (const activityCreatedMessage of [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]) {\n            this.forwardMessageToEventHandler<ActivityGwMessage, ActivityWindow>(\n                activityCreatedMessage,\n                (msg) =>\n                    ([msg.owner || { ...msg, type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id }])\n                        .concat(msg.participants || [])\n                        .map((info: any) => new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, this.getAgmInstance(info.peer_id), undefined, this.generateWindowGetter(info.peer_id), undefined)),\n                (ent, msg) => new EntityEvent<ActivityWindow>(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                this._activityWindowChangeCallbacks);\n        }\n    }\n\n    private forwardActivityMessagesToStatusEventHandlers() {\n\n        // see dot-net-activity\\Activity\\ActivityState.cs\n\n        for (const createdMessage of [gwMessageActivityCreated, gwMessageJoinedActivity]) {\n            this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n                createdMessage,\n                (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))],\n                (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n                this._activityChangeCallbacks);\n        }\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageActivityDestroyed,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageActivityInitiated,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n\n        this.forwardMessageToEventHandler<ActivityGwMessage, Activity>(\n            gwMessageOwnerChanged,\n            (msg) => [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))],\n            (ent, msg) => GW3Bridge.activityToActivityStatusChangeEvent(ent),\n            this._activityChangeCallbacks);\n    }\n\n    private forwardPeerFactoryMessagesToStatusEventHandlers() {\n        this.forwardAddedAndRemovedMessagesToEventHandler<PeerFactoryGwMessage, WindowType>(\n            gwMessagePeerFactoriesAdded,\n            gwMessagePeerFactoriesRemoved,\n            (msg: PeerFactoryGwMessage, isAdded: boolean) => isAdded\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\n                : msg.factory_ids.map((id) => this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id)).filter((x) => x != null),\n            this._windowTypeStatusChangeCallbacks);\n    }\n\n    private forwardPeerFactoryMessagesToPeerFactoryRequests() {\n        this.subscribe(\n            gwMessagePeerRequested,\n            (msg: PeerRequestedGwMessage) => {\n                const factory = this._peerFactoriesRegisteredByUs[msg.peer_factory];\n                if (!factory) {\n                    this._gw3Session.send(\n                        {\n                            type: gwMmessageError,\n                            request_id: msg.request_id,\n                            reason: `Unknown peer factory ${msg.peer_factory}`\n                        });\n                    return;\n                }\n\n                try {\n                    const configuration = msg.configuration || {};\n                    // NB: peer factories (or whoever they're delegating to) need to support whatever activity\n                    // environment (GW3, HC) we're targeting when they're creating peers\n                    // the manager is env agnostic, the bridge will augment the configuration with whatever's required\n\n                    // NB: also, since peers are requested in two ways (single peer with just its configuration,\n                    // or peer created as part of new activity, where the factory receives the aggregate config of\n                    // all peers, combined from ADD ACTIVITY TYPE and CREATE ACTIVITY), the peer factories need to\n                    // be able to handle both configuration structures intelligently.\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\n                    const promise = factory({\n                        activityId: msg.activity && msg.activity.id,\n                        activityType: msg.activity && msg.activity.type,\n                        type: msg.configuration && msg.configuration.type,\n                        gwToken: configuration.gateway_token,\n                        configuration\n                    });\n                    if (promise && promise.then && promise.catch) {\n                        promise.catch((err) => this._gw3Session.send(\n                            {\n                                type: gwMmessageError,\n                                request_id: msg.request_id,\n                                reason: err && (err.message || JSON.stringify(err))\n                            }));\n                    }\n                } catch (err) {\n                    this._gw3Session.send(\n                        {\n                            type: gwMmessageError,\n                            request_id: msg.request_id,\n                            reason: err && (err.message || JSON.stringify(err))\n                        });\n                }\n            });\n    }\n\n    private forwardActivityWindowMessagesToEventHandlers() {\n        for (const joinedMessage of [gwMessageActivityJoined, gwMessageJoinedActivity]) {\n            this.subscribe(joinedMessage,\n                (msg: any) => {\n                    const joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\n                    const joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\n                    const joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\n\n                    const entity = new ActivityWindow(\n                        joinedId,\n                        joinedName,\n                        joinedType /* for ACTIVITY JOINED */,\n                        msg.activity_id,\n                        this.getAgmInstance(joinedId),\n                        undefined,\n                        this.generateWindowGetter(joinedId),\n                        undefined);\n\n                    // TODO review - what if it's our activity, do we\n                    // even need to subscribe\n                    if (!this._contextSubscriptions[msg.activity_id]) {\n                        this.subscribeToContext(msg).then(() => {\n                            if (joinedMessage === gwMessageJoinedActivity) {\n                                this._activityJoinedPromiseResolve({});\n                            }\n                        });\n                    } else if (joinedMessage === gwMessageJoinedActivity) {\n                        this._activityJoinedPromiseResolve({});\n                    }\n\n                    // TODO review: we might have the context data here already\n                    // why not update it here instead of waiting for subscribeToContext\n                    this.invokeCallbacks(\n                        this._activityWindowChangeCallbacks,\n                        new EntityEvent<ActivityWindow>(\n                            entity,\n                            new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)),\n                        joinedMessage);\n\n                });\n        }\n\n        this.subscribe(\n            gwMessageActivityLeft,\n            (msg: any) => {\n                const entity = new ActivityWindow(\n                    msg.left_id,\n                    undefined,\n                    undefined,\n                    null,\n                    this.getAgmInstance(msg.left_id),\n                    undefined,\n                    this.generateWindowGetter(msg.left_id),\n                    undefined);\n\n                this.invokeCallbacks(\n                    this._activityWindowChangeCallbacks,\n                    new EntityEvent<ActivityWindow>(\n                        entity,\n                        new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)),\n                    gwMessageActivityLeft);\n            });\n\n        this.forwardAddedAndRemovedMessagesToEventHandler<PeerCreatedGwMessage, ActivityWindow>(\n            gwMessagePeerCreated,\n            undefined,\n            (msg) => [\n                new ActivityWindow(\n                    msg.created_id,\n                    undefined /* #deleteme TODO: review - we should know the name if any */,\n                    undefined /* #deleteme TODO: review - we should know the type */,\n                    undefined,\n                    undefined,\n                    undefined,\n                    this.generateWindowGetter(msg.created_id),\n                    undefined)],\n            this._activityWindowChangeCallbacks);\n    }\n\n    private getAgmInstance(id: string): Glue42.AGM.Instance {\n        return this._config.agm.servers().find((s) => s.peerId === id || s.windowId === id);\n    }\n\n    private generateWindowGetter(peerId: string): () => Glue42.Windows.GDWindow {\n        return () => {\n            const server = this.getAgmInstance(peerId);\n            if (!server) {\n                return;\n            }\n            const windowId = server.windowId;\n            return this._config.windows.list().filter((w) => w.id === windowId)[0];\n        };\n    }\n\n    private isOverrideTypeDefinition(value: OverrideTypeDefinition | WindowDefinition[]): value is OverrideTypeDefinition {\n        if (typeof value === \"undefined\") {\n            return false;\n        }\n        if ((value as OverrideTypeDefinition).owner) {\n            return true;\n        }\n        return false;\n    }\n}\n","import { EntityEventType } from \"./../contracts/entityEvent\";\nimport Activity from \"./../entities/activity\";\nimport ActivityWindow from \"./../entities/activityWindow\";\n\nimport ActivityManager from \"./../core/activityManager\";\nimport { Logger } from \"./../helpers/logger\";\nimport * as util from \"./../helpers/util\";\n\nimport { WindowDefinition } from \"./../entities/windowDefinition\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { Callback } from \"../contracts/contracts\";\nimport { AttachedActivityDescriptor } from \"../entities/attachedActivityDescriptor\";\nimport { Glue42 } from \"../../../glue\";\n\nexport interface My {\n\n  activity: Activity;\n\n  window: ActivityWindow;\n\n  context: object;\n\n  updateContext(context: object, callback?: any): Promise<object>;\n\n  setContext(context: object, callback?: any): Promise<object>;\n\n  onActivityJoined(callback: (activity: Activity) => void): void;\n\n  onActivityLeft(callback: (activity: Activity) => void): void;\n\n  onContextChanged(callback: (context: object, delta: object, removed: string[], activity: Activity) => void): void;\n\n  clone(options: CloneOptions, callback: Callback<Activity>): Promise<Activity>;\n\n  attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor>;\n\n  setFrameColor(color: string, callback: () => void): Promise<Activity>;\n\n  getFrameColor(): string;\n\n  onFrameColorChanged(callback: () => void): void;\n}\n\n/**\n * A lightweight, single activity oriented subset of the API which should be used by most activity applications.\n * Provides access to the activity of your application (my.activity) and shortcuts to the most commonly used methods\n * (e.g. my.createWindow is a shortcut for my.activity.createWindow)\n *\n * @module my\n */\nexport default class ActivityMy implements My {\n\n  public _myAttached: Array<(state: AttachedActivityDescriptor) => void> = [];\n  public _myDetached: Array<(state: AttachedActivityDescriptor) => void> = [];\n  public _myAttachedTo: Array<(activity: Activity, state: AttachedActivityDescriptor) => void> = [];\n  public _myDetachedFrom: Array<(detached: Activity, existing: Activity, state: AttachedActivityDescriptor) => void> = [];\n  public _myActivityFrameColorChanged: Array<(frameColor: string) => void> = [];\n  public _myActivityJoinedCallbacks: Array<(activity: Activity, event: any) => void> = [];\n  public _myActivityRemovedCallbacks: Array<(activity: Activity, event: any) => void> = [];\n  public _myContextUpdateCallbacks: Array<(context: object, delta: object, removed: string[], activity: Activity) => void> = [];\n  public _w: ActivityWindow;\n  public _m: ActivityManager;\n  public _logger: Logger = Logger.Get(this);\n\n  constructor(manager: ActivityManager, windows: any) {\n    this._m = manager;\n    manager.ready()\n      .then((am) => {\n        // Subscribe for events for driving \"my\" logic\n        am.subscribeActivityContextChanged(this._subscribeMyContextChanged.bind(this));\n        am.subscribeWindowEvents(this._subscribeMyWindowEvent.bind(this));\n        am.subscribeActivitiesAttached(this._subscribeActivitiesAttached.bind(this));\n        am.subscribeActivitiesDetached(this._subscribeActivitiesDetached.bind(this));\n        if (windows) {\n          windows.onWindowFrameColorChanged(this._subscribeWindowFrameColorChanged.bind(this));\n        }\n      });\n  }\n\n  /**\n   * The current activity window; can be undefined (if the window is not part of any activity)\n   *\n   * @var {Window} window\n   */\n  public get window(): ActivityWindow {\n    if (util.isUndefinedOrNull(this._w)) {\n      const announcedWindows = this._m.announcedWindows;\n      if (announcedWindows.length > 0) {\n        this._w = announcedWindows[0];\n      }\n    }\n    return this._w;\n  }\n\n  /**\n   * The current activity that the application participates in.\n   * Can be undefined (if currently not part of any activity)\n   *\n   * @var {module:activity} activity\n   */\n  public get activity(): Activity {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return undefined;\n    }\n    return myWin.activity;\n  }\n\n  /**\n   * Creates a new window and joins it to the activity\n   *\n   * @function createWindow\n   * @param {string| windowDefinition} windowType The type of the window to be created\n   * @returns {Promise<module:activityWindow>}\n   */\n  public createWindow(windowType: string | WindowDefinition): Promise<ActivityWindow> {\n    return this._m.createWindow(this.activity, windowType);\n  }\n\n  /**\n   * Creates a stacked set of windows and joins them to the\n   *\n   * @function createStackedWindows\n   * @param {string[] | windowDefinition[]} windowTypes The types of the windows to be created\n   * @param {number} timeout\n   * @returns {Promise<module:activityWindow[]>}\n   */\n  public createStackedWindows(windowTypes: Array<string | WindowDefinition>, timeout?: number): Promise<ActivityWindow[]> {\n    return this._m.createStackedWindows(this.activity, windowTypes, timeout);\n  }\n\n  /**\n   * The current activity context. To update use my.updateContext, to replace my.setContext\n   *\n   * @var {object} context\n   */\n  public get context(): object {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return {};\n    }\n\n    return activity.context;\n  }\n\n  /**\n   * Updates activity context using the properties from the context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @function updateContext\n   * @param {object} context\n   * @return {Promise<object>}\n   */\n  public updateContext(context: object, callback?: any): Promise<object> {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return new Promise<object>((resolve, reject) => {\n        reject(\"Not in activity\");\n      });\n    }\n\n    return activity.updateContext(context, callback);\n  }\n\n  /**\n   * Replaces the activity context with a new one.\n   *\n   * @function setContext\n   * @param {object} context   The new context\n   * @returns {Promise<Object>}\n   */\n  public setContext(context: object, callback?: any): Promise<object> {\n    const activity = this.activity;\n    if (util.isUndefined(activity)) {\n      return new Promise((resolve, reject) => {\n        reject(\"Not in activity\");\n      });\n    }\n\n    return activity.setContext(context, callback);\n  }\n\n  public onActivityJoined(callback: (activity: Activity) => void) {\n    this._myActivityJoinedCallbacks.push(callback);\n\n    // replay joined event\n    const myWin = this.window;\n    if (!util.isUndefinedOrNull(myWin) && !util.isUndefinedOrNull(myWin.activity)) {\n      callback(myWin.activity);\n    }\n  }\n\n  public onActivityLeft(callback: (activity: Activity) => void) {\n    this._myActivityRemovedCallbacks.push(callback);\n  }\n\n  /**\n   * Subscribe for context updates\n   *\n   * @function onContextChanged\n   * @param {contextChangedHandler} callback Handler function that will receive context related events\n   */\n  public onContextChanged(callback: (context: object, delta: object, removed: string[], activity: Activity) => void) {\n    this._myContextUpdateCallbacks.push(callback);\n\n    // publish initial event\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const activity = myWin.activity;\n    if (util.isUndefinedOrNull(activity)) {\n      return;\n    }\n\n    // NB: either the callback is added before the activity is recorded in the API, or\n    // the activity is recorded before the callback\n    // in the former case, when the activity is seen, the callback will be invoked in _notifyMyContextChanged\n    // in the latter, the callback will be invoked here\n    // in both cases, the callback will be invoked at least once as soon as an activity is recorded\n\n    // see \"long analysis for callback behavior in GW3: several cases\" for full explanation\n\n    callback(activity.context, activity.context, [], activity);\n  }\n\n  public clone(options: CloneOptions, callback: Callback<Activity>): Promise<Activity> {\n    const act = this.activity;\n    return this._m.clone(act, options, callback);\n  }\n\n  public attach(activity: Activity | string, tag?: object): Promise<AttachedActivityDescriptor> {\n    let activityId: string;\n    if (typeof activity === \"string\") {\n      activityId = activity;\n    } else {\n      activityId = activity.id;\n    }\n    return this._m.attachActivities(activityId, this.activity.id, tag);\n  }\n\n  public onActivityAttached(callback: (state: AttachedActivityDescriptor) => void) {\n    this._myAttached.push(callback);\n  }\n\n  public onActivityDetached(callback: (state: AttachedActivityDescriptor) => void) {\n    this._myDetached.push(callback);\n  }\n\n  public onAttachedToActivity(callback: (activity: Activity, state: AttachedActivityDescriptor) => void) {\n    this._myAttachedTo.push(callback);\n  }\n\n  public onDetachedFromActivity(callback: (detached: Activity, existing: Activity, state: AttachedActivityDescriptor) => void)  {\n    this._myDetachedFrom.push(callback);\n  }\n\n  public get attached() {\n    if (!this.activity) {\n      return [];\n    }\n\n    return this.activity.attached;\n  }\n\n  public setFrameColor(color: string, callback: () => void): Promise<Activity> {\n\n    if (this.activity) {\n      return this.activity.setFrameColor(color, callback);\n    } else {\n      return Promise.resolve(null);\n    }\n  }\n\n  public getFrameColor(): string {\n\n    if (this.activity) {\n      return this.activity.getFrameColor();\n    }\n\n    return \"\";\n  }\n\n  public onFrameColorChanged(callback: () => void) {\n    this._myActivityFrameColorChanged.push(callback);\n  }\n\n  private _subscribeMyContextChanged(activity: Activity, context: object, delta: object, removed: string[]) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (activity.id !== myActivity.id) {\n      return;\n    }\n\n    this._notifyMyContextChanged(activity, context, delta, removed);\n  }\n\n  private _subscribeMyWindowEvent(activity: Activity, window: ActivityWindow, event: any) {\n\n    if (util.isUndefinedOrNull(this.window)) {\n      return;\n    }\n\n    // ignore events not related to my window\n    if (this.window.id !== window.id) {\n      return;\n    }\n\n    if (event === EntityEventType.ActivityWindowJoinedActivity) {\n      this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\n\n      // NB: tick42-contexts doesn't raise automatically an update event on join if the snapshot matches\n      // the currently recorded data\n      // revisited: however, it is pushing an update on subscribe() (which is performed by js-activity)\n      // long analysis for callback behavior in GW3: several cases\n      // 1 client calls onContextChanged before joined-activity arrives\n      // then callback is pushed but onContextChanged callback call is skipped\n      //    1-1 js-activity handles joined-activity first; it calls js-context subscribe\n      //    1-1-1 js-context has not seen the activity so far so it doesn't invoke an update\n      //    however, js-context then handles joined-activity and raises an update\n      //    1-1-2 js-context has seen the activity, so it raises an update\n      //    js-context then handles joined-activity and doesn't raise a second update unless the received snapshot is\n      //    different from the last seen context value (can this even happen?)\n      //    1-2 js-context handles joined-activity first\n      //    since js-activity is not subscribed, whether it raises an update or not, it's not propagated\n      //    js-activity then handles joined-activity, performs a subscribe and js-context raises an update\n      // 2 joined-activity arrives, whatever updates are raised by js-activity's subscribe() or js-context's\n      // message handler are not propagated since the callback is not pushed, client then calls onContextChanged,\n      // and the callback is called inside that\n      // also, the callback cannot be invoked first in 1 then 2 or first 2 then 1\n      // => in all cases, a callback is called exactly once as soon as (it's subscribed && the activity is joined)\n      // (in 1-1-2 it *might* be possible to be called twice, first with a slightly out of date context,\n      // then with the joined-activity snapshot, see \"different from the last seen context value\", but it's unlikely,\n      // and not a real issue anyway)\n      // in the HC case, however, case 1 doesn't work since js-context doesn't raise updates on subscribe() nor\n      // joining the activity (#deleteme TODO LATER MINOR: verify), so we need to raise it ourselves\n\n      // 2017-09-08: final revisit (@vnikolov)\n      // since SBGW_D-163 allows automatic subscription to contexts of pre-existing activities, 1-1-2 no longer works\n      // (we might have already seen the latest state before joined-activity so no update will be raised)\n      // for this reason I'm invoking notifyMyContextChanged unconditionally - so we might have multiple\n      // invocations; if this turns into a problem we might add a guard inside notifyMyContextChanged that\n      // checks we're not raising it twice with the same context value\n      //\n      // we might also get a duplicate raise if the sender of an update is also subscribed to the context\n      // if (this._m.usingHc) {\n      this._notifyMyContextChanged(activity, activity.context, null, null);\n      // }\n\n      // #deleteme TODO LATER MAJOR: what about the cases when we're not watching foreign activity contexts?\n    } else if (event === EntityEventType.ActivityWindowLeftActivity) {\n      this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\n      // #deleteme TODO LATER MINOR: should we send null update here?\n    }\n  }\n\n  private _notifyMyWindowEvent(activity: Activity, callbackStore: Array<(activity: Activity, event: any) => void>) {\n    callbackStore.forEach((element) => {\n      try {\n        element(activity, event);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyMyContextChanged(activity: Activity, context: object, delta?: object, removed?: string[]) {\n    delta = delta || {};\n    removed = removed || [];\n\n    this._myContextUpdateCallbacks.forEach( (element) => {\n      try {\n        element(context, delta, removed, activity);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyAttached(state: AttachedActivityDescriptor) {\n\n    this._myAttached.forEach((cb) => {\n      try {\n        cb(state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyDetached(state: AttachedActivityDescriptor) {\n\n    this._myDetached.forEach((cb) => {\n      try {\n        cb(state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyAttachedTo(state: AttachedActivityDescriptor) {\n\n    this._myAttachedTo.forEach((cb) => {\n      try {\n        cb(this.activity, state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _notifyDetachedFrom(detached: Activity, existing: Activity, state: AttachedActivityDescriptor) {\n\n    this._myDetachedFrom.forEach((cb) => {\n      try {\n        cb(detached, existing, state);\n      } catch (e) {\n        this._logger.warn(\"error in user callback \" + e);\n      }\n    });\n  }\n\n  private _subscribeActivitiesAttached(newAct: Activity, state: AttachedActivityDescriptor) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (newAct.id !== myActivity.id) {\n      return;\n    }\n\n    if (state.windowIds.indexOf(myWin.id) >= 0) {\n      this._notifyAttachedTo(state);\n      return;\n    }\n\n    this._notifyAttached(state);\n  }\n\n  private _subscribeActivitiesDetached(newAct: Activity, oldAct: Activity, state: any) {\n    const myWin = this.window;\n    if (util.isUndefinedOrNull(myWin)) {\n      return;\n    }\n\n    const myActivity = myWin.activity;\n    if (util.isUndefinedOrNull(myActivity)) {\n      return;\n    }\n\n    // ignore events not related to my activity\n    if (oldAct.id === myActivity.id) {\n      this._notifyDetached(state);\n    }\n\n    if (newAct.id === myActivity.id) {\n      this._notifyDetachedFrom(newAct, oldAct, state);\n    }\n  }\n\n  private _subscribeWindowFrameColorChanged(window: Glue42.Windows.GDWindow) {\n    const act = this.activity;\n    if (!act) {\n      return;\n    }\n\n    if (!act.owner) {\n      return;\n    }\n\n    if (act.owner.underlyingWindow.id === window.id) {\n      this._myActivityFrameColorChanged.forEach((callback) => {\n        callback(window.frameColor);\n      });\n    }\n  }\n}\n","import {Logger} from \"./logger\";\nimport * as util from \"../helpers/util\";\n/**\n * Class that can be used as a marker for successful completion of a set of events\n * @private\n * @module readyMarker\n */\nexport class ReadyMarker {\n  private _callbacks: Array<(err: any) => void>;\n  private _signals: number;\n  private _error: any;\n  private _logger: Logger;\n  private _name: string;\n\n  /**\n   * Creates new marker\n   * @param name Name of the marker, useful in logging\n   * @param signalsToWait Number of signals(events) that needs to be signaled (completed) before the marker is set as completed\n   */\n  constructor(name: string, signalsToWait: number) {\n    this._logger = Logger.Get(\"ReadyMarker [\" + name + \"]\");\n    this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\n    if (signalsToWait <= 0) {\n      throw new Error(\"Invalid signal number. Should be > 0\");\n    }\n    this._signals = signalsToWait;\n    this._callbacks = [];\n    this._name = name;\n  }\n\n  /**\n   * Adds a new callback that will be notified when the events are completed (success) or some error happened\n   */\n  public setCallback(callback: (err: any) => void) {\n    if (this.isSet()) {\n      callback(undefined);\n      return;\n    } else if (this.isError()) {\n      callback(this._error);\n      return;\n    }\n    this._callbacks.push(callback);\n  }\n\n  /**\n   * Signals for a completion of an event. If this is the last event success callbacks will be called\n   */\n  public signal(message?: string) {\n    this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\n    this._signals--;\n    if (this._signals < 0) {\n      throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\n    }\n\n    if (this.isSet()) {\n      this._callbacks.forEach((callback) => {\n        callback(undefined);\n      });\n    }\n  }\n\n  /**\n   * Signals for an error in some of the events. This will notify all callbacks that the marker has failed\n   */\n  public error(error: string) {\n    this._error = error;\n    this._callbacks.forEach((errorCallback) => {\n      errorCallback(error);\n    });\n  }\n\n  /**\n   * Checks if the marker is set (completed)\n   */\n  public isSet() {\n    if (this.isError()) {\n      return false;\n    }\n    return this._signals === 0;\n  }\n\n  /**\n   * Checks if the marker has failed (some of the events has failed)\n   */\n  public isError() {\n    return !util.isUndefined(this._error);\n  }\n\n  /**\n   * Returns the last reported error (undefined if no error)\n   */\n  public getError() {\n    return this._error;\n  }\n}\n","import ActivityEntity from \"../entities/activityEntity\";\nimport {\n  ActivityStatusChangeEventContext,\n  EntityEvent,\n  EntityEventContext,\n  EntityEventType\n} from \"../contracts/entityEvent\";\nimport Activity from \"../entities/activity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport { ActivityState } from \"..//contracts/entityEvent\";\n\ndeclare const htmlContainer: any;\n\n/**\n * Collection of ActivityEntities that provides change notifications\n * @module entityCollection\n * @private\n */\nexport class EntityObservableCollection<T extends ActivityEntity> {\n\n  private _items: { [key: string]: T } = {};\n  private _listeners: Array<(item: T, action: EntityEventContext) => void> = [];\n  private _processNew: (entity: T) => void;\n\n  constructor(processNew: (entity: T) => void) {\n    this._processNew = processNew;\n  }\n\n  /**\n   * Adds one item to the collection\n   */\n  public addOne(item: T) {\n    this.add([item]);\n  }\n\n  /**\n   * Adds an array of items to the collection\n   */\n  public add(items: T[]) {\n    items.forEach((element) => {\n      this.process(new EntityEvent<T>(element, new EntityEventContext(EntityEventType.Added)));\n    });\n  }\n\n  /**\n   * Process existing EntityEvent\n   */\n  public process(event: EntityEvent<T>): T {\n\n    const context = event.context;\n    const type = context.type;\n    const entity = event.entity;\n\n    // here we're populating some data which particular implementations (e.g.\n    // GW3) can't provide\n\n    // TODO: extract these cases into external filters\n\n    // activity status change without old status?\n    // grab it from the existing entity\n    if (type === EntityEventType.StatusChange &&\n      !(context as ActivityStatusChangeEventContext).oldStatus) {\n      const act = this._items[entity.id] as any as Activity;\n      if (act) {\n        (context as ActivityStatusChangeEventContext).oldStatus = act.status;\n      }\n    }\n\n    // the GW3 bridge notifies us of possible status changes (it's mostly stateless so\n    // it can't/doesn't distinguish between JOINED ACTIVITY for an activity we already\n    // know about vs a brand new activity. for this reason, we just coalesce status\n    // updates which indicate the same state.\n    if (type === EntityEventType.StatusChange &&\n      (context as ActivityStatusChangeEventContext).oldStatus &&\n      (context as ActivityStatusChangeEventContext).newStatus &&\n      (context as ActivityStatusChangeEventContext).oldStatus.state ===\n      (context as ActivityStatusChangeEventContext).newStatus.state) {\n      context.type = EntityEventType.Updated;\n    }\n\n    // GW3: coalesce multiple joined/left events\n\n    if (typeof htmlContainer === \"undefined\") {\n      if (type === EntityEventType.ActivityWindowJoinedActivity &&\n        this._items[entity.id] &&\n        (this._items[entity.id] as any as ActivityWindow).activity) {\n        context.type = EntityEventType.Updated;\n      }\n      if (type === EntityEventType.ActivityWindowLeftActivity &&\n        this._items[entity.id] &&\n        !(this._items[entity.id] as any as ActivityWindow).activity) {\n        context.type = EntityEventType.Updated;\n      }\n    }\n\n    // update internal collections (adding the entity or updating existing entity). From that\n    // point start using the internalEntity\n    // NB: undefined properties are coalesced, null properties represent removals\n    const internalEntity = this._updateInternalCollections(entity, type, context);\n    this._notifyListeners(internalEntity, context);\n    return internalEntity;\n  }\n\n  /**\n   * Gets all items from the collection.\n   */\n  public get(): T[] {\n    const result = [];\n    for (const key in this._items) {\n      if (this._items.hasOwnProperty(key)) {\n        const element = this._items[key];\n        result.push(element);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets item by name/id\n   * @param name  Name/id of the item to get\n   * @returns     Item if found; undefined if not\n   */\n  public getByName(name: string) {\n    // this does not work for some reason\n    // return this._items[name];\n    for (const key in this._items) {\n      if (key === name) {\n        return this._items[key];\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Gets a item if in the collection or waits for it to appear\n   * @param name\n   * @returns {Promise<T>}\n   */\n  public getOrWait(name: string): Promise<T> {\n    return new Promise<T>((resolve) => {\n      const entityAddedHandler = (entity: T) => {\n        if (entity.id !== name) {\n          return;\n        }\n        resolve(entity);\n        this.unsubscribe(entityAddedHandler);\n      };\n      this.subscribe(entityAddedHandler);\n\n      // try to get right away - if not here wait for it to appear\n      const window = this.getByName(name);\n      if (window) {\n        this.unsubscribe(entityAddedHandler);\n        resolve(window);\n        return;\n      }\n    });\n  }\n\n  /**\n   * Subscribes a listener for changes\n   * @param handler Callback for changes\n   */\n  public subscribe(handler: (act: T, action: EntityEventContext) => void): () => void {\n    this._listeners.push(handler);\n    // replay existing items for new subscribers\n    Object.keys(this._items).forEach((key) => {\n      const element = this._items[key];\n      handler(element, new EntityEventContext(EntityEventType.Added.toString()));\n    });\n\n    return () => {\n      this.unsubscribe(handler);\n    };\n  }\n\n  /**\n   *  Unsubscribes a listener\n   */\n  public unsubscribe(handler: (act: T, action: EntityEventContext) => void) {\n    const index = this._listeners.indexOf(handler);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Notify all listeners for some event\n   */\n  private _notifyListeners(entity: T, context: EntityEventContext) {\n    this._listeners.forEach((listener) => {\n      try {\n        listener(entity, context);\n      } catch (e) {\n        return;\n      }\n    });\n  }\n\n  /**\n   * Update internal collections (usually after some kind of modification event has arrived)\n   */\n  private _updateInternalCollections(entity: T, type: EntityEventType, context: any) {\n    const entityAsAny = (entity as any);\n\n    // #deleteme TODO: refactor - currently we apply some rules for each type\n    const isActivityDestroy =\n      (type === EntityEventType.StatusChange &&\n        entityAsAny.status &&\n        entityAsAny.status.state === ActivityState.Destroyed) ||\n      (type === EntityEventType.StatusChange &&\n        context &&\n        context.newStatus &&\n        context.newStatus.state === ActivityState.Destroyed);\n\n    // #deleteme TODO: verify this stuff\n    // windows have two states - removed from activity and closed (TODO: this only works in GD 2.1 and later)\n    const isWindowClose = type === EntityEventType.Closed;\n    const isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\n\n    if (isTypeRemove || isWindowClose || isActivityDestroy) {\n\n      const oldEntity = this._items[entity.id];\n      delete this._items[entity.id];\n      // on remove return the input entity\n      this._processNew(entity);\n      if (oldEntity) {\n        entity._beforeDelete(oldEntity);\n      }\n      return entity;\n    } else {\n      const key = entity.id;\n      // if new object add, otherwise clone object properties\n      if (!this._items.hasOwnProperty(key)) {\n        this._processNew(entity);\n        this._items[entity.id] = entity;\n      } else {\n        this._items[entity.id]._update(entity);\n      }\n    }\n\n    return this._items[entity.id];\n  }\n}\n","﻿/* tslint:disable */\nimport { ActivityContextUpdateHandler, Callback } from \"../contracts/contracts\";\nimport { ActivityStatus } from \"../contracts/activityStatus\";\nimport {\n  ActivityContextChangedEventContext,\n  ActivityStatusChangeEventContext,\n  EntityEvent,\n  EntityEventContext,\n  EntityEventType\n} from \"../contracts/entityEvent\";\n\nimport ActivityType from \"../entities/activityType\";\nimport WindowType from \"../entities/windowType\";\nimport Activity from \"../entities/activity\";\nimport ActivityEntity from \"../entities/activityEntity\";\nimport ActivityWindow from \"../entities/activityWindow\";\nimport WindowSource from \"../entities/windowSource\";\n\nimport { nodeify } from \"../helpers/promiseExtensions\";\nimport { ReadyMarker } from \"../helpers/readyMarker\";\nimport { EntityObservableCollection } from \"../helpers/entityObservableCollection\";\nimport { Logger } from \"../helpers/logger\";\nimport * as util from \"../helpers/util\";\n\nimport { ActivityBridge } from \"../bridges/activityBridge\";\nimport { WindowDefinition } from \"../entities/windowDefinition\";\nimport { WindowBounds } from \"../contracts/windowBounds\";\nimport { CloneOptions } from \"../entities/cloneOptions\";\nimport { AttachedActivityDescriptor } from \"../entities/attachedActivityDescriptor\";\nimport { ActivityDescriptor } from \"../entities/activityDescriptor\";\nimport { ActivityState } from \"../contracts/entityEvent\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport { Glue42 } from \"../../../glue\";\n/* tslint:enable */\n\ntype OverrideTypeDefinition = Glue42.Activities.OverrideTypeDefinition;\n\ndeclare const htmlContainer: any;\n\nexport default class ActivityManager {\n  private _bridge: ActivityBridge;\n  private _readyMarker: ReadyMarker;\n  private _dataReadyMarker: ReadyMarker;\n  private _descriptorsMarker: ReadyMarker;\n\n  private _activityTypes: EntityObservableCollection<ActivityType>;\n  private _windowTypes: EntityObservableCollection<WindowType>;\n  private _activities: EntityObservableCollection<Activity>;\n  private _windows: EntityObservableCollection<ActivityWindow>;\n  private _logger: Logger = Logger.Get(\"activityManager\");\n  private _announcedWindows: ActivityWindow[] = [];\n  private _attachedCallbacks: Array<(newAct: any, descriptor: any) => void> = [];\n  private _detachedCallbacks: Array<(newAct: any, oldAct: Activity, descriptor: any) => void> = [];\n  private _frameColorChangesCallbacks: Array<(act: Activity, frameColor: string) => void> = [];\n  private _windowHandlers: any[][] = [];\n\n  public get usingHc(): boolean {\n    return this._bridge.bridgeType === \"HC\";\n  }\n\n  public get announcedWindows(): ActivityWindow[] {\n    return this._announcedWindows;\n  }\n\n  public set announcedWindows(v: ActivityWindow[]) {\n    throw new Error(\"not allowed\");\n  }\n\n  constructor(bridge: ActivityBridge, autoAnnounce: boolean, windows: any) {\n    this._bridge = bridge;\n    this._activityTypes = new EntityObservableCollection<ActivityType>((e) => this._grabEntity(e));\n    this._windowTypes = new EntityObservableCollection<WindowType>((e) => this._grabEntity(e));\n    this._activities = new EntityObservableCollection<Activity>((e) => this._grabEntity(e));\n    this._windows = new EntityObservableCollection<ActivityWindow>((e) => this._grabEntity(e));\n\n    // signals to wait for - get AT, get WT, get Activities and get Windows\n    this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\n    this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\n\n    // waiting for activity data first\n\n    // NB: in the GW3 case, we don't have the ability to request data at will\n    // but need wait for delta messages\n    // So GW3Bridge returns empty arrays from the get() calls\n    // We're relying on the fact that the GW3 bridge will wait\n    // until resolving its .ready()\n\n    if (autoAnnounce) {\n      // if auto announce replace the ready marker, so:\n      // 1) wait for data\n      // 2) get descriptors\n      // 3) announce the current window\n\n      this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\n      this._dataReadyMarker.setCallback((dataErr: any) => {\n        if (dataErr) {\n          this._readyMarker.error(dataErr);\n        }\n\n        this._descriptorsMarker.setCallback((err: any) => {\n\n          if (err) {\n            this._readyMarker.error(err);\n          }\n\n          this._logger.debug(\"Auto announcing window\");\n          // signal no matter if it failed or not\n          this.announceWindow()\n            .then((w) => {\n              // NB: this creates glue.activities.my.window\n              this._announcedWindows.push(w);\n              this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\n            })\n            .catch((errCatch) => {\n              this._logger.debug(\"Will not announce window - \" + errCatch);\n              this._readyMarker.signal();\n            });\n        });\n\n        this.refreshDescriptors();\n      });\n    } else {\n      // TODO: not sure if this still works\n      this._readyMarker = this._dataReadyMarker;\n    }\n\n    this._bridge.onActivitiesAttached((e) => {\n      this._handleActivitiesAttached(e);\n    });\n    this._bridge.onActivitiesDetached((e) => {\n      this._handleActivitiesDetached(e);\n    });\n    this._bridge.onActivityAttachedDescriptorsRefreshed((e) => {\n      this._handleActivityDescriptorsRefreshed(e);\n    });\n    if (windows) {\n      windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\n    }\n\n    // initialize the bridge\n    this._bridge.init();\n\n    // NB: there is no race condition here.\n    // Since browser/Node JS is a single-threaded environment, assuming no events on _bridge\n    // fire inside .init(), this subscribe will catch anything that comes between it and the init() call\n    this._subscribeForData();\n\n    // NB: in GW3 case, the initial state messages after a JOIN come in before the JOIN's SUCCESS\n    // message (see https://confluence.tick42.com:8443/display/TD/Global+Gateway+Domain#GlobalGatewayDomain-JOIN)\n    // so the .initReady().then() callback will only get invoked after we've received the initial domain\n    // state. We need to be ready to handle events before that, hence the _subscribeForData() above.\n    // what's more, our own JOINED ACTIVITY will come only after we've sent our READY, hence waiting\n    // for bridge.ready() in the manager's ready()\n\n    // wait for it to become ready and then start getting/subscribing for data\n    this._bridge\n      .initReady()\n      .then((aw) => {\n        this._getInitialData();\n      })\n      .catch((error) => {\n        // tslint:disable-next-line\n        console.log(error);\n      });\n  }\n\n  public ready(callback?: (err: string, manager: ActivityManager) => void): Promise<ActivityManager> {\n    const promise = new Promise<ActivityManager>((resolve, reject) => {\n      this._readyMarker.setCallback(\n        (err) => {\n          if (!err) {\n            resolve(this);\n          } else {\n            reject(this._readyMarker.getError());\n          }\n        });\n    });\n\n    return nodeify(Promise.all([this._bridge.ready(), promise]).then(() => this), callback);\n  }\n\n  /**\n   * @returns All known activity types\n   */\n  public getActivityTypes(): ActivityType[] {\n    return this._activityTypes.get();\n  }\n\n  /**\n   * Gets ActivityType by name\n   * @param name  Name to search for\n   * @returns     If found the @type ActivityType; otherwise undefined\n   */\n  public getActivityType(name: string): ActivityType {\n    return this._activityTypes.getByName(name);\n  }\n\n  /**\n   * Registers a new activity type\n   * @param activityTypeName      The name of the activity type to be created\n   * @param ownerWindowType       The type of the owner window or a WindowDefinition for the owner window\n   * @param helperWindowTypes     Types of helper windows (or WindowDefinitions for helper windows) for that activity type\n   * @param config                (HC only, deprecated) Layout config\n   * @param description           (HC only, deprecated) Description for the new activity type\n   * @param callback              (Optional) Callback for results - if not specified the method will return a promise\n   */\n  public registerActivityType(\n    activityTypeName: string,\n    ownerWindowType: string | WindowDefinition,\n    helperWindowTypes?: string[] | WindowDefinition[],\n    config?: any,\n    description?: string,\n    callback?: Callback<ActivityType>): Promise<ActivityType> {\n    const promise = new Promise<ActivityType>((resolve, reject) => {\n\n      // activityTypeName checks\n      if (util.isUndefinedOrNull(activityTypeName)) {\n        reject(\"activityTypeName argument can not be undefined\");\n        return;\n      }\n      if (!util.isString(activityTypeName)) {\n        reject(\"activityTypeName should be string\");\n        return;\n      }\n      // check if type is already defined\n      const actType = this.getActivityType(activityTypeName);\n      if (!util.isUndefinedOrNull(actType)) {\n        reject(\"Activity type '\" + activityTypeName + \"' already exists\");\n        return;\n      }\n\n      // ownerWindowType checks\n      let ownerDefinition: WindowDefinition;\n      if (util.isUndefined(ownerWindowType)) {\n        reject(\"Owner window type can not be undefined\");\n        return;\n      }\n      if (util.isString(ownerWindowType)) {\n        ownerDefinition = { type: (ownerWindowType as string), name: \"\", isIndependent: false, arguments: {} };\n      } else {\n        ownerDefinition = (ownerWindowType as WindowDefinition);\n      }\n\n      // helperWindowTypes checks\n      const helperDefinitions: WindowDefinition[] = [];\n      if (!util.isUndefined(helperWindowTypes) && util.isArray(helperWindowTypes)) {\n        // tslint:disable-next-line\n        for (const index in helperWindowTypes) {\n          const item = helperWindowTypes[index];\n          if (util.isString(item)) {\n            const definition = {\n              type: (item as string),\n              name: \"\",\n              isIndependent: false,\n              arguments: {},\n              relativeTo: \"\",\n              relativeDirection: \"\",\n              windowStyleAttributes: {}\n            };\n            helperDefinitions.push(definition);\n          } else {\n            helperDefinitions.push(item as WindowDefinition);\n          }\n        }\n      }\n\n      // redirect to bridge\n      this._bridge\n        .registerActivityType(activityTypeName,\n          ownerDefinition,\n          helperDefinitions,\n          config,\n          description)\n        .then((activityType) => {\n          // add to from collections\n          this._grabEntity(activityType);\n          resolve(activityType);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Unregister existing activity type\n   * @param type The name of the activity type to be removed\n   */\n  public unregisterActivityType(type: string, callback?: Callback<any>) {\n    const promise = new Promise<ActivityType>((resolve, reject) => {\n      // check if type is defined\n      const actType = this.getActivityType(type);\n      if (util.isUndefined(actType)) {\n        reject(\"Activity type '\" + type + \"' does not exists\");\n        return;\n      }\n      this._bridge.unregisterActivityType(type).then(() => resolve(actType), reject);\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Initiates a new activity from the given type.\n   * @param activityType  The ActivityType to initiate\n   * @param context       The initial context of the activity\n   * @param callback      Callback for result\n   * @param configuration Optional configuration passed to window/peer factories for the new activity's participants\n   * @returns             Promise for activity\n   */\n  public initiate(activityType: string, context?: object, callback?: Callback<Activity>, configuration?: WindowDefinition[] | OverrideTypeDefinition): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      // check if type is defined\n      const actType = this.getActivityType(activityType);\n      if (util.isUndefined(actType)) {\n        reject(\"Activity type '\" + activityType + \"' does not exists\");\n        return;\n      }\n\n      this._bridge\n        .initiateActivity(activityType, context, configuration)\n        .then((actId) => {\n\n          this._activities\n            .getOrWait(actId)\n            .then((act: Activity) => {\n              resolve(act);\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  public subscribeActivityTypeEvents(handler: (act: ActivityType, action: string) => void) {\n    this._activityTypes.subscribe((at, context) => {\n      handler(at, context.type);\n    });\n  }\n\n  /**\n   * @returns All known WindowTypes\n   */\n  public getWindowTypes(): WindowType[] {\n    return this._windowTypes.get();\n  }\n\n  /**\n   * Gets WindowType by name\n   * @param name  The name of the type @type WindowType\n   * @returns     WindowType if found; undefined otherwise\n   */\n  public getWindowType(name: string): WindowType {\n    return this._windowTypes.getByName(name);\n  }\n\n  /**\n   * Registers a factory for a given WindowType. The factory will be called once window of that type is requested\n   * @param windowType   Window type that will be constructed from the factory. Can be a string (name of the window type)\n   * or object that has name, description properties\n   * @param factoryMethod      The factory that will construct Windows of that type\n   * @param description\n   * @param callback\n   * @param configuration\n   * @returns {}\n   */\n  public registerWindowFactory(\n    windowType: any,\n    factoryMethod: WindowFactory,\n    callback?: any): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowType)) {\n        reject(\"no windowType specified\");\n        return;\n      }\n\n      if (util.isObject(windowType)) {\n        windowType = windowType.getName();\n      } else if (!util.isString(windowType)) {\n        reject(\"windowType should be string or object that has getName method\");\n        return;\n      }\n\n      this._bridge\n        .registerWindowFactory(windowType, factoryMethod)\n        .then((v) => {\n          resolve(v);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Unregisters all factories for a given WindowType.\n   * @param windowType   Window type that is constructed from the factory.\n   * @param callback\n   * @returns {}\n   */\n  public unregisterWindowFactory(windowType: string, callback?: any): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowType)) {\n        reject(\"no windowType specified\");\n        return;\n      }\n\n      if (!util.isString(windowType)) {\n        reject(\"windowType should be a string\");\n        return;\n      }\n\n      this._bridge\n        .unregisterWindowFactory(windowType)\n        .then((v) => {\n          resolve(v);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * @returns All started activities\n   * @param activityType Can be a string or @type ActivityType. If string a new activityType will be created using the string for name.\n   * @returns Array of Activity objects\n   */\n  public getActivities(activityType?: string | ActivityType | string[] | ActivityType[]): Activity[] {\n    let act = this._activities.get();\n    act = act.filter((a) => a._ownerId);\n    if (!activityType) {\n      return act;\n    }\n    let types: any = activityType;\n    if (util.isString(activityType)) {\n      types = [activityType];\n    } else if (activityType instanceof ActivityType) {\n      types = [activityType.name];\n    } else if (activityType instanceof Array) {\n      // TODO check if string array or array of ActivityTypes\n    } else {\n      throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\n    }\n\n    return act.filter((at: Activity) => {\n      const type = at.type;\n      return util.some(types, (t: ActivityType) => {\n        return type.id === t.id;\n      });\n    });\n  }\n\n  /**\n   * Returns Activity by ID\n   */\n  public getActivityById(id: string): Activity {\n    return this._activities.getByName(id);\n  }\n\n  /**\n   * Initialises activity for the current window - by doing this the window is announced as activity aware to the other participants\n   * @param windowType            Type of window\n   * @param activityWindowId      The id of the window that was created\n   * @returns {}                  Promise for an activity window (joined to an activity, if the activity creation fails the promise will be rejected)\n   */\n  public announceWindow(activityWindowId?: string, windowType?: string): Promise<ActivityWindow> {\n    const promise = new Promise<ActivityWindow>((resolve, reject) => {\n\n      // get the announcement info from the bridge (e.g. the context in HC) - this will be used if no arguments passed\n      const announcementInfo = this._bridge.getAnnouncementInfo();\n      if (util.isUndefined(activityWindowId)) {\n        activityWindowId = announcementInfo.activityWindowId;\n      }\n      if (util.isUndefined(windowType)) {\n        windowType = announcementInfo.activityWindowType;\n      }\n      if (util.isUndefinedOrNull(windowType)) {\n        throw new Error(\"Can not announce - unknown windowType\");\n      }\n\n      const activityId = announcementInfo && announcementInfo.activityId;\n\n      // We cover two cases here:\n      // * no activityWindowId supplied (neither in arguments or announcement info) - in that case we register new window by type. Most of the time this is the case when an independent window is created outside activity\n      // * activityWindowId supplied - window created as part of activity creation\n\n      // NB: in GW3, windows are created standalone, and receive 'JOINED' after they send a 'READY'\n      // so we always go in 'if' case, not 'else'\n      if (util.isUndefinedOrNull(activityWindowId)) {\n        this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\n        // register new window created outside activity\n        this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\n          .then(this._windows.getOrWait.bind(this._windows))\n          .then((w: any) => {\n            if (activityId) {\n              return this._activities.getOrWait(activityId).then((_: any) => w);\n            } else {\n              return w;\n            }\n          })\n          .then((w: any) => {\n            resolve(w);\n          })\n          .catch((err) => {\n            this._logger.error(err);\n          });\n\n      } else {\n        // announce new window created in an activity creation process\n        this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\n\n        // check if the window is already created -\n        const currentWindow = this._windows.getByName(activityWindowId);\n        if (!util.isUndefinedOrNull(currentWindow)) {\n          this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\n          resolve(currentWindow);\n          return;\n        }\n\n        // window events handler\n        const windowEventHandler = (a: Activity, w: ActivityWindow, e: any) => {\n          if (activityWindowId === w.id) {\n            if (e === EntityEventType.ActivityWindowJoinedActivity) {\n              const activity = w.activity;\n              if (util.isUndefined(activity)) {\n                reject(\"UNDEFINED ACTIVITY\");\n              }\n              this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\n              resolve(w);\n              this.unsubscribeWindowEvents(windowEventHandler);\n            }\n          }\n        };\n\n        this.subscribeWindowEvents(windowEventHandler);\n        this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\n        this._bridge.announceWindow(windowType, activityWindowId);\n      }\n    });\n    return promise;\n  }\n\n  /**\n   * Allows you to subscribe for windows events, e.g. window type registered\n   * @param handler   The handler to receive notifications\n   * @returns {}\n   */\n  public subscribeWindowTypeEvents(handler: (act: WindowType, event: string) => void) {\n    this._windowTypes.subscribe((wt, context) => {\n      handler(wt, context.type);\n    });\n  }\n\n  /**\n   * Subscribe for activity status events\n   * @param handler Handler function that will receive status notifications\n   * @returns {}\n   */\n  public subscribeActivityEvents(handler: (activity: Activity, newStatus: ActivityStatus, oldStatus: ActivityStatus) => void): () => void {\n    return this._activities.subscribe((act, context) => {\n      if (context.type === EntityEventType.StatusChange) {\n        const p = (context as ActivityStatusChangeEventContext);\n        handler(act, p.newStatus, p.oldStatus);\n      }\n\n      // implicitly leave the activity on destroy\n      if (context.type === EntityEventType.Removed ||\n        (context.type === EntityEventType.StatusChange &&\n          (context as ActivityStatusChangeEventContext).newStatus.getState() === ActivityState.Destroyed)) {\n        for (const window of this._windows.get()) {\n          if (window.activity && window.activity.id === act.id) {\n            this._windows.process(new EntityEvent<ActivityWindow>(window, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Allows you to subscribe for windows events, e.g. window joining to activity\n   * @param handler   The handler to receive notifications\n   * @returns {}\n   */\n  public subscribeWindowEvents(handler: (activity: Activity, window: ActivityWindow, event: any) => void): () => void {\n    const wrappingHandler = (window: ActivityWindow, context: any) => {\n      let eventType = context.type;\n      if (eventType === EntityEventType.Added) {\n        // rename added to opened (because added is misleading - semantically it's the opposite of remove);\n        eventType = \"opened\";\n      }\n      handler(window.activity, window, eventType);\n    };\n    this._windowHandlers.push([handler, wrappingHandler]);\n    return this._windows.subscribe(wrappingHandler);\n  }\n\n  public unsubscribeWindowEvents(handler: (activity: Activity, window: ActivityWindow, event: any) => void) {\n    const found = this._windowHandlers.find((pair) => pair[0] === handler);\n    if (found) {\n      this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\n      this._windows.unsubscribe(found[1]);\n    }\n  }\n\n  /**\n   * Creates a new window from a given type and joins it to an activity\n   *\n   * @param activity      Activity to join the window to\n   * @param windowType    The window type to join (string or window definition)\n   * @param callback      (Optional) Result callback\n   * @returns             Promise for ActivityWindow\n   */\n  public createWindow(activity: Activity, windowTypeOrConfiguration: string | WindowDefinition | any, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const promise = new Promise<ActivityWindow>((resolve, reject) => {\n      if (util.isUndefinedOrNull(windowTypeOrConfiguration)) {\n        reject(\"windowType is undefined\");\n      }\n\n      let windowDefinition: WindowDefinition;\n      if (util.isString(windowTypeOrConfiguration)) {\n        windowDefinition = { type: (windowTypeOrConfiguration as string), name: \"\", isIndependent: false, arguments: {} };\n      } else if (windowTypeOrConfiguration instanceof WindowType) {\n        windowDefinition = {\n          type: (windowTypeOrConfiguration as any).type || windowTypeOrConfiguration.id,\n          name: windowTypeOrConfiguration.name || (windowTypeOrConfiguration as any).type || windowTypeOrConfiguration.id,\n          isIndependent: false\n        };\n      } else {\n        // G4E-3178 When creating a window in activity, the loading animation doesn't hide - extra property URL\n        const invalidKeys: string[] = [\"url\"];\n\n        const filteredWindowTypeOrConfiguration: any = {};\n\n        Object.keys(windowTypeOrConfiguration).forEach((key) => {\n          if (invalidKeys.indexOf(key) === -1) {\n            filteredWindowTypeOrConfiguration[key] = windowTypeOrConfiguration[key];\n          }\n        });\n        windowDefinition = filteredWindowTypeOrConfiguration as WindowDefinition;\n      }\n\n      let relativeToWindow: string | WindowSource;\n      if (!util.isUndefinedOrNull(windowDefinition.relativeTo)) {\n        relativeToWindow = windowDefinition.relativeTo;\n        if (typeof relativeToWindow === \"string\") {\n          const windows = this.getWindows({ type: relativeToWindow as string });\n          if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n            windowDefinition.relativeTo = windows[0].id;\n          }\n        } else if (!util.isUndefinedOrNull(relativeToWindow.type)) {\n          const windows = this.getWindows({ type: relativeToWindow.type });\n          if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n            windowDefinition.relativeTo = windows[0].id;\n          }\n        } else if (!util.isUndefinedOrNull(relativeToWindow.windowId)) {\n          windowDefinition.relativeTo = relativeToWindow.windowId;\n        }\n      }\n\n      this._bridge.createWindow(activity && activity.id, windowDefinition)\n        .then((wid) => {\n\n          this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\n          const handler = (window: ActivityWindow, context: EntityEventContext) => {\n            // wait until the window has activity property (this means it was joined)\n            if (window.id === wid && (!activity || window.activity)) {\n              this._logger.debug(\"Got entity window with id \" + wid);\n              resolve(window);\n              this._windows.unsubscribe(handler);\n            }\n          };\n\n          // if we can not get the window right away, wait for event\n          this._windows.subscribe(handler);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Creates relative windows from a given types and joins them to an activity\n   *\n   * @param activity               Activity to join relative windows to\n   * @param relativeWindowTypes    Relative window types to join (string or window definitions array)\n   * @param callback               (Optional) Result callback\n   * @returns                      Promise for ActivityWindow\n   */\n  public createStackedWindows(activity: Activity, relativeWindowTypes: Array<string | WindowDefinition>, timeout?: number, callback?: Callback<ActivityWindow[]>): Promise<ActivityWindow[]> {\n    const promise = new Promise<ActivityWindow[]>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity is undefined\");\n      }\n      if (util.isUndefinedOrNull(relativeWindowTypes)) {\n        reject(\"relativeWindowTypes is undefined\");\n      }\n\n      if (!Array.isArray(relativeWindowTypes)) {\n        reject(\"relativeWindowTypes has to be an array\");\n      }\n      if (util.isUndefinedOrNull(timeout)) {\n        timeout = 20000; // default timeout: 20 seconds\n      }\n\n      const windowDefinitions: WindowDefinition[] = [];\n      relativeWindowTypes.forEach((element) => {\n        let windowDefinition: WindowDefinition;\n        if (util.isString(element)) {\n          windowDefinition = { type: (element as string), name: \"\", isIndependent: false, arguments: {} };\n        } else {\n          windowDefinition = (element as WindowDefinition);\n        }\n\n        // a hint that this comes from createStackedWindows\n        windowDefinition.stackedWindow = true;\n        windowDefinition.timeout = timeout;\n\n        let relativeToWindow: WindowSource;\n        if (!util.isUndefinedOrNull(windowDefinition.relativeTo)) {\n          // this can not be string, converted in the prev. layer\n          relativeToWindow = windowDefinition.relativeTo as WindowSource;\n          if (!util.isUndefinedOrNull(relativeToWindow.type)) {\n            windowDefinition.relativeTo = relativeToWindow.type;\n          } else if (!util.isUndefinedOrNull(relativeToWindow.windowId)) {\n            const windows = this.getWindows({ id: relativeToWindow.windowId });\n            if (!util.isUndefinedOrNull(windows) && windows.length > 0) {\n              windowDefinition.relativeTo = windows[0].type.name;\n            }\n          }\n        }\n        windowDefinitions.push(windowDefinition);\n      });\n\n      const tasks: Array<Promise<ActivityWindow>> = [];\n      windowDefinitions.forEach((wd) => tasks.push(this.createWindow(activity, wd)));\n\n      Promise.all(tasks).then(resolve).catch(reject);\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Joins a new window from a given type to the activity\n   *\n   * @param activity      Activity to join the window to\n   * @param window        The window to join\n   * @param callback      (Optional) Result callback\n   * @returns             Promise for ActivityWindow\n   */\n  public addWindowToActivity(activity: Activity, window: ActivityWindow, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const toReturn = this._bridge.joinActivity(activity.id, window.id)\n      .then(() => window);\n    nodeify(toReturn, callback);\n    return toReturn;\n  }\n\n  /**\n   * Removes a window from the activity\n   *\n   * @param activity  Activity to remove the window from\n   * @param           The window to remove\n   * @param           (Optional) Result callback\n   * @returns         Promise for ActivityWindow\n   */\n  public leaveWindowFromActivity(activity: Activity, window: ActivityWindow, callback?: Callback<ActivityWindow>): Promise<ActivityWindow> {\n    const toReturn = this._bridge.leaveActivity(activity.id, window.id)\n      .then(() => window);\n    nodeify(toReturn, callback);\n    return toReturn;\n  }\n\n  /**\n   * Replaces the activity context\n   * @param activity  Activity\n   * @param context   The new context\n   * @param callback  (Optional) Result callback\n   * @returns         Promise for Activity\n   */\n  public setActivityContext(activity: Activity, context: object, callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity can not be null\");\n      }\n\n      // TODO: duplication with updateActivityContext\n\n      // DONE: verify is the change visible here when 'updateActivityContext' resolves?\n      this._bridge\n        .updateActivityContext(activity, context, true)\n        .then((_) => {\n          resolve(activity);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Updates activity context using the properties from  context argument.\n   * If old context is {a:1, b:2, c:3} and invoking updateContext({b:3, c:null}) will result a context\n   * be {a:1, b:3}\n   *\n   * @param activity\n   * @param context\n   * @param callback\n   */\n  public updateActivityContext(activity: Activity, context: any, callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      if (util.isUndefinedOrNull(activity)) {\n        reject(\"activity can not be null\");\n      }\n\n      const removedKeys = [];\n      for (const key in context) {\n        if (context.hasOwnProperty(key) && context[key] === null) {\n          removedKeys.push(key);\n        }\n      }\n      for (const removedKey of removedKeys) {\n        delete context[removedKey];\n      }\n\n      this._bridge\n        .updateActivityContext(activity, context, false, removedKeys)\n        .then((_) => {\n          // DONE: verify is the change already visible here when 'updateActivityContext' resolves?\n          resolve(activity);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Subscribe for activity context update events\n   *\n   * @param activity  Activity\n   * @param handler   Handler function that will receive context related events\n   * @returns {}\n   */\n  public subscribeActivityContextChanged(handler: ActivityContextUpdateHandler) {\n    this._activities.subscribe((act, context) => {\n      if (context.type === EntityEventType.ActivityContextChange) {\n        const updateContext = context as ActivityContextChangedEventContext;\n        handler(act, updateContext.context, updateContext.updated, updateContext.removed);\n      }\n    });\n  }\n\n  /**\n   * Stops an activity\n   * @returns {}\n   */\n  public stopActivity(activity: Activity, callback?: Callback<boolean>): Promise<boolean> {\n    const promise = this._bridge.stopActivity(activity);\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * Returns activity windows based on some filter. If no filter supplied all activity windows are returned.\n   * @param filter  Filter that\n   * @returns Array of ActivityWindows that match the filter object\n   */\n  public getWindows(filter: { id?: string, type?: string, name?: string, activityId?: string }): ActivityWindow[] {\n    if (util.isUndefined(filter)) {\n      return this._windows.get();\n    }\n\n    if (!util.isUndefined(filter.id)) {\n      return [this._windows.getByName(filter.id)];\n    }\n\n    const allWindows = this._windows.get();\n\n    return allWindows.filter((w) => {\n\n      if (!util.isUndefined(filter.type) && w.type.id !== filter.type) {\n        return false;\n      }\n\n      if (!util.isUndefined(filter.name) && w.name !== filter.name) {\n        return false;\n      }\n\n      if (!util.isUndefined(filter.activityId)) {\n        if (util.isUndefinedOrNull(w.activity)) {\n          return false;\n        }\n\n        if (w.activity.id !== filter.activityId) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n\n  public getWindowBounds(id: string): Promise<WindowBounds> {\n    return this._bridge.getWindowBounds(id);\n  }\n\n  public setWindowBounds(id: string, bounds: WindowBounds, callback?: Callback<ActivityWindow>): Promise<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      this._bridge.setWindowBounds(id, bounds)\n        .then(() => resolve())\n        .catch((err) => reject(err));\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public closeWindow(id: string): Promise<any> {\n    return this._bridge.closeWindow(id);\n  }\n\n  public activateWindow(id: string, focus: boolean): Promise<any> {\n    return this._bridge.activateWindow(id, focus);\n  }\n\n  public setWindowVisibility(id: string, visible: boolean): Promise<any> {\n    return this._bridge.setWindowVisibility(id, visible);\n  }\n\n  public clone(activity: Activity, cloneOptions: CloneOptions, callback?: Callback<Activity>) {\n    const promise = new Promise<any>((resolve, reject) => {\n      if (!activity) {\n        reject(\"activity can not be null\");\n      }\n\n      this._bridge.cloneActivity(activity.id, cloneOptions)\n        .then((activityId) => {\n          this._activities\n            .getOrWait(activityId)\n            .then((act: Activity) => {\n              resolve(act);\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => reject(err));\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public attachActivities(from: string, to: string, tag?: object, callback?: Callback<AttachedActivityDescriptor>): Promise<AttachedActivityDescriptor> {\n\n    tag = tag || {};\n\n    const promise = new Promise<AttachedActivityDescriptor>((resolve, reject) => {\n\n      const fromActivity = this._activities.getByName(from);\n      if (!fromActivity) {\n        reject(\"can not find activity with id \" + from);\n        return;\n      }\n\n      const toActivity = this._activities.getByName(to);\n      if (!toActivity) {\n        reject(\"can not find activity with id \" + to);\n        return;\n      }\n\n      return this._bridge.attachActivities(from, to, tag)\n        .then((data: any) => {\n          const newActId = data.to;\n          const state = data.descriptor;\n          const allStates = data.descriptors;\n\n          this._activities.getOrWait(newActId).then((act) => {\n            act._updateDescriptors(allStates);\n            const stateWrapped = act.attached.filter((u) => u.ownerId === state.ownerId)[0];\n\n            resolve(stateWrapped);\n          });\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public detachActivities(\n    activityId: string,\n    descriptor: ActivityDescriptor,\n    callback?: Callback<Activity>): Promise<Activity> {\n    const promise = new Promise<Activity>((resolve, reject) => {\n      return this._bridge.detachActivities(activityId, descriptor)\n        .then(/*(params)*/() => {\n          // #deleteme TODO: deal with this\n          const oldActId: string = undefined; // params.oldActivityId;\n          const newActId: string = undefined; // params.newActivityId;\n          const descriptors: any = undefined; // params.descriptors;\n\n          this._activities\n            .getOrWait(oldActId)\n            .then((oldAct: Activity) => {\n              oldAct._updateDescriptors(descriptors);\n\n              this._activities\n                .getOrWait(newActId)\n                .then((newAct: Activity) => {\n                  resolve(newAct);\n                });\n            })\n            .catch((err) => reject(err));\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n\n    return nodeify(promise, callback);\n  }\n\n  public subscribeActivitiesAttached(callback: any) {\n    this._attachedCallbacks.push(callback);\n  }\n\n  public subscribeActivitiesDetached(callback: any) {\n    this._detachedCallbacks.push(callback);\n  }\n\n  public subscribeActivityFrameColorChanged(callback: () => void) {\n    this._frameColorChangesCallbacks.push(callback);\n  }\n\n  /** Assigns a manager to a given ActivityEntity */\n  private _grabEntity(entity: ActivityEntity) {\n    entity._manager = this;\n  }\n\n  private _getInitialData() {\n    this._logger.debug(\"Request initial data...\");\n\n    // NB: there's no possibility for duplicate entities from events that have come\n    // in between _bridge.init() and _bridge.ready()'s resolve, since the ObservableCollections\n    // coalesce items by id.\n\n    this._bridge.getActivityTypes()\n      .then((at) => {\n        this._activityTypes.add(at);\n        this._dataReadyMarker.signal(\"Got act types\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\n      });\n\n    this._bridge.getWindowTypes()\n      .then((wt) => {\n        this._windowTypes.add(wt);\n        this._dataReadyMarker.signal(\"Got window types\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\n      });\n\n    this._bridge.getActivities()\n      .then((ac) => {\n        this._activities.add(ac);\n        this._dataReadyMarker.signal(\"Got activities\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\n      });\n\n    this._bridge.getActivityWindows()\n      .then((aw) => {\n        this._windows.add(aw);\n        this._dataReadyMarker.signal(\"Got windows\");\n      })\n      .catch((error) => {\n        this._logger.error(error);\n        this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\n      });\n  }\n\n  private _subscribeForData() {\n    this._logger.debug(\"Subscribe for data...\");\n\n    // NB: there's no possibility for duplicate entities from events that have come\n    // in between _bridge.init() and _bridge.ready()'s resolve, since the ObservableCollections\n    // coalesce items by id.\n\n    this._bridge.onActivityTypeStatusChange((event) => {\n      this._activityTypes.process(event);\n    });\n\n    this._bridge.onWindowTypeStatusChange((event) => {\n      this._windowTypes.process(event);\n    });\n\n    this._bridge.onActivityWindowChange((event) => {\n      this._windows.process(event);\n    });\n\n    this._bridge.onActivityStatusChange((event: EntityEvent<Activity>) => {\n      this._activities.process(event);\n    });\n  }\n\n  private _handleActivitiesAttached(data: any) {\n\n    const newActId = data.to;\n    const descriptor = data.descriptor;\n    const descriptors = data.descriptors;\n\n    this._activities.getOrWait(newActId).then((act) => {\n      act._updateDescriptors(descriptors);\n      const descriptorAsObjectFromAPI = act.attached.filter((u) => u.ownerId === descriptor.ownerId)[0];\n\n      this._attachedCallbacks.forEach((callback) => {\n        try {\n          callback(act, descriptorAsObjectFromAPI);\n        } catch (err) {\n          return;\n        }\n      });\n\n    });\n  }\n\n  private _handleActivitiesDetached(data: any) {\n    const oldActId = data.oldActivityId;\n    const newActId = data.newActivityId;\n    const descriptors = data.descriptors;\n    const descriptor = data.descriptor;\n\n    this._activities.getOrWait(oldActId).then((oldAct) => {\n\n      oldAct._updateDescriptors(descriptors);\n\n      this._activities.getOrWait(newActId).then((newAct) => {\n\n        this._detachedCallbacks.forEach((callback) => {\n          try {\n            callback(newAct, oldAct, descriptor);\n          } catch (err) {\n            return;\n          }\n        });\n      });\n    });\n  }\n\n  private _handleActivityDescriptorsRefreshed(data: any) {\n    const id = data.id;\n    const descriptors = data.descriptors;\n\n    const act = this._activities.getByName(id);\n    if (act) {\n      act._updateDescriptors(descriptors);\n    }\n  }\n\n  private refreshDescriptors() {\n    this._bridge.getAttachedDescriptors()\n      .then((map: any) => {\n\n        // populate descriptors\n        if (map) {\n          Object.keys(map).forEach((key: string) => {\n            const actId = key;\n            const descriptors = map[key];\n\n            const act = this._activities.getByName(actId);\n            if (act) {\n              act._updateDescriptors(descriptors);\n            }\n          });\n        }\n\n        this._descriptorsMarker.signal(\"Successfully got descriptors\");\n      })\n      .catch((err) => {\n        this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\n      });\n  }\n\n  private _handleWindowFrameColorChanged(win: Glue42.Windows.GDWindow) {\n    if (!win.activityId) {\n      return;\n    }\n\n    const act = this._activities.getByName(win.activityId);\n    if (!act) {\n      return;\n    }\n\n    // notify for the owner only\n    if (!act.owner) {\n      return;\n    }\n\n    if (act.owner.underlyingWindow.id !== win.id) {\n      return;\n    }\n\n    this._frameColorChangesCallbacks.forEach((callback) => {\n      try {\n        callback(act, win.frameColor);\n      } catch (e) {\n        return;\n      }\n    });\n  }\n}\n","import ActivityType from \"./../entities/activityType\";\nimport WindowType from \"./../entities/windowType\";\nimport * as util from \"./../helpers/util\";\nimport ActivityManager from \"./../core/activityManager\";\nimport My from \"./activityMyAPI\";\nimport { WindowDefinition } from \"./../entities/windowDefinition\";\nimport { Callback } from \"./../contracts/contracts\";\nimport Activity from \"./../entities/activity\";\nimport ActivityWindow from \"./../entities/activityWindow\";\nimport { ActivityStatus } from \"./../contracts/activityStatus\";\nimport { WindowFactory } from \"../contracts/windowFactory\";\nimport { Glue42 } from \"../../../glue\";\n\nexport interface ManagementAPI {\n  activityTypes: Glue42.Activities.ActivityTypesAPI;\n  windowTypes: Glue42.Activities.WindowTypesAPI;\n  windows: Glue42.Activities.WindowingAPI;\n  instances: Glue42.Activities.InstancesAPI;\n\n  onAttached(callback: () => void): void;\n  onDetached(callback: () => void): void;\n  onActivityFrameColorChanged(callback: () => void): void;\n}\n\nexport class ActivityManagementAPI implements ManagementAPI {\n\n  public _m: ActivityManager;\n\n  public _my: My;\n\n  public activityTypes: Glue42.Activities.ActivityTypesAPI;\n\n  public windowTypes: Glue42.Activities.WindowTypesAPI;\n\n  public windows: Glue42.Activities.WindowingAPI;\n\n  public instances: Glue42.Activities.InstancesAPI;\n\n  constructor(manager: ActivityManager, my: My) {\n    this._m = manager;\n    this._my = my;\n\n    this.activityTypes = {\n      get: this._getActivityTypesWrapper.bind(this),\n      register: this._m.registerActivityType.bind(this._m),\n      unregister: this._m.unregisterActivityType.bind(this._m),\n      subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\n      unsubscribe: undefined,\n      initiate: this._m.initiate.bind(this._m)\n    };\n\n    this.windowTypes = {\n      get: this._getWindowTypesWrapper.bind(this),\n      registerFactory: this._m.registerWindowFactory.bind(this._m),\n      unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\n      subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\n      unsubscribe: undefined\n    };\n\n    this.windows = {\n      get: this._m.getWindows.bind(this._m),\n      subscribe: this._m.subscribeWindowEvents.bind(this._m),\n      announce: this._m.announceWindow.bind(this._m),\n      unsubscribe: undefined,\n      create: this._m.createWindow.bind(this._m)\n    };\n\n    this.instances = {\n      get: this._m.getActivities.bind(this._m),\n      subscribe: this._m.subscribeActivityEvents.bind(this._m),\n      unsubscribe: undefined\n    };\n  }\n\n  public onAttached(callback: () => void) {\n    this._m.subscribeActivitiesAttached(callback);\n  }\n\n  public onDetached(callback: () => void) {\n    this._m.subscribeActivitiesDetached(callback);\n  }\n\n  public onActivityFrameColorChanged(callback: () => void) {\n    this._m.subscribeActivityFrameColorChanged(callback);\n  }\n\n  private _getActivityTypesWrapper(name?: string): ActivityType[] | ActivityType {\n    if (util.isUndefined(name)) {\n      return this._m.getActivityTypes();\n    }\n    return this._m.getActivityType(name);\n  }\n\n  private _getWindowTypesWrapper(name?: string): WindowType[] | WindowType {\n    if (util.isUndefined(name)) {\n      return this._m.getWindowTypes();\n    }\n    return this._m.getWindowType(name);\n  }\n}\n","import ActivityManager from \"./../core/activityManager\";\nimport My from \"./activityMyAPI\";\nimport { nodeify } from \"./../helpers/promiseExtensions\";\nimport { ActivityManagementAPI, ManagementAPI } from \"./activityManagementAPI\";\nimport { ActivityAGM } from \"../core/activityAGM\";\n\nexport interface API {\n\n  aware: boolean;\n\n  inActivity: boolean;\n\n  my: My;\n\n  agm: ActivityAGM;\n\n  all: ManagementAPI;\n\n  ready(callback?: (api: API) => void): Promise<API>;\n\n  getAvailableFrameColors(): string[];\n}\n\n/**\n * The entry points of activities API - accessible from glue.activities\n *\n * @module activities\n */\nexport class ActivityAPI implements API {\n\n  public _mgr: ActivityManager;\n  public _my: My;\n\n /**\n  * Extended API that provides access to all running activities and windows and available activity and window types\n  *\n  * @var {module:all} all\n  */\n public all: ManagementAPI;\n\n  constructor(manager: ActivityManager, my: My) {\n    this._mgr = manager;\n    this._my = my;\n    this.all = new ActivityManagementAPI(manager, my);\n  }\n\n  /**\n   * The entry point for your activity code.\n   *\n   * @function ready\n   * @returns {Promise<module:activities>} A promise for activity API\n   */\n  public ready(callback?: any): Promise<API> {\n    const promise = new Promise<any>((resolve, reject) => {\n      this._mgr.ready()\n        .then(() => {\n          resolve(this);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n    return nodeify(promise, callback);\n  }\n\n  /**\n   * A lightweight, single activity oriented subset of the API which should be used by most activity applications\n   *\n   * @var {module:my} my\n   */\n  public get my(): My {\n    return this._my;\n  }\n\n  /**\n   * True if the current window is activity aware - meaning that the window has been created as\n   * an activity participant - either a helper or an independent window.\n   * Check this after the API is ready.\n   *\n   * @var {bool} aware\n   */\n  public get aware(): boolean {\n    return this._my.window !== undefined;\n  }\n\n  /**\n   * Returns true if the current window is activity aware and is currently participating in activity\n   *\n   * @var {bool} inActivity\n   */\n  public get inActivity(): boolean {\n    return this.aware && this._my.activity !== undefined;\n  }\n\n  /**\n   * Defines an Activity-specific version of the AGM API which:\n   * * restricts method registrations to activity-only windows\n   * * restricts method discovery and invocation to activity-only methods, unless you explicitly specify otherwise\n   * Other than that, the API is pretty much the same.\n   *\n   * @var  {module:activityAGM} agm\n   *\n   */\n  public get agm(): ActivityAGM {\n    if (!this.aware) {\n      // no agm if not activity aware\n      return undefined;\n    }\n    if (!this.inActivity) {\n      // if we're not in activity no\n      return new ActivityAGM(null);\n    }\n\n    return this._my.activity.agm;\n  }\n\n  /**\n   * Returns a list of frame colors that can be used as activity frame colors\n   *\n   * @returns {string[]}\n   */\n  public getAvailableFrameColors(): string[] {\n    // TODO - not available in GD3\n    return [];\n  }\n}\n","import GW3Bridge from \"./bridges/gw3Bridge\";\n\nimport My from \"./API/activityMyAPI\";\nimport ActivityManager from \"./core/activityManager\";\n\nimport { ActivityBridge } from \"./bridges/activityBridge\";\n\nimport { ActivityConfig } from \"./activityConfig\";\nimport { ActivityAPI } from \"./API/activityAPI\";\nimport { ActivityAGM } from \"./core/activityAGM\";\nimport { Logger } from \"./helpers/logger\";\nimport * as util from \"./helpers/util\";\n\nimport { Glue42Core } from \"@glue42/core\";\n\nimport { nodeify } from \"./helpers/promiseExtensions\";\n\n/**\n * Activity context update handler - used when we want to subscribe for context changes in a specific activity\n *\n * @callback contextChangedHandler\n * @param {Object} context The full context of the activity after the update\n * @param {Object} delta The delta (contains the added/removed keys at top level)\n * @param {string[]} removed  Array of keys that were removed from context\n * @param {module:activity} activity The activity instance that owns the context\n *\n */\n\n/**\n * @callback windowEventHandler Handler for ActivityWindow events - e.g window joined to activity, window removed from\n * activity\n * @param {module:activity} activity\n * @param {module:activityWindow} window\n * @param {string} event 'joined' or 'removed'\n */\n\n/**\n * @callback activityStatusChangeHandler Handler for activity status changed events\n * @param {module:activity} activity\n * @param {activityStatus} newStatus\n * @param {activityStatus} oldStatus\n *\n */\n\n/**\n * @typedef {Object} windowDefinition\n * @property {string} type\n * @property {string} name\n * @property {Object} arguments\n */\n\n/**\n * @typedef {Object} bounds\n * @param {number} top\n * @param {number} left\n * @param {number} width\n * @param {number} height\n *\n */\n\n/**\n * @typedef {Object} agmInstance\n * @param {string} application\n * @param {string} pid\n * @param {string} machine\n * @param {string} user\n * @param {string} environment\n * @param {string} region\n */\n\n// Factory function for activity API\nexport class ActivityModule {\n    public static checkIsUsingGW3Implementation(connection: Glue42Core.Connection.API) {\n        return connection.protocolVersion === 3;\n    }\n\n    private _api: ActivityAPI;\n    private _isUsingGW3Implementation: boolean;\n    private _isUsingHCImplementation: boolean;\n    private _readyPromise: Promise<ActivityModule>;\n\n    get api(): ActivityAPI {\n        return this._api;\n    }\n\n    set api(value: ActivityAPI) {\n        this._api = value;\n    }\n\n    constructor(config: ActivityConfig) {\n        if (!config) {\n            throw new Error(\"config can not be null\");\n        }\n\n        // set log level\n        if (!util.isUndefined(config.logLevel)) {\n            Logger.Level = config.logLevel;\n        }\n\n        if (!util.isUndefinedOrNull(config.logger)) {\n            Logger.GlueLogger = config.logger;\n        }\n\n        // choose the correct bridge\n        let bridge: ActivityBridge;\n        this._isUsingHCImplementation = config.gdMajorVersion === 2;\n        this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\n\n        if (this._isUsingHCImplementation) {\n            throw new Error(\"GD2 not supported\");\n        } else if (this._isUsingGW3Implementation) {\n            bridge = new GW3Bridge(config);\n        } else {\n            throw new Error(\"Unable to instantiate activity bridge implementation\");\n        }\n\n        if (!bridge) {\n            throw new Error(\"A bridge to native activity is needed to create activity lib.\");\n        }\n\n        ActivityAGM.AGM = config.agm;\n        const activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\n        const my = new My(activityManager, config.windows);\n        this._api = new ActivityAPI(activityManager, my);\n        this._readyPromise = activityManager.ready().then((_) => this);\n    }\n\n    public get isUsingHCImplementation(): boolean {\n        return this._isUsingHCImplementation;\n    }\n\n    public get isUsingGW3Implementation(): boolean {\n        return this._isUsingGW3Implementation;\n    }\n\n    public ready(callback?: (err: string, module: ActivityModule) => void): Promise<void> {\n        return nodeify(this._readyPromise, callback) as any as Promise<void>;\n    }\n}\n","export const ShutdownMethodName = \"T42.ACS.Shutdown\";\nexport const OnGDShutdownMethodName = \"T42.ACS.OnGDShutdown\";\nexport const RestartMethodName = \"T42.ACS.Restart\";\n\nexport const FeedbackMethodName = \"T42.ACS.Feedback\";\n\nexport const GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\nexport const SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\n\nexport const GetUserMethodName = \"T42.ACS.GetUser\";\nexport const GetBranchesMethodName = \"T42.ACS.GetBranches\";\nexport const GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\nexport const SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\n\nexport const GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\nexport const CanIMethodName = \"T42.ACS.CanI\";\n\nexport const StartApplicationMethodName = \"T42.ACS.StartApplication\";\nexport const StopApplicationMethodName = \"T42.ACS.StopApplication\";\nexport const ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\nexport const RunApplicationMethodName = \"T42.ACS.RunApplication\";\n\nexport const OnEventMethodName = \"T42.ACS.OnEvent\";\n\nexport const GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n","\"use strict\";\nfunction createRegistry(options) {\n    if (options && options.errorHandling\n        && typeof options.errorHandling !== \"function\"\n        && options.errorHandling !== \"log\"\n        && options.errorHandling !== \"silent\"\n        && options.errorHandling !== \"throw\") {\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\n    }\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\n    var callbacks = {};\n    function add(key, callback, replayArgumentsArr) {\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey) {\n            callbacksForKey = [];\n            callbacks[key] = callbacksForKey;\n        }\n        callbacksForKey.push(callback);\n        if (replayArgumentsArr) {\n            setTimeout(function () {\n                replayArgumentsArr.forEach(function (replayArgument) {\n                    var _a;\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\n                        try {\n                            if (Array.isArray(replayArgument)) {\n                                callback.apply(undefined, replayArgument);\n                            }\n                            else {\n                                callback.apply(undefined, [replayArgument]);\n                            }\n                        }\n                        catch (err) {\n                            _handleError(err, key);\n                        }\n                    }\n                });\n            }, 0);\n        }\n        return function () {\n            var allForKey = callbacks[key];\n            if (!allForKey) {\n                return;\n            }\n            allForKey = allForKey.reduce(function (acc, element, index) {\n                if (!(element === callback && acc.length === index)) {\n                    acc.push(element);\n                }\n                return acc;\n            }, []);\n            if (allForKey.length === 0) {\n                delete callbacks[key];\n            }\n            else {\n                callbacks[key] = allForKey;\n            }\n        };\n    }\n    function execute(key) {\n        var argumentsArr = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            argumentsArr[_i - 1] = arguments[_i];\n        }\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey || callbacksForKey.length === 0) {\n            return [];\n        }\n        var results = [];\n        callbacksForKey.forEach(function (callback) {\n            try {\n                var result = callback.apply(undefined, argumentsArr);\n                results.push(result);\n            }\n            catch (err) {\n                results.push(undefined);\n                _handleError(err, key);\n            }\n        });\n        return results;\n    }\n    function _handleError(exceptionArtifact, key) {\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\n        if (_userErrorHandler) {\n            _userErrorHandler(errParam);\n            return;\n        }\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\n        if (options) {\n            switch (options.errorHandling) {\n                case \"log\":\n                    return console.error(msg);\n                case \"silent\":\n                    return;\n                case \"throw\":\n                    throw new Error(msg);\n            }\n        }\n        console.error(msg);\n    }\n    function clear() {\n        callbacks = {};\n    }\n    function clearKey(key) {\n        var callbacksForKey = callbacks[key];\n        if (!callbacksForKey) {\n            return;\n        }\n        delete callbacks[key];\n    }\n    return {\n        add: add,\n        execute: execute,\n        clear: clear,\n        clearKey: clearKey\n    };\n}\n;\ncreateRegistry.default = createRegistry;\nmodule.exports = createRegistry;\n//# sourceMappingURL=index.js.map","export function objectValues(source: {[key: string]: any}): any[] {\n    if (!source) {\n        return [];\n    }\n    return Object.keys(source).map((key) => source[key]);\n}\n\nexport function objectClone(obj: {[key: string]: any}): any {\n    let result;\n    try {\n        result = JSON.parse(JSON.stringify(obj || {}));\n    } catch (error) {\n        result = {};\n    }\n\n    return result;\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, StartAppResult } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { objectClone } from \"./helper\";\nimport { isUndefinedOrNull } from \"../activity/helpers/util\";\n\nexport default class ApplicationImpl implements Glue42.AppManager.Application {\n\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    // Additional properties of the Application\n    private _props: AppProps;\n\n    constructor(private _appManager: AppManagerImpl, private _name: string, private _agm: Glue42Core.AGM.API) {\n\n        // TODO: Replace string events with constants. The string declaration of the registry event name should only ever appear once. Ever. Period.\n\n        // subscribe for events from app-manager\n        _appManager.onInstanceStarted((instance) => {\n            if (instance.application && instance.application.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"instanceStarted\", instance);\n        });\n\n        _appManager.onInstanceStopped((instance) => {\n            if (instance.application && instance.application.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"instanceStopped\", instance);\n        });\n\n        _appManager.onAppRemoved((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appRemoved\", app);\n        });\n\n        _appManager.onAppChanged((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n\n            this._registry.execute(\"appChanged\", app);\n        });\n\n        _appManager.onAppAvailable((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n            this._props.IsReady = true;\n            this._registry.execute(\"appAvailable\", app);\n        });\n\n        _appManager.onAppUnavailable((app) => {\n            if (app.name !== this._name) {\n                return;\n            }\n            this._props.IsReady = false;\n            this._registry.execute(\"appUnavailable\", app);\n        });\n    }\n\n    get name(): string { return this._name; }\n    get title(): string { return this._props.Title; }\n    get version(): string { return this._props.Version; }\n    get autoStart(): boolean { return this._props.AutoStart; }\n    get isShell(): boolean { return this._props.IsShell; }\n    get caption(): string { return this._props.Caption; }\n    get hidden(): boolean { return this._props.IsHidden; }\n    get container(): string { return this._props.ApplicationName; }\n    get activityType(): string { return this._props.ActivityType; }\n    get activityWindowType(): string { return this._props.ActivityWindowType; }\n    get windowSettings(): { [key: string]: any } {\n        if (!this._props.Arguments) {\n            return {};\n        }\n        return objectClone(this._props.Arguments);\n    }\n    get allowMultiple(): boolean { return this._props.AllowMultiple; }\n    get available(): boolean { return this._props.IsReady || true; }\n    get icon(): string { return this._props.Icon; }\n    get iconURL(): string { return this._props.IconUrl; }\n    get sortOrder(): number { return this._props.SortOrder; }\n    get userProperties(): { [key: string]: any } {\n        if (!this._props.UserProperties) {\n            return {};\n        }\n        return objectClone(this._props.UserProperties);\n    }\n    get keywords(): string[] {\n        if (!this._props.Keywords) {\n            return [];\n        }\n        return this._props.Keywords;\n    }\n    get isActivity(): boolean {\n        return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\n    }\n\n    get configuration(): Glue42.AppManager.LegacyAppConfigProperties {\n        return {\n            autoStart: this._props.AutoStart,\n            caption: this._props.Caption,\n            hidden: this._props.IsHidden,\n            container: this._props.ApplicationName,\n            activityType: this._props.ActivityType,\n            allowMultiple: this._props.AllowMultiple\n        };\n    }\n\n    get instances() {\n        return this._appManager.instances().filter((instance: Glue42.AppManager.Instance) => instance.application.name === this._name);\n    }\n\n    get type() {\n        return this._props.Type;\n    }\n\n    get mode() {\n        if (!this._props) {\n            // no info about the app\n            return \"unknown\";\n        }\n\n        // GD3 - we always have Mode from the stream object\n        if (this._props.Mode && typeof this._props.Mode === \"string\") {\n            return this._props.Mode.toLowerCase() as Glue42.Windows.WindowMode;\n        }\n\n        // GD2\n        // return unknown for activity applications\n        if (this.isActivity) {\n            return \"unknown\";\n        }\n\n        // check definition -> hc.args.mode\n        if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\n            return this._props.Arguments.mode.toLowerCase() as Glue42.Windows.WindowMode;\n        }\n\n        // if no hc.args.mode, check hc.WindowStyleAttributes\n        let styleAttributes = this._props.WindowStyleAttributes;\n        if (styleAttributes) {\n            // WindowStyleAttributes is not a valid JSON, we will need to find mode in the string\n            styleAttributes = styleAttributes.split(\" \").join(\"\");\n            const searchFor = \"mode:\\\"\";\n            const modeIndex = styleAttributes.indexOf(searchFor);\n            if (modeIndex !== -1) {\n                const startModeIndex = modeIndex + searchFor.length;\n                const stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\n                const style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\n                if (style && typeof style === \"string\") {\n                    return style.toLowerCase() as Glue42.Windows.WindowMode;\n                }\n            }\n        }\n\n        // default mode for GD2\n        return \"flat\";\n    }\n\n    public updateFromProps(props: AppProps) {\n        if (!this._props) {\n            this._props = { Name: props.Name };\n        }\n\n        Object.keys(props).forEach((key) => {\n            (this._props as any)[key] = (props as any)[key];\n        });\n    }\n\n    public start(context?: unknown, options?: Glue42.AppManager.ApplicationStartOptions): Promise<Glue42.AppManager.Instance> {\n        return new Promise<Glue42.AppManager.Instance>(async (resolve, reject) => {\n            const name = this._name;\n            let startTimeout: number = 60000;\n            if (isUndefinedOrNull(context)) {\n                context = {};\n            } else if (typeof context !== \"object\") {\n                return reject(new Error(`Invalid \"context\" parameter - must be an object.`));\n            }\n\n            if (isUndefinedOrNull(options)) {\n                options = {};\n            } else if (typeof options !== \"object\") {\n                return reject(new Error(`Invalid \"options\" parameter - must be an object.`));\n            }\n\n            let waitForAGMInstance = options.waitForAGMReady ?? true;\n\n            const waitForApplicationInstance = (id: string) => {\n                let unsub: () => void;\n                // reject after some timeout\n                const timeout = setTimeout(() => {\n                    if (unsub) {\n                        unsub();\n                    }\n                    reject(`timed out while waiting for instance id ${id} for app ${this.name}`);\n                }, startTimeout);\n\n                const waitFunc = (i: Glue42.AppManager.Instance) => {\n                    if (i.id !== id) {\n                        return;\n                    }\n                    if (unsub) {\n                        unsub();\n                        unsub = undefined;\n                    }\n                    clearTimeout(timeout);\n                    resolve(i);\n                };\n\n                if (waitForAGMInstance) {\n                    unsub = this._appManager.onInstanceAgmServerReady(waitFunc);\n                } else {\n                    // if not there subscribe for instance events\n                    unsub = this._appManager.onInstanceStarted(waitFunc);\n                }\n            };\n\n            const result = await this._agm.invoke<StartAppResult>(AgmNames.StartApplicationMethodName,\n                {\n                    Name: name,\n                    Context: context,\n                    Options: options\n                },\n                \"best\",\n                {\n                    methodResponseTimeoutMs: startTimeout\n                });\n\n            const acsResult: StartAppResult = result.returned;\n            if (typeof acsResult.timeout !== \"undefined\") {\n                startTimeout = acsResult.timeout * 1000;\n            }\n            if (typeof acsResult.waitForInterop !== \"undefined\" && typeof options.waitForAGMReady === \"undefined\") {\n                waitForAGMInstance = acsResult.waitForInterop;\n            }\n\n            if (acsResult && acsResult.Id) {\n                if (this._appManager.mode === \"startOnly\") {\n                    // we're in startOnly mode, no stream, so we will simulate the instance\n                    // based on the data received from GD\n                    const instance = this._appManager.handleInstanceStarted({\n                        ActivityId: undefined,\n                        IsActivityOwner: undefined,\n                        Context: undefined,\n                        Title: undefined,\n                        AgmServers: undefined,\n                        Id: acsResult.Id,\n                        Name: acsResult.Name,\n                    });\n                    resolve(instance);\n                } else {\n                    // we received instance from ACS, let's wait until it appears on the stream\n                    waitForApplicationInstance(acsResult.Id);\n                }\n            } else {\n                // we haven't received instance from ACS - this might happen if the app does not\n                // support tracking instances (e.g. we start internet explorer with some url)\n                resolve(undefined);\n            }\n        });\n    }\n\n    public onInstanceStarted(callback: (instance: Glue42.AppManager.Instance) => any): UnsubscribeFunction {\n        return this._registry.add(\"instanceStarted\", callback);\n    }\n\n    public onInstanceStopped(callback: (instance: Glue42.AppManager.Instance) => any): UnsubscribeFunction {\n        return this._registry.add(\"instanceStopped\", callback);\n    }\n\n    public onAvailable(callback: (app: Glue42.AppManager.Application) => any): UnsubscribeFunction {\n        if (this._props.IsReady) {\n            setTimeout(() => {\n                this._registry.execute(\"appAvailable\", this);\n            }, 0);\n        }\n        return this._registry.add(\"appAvailable\", callback);\n    }\n\n    public onUnavailable(callback: (app: Glue42.AppManager.Application) => any): UnsubscribeFunction {\n        if (this._props.IsReady === false) {\n            setTimeout(() => {\n                this._registry.execute(\"appUnavailable\", this);\n            }, 0);\n        }\n        return this._registry.add(\"appUnavailable\", callback);\n    }\n\n    public onChanged(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appChanged\", callback);\n    }\n\n    public onRemoved(callback: (app: Glue42.AppManager.Application) => any): void {\n        this._registry.add(\"appRemoved\", callback);\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { InstanceProps, WindowContext } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { isUndefinedOrNull } from \"../activity/helpers/util\";\n\nexport default class InstanceImpl implements Glue42.AppManager.Instance {\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    private _startUpContext: WindowContext;\n    private _title: string;\n    private _isActivityInstance: boolean;\n    private _activityId: string;\n    private _inActivity: boolean;\n    private _isActivityOwner: boolean;\n    private _agmInstance: Partial<Glue42Core.AGM.Instance>;\n    private _unsubscribeInstanceAgmServerReady: UnsubscribeFunction;\n    private _unsubscribeInstanceStopped: UnsubscribeFunction;\n\n    constructor(\n        private _id: string,\n        private _appName: string,\n        private _appManager: AppManagerImpl,\n        private _agm: Glue42Core.AGM.API,\n        private _activities: Glue42.Activities.API,\n        private _windows: Glue42.Windows.API,\n        startFailed?: boolean\n    ) {\n        if (startFailed) {\n            return;\n        }\n\n        this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped((instance: Glue42.AppManager.Instance) => {\n            if (instance.id !== this._id) {\n                return;\n            }\n\n            this._registry.execute(\"stopped\", instance);\n        });\n\n        this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady((instance) => {\n            if (instance.id !== this._id) {\n                return;\n            }\n\n            this._registry.execute(\"agmReady\", instance);\n        });\n    }\n\n    get id(): string { return this._id; }\n\n    get application(): Glue42.AppManager.Application { return this._appManager.application(this._appName); }\n\n    get activity(): Glue42.Activities.Activity {\n        if (!this._activities) {\n            throw new Error(\"This method requires glue.activities library to be enabled.\");\n        }\n        return this._activities.all.instances.get()\n            .filter((activityInstance: Glue42.Activities.Activity) => activityInstance.id === this._activityId)[0];\n    }\n\n    get isActivityOwner(): boolean { return this._isActivityOwner; }\n\n    // this property returns a list of activity window instances (not activity instances)\n    get activityInstances(): Glue42.AppManager.Instance[] {\n        return this._appManager.instances().filter((i) =>\n            i.application.type !== \"activity\" && // GD2 backward compatibility -  do not show activity instances into the activity window instances list\n            i.activityId && // glue js 2 and 3 bug and breaking change - they will show non activity window instances as activity in case of activityId === undefined\n            i.activityId === this._activityId);\n    }\n\n    get activityOwnerInstance(): Glue42.AppManager.Instance {\n        if (!this._activityId) {\n            return undefined;\n        }\n        return this.activityInstances.filter((inst) => (inst as InstanceImpl)?.isActivityOwner)[0];\n    }\n\n    get window(): Glue42.Windows.GDWindow {\n        if (!this._windows) {\n            throw new Error(\"This method requires glue.windows library to be enabled.\");\n        }\n\n        let win = this._windows.list().filter((w) => w.id === this._id)[0];\n        if (!win && this._activities && this.activity && this.activityOwnerInstance) {\n            // This is covering GD3 activity instance\n            win = this.activityOwnerInstance.window;\n        }\n\n        return win;\n    }\n\n    get context(): WindowContext {\n        return this._startUpContext ?? this.window?.context ?? {};\n    }\n\n    get title(): string { return this._title; }\n\n    get isActivityInstance(): boolean { return this._isActivityInstance; }\n\n    get activityId(): string { return this._activityId; }\n\n    get inActivity(): boolean { return this._inActivity; }\n\n    get isSingleWindowApp(): boolean { return !this._inActivity; }\n\n    get agm(): Partial<Glue42Core.AGM.Instance> {\n        return this._agmInstance;\n    }\n\n    public onAgmReady(callback: (instance: Glue42.AppManager.Instance) => any) {\n        if (this._agmInstance) {\n            setTimeout(() => {\n                this._registry.execute(\"agmReady\", this);\n            }, 0);\n        }\n        return this._registry.add(\"agmReady\", callback);\n    }\n\n    public onStopped(callback: (instance: Glue42.AppManager.Instance) => any) {\n        return this._registry.add(\"stopped\", callback);\n    }\n\n    // uses this.window and waits for the window to appear if needed\n    // we can not remove this.window for legacy reasons\n    public getWindow(): Promise<Glue42.Windows.GDWindow> {\n        return new Promise((resolve, reject) => {\n            // try to get it the normal way\n            const result = this.window;\n            if (result) {\n                resolve(result);\n                return;\n            }\n\n            // if we can not find it directly wait for it to appear\n            const done = (error?: Error, window?: Glue42.Windows.GDWindow) => {\n                if (error) {\n                    reject(error);\n                }\n\n                if (window) {\n                    resolve(window);\n                }\n\n                setTimeout(() => {\n                    clearTimeout(timeout);\n                    unsub();\n                }, 0);\n            };\n\n            // if not found for 30 sec reject\n            const timeout = setTimeout(() => {\n                done(new Error(`can not find a window with id ${this._id}`));\n            }, 30000);\n\n            const unsub = this._windows.onWindowAdded((w) => {\n                if (w.id === this._id) {\n                    done(undefined, w);\n                }\n            });\n        });\n    }\n\n    public updateFromProps(props: InstanceProps): void {\n        this._startUpContext = props.Context;\n        this._title = props.Title;\n        this._isActivityInstance = false;\n        if (props.ActivityId && props.ActivityId !== \"\") {\n            this._activityId = props.ActivityId;\n            this._isActivityInstance = true;\n        }\n        this._isActivityOwner = props.IsActivityOwner;\n        if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\n            this._activityId = this._startUpContext.activityId;\n        }\n        this._inActivity = Boolean(this._activityId);\n\n        this.updateAgmInstanceFromProps(props);\n    }\n\n    public updateAgmInstanceFromProps(props: InstanceProps) {\n        if (!props.AgmServers) {\n            return;\n        }\n\n        const agmInstances: Glue42Core.AGM.Instance[] = props.AgmServers as Glue42Core.AGM.Instance[];\n        if (agmInstances && agmInstances.length > 0 && !isUndefinedOrNull(agmInstances[0])) {\n            this._agmInstance = agmInstances[0];\n        }\n    }\n\n    public stop(): Promise<void> {\n        return new Promise((resolve, reject) => {\n            const unsubscribe = this._appManager.onInstanceStopped((instance) => {\n                if (instance.id === this._id) {\n                    unsubscribe();\n                    resolve();\n                }\n            });\n\n            this._agm.invoke(\n                AgmNames.StopApplicationMethodName,\n                {\n                    Name: this._appName,\n                    Id: this._id\n                })\n                .then(() => {\n                    if (this._appManager.mode === \"startOnly\") {\n                        this._appManager.handleInstanceStopped({\n                            Name: this._appName,\n                            Id: this.id,\n                            Context: undefined,\n                            Title: undefined,\n                            ActivityId: undefined,\n                            IsActivityOwner: undefined,\n                            AgmServers: undefined\n                        });\n                        // in startOnly mode, resolve stop as soon as we receive\n                        resolve();\n                    }\n                })\n                .catch((err: any) => reject(err));\n        });\n    }\n\n    public activate(): Promise<Glue42Core.AGM.InvocationResult<any>> {\n        return this._agm.invoke(AgmNames.ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\n    }\n\n    public done() {\n\n        // remove all handlers\n        this._registry.clear();\n        // remove subscriptions\n        this._unsubscribeInstanceAgmServerReady();\n        this._unsubscribeInstanceStopped();\n    }\n\n    public getContext(): Promise<object> {\n        return Promise.resolve(this.context);\n    }\n}\n","import ApplicationImpl from \"./application\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, InstanceProps } from \"./types\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport InstanceImpl from \"./instance\";\nimport { Glue42Core } from \"@glue42/core\";\n\nexport default class AppManagerImpl implements Glue42.AppManager.AppManager {\n\n    private _apps: { [key: string]: ApplicationImpl } = {};\n    private _instances: InstanceImpl[] = [];\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n\n    constructor(\n        public mode: Glue42.AppManager.Mode,\n        private _agm: Glue42Core.AGM.API,\n        private _activities: Glue42.Activities.API,\n        private _windows: Glue42.Windows.API,\n        private _logger: Glue42Core.Logger.API,\n        private _gdMajorVersion: number\n    ) {\n        //\n    }\n\n    public application = (name: string) => {\n        if (typeof name !== \"string\") {\n            throw new Error(`\"name\" must be string`);\n        }\n        return this._apps[name];\n    }\n\n    public applications = () => {\n        return Object.keys(this._apps).map((k: string) => this._apps[k]);\n    }\n\n    public instances = () => {\n        return this._instances;\n    }\n\n    public getMyInstance = () => {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            if (this._gdMajorVersion >= 3) {\n                // GD3 check\n                const instanceId = glue42gd.appInstanceId;\n                return this._instances.find((i) => i.id === instanceId);\n            }\n        } else {\n            const instanceId = this._agm.instance.instance;\n            return this._instances.find((i) => i.id === instanceId);\n        }\n        return undefined;\n    }\n\n    public handleAppAdded = (props: AppProps) => {\n        const id = this._getAppId(props);\n        this._logger.trace(`adding app ${id}`);\n        this._apps[id] = new ApplicationImpl(this, id, this._agm);\n        const app = this._updateAppFromProps(props);\n\n        this._registry.execute(\"appAdded\", app);\n        // keeps backwards compatibility\n        this._registry.execute(\"appAvailable\", app);\n    }\n\n    public handleAppUpdated = (props: AppProps) => {\n        // TODO: check side effects, is this._apps updated?\n\n        const app = this._updateAppFromProps(props);\n\n        this._registry.execute(\"appChanged\", app);\n    }\n\n    public handleAppRemoved = (props: AppProps) => {\n        const id = this._getAppId(props);\n        this._logger.trace(`removing app ${id}`);\n        const app = this.application(id);\n\n        // remove all instances related to the app\n        this._instances = this._instances.filter((i) => i.application.name !== app.name);\n\n        delete this._apps[id];\n\n        this._registry.execute(\"appRemoved\", app);\n    }\n\n    // not called from GD3\n    public handleAppReady = (props: AppProps) => {\n        const id = this._getAppId(props);\n        const app = this._getAppOrThrow(id);\n        app.updateFromProps(props);\n\n        if (app.available) {\n            this._registry.execute(\"appAvailable\", app);\n        } else {\n            this._registry.execute(\"appUnavailable\", app);\n        }\n    }\n\n    public handleInstanceStarted = (props: InstanceProps): InstanceImpl => {\n        this._logger.trace(`started app ${props.Name} ${props.Id}`);\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n\n        const instance = new InstanceImpl(id, appName, this, this._agm, this._activities, this._windows);\n\n        this._updateInstanceFromProps(instance, props);\n\n        this._instances.push(instance);\n\n        this._registry.execute(\"instanceStarted\", instance);\n        return instance;\n    }\n\n    public handleInstanceStopped = (props: InstanceProps) => {\n        this._logger.trace(`failed to start app ${props.Name} ${props.Id}`);\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, appName);\n\n        this._instances = this._instances.filter((i) => !this._matchInstance(i, id, appName));\n\n        this._registry.execute(\"instanceStopped\", instance);\n        instance.done();\n    }\n\n    public handleInstanceAgmServerReady = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, appName);\n\n        instance.updateAgmInstanceFromProps(props);\n\n        this._registry.execute(\"instanceAgmServerReady\", instance);\n    }\n\n    public handleInstanceStartFailed = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const appName = this._getInstanceAppName(props);\n        const startFailed = true;\n        const instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\n\n        this._updateInstanceFromProps(instance, props);\n\n        this._registry.execute(\"instanceStartFailed\", instance);\n    }\n\n    public handleInstanceUpdated = (props: InstanceProps) => {\n\n        const id = this._getInstanceId(props);\n        const app = this._getInstanceAppName(props);\n        const instance = this._getInstanceOrThrow(id, app);\n\n        this._updateInstanceFromProps(instance, props);\n    }\n\n    /** Event subscription methods */\n    public onInstanceStarted = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStarted\", callback, this._instances);\n    }\n\n    public onInstanceStartFailed = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStartFailed\", callback);\n    }\n\n    public onInstanceStopped = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceStopped\", callback);\n    }\n\n    public onInstanceUpdated = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceChanged\", callback);\n    }\n\n    public onInstanceAgmServerReady = (callback: (item: Glue42.AppManager.Instance) => any): UnsubscribeFunction => {\n        return this._registry.add(\"instanceAgmServerReady\", callback);\n    }\n\n    public onAppAdded = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appAdded\", callback, Object.values(this._apps));\n    }\n\n    public onAppRemoved = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appRemoved\", callback);\n    }\n\n    public onAppAvailable = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appAvailable\", callback);\n    }\n\n    public onAppUnavailable = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appUnavailable\", callback);\n    }\n\n    public onAppChanged = (callback: (item: Glue42.AppManager.Application) => any): UnsubscribeFunction => {\n        return this._registry.add(\"appChanged\", callback);\n    }\n\n    private _getAppOrThrow(id: string) {\n        const result = this.application(id);\n        if (!result) {\n            throw Error(`app with id ${id} not found`);\n        }\n        return result;\n    }\n\n    private _getAppId(props: AppProps) {\n        return props.Name;\n    }\n\n    private _matchInstance(instance: Glue42.AppManager.Instance, id: string, appName: string) {\n        return instance.id === id && instance.application.name === appName;\n    }\n\n    private _getInstanceByIdAndName(id: string, appName: string) {\n        return this._instances.filter((i) => this._matchInstance(i, id, appName))[0];\n    }\n\n    private _getInstanceOrThrow(id: string, appName: string) {\n        const result = this._getInstanceByIdAndName(id, appName);\n        if (!result) {\n            throw Error(`instance with id ${id} not found`);\n        }\n        return result;\n    }\n\n    private _getInstanceId(props: InstanceProps) {\n        return props.Id;\n    }\n\n    private _getInstanceAppName(props: InstanceProps) {\n        return props.Name;\n    }\n\n    private _updateAppFromProps(props: AppProps) {\n        const id = this._getAppId(props);\n        this._logger.trace(`updating app with  + ${id}, ${props}`);\n        const app = this._getAppOrThrow(id);\n\n        app.updateFromProps(props);\n\n        return app;\n    }\n\n    private _updateInstanceFromProps(instance: InstanceImpl, props: InstanceProps) {\n        this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\n        instance.updateFromProps(props);\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { OnGDShutdownMethodName } from \"./const/agm-names\";\n\nfunction promisify(promise: Promise<any>, successCallback: (arg?: any) => void, errorCallback: (err?: any) => void) {\n    const isFunction = (arg: any) => {\n        return !!(arg && arg.constructor && arg.call && arg.apply);\n    };\n\n    if (!isFunction(successCallback) && !isFunction(errorCallback)) {\n        return promise;\n    }\n\n    if (!isFunction(successCallback)) {\n        successCallback = () => {\n            // EMPTY\n        };\n    } else if (!isFunction(errorCallback)) {\n        errorCallback = () => {\n            // EMPTY\n        };\n    }\n\n    return promise.then(successCallback, errorCallback);\n}\n\nexport default class EntitlementsImpl implements Glue42.AppManager.Entitlements {\n\n    private _registry: CallbackRegistry = CallbackRegistryFactory();\n    private _isMethodRegistered = false;\n\n    constructor(\n        private _agm: Glue42Core.AGM.API\n    ) {\n        //\n    }\n\n    public handleBranchModified = (branch: Glue42.AppManager.Branch) => {\n        this._registry.execute(\"branchChanged\", branch);\n    }\n\n    public handleBranchesModified = (branches: Glue42.AppManager.Branch[]) => {\n        this._registry.execute(\"branchesChanged\", branches);\n    }\n\n    public getRegion = (success?: (region: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        return promisify(\n            this._agmInvoke(\n                AgmNames.GetConfigurationRegionMethodName,\n                (e: Glue42Core.AGM.InvocationResult<{ Region: string }>) => e.returned.Region\n            ),\n            success,\n            error\n        );\n    }\n\n    public getBranches = (success?: (branches: Glue42.AppManager.Branch[]) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.Branch[]> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetBranchesMethodName,\n            (e) => {\n                const obj = e.returned.Branches as { [key: string]: Glue42.AppManager.Branch };\n                return Object.keys(obj).map((key) => obj[key]);\n            }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public getCurrentBranch = (success?: (branch: Glue42.AppManager.Branch) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.Branch> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetCurrentBranchMethodName,\n            (e) => e.returned.Branch,\n            undefined\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public setRegion = (region: string, success?: (resMsg: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.SetConfigurationRegionMethodName,\n            (e) => e.returned.ResultMessage,\n            { Region: region }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public setCurrentBranch = (branch: string, success?: (resMsg: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.SetCurrentBranchMethodName,\n            (e) => e.returned.ResultMessage,\n            { Branch: branch }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public currentUser = (success?: (user: Glue42.AppManager.UserInfo) => any, error?: (err: any) => any): void | Promise<Glue42.AppManager.UserInfo> => {\n        const promise = this._agmInvoke(AgmNames.GetUserMethodName);\n        return promisify(promise, success, error);\n    }\n\n    public getFunctionalEntitlement = (funct: string, success?: (entitlement: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetFunctionalEntitlementMethodName,\n            (e) => e.returned.Entitlement,\n            { Function: funct }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public getFunctionalEntitlementBranch = (funct: string, branch: string, success?: (entitlement: string) => any, error?: (err: any) => any): void | Promise<string> => {\n        const promise = this._agmInvoke(\n            AgmNames.GetFunctionalEntitlementMethodName,\n            (e) => e.returned.Entitlement,\n            { Function: funct, Branch: branch }\n        );\n        return promisify(promise, success, error);\n    }\n\n    public canI = (func: string, success?: (allowed: boolean) => any, error?: (err: any) => any): void | Promise<boolean> => {\n        const promise = this._agmInvoke(\n            AgmNames.CanIMethodName,\n            (e) => e.returned.Result,\n            { Function: func }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public canIBranch = (func: string, branch: string, success?: (allowed: boolean) => any, error?: (err: any) => any): void | Promise<boolean> => {\n        const promise = this._agmInvoke(\n            AgmNames.CanIMethodName,\n            (e) => e.returned.Result,\n            { Function: func, Branch: branch }\n        );\n\n        return promisify(promise, success, error);\n    }\n\n    public onBranchesChanged = (callback: (branches: Glue42.AppManager.Branch[]) => any): UnsubscribeFunction => {\n        return this._registry.add(\"branchesChanged\", callback);\n    }\n\n    public onBranchChanged = (callback: (branch: Glue42.AppManager.Branch) => any): UnsubscribeFunction => {\n        return this._registry.add(\"branchChanged\", callback);\n    }\n\n    public exit = (options?: Glue42.AppManager.ExitOpts): Promise<any> => {\n        return this._agmInvoke(\n            AgmNames.ShutdownMethodName,\n            null,\n            options\n        );\n    }\n\n    public onShuttingDown = (callback: (args: Glue42.AppManager.ShuttingDownEventArgs) => Promise<{ prevent: boolean }>) => {\n        this.registerMethod();\n        return this._registry.add(\"onShuttingDown\", callback);\n    }\n\n    public restart = (options?: Glue42.AppManager.ExitOpts): Promise<any> => {\n        return this._agmInvoke(\n            AgmNames.RestartMethodName,\n            null,\n            options\n        );\n    }\n\n    private registerMethod() {\n        if (!this._isMethodRegistered) {\n            this._agm.register(OnGDShutdownMethodName, async (args) => {\n                try {\n                    const results = await Promise.all(this._registry.execute(\"onShuttingDown\", args)) as Array<{ prevent: boolean }>;\n                    const prevent = results.some((r) => r.prevent);\n                    return { prevent };\n                } catch (error) {\n                    //\n                }\n            });\n            this._isMethodRegistered = true;\n        }\n    }\n\n    private _agmInvoke = (\n        method: string,\n        transformFunction?: (res: Glue42Core.AGM.InvocationResult<any>) => any,\n        args?: object\n    ): Promise<any> => {\n        args = args || {};\n        return new Promise((resolve, reject) => {\n            const errHandler: Glue42Core.AGM.InvokeErrorHandler = (error) => reject(error);\n            this._agm.invoke(method, args)\n                .then((result) => {\n                    if (!transformFunction) {\n                        transformFunction = (d: Glue42Core.AGM.InvocationResult<any>) => d.returned;\n                    }\n                    resolve(transformFunction(result));\n                })\n                .catch(errHandler);\n        });\n    }\n}\n","import * as AgmNames from \"./const/agm-names\";\nimport { objectValues } from \"./helper\";\nimport { Glue42Core } from \"@glue42/core\";\nimport AppManagerImpl from \"./app-manager\";\n\n/** Retrieves application snapshot from ACS */\nexport default function snapshot(agm: Glue42Core.AGM.API, appManager: AppManagerImpl): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n        agm.invoke(AgmNames.GetApplicationsMethodName, { skipIcon: true })\n            .then((response) => {\n                const data = response.returned;\n                if (!data) {\n                    resolve();\n                }\n\n                const applications = data.applications;\n                if (!applications) {\n                    resolve();\n                }\n\n                objectValues(applications).map((item) => appManager.handleAppAdded(item));\n\n                resolve();\n            })\n            .catch((err) => reject(`Error getting application snapshot: ${err.message}`));\n    });\n}\n","export const OnNotificationEvent = \"OnNotification\";\n\nexport const OnBranchChangedEvent = \"OnBranchChanged\";\nexport const OnBranchesModifiedEvent = \"OnBranchesModified\";\n\nexport const OnApplicationAddedEvent = \"OnApplicationAdded\";\nexport const OnApplicationRemovedEvent = \"OnApplicationRemoved\";\nexport const OnApplicationChangedEvent = \"OnApplicationChanged\";\nexport const OnApplicationReadyEvent = \"OnApplicationReady\";\n\nexport const OnApplicationStartedEvent = \"OnApplicationStarted\";\nexport const OnApplicationRegisteredEvent = \"OnApplicationRegistered\";\nexport const OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\nexport const OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\nexport const OnApplicationStoppedEvent = \"OnApplicationStopped\";\nexport const OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n","import * as AgmNames from \"./const/agm-names\";\nimport * as EventNames from \"./const/event-names\";\nimport { objectValues } from \"./helper\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\nimport { AppProps, InstanceProps } from \"./types\";\nimport AppManagerImpl from \"./app-manager\";\nimport EntitlementsImpl from \"./entitlements\";\n\n/** Subscribe for the AGM stream published by ACS and distributes events to applications and instances components */\nexport default function createDataSubscription(agm: Glue42Core.AGM.API, applications: AppManagerImpl, entitlements: EntitlementsImpl, skipIcons: boolean) {\n    let subscription: Glue42Core.AGM.Subscription;\n    let initiated = false;\n    const start = () => {\n        let resolveFunc: () => void;\n        let rejectFunc: (error?: any) => void;\n\n        const resultPromise = new Promise<void>((resolve, reject) => {\n            resolveFunc = resolve;\n            rejectFunc = reject;\n        });\n\n        agm.subscribe(AgmNames.OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\n            .then((s) => {\n                subscription = s;\n                subscription.onData((streamData: Glue42Core.AGM.StreamData) => {\n                    const events: any = streamData.data;\n\n                    const onApplicationAddedEventArgs: AppProps[] = objectValues(events[EventNames.OnApplicationAddedEvent]);\n                    onApplicationAddedEventArgs.map((item: AppProps) => applications.handleAppAdded(item));\n\n                    objectValues(events[EventNames.OnApplicationChangedEvent])\n                        .map((item: AppProps) => applications.handleAppUpdated(item));\n\n                    objectValues(events[EventNames.OnApplicationRemovedEvent])\n                        .map((item: AppProps) => applications.handleAppRemoved(item));\n\n                    objectValues(events[EventNames.OnApplicationReadyEvent])\n                        .map((item: AppProps) => applications.handleAppReady(item));\n\n                    const onApplicationStartedEventArgs: InstanceProps[] = objectValues(events[EventNames.OnApplicationStartedEvent]);\n                    onApplicationStartedEventArgs.map((item: InstanceProps) => applications.handleInstanceStarted(item));\n\n                    objectValues(events[EventNames.OnApplicationStartFailedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceStartFailed(item));\n\n                    objectValues(events[EventNames.OnApplicationStoppedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceStopped(item));\n\n                    objectValues(events[EventNames.OnApplicationUpdatedEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceUpdated(item));\n\n                    objectValues(events[EventNames.OnApplicationAgmServerReadyEvent])\n                        .map((item: InstanceProps) => applications.handleInstanceAgmServerReady(item));\n\n                    objectValues(events[EventNames.OnBranchChangedEvent])\n                        .map((item: Glue42.AppManager.Branch) => entitlements.handleBranchModified(item));\n\n                    objectValues(events[EventNames.OnBranchesModifiedEvent])\n                        .map((item: Glue42.AppManager.Branch[]) => entitlements.handleBranchesModified(item));\n\n                    if (!initiated) {\n                        initiated = true;\n                        const hasMyAppInSnapShot = onApplicationAddedEventArgs.some((a) => a.Name === agm.instance.application);\n                        const hasMyInstanceInSnapShot = onApplicationStartedEventArgs.some((i) => i.Id === agm.instance.instance);\n                        if (hasMyAppInSnapShot) {\n                            if (hasMyInstanceInSnapShot) {\n                                resolveFunc();\n                            } else {\n                                const un = applications.onInstanceStarted((i) => {\n                                    if (i.id === agm.instance.instance) {\n                                        un();\n                                        resolveFunc();\n                                    }\n                                });\n                            }\n                        } else {\n                            resolveFunc();\n                        }\n                    }\n                });\n\n                subscription.onFailed((err: any) => rejectFunc(err));\n\n            })\n            .catch((err) => rejectFunc(`Error subscribing for ${AgmNames.OnEventMethodName} stream. Err: ${err.message ?? err}`));\n\n        return resultPromise;\n    };\n\n    const stop = () => {\n        if (subscription) {\n            subscription.close();\n        }\n    };\n\n    return {\n        start,\n        stop\n    };\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\n\nexport const InMemoryStoreCommandMethodName = \"T42.ACS.InMemoryStoreCommand\";\n\nexport type InMemoryStoreCommandArgs = InMemoryImportCommand | InMemoryExportCommand | InMemoryRemoveCommand | InMemoryClearCommand;\n\nexport interface GenericInMemoryCommand<C, A> {\n    command: C;\n    args?: A;\n}\n\ntype InMemoryImportCommand = GenericInMemoryCommand<\"import\", InMemoryImportArgs>;\ninterface InMemoryImportArgs {\n    apps: Glue42.AppManager.Definition[];\n    mode?: \"merge\" | \"replace\";\n}\n\ntype InMemoryRemoveCommand = GenericInMemoryCommand<\"remove\", { apps: string[] }>;\nexport interface InMemoryRemoveArgs {\n    apps: string[];\n}\n\ntype InMemoryExportCommand = GenericInMemoryCommand<\"export\", undefined>;\ntype InMemoryClearCommand = GenericInMemoryCommand<\"clear\", undefined>;\n\nexport interface InMemoryExportResult {\n    apps: Glue42.AppManager.Definition[];\n}\n\nexport class InMemoryStore implements Glue42.AppManager.InMemoryStore {\n\n    constructor(private interop: Glue42Core.Interop.API) {\n    }\n\n    public import(apps: Glue42.AppManager.Definition[], mode?: \"replace\" | \"merge\"): Promise<Glue42.AppManager.ImportResult> {\n        if (!apps || !Array.isArray(apps)) {\n            return Promise.reject(\"invalid apps argument - should be an array of application definitions\");\n        }\n        if (mode && mode !== \"replace\" && mode !== \"merge\") {\n            return Promise.reject(\"invalid mode argument - should be 'replace' or 'merge'\");\n        }\n\n        mode = mode ?? \"replace\";\n        const command: InMemoryImportCommand = {\n            command: \"import\",\n            args: {\n                apps,\n                mode\n            }\n        };\n        return this.interop.invoke<Glue42.AppManager.ImportResult>(InMemoryStoreCommandMethodName, command)\n            .then((r) => r.returned);\n    }\n\n    public export(): Promise<Glue42.AppManager.Definition[]> {\n        return this.interop.invoke<InMemoryExportResult>(InMemoryStoreCommandMethodName, { command: \"export\" })\n            .then((r) => r.returned.apps);\n    }\n\n    public remove(app: string): Promise<void> {\n        if (!app || typeof app !== \"string\") {\n            return Promise.reject(\"invalid app name, should be a string value\");\n        }\n        const command: InMemoryRemoveCommand = {\n            command: \"remove\",\n            args: {\n                apps: [app]\n            }\n        };\n        return this.interop.invoke<void>(InMemoryStoreCommandMethodName, command).then((r) => r.returned);\n    }\n\n    public clear(): Promise<void> {\n        const command: InMemoryClearCommand = {\n            command: \"clear\"\n        };\n        return this.interop.invoke<void>(InMemoryStoreCommandMethodName, command).then((r) => r.returned);\n    }\n\n    public createAppDef(name: string, url: string): Glue42.AppManager.Definition {\n        if (!url) {\n            url = \"https://google.com\";\n        }\n        return {\n            name,\n            type: \"window\",\n            title: name,\n            details: {\n                url\n            }\n        };\n    }\n}\n","import AppManagerImpl from \"./app-manager\";\nimport EntitlementsImpl from \"./entitlements\";\nimport snapshot from \"./snapshot\";\nimport subscriptionFactory from \"./data-subscription\";\nimport { Glue42 } from \"../../glue\";\nimport { InMemoryStore } from \"./in-memory\";\n\nexport default (config: Glue42.AppManager.Config): Glue42.AppManager.API => {\n\n    if (!config) {\n        throw Error(\"config not set\");\n    }\n\n    if (!config.agm) {\n        throw Error(\"config.agm is missing\");\n    }\n\n    const START_ONLY: Glue42.AppManager.Mode = \"startOnly\";\n    const SKIP_ICONS: Glue42.AppManager.Mode = \"skipIcons\";\n    const FULL: Glue42.AppManager.Mode = \"full\";\n\n    const mode: Glue42.AppManager.Mode = config.mode || START_ONLY;\n    if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\n        throw new Error(`Invalid mode for appManager lib - ${mode} is not supported`);\n    }\n\n    const activities = config.activities;\n    const agm = config.agm;\n    const logger = config.logger;\n    const windows = config.windows;\n    const appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\n    const entitlements = new EntitlementsImpl(agm);\n\n    let readyPromise: Promise<void>;\n    if (mode === START_ONLY) {\n        readyPromise = snapshot(agm, appManager);\n    } else {\n        const subscription = subscriptionFactory(agm, appManager, entitlements, mode === SKIP_ICONS);\n        readyPromise = subscription.start();\n    }\n\n    const api: Glue42.AppManager.API = {\n        ready: () => readyPromise,\n\n        applications: appManager.applications,\n        application: appManager.application,\n\n        onAppAdded: appManager.onAppAdded,\n        onAppRemoved: appManager.onAppRemoved,\n        onAppChanged: appManager.onAppChanged,\n        onAppAvailable: appManager.onAppAvailable,\n        onAppUnavailable: appManager.onAppUnavailable,\n\n        instances: appManager.instances,\n        get myInstance() {\n            return appManager.getMyInstance();\n        },\n\n        onInstanceStarted: appManager.onInstanceStarted,\n        onInstanceStopped: appManager.onInstanceStopped,\n        onInstanceUpdated: appManager.onInstanceUpdated,\n        onInstanceStartFailed: appManager.onInstanceStartFailed,\n\n        getRegion: entitlements.getRegion,\n        getBranches: entitlements.getBranches,\n        getCurrentBranch: entitlements.getCurrentBranch,\n        getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\n        getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\n\n        setCurrentBranch: entitlements.setCurrentBranch,\n        setRegion: entitlements.setRegion,\n\n        currentUser: entitlements.currentUser,\n\n        canI: entitlements.canI,\n        canIBranch: entitlements.canIBranch,\n\n        onBranchesChanged: entitlements.onBranchesChanged,\n\n        exit: entitlements.exit,\n        restart: entitlements.restart,\n\n        onShuttingDown: entitlements.onShuttingDown,\n\n        inMemory: new InMemoryStore(agm)\n    };\n\n    return api;\n};\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nmodule.exports = require('./lib/index');\n","import shortid from \"shortid\";\nimport { Glue42 } from \"../../../glue\";\nimport { Executor, JumpListUpdateActionSettings, JumpListUpdateSettings, JumpListSettingsInternal } from \"../types\";\n\nconst T42JumpListAction = \"T42.JumpList.Action\";\n\nexport interface ActionCallback {\n    callbackId: string;\n    callback: () => Promise<void>;\n}\n\nexport class JumpListManager {\n\n    private _executor: Executor;\n    private _agm: Glue42.AGM.API;\n    private _logger: Glue42.Logger.API;\n    private _groupActionCallbacks: Map<string, ActionCallback[]> = new Map<string, ActionCallback[]>();\n    private _registered: boolean = false;\n\n    public init(executor: Executor, agm: Glue42.AGM.API, logger: Glue42.Logger.API) {\n        this._executor = executor;\n        this._agm = agm;\n        this._logger = logger;\n\n        this.registerCallbackMethod();\n    }\n\n    public setEnabled(windowId: string, enabled: boolean): Promise<void> {\n        const settings: JumpListUpdateSettings = {\n            enabled\n        };\n\n        return this._executor.updateJumpList(windowId, settings);\n    }\n\n    public createCategory(windowId: string, title: string, actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        this.validateActions(title, actions);\n        const settings: JumpListUpdateSettings = {\n            category: {\n                title,\n                operation: \"create\",\n                actions: this.toUpdateActions(\"create\", title, actions)\n            }\n        };\n\n        return this._executor.updateJumpList(windowId, settings);\n    }\n\n    public removeCategory(windowId: string, title: string) {\n        const settings: JumpListUpdateSettings = {\n            category: {\n                title,\n                operation: \"remove\",\n                actions: []\n            }\n        };\n\n        this.manageActionCallback(settings.category.operation, title);\n\n        return this._executor.updateJumpList(windowId, settings);\n    }\n\n    public createActions(windowId: string, categoryTitle: string, actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        this.validateActions(categoryTitle, actions);\n        const settings: JumpListUpdateSettings = {\n            category: {\n                title: categoryTitle,\n                operation: \"update\",\n                actions: this.toUpdateActions(\"create\", categoryTitle, actions)\n            }\n        };\n\n        return this._executor.updateJumpList(windowId, settings);\n    }\n\n    public removeActions(windowId: string, categoryTitle: string, actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        const settings: JumpListUpdateSettings = {\n            category: {\n                title: categoryTitle,\n                operation: \"update\",\n                actions: this.toUpdateActions(\"remove\", categoryTitle, actions)\n            }\n        };\n\n        return this._executor.updateJumpList(windowId, settings);\n    }\n\n    public async getActions(windowId: string, catgoryTitle: string): Promise<Glue42.Windows.JumpListActionSettings[]> {\n        const actions: Glue42.Windows.JumpListActionSettings[] = [];\n        const configuration = await this.getJumpListSettings(windowId);\n        const currentCategory = configuration.categories.find((category) => category.title === catgoryTitle);\n        if (currentCategory) {\n            currentCategory.actions.forEach((action) => {\n                const actionCallback = this.getActionCallback(action.callbackId);\n                if (actionCallback) {\n                    action.callback = actionCallback.callback;\n                }\n                actions.push({\n                    icon: action.icon,\n                    callback: action.callback,\n                    singleInstanceTitle: action.singleInstanceTitle,\n                    multiInstanceTitle: action.multiInstanceTitle\n                }as Glue42.Windows.JumpListActionSettings);\n            });\n        }\n        return Promise.resolve(actions);\n    }\n\n    public getJumpListSettings(windowId: string): Promise<JumpListSettingsInternal> {\n        return this._executor.getJumpList(windowId);\n    }\n\n    private toUpdateActions(operation: string, categoryTitle: string, actions: Glue42.Windows.JumpListActionSettings[]): JumpListUpdateActionSettings[] {\n        return actions.map((action) => {\n            const updateAction = {\n                icon: action.icon,\n                callback: action.callback,\n                callbackId: shortid.generate(),\n                singleInstanceTitle: action.singleInstanceTitle,\n                multiInstanceTitle: action.multiInstanceTitle,\n                operation\n            } as JumpListUpdateActionSettings;\n\n            this.manageActionCallback(operation, categoryTitle, updateAction);\n\n            return updateAction;\n        });\n    }\n\n    private manageActionCallback(operation: string, categoryTitle: string, updateAction?: JumpListUpdateActionSettings) {\n        if (operation === \"create\") {\n            if (!this._groupActionCallbacks.has(categoryTitle)) {\n                this._groupActionCallbacks.set(categoryTitle, []);\n            }\n\n            const categoryActionCallbacks = this._groupActionCallbacks.get(categoryTitle);\n            categoryActionCallbacks.push( {\n                callbackId: updateAction.callbackId,\n                callback: updateAction.callback\n            });\n\n        } else if (operation === \"remove\") {\n            if (updateAction) {\n                let categoryActionCallbacks = this._groupActionCallbacks.get(categoryTitle);\n                categoryActionCallbacks = categoryActionCallbacks.filter((accCal) => accCal.callbackId !== updateAction.callbackId);\n                if (categoryActionCallbacks.length === 0) {\n                    this._groupActionCallbacks.delete(categoryTitle);\n                } else {\n                    this._groupActionCallbacks.set(categoryTitle, categoryActionCallbacks);\n                }\n            } else {\n                this._groupActionCallbacks.delete(categoryTitle);\n            }\n        }\n    }\n\n    private registerCallbackMethod() {\n        if (this._registered) {\n            return;\n        }\n        this._registered = true;\n\n        try {\n            this._agm.register(T42JumpListAction, (args: any, caller: any) => {\n                const actionCallback = this.getActionCallback(args.callbackId);\n                if (actionCallback) {\n                    try {\n                        actionCallback.callback();\n                    } catch (e) {\n                        this._logger.error(\"Unable to execute user callback for jump list action!\", e);\n                    }\n                }\n            });\n        } catch (e) {\n            this._logger.error(`Unable to register method ${T42JumpListAction} for invoking jump list action callbacks!`, e);\n            return Promise.reject(e);\n        }\n    }\n\n    private getActionCallback(callbackId: string): ActionCallback {\n        let callbackAction: ActionCallback;\n        [...this._groupActionCallbacks.values()].forEach((callbacks: ActionCallback[]) => {\n            const callback = callbacks.find((cal) => cal.callbackId === callbackId);\n            if (callback) {\n                callbackAction = callback;\n            }\n        });\n        return callbackAction;\n    }\n\n    private validateActions(category: string, actions: Glue42.Windows.JumpListActionSettings[]) {\n        if (!(actions && actions.length > 0)) {\n            throw new Error(`Category '${category}' doesn't contain any actions!`);\n        }\n\n        actions.forEach((action) => {\n            if (!action.singleInstanceTitle) {\n                throw new Error(`Category '${category}' contains an action with undefined singleInstanceTitle!`);\n            }\n            if (!action.multiInstanceTitle) {\n                throw new Error(`Category '${category}' contains an action with undefined multiInstanceTitle!`);\n            }\n            if (!action.callback) {\n                throw new Error(`Category '${category}' contains an action with undefined callback function!`);\n            }\n        });\n    }\n}\n\nexport default new JumpListManager();\n","import { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { PendingWindowState, WindowEvents, WindowWrapper } from \"./types\";\n\nexport class WindowStore {\n    private readonly waitForTimeoutInMilliseconds: number = 60000;\n    private _windows: { [key: string]: WindowWrapper } = {};\n    private _pendingWindows: { [key: string]: WindowWrapper } = {};\n    private _pendingWindowsStates: { [key: string]: PendingWindowState } = {};\n    private _registry: CallbackRegistry;\n    private _logger: Glue42Core.Logger.API;\n\n    constructor() {\n        this._registry = CallbackFactory();\n    }\n\n    public init(logger: Glue42Core.Logger.API) {\n        this._logger = logger;\n    }\n\n    // Returns a window which either in Ready OR NOT 'ready' state (when the window is NOT marked with readyToShow)\n    public get(id: string): WindowWrapper {\n        return this._windows[id] || this._pendingWindows[id];\n    }\n\n    // Returns a window which is in 'ready' state (when the window is marked with readyToShow)\n    public getIfReady(id: string): WindowWrapper {\n        return this._windows[id];\n    }\n\n    public get list(): { [key: string]: WindowWrapper } {\n        return this._windows;\n    }\n\n    public add(window: WindowWrapper) {\n        const isExist = this._pendingWindows[window.API.id] ? true : false;\n        if (isExist) {\n            this._logger.error(`trying to add window with id ${window.API.id} from windowStore, which already exists`);\n            return;\n        }\n        const remote = window.API.windowType === \"remote\";\n        this._pendingWindows[window.API.id] = window;\n        this._pendingWindowsStates[window.API.id] = {\n            ready: false,\n            urlChanged: remote, // remote windows don't have url events\n        };\n\n        this._registry.execute(\"on-added\", window);\n    }\n\n    public remove(window: WindowWrapper) {\n        delete this._windows[window.API.id];\n        delete this._pendingWindows[window.API.id];\n        delete this._pendingWindowsStates[window.API.id];\n        this._registry.execute(\"on-removed\", window);\n    }\n\n    public setReadyState(windowId: string) {\n        const targetWindowState = this._pendingWindowsStates[windowId];\n\n        if (typeof targetWindowState === \"undefined\") {\n            return;\n        }\n\n        targetWindowState.ready = true;\n\n        if (targetWindowState.urlChanged) {\n            this.markReadyToShow(windowId);\n        }\n    }\n\n    public setUrlChangedState(windowId: string) {\n        const targetWindowState = this._pendingWindowsStates[windowId];\n\n        if (typeof targetWindowState === \"undefined\") {\n            return;\n        }\n\n        targetWindowState.urlChanged = true;\n\n        if (targetWindowState.ready) {\n            this.markReadyToShow(windowId);\n        }\n    }\n\n    public waitFor(id: string): Promise<WindowWrapper> {\n        return new Promise((resolve, reject) => {\n\n            let un: UnsubscribeFunction;\n\n            const timeout = setTimeout(() => {\n                un();\n                reject(\"waitFor timed out.\");\n            }, this.waitForTimeoutInMilliseconds);\n\n            const win = this._windows[id];\n            if (win) {\n                clearTimeout(timeout);\n                resolve(win);\n            } else {\n                un = this.onReadyWindow((w: WindowWrapper) => {\n                    if (w.API.id !== id) {\n                        return;\n                    }\n                    clearTimeout(timeout);\n                    un();\n                    resolve(w);\n                });\n            }\n        });\n    }\n\n    public onReadyWindow(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-ready\", callback);\n    }\n\n    public onAdded(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-added\", callback);\n    }\n\n    public onRemoved(callback: (win: WindowWrapper) => void): UnsubscribeFunction {\n        return this._registry.add(\"on-removed\", callback);\n    }\n\n    // newly created windows now need to hear both \"ready\" and \"urlChanged\" events in otder to be markedReadyToShow\n    public markReadyToShow(windowId: string) {\n        if (this._pendingWindows[windowId]) {\n            this._windows[windowId] = this._pendingWindows[windowId];\n            delete this._pendingWindows[windowId];\n            delete this._pendingWindowsStates[windowId];\n        }\n\n        this._registry.execute(\"on-ready\", this._windows[windowId]);\n    }\n}\n\nexport default new WindowStore();\n","import { Glue42 } from \"../glue\";\n\nexport default class Utils {\n    public static getGDMajorVersion() {\n        if (typeof window === \"undefined\") {\n            return -1;\n        }\n        if (!window.glueDesktop) {\n            return -1;\n        }\n        if (!window.glueDesktop.version) {\n            return -1;\n        }\n        const ver = Number(window.glueDesktop.version.substr(0, 1));\n        return isNaN(ver) ? -1 : ver;\n    }\n\n    public static callbackifyPromise<T>(\n        action: () => Promise<T>,\n        successCallback?: (args?: T) => void,\n        errorCallback?: (errorMessage: string) => void): Promise<T> {\n\n        const fail = (error: any) => {\n            let msg = error;\n            if (error instanceof Error) {\n                msg = error.message;\n            }\n            if (typeof errorCallback === \"function\") {\n                errorCallback(msg);\n                return;\n            }\n\n            return Promise.reject(msg);\n        };\n\n        try {\n            return action()\n                .then((result) => {\n                    if (typeof successCallback === \"function\") {\n                        successCallback(result);\n                    }\n                    return result;\n                })\n                .catch((error) => {\n                    return fail(error);\n                });\n        } catch (err) {\n            return fail(err);\n        }\n    }\n\n    public static getMonitor(bounds: Glue42.Windows.Bounds, displays?: Glue42.Screen[]): Glue42.Screen {\n        const monitorsSortedByOverlap = displays.map((m) => {\n            const { left, top, workingAreaWidth: width, workingAreaHeight: height } = m;\n            const overlap = this.calculateTotalOverlap({ left, top, width, height }, bounds);\n            return {\n                monitor: m,\n                totalOverlap: overlap\n            };\n        }).sort((a, b) => b.totalOverlap - a.totalOverlap);\n\n        return monitorsSortedByOverlap[0].monitor;\n    }\n\n    public static getDisplayCenterOfScreen(a: Partial<Glue42.Windows.Bounds>, display?: Glue42.Displays.Display) {\n        const left = Math.floor(Math.max(display.bounds.left, (display.bounds.left + (display.workArea.width - a.width) / 2)));\n        const top = Math.floor(Math.max(display.bounds.top, (display.bounds.top + (display.workArea.height - a.height) / 2)));\n        return {\n            top,\n            left\n        };\n    }\n\n    private static calculateTotalOverlap(r1: Glue42.Windows.Bounds, r2: Glue42.Windows.Bounds) {\n        const r1x = r1.left;\n        const r1y = r1.top;\n        const r1xMax = r1x + r1.width;\n        const r1yMax = r1y + r1.height;\n\n        const r2x = r2.left;\n        const r2y = r2.top;\n        const r2xMax = r2x + r2.width;\n        const r2yMax = r2y + r2.height;\n\n        const xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\n        const yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\n\n        return xOverlap * yOverlap;\n    }\n}\n","import { Glue42 } from \"../../../glue\";\nimport jumpListManager from \"./manager\";\n\nexport default class JumpListActions implements Glue42.Windows.JumpListActionsAPI {\n\n    private _categoryTitle: string;\n\n    constructor(private windowId: string, configuration: Glue42.Windows.JumpListCategorySettings) {\n        this._categoryTitle = configuration.title;\n    }\n\n    public list(): Promise<Glue42.Windows.JumpListActionSettings[]> {\n        return jumpListManager.getActions(this.windowId, this._categoryTitle);\n    }\n\n    public create(actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        return jumpListManager.createActions(this.windowId, this._categoryTitle, actions);\n    }\n\n    public remove(actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        return jumpListManager.removeActions(this.windowId, this._categoryTitle, actions);\n    }\n}\n","import { Glue42 } from \"../../../glue\";\nimport JumpListActions from \"./actions\";\nimport jumpListManager from \"./manager\";\n\nexport default class JumpListCategories implements Glue42.Windows.JumpListCategoriesAPI {\n\n    constructor(private windowId: string) {\n    }\n\n    public list(): Promise<Glue42.Windows.JumpListCategory[]> {\n        return this.getCategories();\n    }\n\n    public create(title: string, actions: Glue42.Windows.JumpListActionSettings[]): Promise<void> {\n        return jumpListManager.createCategory(this.windowId, title, actions);\n    }\n\n    public remove(title: string): Promise<void> {\n        return jumpListManager.removeCategory(this.windowId, title);\n    }\n\n    public async find(title: string): Promise<Glue42.Windows.JumpListCategory> {\n        const categories = await this.getCategories();\n        return categories.find((cat) => cat.title === title);\n    }\n\n    private async getCategories(): Promise<Glue42.Windows.JumpListCategory[]> {\n        const result: Glue42.Windows.JumpListCategory[] = [];\n\n        const configuration = await jumpListManager.getJumpListSettings(this.windowId);\n        configuration.categories.forEach((category) => {\n            result.push({\n                title: category.title,\n                actions: new JumpListActions(this.windowId, category)\n            });\n        });\n        return result;\n    }\n}\n","import { Glue42 } from \"../../../glue\";\nimport JumpListCategories from \"./categories\";\nimport jumpListManager from \"./manager\";\n\nexport default class JumpList implements Glue42.Windows.JumpList {\n\n    private _categories: Glue42.Windows.JumpListCategoriesAPI;\n\n    constructor(private windowId: string) {\n        this._categories = new JumpListCategories(windowId);\n    }\n\n    get categories(): Glue42.Windows.JumpListCategoriesAPI {\n        return this._categories;\n    }\n\n    public async isEnabled(): Promise<boolean> {\n        const configuration = await jumpListManager.getJumpListSettings(this.windowId);\n        return configuration.enabled;\n    }\n\n    public setEnabled(enabled: boolean): Promise<void> {\n        return jumpListManager.setEnabled(this.windowId, enabled);\n    }\n}\n","import CallbackFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../glue\";\nimport {\n    Executor,\n    FrameButton,\n    Neighbours,\n    WindowConstructorOptions,\n    WindowEvents,\n    WindowWrapper,\n    FlashOptions,\n    DetachTabOptions,\n} from \"./types\";\nimport * as util from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nimport { default as windowStore } from \"./store\";\nimport GDWindow = Glue42.Windows.GDWindow;\nimport { CompositionChangedData } from \"./environment/gd/types\";\nimport JumpList from \"./jumpList/main\";\n\nexport default (id: string, options: WindowConstructorOptions, executor: Executor, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, channelsAPIGetter: () => Glue42.Channels, agm: Glue42.AGM.API): WindowWrapper => {\n    const _registry: CallbackRegistry = CallbackFactory();\n    const _logger = logger.subLogger(`window ${id}`);\n    const getChannels = () => {\n        const channels = channelsAPIGetter();\n        if (!channels) {\n            throw new Error(`To use this method you need to enable channels API - set the channels property to true when initializing the Glue42 library`);\n        }\n        return channels;\n    };\n\n    let resultWindow: Glue42.Windows.GDWindow;\n\n    const _id = id;\n    const _name: string = options.name;\n    const _mode: Glue42.Windows.WindowMode = options.mode;\n    let _bounds: Glue42.Windows.Bounds = options.bounds;\n    let _url: string = options.url;\n    let _title: string = options.title;\n    let _context: any = options.context ?? {};\n    let _frameColor: string = options.frameColor;\n    let _focus: boolean = options.focus;\n    let _neighbours: Neighbours = options.neighbours ?? {};\n    let _groupId: string = options.groupId;\n    let _isGroupHeaderVisible: boolean = options.isGroupHeaderVisible;\n    let _isTabHeaderVisible: boolean = options.isTabHeaderVisible;\n    let _isTabSelected: boolean = options.isTabSelected ?? false;\n    let _settings: Glue42.Windows.WindowSettings = options.settings;\n    const _applicationName = options.applicationName;\n\n    // is Window visible\n    let _isVisible: boolean = options.isVisible;\n\n    // is Window sticky enable\n    let _isSticky: boolean = options.isSticky;\n\n    // Window state Collapsed | Expanded\n    let _isCollapsed: boolean = options.isCollapsed;\n\n    // Window state normal | maximized | minimized\n    let _windowState: Glue42.Windows.WindowState = options.state;\n\n    // tabGroupId only for window with 'Tab' mode\n    let _tabGroupId: string = options.tabGroupId;\n    let _tabIndex: number = options.tabIndex;\n\n    let _frameId: string = options.frameId;\n    // window is locked or unlocked;\n    let _isLocked: boolean = options.isLocked;\n\n    let _group: Glue42.Windows.Group;\n\n    // Holding all frame buttons\n    let _frameButtons: Glue42.Windows.ButtonInfo[] = options.frameButtons ?? [];\n\n    // Holding the current zoom factor\n    let _zoomFactor = options.zoomFactor;\n\n    let _placementSettings: Glue42.Windows.PlacementSettings = options.placementSettings;\n\n    const _jumpList: JumpList = new JumpList(id);\n\n    //#region \"AGM methods\"\n\n    function close(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!id) {\n                throw new Error(\"The window is already closed.\");\n            }\n            return executor.close(resultWindow);\n        }, success, error);\n    }\n\n    function navigate(newUrl: string, options: Glue42.Windows.LoadURLOptions): Promise<Glue42.Windows.GDWindow>;\n    function navigate(newUrl: string, success?: (window: GDWindow) => void, error?: (error: string) => void): Promise<GDWindow>;\n    function navigate(newUrl: string, optionsOrCallback: Glue42.Windows.LoadURLOptions | ((window: Glue42.Windows.GDWindow) => void), error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        if (typeof optionsOrCallback === \"function\") {\n            return utils.callbackifyPromise(() => {\n                if (util.isNullOrWhiteSpace(newUrl)) {\n                    throw new Error(\"The new URL must be a non-empty string.\");\n                }\n                return executor.navigate(resultWindow, newUrl);\n            }, optionsOrCallback, error);\n        }\n        if (util.isNullOrWhiteSpace(newUrl)) {\n            throw new Error(\"The new URL must be a non-empty string.\");\n        }\n        return executor.navigate(resultWindow, newUrl, optionsOrCallback);\n    }\n\n    function setStyle(style: Glue42.Windows.WindowStyle, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every((key) => !key)) {\n                throw new Error(\"Invalid style arguments: \" + JSON.stringify(style));\n            }\n            if (style && style.focus !== undefined) {\n                if (typeof style.focus !== \"boolean\") {\n                    throw new Error(\"Focus must be a boolean value. Currently, only `focus: true` is supported.\");\n                } else if (style.focus === false) {\n                    _logger.warn(\"`focus: false` is not supported!\");\n                }\n            }\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\n                throw new Error(\"The `hidden` property must hold a boolean value.\");\n            }\n            for (const prop of [\"minHeight\", \"maxHeight\", \"minWidth\", \"maxWidth\"]) {\n                const styleAsAny = style as any;\n                const value = styleAsAny[prop];\n                if (prop in style) {\n                    if (util.isUndefinedOrNull(value)) {\n                        delete styleAsAny[prop];\n                        continue;\n                    }\n                    if (!util.isNumber(styleAsAny[prop])) {\n                        throw new Error(`\"${prop}\" must be a number`);\n                    }\n                }\n            }\n            return executor.setStyle(resultWindow, style);\n        }, success, error);\n    }\n    // REVIEW\n    function resetButtons(buttons: Glue42.Windows.WindowButtons, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(\n            () => executor.resetButtons(resultWindow, buttons),\n            success,\n            error\n        );\n    }\n\n    function setOnTop(onTop: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof onTop !== \"boolean\") {\n                throw new Error(\"`onTop` must hold a boolean value.\");\n            }\n            return executor.setOnTop(resultWindow, onTop);\n        }, success, error);\n    }\n\n    function setSizeConstraints(constraints: Glue42.Windows.SizeConstraints, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!constraints || Object.keys(constraints).every((value) => value === undefined)) {\n                throw new Error(\"The properties of `constraints` cannot be null or undefined.\");\n            }\n            return executor.setSizeConstraints(resultWindow, constraints);\n        }, success, error);\n    }\n\n    function setTitle(newTitle: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(newTitle)) {\n                throw new Error(\"`newTitle` must not be null or undefined.\");\n            }\n            if (newTitle === _title) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.setTitle(resultWindow, newTitle);\n        }, success, error);\n    }\n\n    function setSticky(isSticky: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof isSticky !== \"boolean\") {\n                throw new Error(\"`isSticky` must hold a boolean value.\");\n            }\n            return executor.setSticky(resultWindow, isSticky);\n        }, success, error);\n    }\n\n    function moveResize(bounds: Partial<Glue42.Windows.Bounds>, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(bounds)) {\n                throw new Error(\"The properties of `bounds` cannot be null or undefined.\");\n            }\n            return executor.moveResize(resultWindow, bounds);\n        }, success, error);\n    }\n\n    function addFrameButton(buttonInfo: Glue42.Windows.ButtonInfo, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof buttonInfo === \"undefined\" || Object.keys(buttonInfo).length === 0) {\n                throw new Error(\"Button info is not available.\");\n            }\n            if (util.isNullOrWhiteSpace(buttonInfo.buttonId)) {\n                throw new Error(\"`buttonId` must not be null or undefined.\");\n            }\n            if (util.isNullOrWhiteSpace(buttonInfo.imageBase64)) {\n                throw new Error(\"`imageBase64` must not be null or undefined.\");\n            }\n            return executor.addFrameButton(resultWindow, buttonInfo);\n        }, success, error);\n    }\n\n    function removeFrameButton(buttonId: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(buttonId)) {\n                throw new Error(\"`buttonId` must not be null or undefined.\");\n            }\n            return executor.removeFrameButton(resultWindow, buttonId);\n        }, success, error);\n    }\n\n    function activate(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_focus) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.activate(resultWindow);\n        }, success, error);\n    }\n\n    function focus(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_focus) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.focus(resultWindow);\n        }, success, error);\n    }\n\n    function maximizeRestore(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.maximizeRestore(resultWindow);\n        }, success, error);\n    }\n\n    function maximize(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"maximized\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.maximize(resultWindow);\n        }, success, error);\n    }\n\n    function restore(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"normal\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.restore(resultWindow);\n        }, success, error);\n    }\n\n    function minimize(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_windowState === \"minimized\") {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.minimize(resultWindow);\n        }, success, error);\n    }\n\n    function collapse(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (_isCollapsed) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.collapse(resultWindow);\n        }, success, error);\n    }\n\n    function expand(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (!_isCollapsed) {\n                return Promise.resolve(resultWindow);\n            }\n            return executor.expand(resultWindow);\n        }, success, error);\n    }\n\n    function toggleCollapse(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.toggleCollapse(resultWindow);\n        }, success, error);\n    }\n\n    function snap(target: string | Glue42.Windows.GDWindow, direction: Glue42.Windows.RelativeDirection, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(target)) {\n                throw new Error(`A target window is not specified - ${target}`);\n            }\n\n            if (typeof target === \"string\") {\n                const win = windowStore.get(target);\n                if (!win) {\n                    throw new Error(`Invalid \"target\" parameter or no such window. Invoked with: ${target}`);\n                }\n                target = win.API;\n            }\n            return executor.snap(resultWindow, target, direction);\n        }, success, error);\n    }\n\n    function attachTab(tab: Glue42.Windows.GDWindow | string, opt: number | Glue42.Windows.AttachOptions, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            const errorMessage = `Invalid \"tab\" parameter - must be an object with an \"id\" property or a string. Invoked for source window with ID:`;\n            if (util.isUndefinedOrNull(tab)) {\n                throw new Error(errorMessage + tab);\n            }\n            // tab === sourceWindow\n            let sourceWindow;\n            if (typeof tab === \"string\") {\n                sourceWindow = windowStore.get(tab)?.API;\n                if (util.isUndefinedOrNull(sourceWindow)) {\n                    throw new Error(errorMessage + sourceWindow);\n                }\n            } else if (!util.isUndefinedOrNull(tab.id)) {\n                sourceWindow = tab;\n            } else {\n                throw new Error(errorMessage);\n            }\n            const attachOptions: Glue42.Windows.AttachOptions = {};\n            if (!util.isUndefinedOrNull(opt)) {\n                if (typeof opt === \"number\") {\n                    attachOptions.index = opt;\n                } else {\n                    attachOptions.selected = opt.selected;\n                    attachOptions.index = opt.index;\n                }\n            }\n\n            return executor.attachTab(resultWindow, sourceWindow, attachOptions);\n        }, success, error);\n    }\n\n    function detachTab(opt: Glue42.Windows.DetachOptions = {}, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            const argsForSend: DetachTabOptions = {};\n            function isDetachRelative(o: Glue42.Windows.DetachOptions) {\n                return o.relativeTo !== undefined;\n            }\n            if (isDetachRelative(opt)) {\n                if (typeof opt.relativeTo === \"string\") {\n                    argsForSend.relativeTo = opt.relativeTo;\n                } else if (!util.isUndefinedOrNull(opt.relativeTo.id)) {\n                    argsForSend.relativeTo = opt.relativeTo.id;\n                }\n                if (!util.isUndefinedOrNull(opt.relativeDirection)) {\n                    argsForSend.relativeDirection = opt.relativeDirection;\n                }\n                if (!util.isUndefinedOrNull(opt.width)) {\n                    argsForSend.width = opt.width;\n                }\n                if (!util.isUndefinedOrNull(opt.height)) {\n                    argsForSend.height = opt.height;\n                }\n            } else {\n                if (!util.isUndefinedOrNull(opt.bounds)) {\n                    argsForSend.bounds = opt.bounds;\n                }\n            }\n            if (!util.isUndefinedOrNull(opt.hideTabHeader)) {\n                argsForSend.hideTabHeader = opt.hideTabHeader;\n            }\n            return executor.detachTab(resultWindow, argsForSend);\n        }, success, error);\n    }\n\n    function setVisible(toBeVisible?: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.setVisible(resultWindow, toBeVisible);\n        }, success, error);\n    }\n\n    async function center(display: Glue42.Displays.Display) {\n        const resultDisplay = await resultWindow.getDisplay();\n        return moveResize(utils.getDisplayCenterOfScreen(resultWindow.bounds, display || resultDisplay));\n    }\n\n    function showLoader(loader?: Glue42.Windows.Loader): Promise<Glue42.Windows.GDWindow> {\n        return executor.showLoader(resultWindow, loader);\n    }\n\n    function hideLoader(): Promise<Glue42.Windows.GDWindow> {\n        return executor.hideLoader(resultWindow);\n    }\n\n    function updateContext(context: any, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isUndefinedOrNull(context)) {\n                throw new Error(`\"context\" must not be null or undefined.`);\n            }\n\n            return executor.updateContext(resultWindow, context, false);\n        }, success, error);\n    }\n\n    function lock(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.lock(resultWindow);\n        }, success, error);\n    }\n\n    function unlock(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            return executor.unlock(resultWindow);\n        }, success, error);\n    }\n\n    function getIcon(success?: (icon: string) => void, error?: (error: string) => void): Promise<string> {\n        return utils.callbackifyPromise(() => {\n            return executor.getIcon(resultWindow);\n        }, success, error);\n    }\n\n    function setIcon(base64Image: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(base64Image)) {\n                throw new Error(`\"base64Image\" must be a non-empty string.`);\n            }\n            return executor.setIcon(resultWindow, base64Image);\n        }, success, error);\n    }\n\n    function setFrameColor(frameColor: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(frameColor)) {\n                throw new Error(`\"frameColor\" must be a non-empty string`);\n            }\n            return executor.setFrameColor(resultWindow, frameColor);\n        }, success, error);\n    }\n\n    function setTabHeaderVisible(toBeTabHeaderVisible: boolean, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (typeof toBeTabHeaderVisible !== \"boolean\") {\n                throw new Error(`\"toBeTabHeaderVisible\" must hold a boolean value.`);\n            }\n            return executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible);\n        }, success, error);\n    }\n\n    async function setTabTooltip(tooltip: string): Promise<Glue42.Windows.GDWindow> {\n        if (util.isNullOrWhiteSpace(tooltip)) {\n            throw new Error(`\"${tooltip}\" must not be null or undefined`);\n        }\n        return executor.setTabTooltip(resultWindow, tooltip);\n    }\n\n    function showPopup(config: Glue42.Windows.PopupOptions): Promise<Glue42.Windows.GDWindow> {\n        return executor.showPopup(resultWindow, config);\n    }\n\n    function createFlydown(config: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return executor.createFlydown(resultWindow.id, config);\n    }\n\n    function setModalState(isModal: boolean): Promise<void> {\n        return executor.setModalState(resultWindow.id, isModal || false);\n    }\n\n    function zoomIn(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            return executor.zoomIn(resultWindow);\n        }, success, error);\n    }\n\n    function zoomOut(success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            return executor.zoomOut(resultWindow);\n        }, success, error);\n    }\n\n    function setZoomFactor(zoomFactor: number, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise<Glue42.Windows.GDWindow>(() => {\n            if (isNaN(zoomFactor)) {\n                throw new Error(`zoomFactor is not a number`);\n            }\n            return executor.setZoomFactor(resultWindow, zoomFactor);\n        }, success, error);\n    }\n\n    function showDevTools() {\n        return executor.showDevTools(resultWindow);\n    }\n\n    function capture(captureOptions: Glue42.Windows.CaptureOptions): Promise<string> {\n        return executor.capture(resultWindow, captureOptions);\n    }\n\n    function flash(suppliedOptions?: boolean, mode?: Glue42.Windows.FlashMode): Promise<Glue42.Windows.GDWindow> {\n        const flashOptions: FlashOptions = {\n            shouldFlash: true,\n            mode: \"auto\"\n        };\n\n        if (typeof suppliedOptions === \"boolean\") {\n            flashOptions.shouldFlash = suppliedOptions;\n        }\n\n        if (typeof mode !== \"undefined\") {\n            flashOptions.mode = mode;\n        }\n\n        return executor.flash(resultWindow, flashOptions);\n    }\n\n    function print(printOptions: Glue42.Windows.PrintOptions): Promise<Glue42.Windows.GDWindow> {\n        return executor.print(resultWindow, printOptions);\n    }\n\n    function printToPDF(printToPDFOptions: Glue42.Windows.PrintToPDFOptions): Promise<string> {\n        return executor.printToPDF(resultWindow, printToPDFOptions);\n    }\n\n    function ungroup(ungroupOptions?: Glue42.Windows.UngroupOptions): Promise<Glue42.Windows.GDWindow> {\n        return new Promise((resolve, reject) => {\n            const unGroupChanged = onGroupChanged(\n                (win: Glue42.Windows.GDWindow, newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) => {\n                    if (id === win.id) {\n                        unGroupChanged();\n                        resolve(resultWindow);\n                    }\n                });\n\n            executor.ungroup(resultWindow, ungroupOptions)\n                .catch((e: string) => {\n                    unGroupChanged();\n                    reject(e);\n                });\n        });\n    }\n\n    function place(placementSettings: Glue42.Windows.PlacementSettings): Promise<void> {\n        return executor.place(resultWindow, placementSettings);\n    }\n\n    function refresh(ignoreCache: boolean) {\n        return executor.refresh(resultWindow, ignoreCache);\n    }\n\n    function download(url: string, opts: Glue42.Windows.DownloadOptions) {\n        return executor.download(resultWindow, url, opts);\n    }\n\n    function configure(settings: Glue42.Windows.WindowConfiguration) {\n        return executor.configureWindow(resultWindow, settings);\n    }\n\n    //#endregion \"AGM methods\"\n\n    //#region \"Events\"\n\n    function onTitleChanged(callback: (title: string, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onTitleChanged\", callback, [resultWindow.title, resultWindow]);\n    }\n\n    function onClose(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (id === undefined) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"onClose\", callback);\n    }\n\n    function onUrlChanged(callback: (url: string, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onUrlChanged\", callback);\n    }\n\n    function onFrameButtonAdded(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonAdded\", callback);\n    }\n\n    function onFrameButtonRemoved(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonRemoved\", callback);\n    }\n\n    function onFrameButtonClicked(callback: (btnInfo: Glue42.Windows.ButtonInfo, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"onFrameButtonClicked\", callback);\n    }\n\n    function onCollapsed(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (_isCollapsed) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"collapsed\", callback);\n    }\n\n    function onExpanded(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback should be a function\");\n        }\n        if (!_isCollapsed) {\n            callback(resultWindow);\n        }\n        return _registry.add(\"expanded\", callback);\n    }\n\n    function onMaximized(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"maximized\") {\n            return onEventCore(\"maximized\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"maximized\", callback);\n        }\n    }\n\n    function onMinimized(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"minimized\") {\n            return onEventCore(\"minimized\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"minimized\", callback);\n        }\n    }\n\n    function onNormal(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        if (_windowState === \"normal\") {\n            return onEventCore(\"normal\", callback, [resultWindow]);\n        } else {\n            return onEventCore(\"normal\", callback);\n        }\n    }\n\n    function onAttached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"attached\", callback);\n    }\n\n    function onDetached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"detached\", callback);\n    }\n\n    function onVisibilityChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"visibility-changed\", callback);\n    }\n\n    function onContextUpdated(callback: (context: any, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"context-updated\", callback);\n    }\n\n    function onLockingChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"lock-changed\", callback);\n    }\n\n    function onBoundsChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"bounds-changed\", callback);\n    }\n\n    function onFocusChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"focus-changed\", callback);\n    }\n\n    function onStickyChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"sticky-changed\", callback);\n    }\n\n    function onFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"frame-color-changed\", callback);\n    }\n\n    function onTabHeaderVisibilityChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"tab-header-visibility-changed\", callback);\n    }\n\n    function onWindowAttached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"window-attached\", callback);\n    }\n\n    function onWindowDetached(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"window-detached\", callback);\n    }\n\n    function onGroupChanged(callback: (window: Glue42.Windows.GDWindow, newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) => void): UnsubscribeFunction {\n        return onEventCore(\"group-changed\", callback);\n    }\n\n    function onTabSelectionChanged(callback: (selectedWindow: Glue42.Windows.GDWindow, previousWindow: Glue42.Windows.GDWindow, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"tab-selection-changed\", callback);\n    }\n\n    function onClosing(callback: () => Promise<void>): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        type GDHandler = (success: () => void, error: () => void) => void;\n        const callbackWrap: GDHandler = (success: () => void, error: () => void) => {\n            const promise = callback();\n            if (promise && promise.then) {\n                promise.then(success).catch(error);\n            } else {\n                success();\n            }\n        };\n        return executor.onClosing(callbackWrap, id);\n    }\n\n    function onRefreshing(callback: (prevent: () => void) => Promise<void>): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        type GDRefreshHandler = (success: () => void, error: () => void, prevent: () => void) => void;\n        const callbackWrap: GDRefreshHandler = (success: () => void, error: () => void, prevent: () => void) => {\n            const promise = callback(prevent);\n            if (promise && promise.then) {\n                promise.then(success).catch(error);\n            } else {\n                success();\n            }\n        };\n        return executor.onRefreshing(callbackWrap, id);\n    }\n\n    function onZoomFactorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"zoom-factor-changed\", callback);\n    }\n\n    function onPlacementSettingsChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"placementSettingsChanged\", callback);\n    }\n\n    function onNeighboursChanged(callback: (neighbours: Glue42.Windows.Neighbours, window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return onEventCore(\"neighbours-changed\", callback);\n    }\n\n    function onEventCore(key: string, callback: any, replayArguments?: any[]) {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        return _registry.add(key, callback, replayArguments);\n    }\n\n    function onNavigating(callback: (args: { newUrl: string }) => Promise<void>): UnsubscribeFunction {\n        if (!util.isFunction(callback)) {\n            throw new Error(\"callback must be a function\");\n        }\n\n        type Handler = (success: () => void, error: () => void, prevent: () => void, args: { newUrl: string }) => void;\n        const callbackWrap: Handler = (success: () => void, error: () => void, prevent: () => void, args: { newUrl: string }) => {\n            const promise = callback(args);\n            if (promise && promise.then) {\n                promise.then(success).catch(error);\n            } else {\n                success();\n            }\n        };\n        return executor.onNavigating(callbackWrap, id);\n    }\n\n    function goBack() {\n        return executor.goBack(resultWindow);\n    }\n\n    function goForward() {\n        return executor.goForward(resultWindow);\n    }\n\n    //#endregion \"Events\"\n\n    //#region \"Stream function\"\n\n    function handleUpdate(updated: WindowConstructorOptions) {\n        _url = updated.url;\n        _title = updated.title;\n        _context = updated.context || {};\n        _bounds = updated.bounds;\n        _frameColor = updated.frameColor;\n        _focus = updated.focus;\n        _neighbours = updated.neighbours || {};\n        _groupId = updated.groupId;\n        _isGroupHeaderVisible = updated.isGroupHeaderVisible;\n        _isTabHeaderVisible = updated.isTabHeaderVisible;\n        _isTabSelected = updated.isTabSelected;\n        _settings = updated.settings;\n        _isVisible = updated.isVisible;\n        _isSticky = updated.isSticky;\n        _isCollapsed = updated.isCollapsed;\n        _windowState = updated.state;\n        _tabGroupId = updated.tabGroupId;\n        _frameId = updated.frameId;\n        _isLocked = updated.isLocked;\n        // _frameButtons = updated.fra;\n        // _group: Glue42.Windows.Group;\n        _zoomFactor = updated.zoomFactor;\n        _placementSettings = updated.placementSettings;\n    }\n\n    function handleTitleChanged(newTitle: string): void {\n        _title = newTitle;\n        executor.finished\n            .finally(() => {\n                _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\n            });\n    }\n\n    function handleUrlChanged(newUrl: string): void {\n        _url = newUrl;\n        _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\n    }\n\n    function handleVisibilityChanged(isVisible: boolean) {\n        if (isVisible === _isVisible) {\n            return;\n        }\n        _isVisible = isVisible;\n        _registry.execute(\"visibility-changed\", resultWindow);\n    }\n\n    function handleWindowSettingsChanged(settings: Glue42.Windows.WindowSettings): void {\n        _settings = settings;\n        _registry.execute(\"settings-changed\", resultWindow);\n    }\n\n    function handleContextUpdated(context: any): void {\n        _context = context;\n        _registry.execute(\"context-updated\", _context, resultWindow);\n    }\n\n    function handleWindowClose(): void {\n        if (id === undefined) {\n            return;\n        }\n        _registry.execute(\"onClose\", resultWindow);\n        id = undefined;\n    }\n\n    function handleFrameButtonAdded(frameButton: FrameButton): void {\n        const buttonObj: Glue42.Windows.ButtonInfo = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce((memo: any, k) => {\n            memo[k] = frameButton[k];\n            return memo;\n        }, {}) as Glue42.Windows.ButtonInfo;\n\n        const frameButtonsIds = _frameButtons.map((btn) => {\n            return btn.buttonId;\n        });\n\n        if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\n            _frameButtons.push(buttonObj);\n        }\n\n        _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\n    }\n\n    function handleFrameButtonRemoved(frameButtonId: string): void {\n        let button: Glue42.Windows.ButtonInfo;\n        _frameButtons = _frameButtons.reduce((memo, btn) => {\n            if (btn.buttonId === frameButtonId) {\n                button = btn;\n            } else {\n                memo.push(btn);\n            }\n            return memo;\n        }, []);\n\n        if (button !== undefined) {\n            _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\n        }\n    }\n\n    function handleFrameButtonClicked(frameButton: FrameButton): void {\n        const button = _frameButtons.filter((btn) => {\n            return btn.buttonId === frameButton.buttonId;\n        });\n\n        if (button.length > 0) {\n            _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\n        }\n    }\n\n    async function handleWindowChangeState(state: string): Promise<void> {\n        if (state === \"collapsed\") {\n            _isCollapsed = true;\n        } else if (state === \"expanded\") {\n            _isCollapsed = false;\n        } else {\n            _windowState = state as Glue42.Windows.WindowState;\n        }\n        await executor.finished;\n        _registry.execute(state, resultWindow);\n    }\n\n    function handleFrameIsLockedChanged(isLocked: boolean): void {\n        _isLocked = isLocked;\n        _registry.execute(\"lock-changed\", resultWindow);\n    }\n\n    function handleBoundsChanged(bounds: Glue42.Windows.Bounds): void {\n        if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\n            return;\n        }\n        _bounds = bounds;\n        _registry.execute(\"bounds-changed\", resultWindow);\n    }\n\n    function handleFocusChanged(isFocused: boolean): void {\n        _focus = isFocused;\n        _registry.execute(\"focus-changed\", resultWindow);\n    }\n\n    function handleIsStickyChanged(isSticky: boolean): void {\n        _isSticky = isSticky;\n        _registry.execute(\"sticky-changed\", isSticky, resultWindow);\n    }\n\n    function handleFrameColorChanged(frameColor: string): void {\n        _frameColor = frameColor;\n        _registry.execute(\"frame-color-changed\", resultWindow);\n    }\n\n    function handleFrameAttached(tabGroupId: string, frameId: string, isTabHeaderVisible: boolean): void {\n        _tabGroupId = tabGroupId;\n        _frameId = frameId;\n        _isTabHeaderVisible = isTabHeaderVisible;\n        _registry.execute(\"frame-attached\", resultWindow);\n    }\n\n    function handleCompositionChanged(state: CompositionChangedData): void {\n        _neighbours = state.neighbors || {};\n        _tabIndex = state.index;\n        _registry.execute(\"neighbours-changed\", _neighbours, resultWindow);\n    }\n\n    function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible: boolean): void {\n        _isGroupHeaderVisible = isGroupHeaderVisible;\n    }\n\n    function handleTabHeaderVisibilityChanged(isTabHeaderVisible: boolean): void {\n        if (_isTabHeaderVisible !== isTabHeaderVisible) {\n            _isTabHeaderVisible = isTabHeaderVisible;\n            _registry.execute(\"tab-header-visibility-changed\", resultWindow);\n        }\n    }\n\n    async function handleFrameSelectionChanged(newWindow: string, prevWindow: string) {\n        let selectedWindow: Glue42.Windows.GDWindow;\n        if (newWindow === id) {\n            _isTabSelected = true;\n            selectedWindow = resultWindow;\n        } else {\n            _isTabSelected = false;\n            selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\n        }\n        const previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\n        await executor.finished;\n        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\n    }\n\n    async function handleAttached(newTabGroupId: string, newFrameId: string, tabHeaderVisible: boolean, isLocked: boolean, winsToBeNotified: WindowWrapper[]): Promise<void> {\n        _tabGroupId = newTabGroupId;\n        _isTabHeaderVisible = tabHeaderVisible;\n        _frameId = newFrameId;\n        if (typeof isLocked !== \"undefined\") {\n            _isLocked = isLocked;\n        }\n        await executor.finished;\n        winsToBeNotified.forEach((w) => {\n            w.Events.handleWindowAttached(resultWindow);\n        });\n        _registry.execute(\"attached\", resultWindow);\n    }\n\n    function handleWindowAttached(win: Glue42.Windows.GDWindow): void {\n        _registry.execute(\"window-attached\", win);\n    }\n\n    async function handleDetached(isLocked: boolean, winsToBeNotified: WindowWrapper[]): Promise<void> {\n        _tabGroupId = undefined;\n        _isTabSelected = false;\n        if (typeof isLocked !== \"undefined\") {\n            _isLocked = isLocked;\n        }\n        await executor.finished;\n        winsToBeNotified.forEach((w) => {\n            w.Events.handleWindowDetached(resultWindow);\n        });\n        _registry.execute(\"detached\", resultWindow);\n    }\n\n    function handleWindowDetached(win: Glue42.Windows.GDWindow): void {\n        _registry.execute(\"window-detached\", win);\n    }\n\n    function handleZoomFactorChanged(zoomFactor: number): void {\n        _zoomFactor = zoomFactor;\n        _registry.execute(\"zoom-factor-changed\", resultWindow);\n    }\n\n    function handlePlacementSettingsChanged(placementSettings: Glue42.Windows.PlacementSettings): void {\n        let promise: Promise<Glue42.Displays.Display>;\n        const copy = placementSettings as any;\n        if (!copy.display) {\n            promise = Promise.resolve(undefined);\n        } else {\n            const displayAPI = displayAPIGetter();\n            if (!displayAPI) {\n                // display API is disabled\n                promise = Promise.resolve(undefined);\n            } else {\n                const index = copy.display - 1;\n                promise = new Promise((resolve, reject) => {\n                    displayAPI.all().then((displays) => {\n                        const display = displays.find((d) => d.index === index);\n                        resolve(display);\n                    }).catch(reject);\n                });\n            }\n        }\n\n        promise.then((d) => {\n            copy.display = d;\n            _placementSettings = copy;\n            _registry.execute(\"placementSettingsChanged\", resultWindow);\n        });\n    }\n    //#endregion \"Stream function\"\n\n    //#region \"Group Events\"\n    function handleGroupChanged(newGroup: Glue42.Windows.Group, oldGroup: Glue42.Windows.Group) {\n        _group = newGroup;\n        _groupId = newGroup?.id;\n\n        if (!util.isUndefinedOrNull(newGroup) && !util.isUndefinedOrNull(oldGroup)) {\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\n        }\n    }\n\n    //#region \"Internal function\"\n\n    function getAllTabs(): Glue42.Windows.GDWindow[] {\n        const allWindows = windowStore.list;\n        if (_mode.toLowerCase() !== \"tab\") {\n            return [];\n        }\n        const tabs = Object.keys(allWindows).reduce<GDWindow[]>((memo, win) => {\n            const window: WindowWrapper = allWindows[win];\n            if (window\n                && window.API.tabGroupId\n                && typeof window.API.tabGroupId !== \"undefined\"\n                && typeof resultWindow.tabGroupId !== \"undefined\"\n                && window.API.tabGroupId === resultWindow.tabGroupId) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n        return tabs.sort((w1, w2) => {\n            if (w1.tabIndex !== w2.tabIndex) {\n                if (w1.tabIndex === -1) {\n                    return Number.MAX_SAFE_INTEGER;\n                }\n                if (w2.tabIndex === -1) {\n                    return Number.MIN_SAFE_INTEGER;\n                }\n            }\n            return w1.tabIndex - w2.tabIndex;\n        });\n    }\n\n    function mapWindowIdsToWindowObjects(windowIdArr: string[]): Glue42.Windows.GDWindow[] {\n        return windowIdArr.reduce((memo, winId) => {\n            const window = windowStore.get(winId);\n            if (window) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n    }\n\n    function getNeighboursByDirection(direction: string): Glue42.Windows.GDWindow[] {\n        const windowIds = _neighbours[direction];\n        if (typeof windowIds !== \"undefined\") {\n            return mapWindowIdsToWindowObjects(windowIds);\n        }\n    }\n\n    function getApplicationName(): string {\n        if (_applicationName) {\n            return _applicationName;\n        }\n        if (_context._APPLICATION_NAME) {\n            return _context._APPLICATION_NAME;\n        }\n        if (_context && _context._t42 && _context._t42.application) {\n            return _context._t42.application;\n        }\n        const info = getWindowInfo();\n        if (info && info.applicationName) {\n            return info.applicationName;\n        }\n\n        // last try (NodeJS apps)\n        const appManager = appManagerGetter();\n        if (appManager) {\n            const instance = appManager.instances().find((i) => id === i.id);\n            if (instance) {\n                return instance.application?.name;\n            }\n        }\n\n        return undefined;\n    }\n\n    function getWindowInfo() {\n        if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\n            const info = window.glue42gd.getWindowInfo(id);\n            if (!info) {\n                return undefined;\n            } else {\n                return info;\n            }\n        }\n    }\n\n    //#endregion \"Internal function\"\n\n    //#region \"API\"\n\n    resultWindow = {\n        get id() {\n            return _id;\n        },\n        get name() {\n            return _name;\n        },\n        get application() {\n            const appManager = appManagerGetter();\n            const appName = getApplicationName();\n            if (appName && appManager) {\n                return appManager.application(appName);\n            }\n        },\n        get hostInstance() {\n            return executor.hostInstance;\n        },\n        get agmInstance() {\n            if (typeof window !== \"undefined\" && window.glue42gd) {\n                return agm.servers().find((s) => s.windowId === this.id);\n            }\n            const appName = getApplicationName();\n            return appName ? { application: appName } : undefined;\n        },\n        get url() {\n            return _url;\n        },\n        get title() {\n            return _title;\n        },\n        get windowStyleAttributes() {\n            return _settings;\n        },\n        get settings() {\n            return _settings;\n        },\n        get tabGroupId() {\n            return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\n        },\n        get tabIndex() {\n            return _mode.toLowerCase() === \"tab\" ? _tabIndex : undefined;\n        },\n        get frameId() {\n            return _frameId;\n        },\n        get frameButtons() {\n            return _frameButtons;\n        },\n        get mode() {\n            return _mode;\n        },\n        get state() {\n            return _windowState;\n        },\n        get isCollapsed() {\n            return _isCollapsed;\n        },\n        get isVisible() {\n            return _isVisible;\n        },\n        get isLocked() {\n            return _isLocked;\n        },\n        get context() {\n            return _context;\n        },\n        get bounds() {\n            return _bounds;\n        },\n        get minHeight() {\n            return _settings.minHeight;\n        },\n        get maxHeight() {\n            return _settings.maxHeight;\n        },\n        get minWidth() {\n            return _settings.minWidth;\n        },\n        get maxWidth() {\n            return _settings.maxWidth;\n        },\n        get isFocused() {\n            return _focus;\n        },\n        get frameColor() {\n            return _frameColor;\n        },\n        get opened() {\n            return resultWindow.id !== undefined;\n        },\n        get group() {\n            return _group;\n        },\n        get groupId() {\n            return _groupId;\n        },\n        get isSticky() {\n            return _isSticky;\n        },\n        get topNeighbours() {\n            return getNeighboursByDirection(\"top\");\n        },\n        get leftNeighbours() {\n            return getNeighboursByDirection(\"left\");\n        },\n        get rightNeighbours() {\n            return getNeighboursByDirection(\"right\");\n        },\n        get bottomNeighbours() {\n            return getNeighboursByDirection(\"bottom\");\n        },\n        get isGroupHeaderVisible() {\n            return _isGroupHeaderVisible;\n        },\n        get activityId() {\n            if (_context._t42) {\n                return _context._t42.activityId;\n            }\n            const info = getWindowInfo();\n            if (!info) {\n                return undefined;\n            }\n            return info.activityId;\n        },\n        get activityWindowId() {\n            if (_context._t42) {\n                return _context._t42.activityWindowId;\n            }\n            const info = getWindowInfo();\n            if (!info) {\n                return undefined;\n            }\n            return info.activityWindowId;\n        },\n        get windowType() {\n            return options.windowType || \"electron\";\n        },\n        get zoomFactor() {\n            return _zoomFactor;\n        },\n        get screen() {\n            if (typeof window !== \"undefined\" && window.glue42gd) {\n                return utils.getMonitor(resultWindow.bounds, (window.glue42gd as any).monitors);\n            }\n            return undefined;\n        },\n        get placementSettings(): Glue42.Windows.PlacementSettings {\n            return Object.assign({}, _placementSettings);\n        },\n        get jumpList(): JumpList {\n            return _jumpList;\n        },\n        maximize,\n        restore,\n        minimize,\n        maximizeRestore,\n        collapse,\n        expand,\n        toggleCollapse,\n        focus,\n        activate,\n        moveResize,\n        setTitle,\n        setStyle,\n        setOnTop,\n        resetButtons,\n        setSizeConstraints,\n        navigate,\n        addFrameButton,\n        removeFrameButton,\n        setVisible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n        center,\n        close,\n        snap,\n        showLoader,\n        hideLoader,\n        updateContext,\n        lock,\n        unlock,\n        getIcon,\n        setIcon,\n        setFrameColor,\n        setTabTooltip,\n        attachTab,\n        detachTab,\n        setTabHeaderVisible,\n        showPopup,\n        createFlydown,\n        setModalState,\n        setZoomFactor,\n        zoomIn,\n        zoomOut,\n        showDevTools,\n        capture,\n        flash,\n        setSticky,\n        print,\n        printToPDF,\n        place,\n        ungroup,\n        refresh,\n        goBack,\n        goForward,\n        download,\n        configure,\n        getChannel: async () => {\n            const wins = await getChannels().getWindowsWithChannels({ windowIds: [_id] });\n            return wins[0]?.channel;\n        },\n\n        onClose,\n        onUrlChanged,\n        onTitleChanged,\n        onFrameButtonAdded,\n        onFrameButtonRemoved,\n        onFrameButtonClicked,\n        onCollapsed,\n        onExpanded,\n        onMinimized,\n        onMaximized,\n        onNormal,\n        onAttached,\n        onDetached,\n        onVisibilityChanged,\n        onContextUpdated,\n        onLockingChanged,\n        onBoundsChanged,\n        onFrameColorChanged,\n        onFocusChanged,\n        onStickyChanged,\n        onGroupChanged,\n        onWindowAttached,\n        onWindowDetached,\n        onTabSelectionChanged,\n        onTabHeaderVisibilityChanged,\n        onClosing,\n        onRefreshing,\n        onZoomFactorChanged,\n        onPlacementSettingsChanged,\n        onNeighboursChanged,\n        onNavigating,\n\n        get tabs() {\n            return getAllTabs();\n        },\n\n        get isTabHeaderVisible() {\n            return _isTabHeaderVisible;\n        },\n\n        get isTabSelected() {\n            return _isTabSelected;\n        },\n\n        // @glue42/web compatibility layer\n        getURL() {\n            return Promise.resolve(_url);\n        },\n\n        getTitle() {\n            return Promise.resolve(_title);\n        },\n\n        getBounds(): Promise<Glue42.Windows.Bounds> {\n            return Promise.resolve(_bounds);\n        },\n\n        getContext(): Promise<any> {\n            return Promise.resolve(_context);\n        },\n\n        setContext(context: any): Promise<GDWindow> {\n            if (util.isUndefinedOrNull(context)) {\n                throw new Error(`\"context\" must not be null or undefined, set to empty object if you want to clear it out.`);\n            }\n\n            return executor.updateContext(resultWindow, context, true);\n        },\n\n        getDisplay(): Promise<Glue42.Displays.Display> {\n            const displayAPI = displayAPIGetter();\n            return displayAPI.getByWindowId(id);\n        },\n\n        resizeTo(width?: number, height?: number): Promise<GDWindow> {\n            return moveResize({ width, height });\n        },\n\n        moveTo(top?: number, left?: number): Promise<GDWindow> {\n            return moveResize({ top, left });\n        },\n\n        async getParentWindow() {\n            const myParentId = (_settings as any).parentInstanceId;\n            if (!myParentId) {\n                return undefined;\n            }\n            return windowStore.list[myParentId]?.API;\n        },\n\n        async getChildWindows() {\n            return Object.keys(windowStore.list)\n                .map((key) => windowStore.list[key].API)\n                .filter((w) => {\n                    const parentId = (w.settings as any).parentInstanceId;\n                    return parentId === id;\n                });\n        },\n\n        joinChannel: (name: string) => {\n            return getChannels().join(name, id);\n        },\n\n        leaveChannel: () => {\n            return getChannels().leave(id);\n        }\n    };\n\n    //#endregion \"API\"\n\n    //#endregion \"Group Events\"\n\n    const events: WindowEvents = {\n        handleUpdate,\n\n        handleWindowClose,\n        handleWindowChangeState,\n        handleTitleChanged,\n        handleVisibilityChanged,\n        handleUrlChanged,\n        handleWindowSettingsChanged,\n        handleContextUpdated,\n        handleFrameIsLockedChanged,\n        handleBoundsChanged,\n        handleFocusChanged,\n        handleFrameButtonAdded,\n        handleFrameButtonRemoved,\n        handleFrameButtonClicked,\n        handleFrameColorChanged,\n        handleFrameAttached,\n        handleFrameSelectionChanged,\n        handleCompositionChanged,\n        handleGroupHeaderVisibilityChanged,\n        handleTabHeaderVisibilityChanged,\n        handleGroupChanged,\n        handleAttached,\n        handleDetached,\n        handleWindowAttached,\n        handleWindowDetached,\n        handleZoomFactorChanged,\n        handleIsStickyChanged,\n        handlePlacementSettingsChanged\n    };\n\n    return {\n        API: resultWindow,\n        Events: events\n    };\n};\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../../glue\";\nimport { DetachTabOptions, Executor, FlashOptions, JumpListSettingsInternal, JumpListUpdateSettings } from \"../../types\";\nimport { ShowFlydownData, ReformatedFlydownOptions, ReformatedFlydownZone, ReformatedPopupOptions, EventTypes } from \"./types\";\nimport { CallbackRegistry, default as CallbackFactory, UnsubscribeFunction } from \"callback-registry\";\nimport shortid from \"shortid\";\nimport windowStore from \"../../store\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../../../activity/helpers/util\";\n\nexport class GDExecutor implements Executor {\n    private agm: Glue42Core.AGM.API;\n    private agmTarget: {};\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _finished: Promise<void> = Promise.resolve();\n    private unsubCallbacks: { [key: string]: Array<(success: () => void, error: () => void, prevent?: () => void, args?: { newUrl: string }) => void> } = {};\n    public get hostInstance() {\n        return this.agmTarget;\n    }\n\n    public get finished() {\n        return this._finished;\n    }\n\n    public init(agm: Glue42Core.AGM.API, instance: Glue42Core.AGM.Instance | string) {\n        this.agm = agm;\n        this.agmTarget = instance;\n        this._registry.add(\"event\", (data: { windowId: string, type: string }) => {\n            if (data.type === \"Closed\") {\n                const keys = Object.keys(this.unsubCallbacks);\n                keys.forEach((key) => {\n                    const isSameWindow = key.startsWith(data.windowId);\n                    if (isSameWindow) {\n                        delete this.unsubCallbacks[key];\n                    }\n                });\n            }\n        });\n    }\n    // refactor\n    public handleEvent(data: any) {\n        this._registry.execute(\"event\", data);\n    }\n\n    public async open(options: Glue42.Windows.WindowCreateOptions) {\n        let finishedResolve: () => void;\n        this._finished = new Promise((resolve) => {\n            finishedResolve = resolve;\n        });\n        try {\n            const result = await this.agm.invoke<{ id: string }>(\"T42.Wnd.Create\", options, this.agmTarget);\n            if (result.returned === undefined) {\n                throw new Error(\"failed to execute T42.Wnd.Create - unknown reason\");\n            }\n\n            const id = result.returned.id;\n            const win = await windowStore.waitFor(id);\n            setTimeout(() => {\n                if (win.API.windowType === \"electron\") {\n                    // on normal windows urlCHanged has to be detected first in order for the window to be ready\n                    // that causes the user callbacks to miss urlChanged since they are not registered yet\n                    // here we 'replay' the urlChanged event\n                    win.Events.handleUrlChanged(win.API.url);\n                }\n            }, 0);\n            return win.API;\n        } catch (error) {\n            throw error;\n        } finally {\n            finishedResolve();\n        }\n    }\n\n    public async close(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"close\", { windowId: w.id }, `Closed`);\n        return w;\n    }\n\n    public async navigate(w: Glue42.Windows.GDWindow, newUrl: string, urlLoadOptions: Glue42.Windows.LoadURLOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"navigate\", { windowId: w.id, options: { url: newUrl, urlLoadOptions } }, \"UrlChanged\");\n        return w;\n    }\n    // Calls the public methods of the window. No Call to GD is made\n    public async setStyle(w: Glue42.Windows.GDWindow, style: Glue42.Windows.WindowSettings): Promise<Glue42.Windows.GDWindow> {\n        const stylePromises: Array<Promise<any>> = [];\n        const wait = (promise: Promise<any>) => stylePromises.push(promise);\n\n        if (!isUndefinedOrNull(style.focus) && !w.isFocused) {\n            wait(w.focus());\n        }\n\n        // Todo: only if !isRestoring (hopefully setVisible does this check)\n        if (!isUndefinedOrNull(style.hidden)) {\n            const toBeVisible = !style.hidden;\n            wait(w.setVisible(toBeVisible));\n        }\n\n        if (!isUndefinedOrNull(style.onTop)) {\n            wait(w.setOnTop(style.onTop));\n        }\n\n        if (!isNullOrWhiteSpace(style.tabTooltip) || !isNullOrWhiteSpace((style as any).tabToolTip)) {\n            const toolTip = style.tabTooltip ?? (style as any).tabToolTip;\n            wait(w.setTabTooltip(toolTip));\n        }\n\n        if (!isNullOrWhiteSpace(style.tabTitle)) {\n            wait(this.execute(\"setTabTitle\", { windowId: w.id, options: { tabTitle: style.tabTitle } }));\n        }\n\n        const {\n            maxWidth, maxHeight, minWidth, minHeight,\n            allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize\n        } = style;\n\n        wait(w.setSizeConstraints({ maxWidth, maxHeight, minWidth, minHeight }));\n        wait(w.resetButtons({ allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize }));\n\n        await Promise.all(stylePromises);\n\n        return w;\n    }\n\n    public async setSizeConstraints(w: Glue42.Windows.GDWindow, constraints: Glue42.Windows.SizeConstraints): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setSizeConstraints\", { windowId: w.id, options: constraints });\n        return w;\n    }\n\n    public async setTabTooltip(w: Glue42.Windows.GDWindow, tabTooltip: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabTooltip } });\n        return w;\n    }\n\n    public async resetButtons(w: Glue42.Windows.GDWindow, buttonsConfig: Glue42.Windows.WindowButtons): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"resetButtons\", { windowId: w.id, options: buttonsConfig });\n        return w;\n    }\n\n    public async setOnTop(w: Glue42.Windows.GDWindow, onTop: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setOnTop\", { windowId: w.id, options: { onTop } });\n        return w;\n    }\n\n    public async setTitle(w: Glue42.Windows.GDWindow, newTitle: string): Promise<Glue42.Windows.GDWindow> {\n        const options = {\n            windowId: w.id,\n            options: {\n                title: newTitle\n            }\n        };\n        await this.execute(\"setTitle\", options, \"TitleChanged\");\n        return w;\n    }\n\n    public async setSticky(w: Glue42.Windows.GDWindow, isSticky: boolean): Promise<Glue42.Windows.GDWindow> {\n        const options = {\n            windowId: w.id,\n            options: {\n                isSticky\n            }\n        };\n        await this.execute(\"setSticky\", options);\n        return w;\n    }\n\n    public async moveResize(w: Glue42.Windows.GDWindow, bounds: Partial<Glue42.Windows.Bounds>): Promise<Glue42.Windows.GDWindow> {\n        if (typeof window !== \"undefined\" && (window.glueDesktop as any).versionNum < 31200) {\n            return new Promise(async (res, rej) => {\n                const resolveImmediately = this.areBoundsEqual(bounds, w);\n                let isDone = false;\n                const done = () => {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n\n                    if (unsubscribeBoundsChanged) {\n                        unsubscribeBoundsChanged();\n                        unsubscribeBoundsChanged = undefined;\n                    }\n                    res(w);\n                    if (resolveTimeout) {\n                        clearTimeout(resolveTimeout);\n                        resolveTimeout = undefined;\n                    }\n                };\n                let resolveTimeout: any;\n                let unsubscribeBoundsChanged: () => void;\n                if (!resolveImmediately) {\n                    unsubscribeBoundsChanged = w.onBoundsChanged((win: Glue42.Windows.GDWindow) => {\n                        if (!this.areBoundsEqual(bounds, win)) {\n                            return;\n                        }\n                        done();\n                    });\n                }\n\n                try {\n                    // always execute moveResize (we might have old bounds and prevent calls that are actually valid)\n                    await this.execute(\"moveResize\", { windowId: w.id, options: { bounds } });\n                } catch (error) {\n                    rej(error);\n                    return;\n                }\n\n                // if we're trying to resize with the bounds we already have\n                if (resolveImmediately) {\n                    done();\n                    return;\n                }\n\n                // if no bounds change in the next 1s resolve\n                resolveTimeout = setTimeout(() => {\n                    done();\n                }, 1000);\n            });\n        } else {\n            await this.execute(\"moveResize\", { windowId: w.id, options: { bounds } });\n        }\n        return w;\n    }\n\n    public async addFrameButton(w: Glue42.Windows.GDWindow, buttonInfo: Glue42.Windows.ButtonInfo): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"addButton\", { windowId: w.id, options: buttonInfo }, \"ButtonAdded\");\n        return w;\n    }\n\n    public async removeFrameButton(w: Glue42.Windows.GDWindow, buttonId: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"removeButton\", { windowId: w.id, options: buttonId }, \"ButtonRemoved\");\n        return w;\n    }\n\n    public async activate(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onFocusChanged(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"activate\", { windowId: w.id }, \"FocusChanged\"), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async focus(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onFocusChanged(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"focus\", { windowId: w.id }, \"FocusChanged\"), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async maximizeRestore(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"maximizeRestore\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async maximize(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"maximize\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async restore(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"restore\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async minimize(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"minimize\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async collapse(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"collapse\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async expand(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"expand\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async toggleCollapse(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"toggleCollapse\", { windowId: w.id }, \"StateChanged\");\n        return w;\n    }\n\n    public async snap(w: Glue42.Windows.GDWindow, targetWindow: Glue42.Windows.GDWindow, direction: Glue42.Windows.RelativeDirection): Promise<Glue42.Windows.GDWindow> {\n        const args: any = {\n            targetWindowId: targetWindow.id\n        };\n\n        if (direction) {\n            args.snappingEdge = direction;\n        }\n        await this.execute(\"snap\", { windowId: w.id, options: args }, \"CompositionChanged\", `CompositionChanged-${targetWindow.id}`);\n        return w;\n    }\n\n    public async attachTab(w: Glue42.Windows.GDWindow, sourceWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.AttachOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"attachTab\", {\n            windowId: w.id,\n            options: {\n                index: options,\n                sourceWindowId: sourceWindow.id,\n                targetWindowId: w.id,\n            }\n        }, `WindowFrameAdded-${sourceWindow.id}`, `WindowFrameRemoved-${sourceWindow.id}`);\n        return w;\n    }\n\n    public async detachTab(w: Glue42.Windows.GDWindow, options: DetachTabOptions): Promise<Glue42.Windows.GDWindow> {\n        const eventKeys: string[] = [\"WindowFrameRemoved\", `WindowFrameAdded`];\n        if (!isUndefinedOrNull(options?.relativeTo)) {\n            eventKeys.push(`CompositionChanged`);\n            eventKeys.push(`CompositionChanged-${options.relativeTo}`);\n        } else {\n            eventKeys.push(\"BoundsChanged\");\n        }\n        await this.execute(\"detachTab\", { windowId: w.id, options }, ...eventKeys);\n        return w;\n    }\n\n    public async setVisible(w: Glue42.Windows.GDWindow, toBeVisible: boolean = true): Promise<Glue42.Windows.GDWindow> {\n        let command: string;\n        if (toBeVisible) {\n            command = \"show\";\n        } else {\n            command = \"hide\";\n        }\n\n        await this.execute(command, { windowId: w.id }, \"VisibilityChanged\");\n        return w;\n    }\n\n    public async showLoader(w: Glue42.Windows.GDWindow, loader?: Glue42.Windows.Loader): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"showLoadingAnimation\", { windowId: w.id, options: loader });\n        return w;\n    }\n\n    public async hideLoader(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"hideLoadingAnimation\", { windowId: w.id });\n        return w;\n    }\n\n    public async updateContext(w: Glue42.Windows.GDWindow, context: any, replace: boolean): Promise<Glue42.Windows.GDWindow> {\n        let un: UnsubscribeFunction;\n        try {\n            // as undefined values do not go through interop, setting a prop to undefined will lead to no change\n            // set this to null so it actually removes the prop\n            const contextWithoutUndefinedValues = this.swapUndefinedToNull(context);\n\n            const done = new Promise<void>((resolve, reject) => {\n                un = w.onContextUpdated(() => {\n                    resolve();\n                });\n            });\n            await Promise.all([this.execute(\"updateContext\", {\n                windowId: w.id, context: contextWithoutUndefinedValues, replace\n            }), done]);\n            return w;\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    public async lock(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"lockUnlock\", { windowId: w.id, options: { lock: true } }, \"FrameIsLockedChanged\");\n        return w;\n    }\n\n    public async unlock(w: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"lockUnlock\", { windowId: w.id, options: { lock: false } }, \"FrameIsLockedChanged\");\n        return w;\n    }\n\n    public async getIcon(w: Glue42.Windows.GDWindow): Promise<string> {\n        const result = await this.execute(\"getIcon\", {\n            windowId: w.id,\n            options: {}\n        });\n        return result.icon;\n    }\n\n    public async setIcon(w: Glue42.Windows.GDWindow, base64Image: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setIcon\", {\n            windowId: w.id,\n            options: {\n                dataURL: base64Image\n            }\n        });\n        return w;\n    }\n\n    public async setFrameColor(w: Glue42.Windows.GDWindow, frameColor: string): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setFrameColor\", { windowId: w.id, options: { frameColor } }, \"FrameColorChanged\");\n        return w;\n    }\n\n    public async setTabHeaderVisible(w: Glue42.Windows.GDWindow, toBeTabHeaderVisible: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setTabHeaderVisible\", {\n            windowId: w.id,\n            options: {\n                toShow: toBeTabHeaderVisible\n            }\n        }, \"TabHeaderVisibilityChanged\");\n        return w;\n    }\n\n    public async showPopup(targetWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PopupOptions): Promise<Glue42.Windows.GDWindow> {\n        if (!options) {\n            throw new Error(\"The options object is not valid!\");\n        }\n\n        const optionsCopy = { ...options };\n\n        if (!optionsCopy.targetLocation) {\n            optionsCopy.targetLocation = \"bottom\" as Glue42.Windows.PopupTargetLocation;\n        }\n\n        const reformatedOptions: ReformatedPopupOptions & { targetId: string } = {\n            ...optionsCopy,\n            popupBounds: optionsCopy.size,\n            targetId: targetWindow.id,\n            popupId: optionsCopy.windowId\n        };\n\n        await this.execute(\"showPopupWindow\", {\n            windowId: targetWindow.id,\n            options: reformatedOptions\n        });\n\n        return targetWindow;\n    }\n\n    public async createFlydown(windowId: string, options: Glue42.Windows.FlydownOptions) {\n        if (!options) {\n            throw new Error(\"The options object is not valid!\");\n        }\n\n        const optionsCopy = { ...options };\n\n        if (!optionsCopy.horizontalOffset) {\n            optionsCopy.horizontalOffset = 0;\n        }\n\n        if (!optionsCopy.verticalOffset) {\n            optionsCopy.verticalOffset = 0;\n        }\n\n        const fullOptions: Glue42.Windows.FlydownOptions & { targetId: string, flydownBounds: Glue42.Windows.FlydownOptions[\"size\"] } = this.reformatFlydownOptions(windowId, optionsCopy);\n\n        return this.execute(\"setFlydownArea\", { windowId, options: fullOptions }).then(() => {\n            const zoneIds = fullOptions.zones.map((z) => z.id);\n\n            fullOptions.zones.forEach((z) => {\n                let callback: (...args: any[]) => any = typeof (z.flydownSize) === \"function\" ?\n                    z.flydownSize : () => z.flydownSize;\n\n                if (options.size instanceof Function && z.flydownSize) {\n                    callback = async (data: Glue42.Windows.ShowFlydownData, cancel: () => void) => {\n                        let result;\n                        // The options callback must be always invoked\n                        // If the property in the zone is null it will be automatically\n                        // assigned to the same callback from the code above reformatFlydownOptions\n                        if (options.size instanceof Function) {\n                            result = await options.size(data, cancel);\n                        }\n\n                        // If both are callbacks the zone has higher priority\n                        // If they are the same only one should be invoked\n                        if (z.flydownSize instanceof Function && z.flydownSize !== options.size) {\n                            return await z.flydownSize(data, cancel) || result;\n                        }\n\n                        // The options callback overwrites the bounds object specified in the zone\n                        return result || z.flydownSize;\n                    };\n                }\n                this._registry.clearKey(`${fullOptions.targetId}_${z.id}`);\n                this._registry.add(`${fullOptions.targetId}_${z.id}`, callback);\n            });\n\n            return {\n                destroy: () => this.clearFlydownArea(fullOptions.targetId, zoneIds),\n                options: optionsCopy\n            };\n        });\n    }\n\n    public async setModalState(windowId: string, isModal: boolean): Promise<void> {\n        return this.execute(\"setModalState\", { windowId, options: { isModal } });\n    }\n\n    public async handleFlydownBoundsRequested(targetId: string, data: ShowFlydownData) {\n        const cancelCallback = () => data.cancel = true;\n\n        const callbackData: Glue42.Windows.ShowFlydownData = {\n            zoneId: data.flydownId,\n            flydownWindowBounds: data.flydownWindowBounds,\n            flydownWindowId: data.flydownWindowId,\n        };\n\n        const responses = await Promise.all(this._registry.execute(`${targetId}_${data.flydownId}`, callbackData, cancelCallback));\n\n        if (responses.length === 1) {\n            const defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\n            const response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\n            const responseOptions: ShowFlydownData = { ...data, flydownWindowBounds: response };\n\n            return responseOptions;\n        }\n    }\n\n    public async handleOnEventRequested(callbackId: string, args?: { newUrl: string }) {\n        const callbacks = this.unsubCallbacks[callbackId] ?? [];\n        let prevented = false;\n        await Promise.all(callbacks.map((cb) => {\n            return new Promise<void>((resolve, reject) => {\n                cb(() => {\n                    resolve();\n                }, () => {\n                    reject();\n                }, () => {\n                    prevented = true;\n                }, args);\n            });\n        }));\n        return { prevented };\n    }\n\n    public async zoomIn(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"zoomIn\", {\n            windowId: window.id,\n        });\n        return window;\n    }\n\n    public async zoomOut(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"zoomOut\", {\n            windowId: window.id,\n        });\n        return window;\n    }\n\n    public async setZoomFactor(window: Glue42.Windows.GDWindow, zoomFactor: number): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"setZoomFactor\", {\n            windowId: window.id,\n            options: {\n                zoomFactor\n            }\n        });\n        return window;\n    }\n\n    public async showDevTools(window: Glue42.Windows.GDWindow): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"showDevTools\", {\n            windowId: window.id,\n        });\n\n        return window;\n    }\n\n    public async capture(window: Glue42.Windows.GDWindow, options: Glue42.Windows.CaptureOptions): Promise<string> {\n        const base64screenshot = (await this.execute(\n            \"captureScreenshot\",\n            { windowId: window.id, options: { ...options } }\n        )).data;\n\n        return base64screenshot;\n    }\n\n    public async captureGroup(windowIds: string[], options: Glue42.Windows.CaptureOptions): Promise<string> {\n        const base64screenshot: string = (await this.execute(\n            \"captureGroupScreenshot\",\n            { windowId: windowIds[0], options: { groupWindowIds: windowIds, ...options } }\n        )).data;\n\n        return base64screenshot;\n    }\n\n    public async flash(resultWindow: Glue42.Windows.GDWindow, options: FlashOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\n            \"flash\",\n            { windowId: resultWindow.id, options: { ...options } }\n        );\n\n        return resultWindow;\n    }\n\n    public async configure(windowId: string, options: Glue42.Windows.WindowsConfiguration): Promise<void> {\n        return this.execute(\n            \"configure\",\n            { windowId, options: { ...options } }\n        );\n    }\n\n    public async print(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PrintOptions): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\n            \"print\",\n            { windowId: resultWindow.id, options: { ...options } }\n        );\n        return resultWindow;\n    }\n\n    public async printToPDF(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.PrintToPDFOptions): Promise<string> {\n        const filePath: string = (await this.execute(\n            \"printToPDF\",\n            { windowId: resultWindow.id, options: { ...options } }\n        )).filePath;\n\n        return filePath;\n    }\n\n    public async place(window: Glue42.Windows.GDWindow, options: Glue42.Windows.PlacementSettings): Promise<void> {\n        const copy = { ...options } as any;\n        if (!options.display || options.display === \"current\") {\n            copy.display = await window.getDisplay();\n        }\n        // Glue42.Displays.API works with zero based array of displays, which means that the first monitor has index 0\n        // whereas GD works with non zero based array of displays, which means that the first monitor has index 1\n        copy.display = copy.display.index + 1;\n        return this.execute(\n            \"place\",\n            { windowId: window.id, options: { ...copy } }\n        );\n    }\n\n    public async refresh(resultWindow: Glue42.Windows.GDWindow, ignoreCache: boolean): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"refresh\", { windowId: resultWindow.id, options: { ignoreCache } });\n        return resultWindow;\n    }\n\n    public async download(resultWindow: Glue42.Windows.GDWindow, url: string, options: Glue42.Windows.DownloadOptions & { enableDownloadBar?: boolean } = {}): Promise<Glue42.Windows.DownloadResult> {\n        options.enableDownloadBar = !options.silent;\n        const result: { fileSize: number, fullPath: string, success: boolean } = await this.execute(\"downloadURL\", { windowId: resultWindow.id, options: { url, options } });\n        return {\n            url,\n            path: result.fullPath,\n            size: result.fileSize,\n        };\n    }\n\n    public async configureWindow(resultWindow: Glue42.Windows.GDWindow, options: Glue42.Windows.WindowConfiguration): Promise<Glue42.Windows.GDWindow> {\n        await this.execute(\"configureWindow\", { windowId: resultWindow.id, options });\n        return resultWindow;\n    }\n\n    /**\n     * Invokes the container\n     * @param command\n     * @param options\n     * @param {...string} eventKeys which events types to be awaited before resolving - used only < GD 3.12\n     * @returns Invocation result\n     */\n    public async execute(command: string, options: any & { windowId: string }, ...eventKeys: string[]): Promise<any> {\n        const params = {\n            ...options,\n            command,\n        };\n        let finishedResolve: () => void;\n        this._finished = new Promise((resolve) => {\n            finishedResolve = resolve;\n        });\n        try {\n            if (typeof window !== \"undefined\" && (window.glueDesktop as any).versionNum < 31200) {\n                return await this.executeWithoutToken(params, ...eventKeys);\n            } else {\n                return await this.executeWithToken(params);\n            }\n        } catch (error) {\n            throw error;\n        } finally {\n            finishedResolve();\n        }\n    }\n\n    public async ungroup(w: Glue42.Windows.GDWindow, options: Glue42.Windows.UngroupOptions): Promise<Glue42.Windows.GDWindow> {\n        const args = {\n            windowId: w.id,\n            options\n        };\n        await this.execute(\"ungroup\", args);\n        return w;\n    }\n\n    public async updateJumpList(windowId: string, options: JumpListUpdateSettings): Promise<void> {\n        const args = {\n            windowId,\n            options\n        };\n        await this.execute(\"updateJumplist\", args);\n    }\n\n    public async getJumpList(windowId: string): Promise<JumpListSettingsInternal> {\n        const args = {\n            windowId,\n        };\n        const result = await this.execute(\"getJumplist\", args);\n        return result;\n    }\n\n    public onClosing(callback: (success: () => void, error: () => void) => void, id: string): () => void {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            return glue42gd.addCloseHandler(callback, id);\n        } else {\n            return this.nodeHandlers(callback, id, \"OnClosing\");\n        }\n    }\n\n    public onRefreshing(callback: (success: () => void, error: () => void, prevent: () => void) => void, id: string): () => void {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            return glue42gd.addRefreshHandler(callback, id);\n        } else {\n            return this.nodeHandlers(callback, id, \"OnRefreshing\");\n        }\n    }\n\n    public onNavigating(callback: (success: () => void, error: () => void, prevent: () => void, args: { newUrl: string }) => void, id: string): () => void {\n        const glue42gd = typeof window !== \"undefined\" && (window as any).glue42gd;\n        if (glue42gd) {\n            return glue42gd.addWillNavigateHandler(callback, id);\n        } else {\n            return this.nodeHandlers(callback, id, \"OnNavigating\");\n        }\n    }\n\n    public async goBack(resultWindow: Glue42.Windows.GDWindow): Promise<void> {\n        await this.execute(\"goBack\", { windowId: resultWindow.id });\n    }\n\n    public async goForward(resultWindow: Glue42.Windows.GDWindow): Promise<void> {\n        await this.execute(\"goForward\", { windowId: resultWindow.id });\n    }\n\n    private nodeHandlers(callback: (success: () => void, error: () => void, prevent?: () => void, args?: { newUrl: string }) => void, winId: string, type: string): () => void {\n        const id = `${winId}-${type}`;\n        const unsub = () => {\n            if (this.unsubCallbacks[id]) {\n                const callbacks = this.unsubCallbacks[id];\n                this.unsubCallbacks[id] = callbacks.filter((cb) => cb !== callback);\n            }\n            const cbs = this.unsubCallbacks[id];\n            if (cbs.length === 0) {\n                this.execute(type, {\n                    windowId: winId,\n                    options: {\n                        unsubscribe: true\n                    }\n                });\n            }\n        };\n        if (this.unsubCallbacks[id]) {\n            this.unsubCallbacks[id].push(callback);\n            return unsub;\n        } else {\n            this.unsubCallbacks[id] = [callback];\n        }\n        const args = {\n            windowId: winId\n        };\n        this.execute(type, args);\n        return unsub;\n    }\n    private reformatFlydownOptions(windowId: string, options: Glue42.Windows.FlydownOptions) {\n        const assignGeneralIfUnassigned = (zone: Glue42.Windows.FlydownZone, prop: keyof Glue42.Windows.FlydownZone & keyof Glue42.Windows.FlydownOptions) => {\n            if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\n                const valueFromOptions = options[prop];\n                (zone[prop] as any) = valueFromOptions;\n            }\n        };\n\n        const zones: ReformatedFlydownOptions[\"zones\"] = options.zones.map((z) => {\n            assignGeneralIfUnassigned(z, \"windowId\");\n            assignGeneralIfUnassigned(z, \"targetLocation\");\n\n            if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\n                z.flydownSize = options.size;\n            }\n\n            (z as ReformatedFlydownZone).flydownBounds = z.flydownSize as any;\n            (z as ReformatedFlydownZone).flydownId = z.windowId;\n\n            if (!z.targetLocation) {\n                z.targetLocation = \"bottom\" as Glue42.Windows.PopupTargetLocation.Bottom;\n            }\n\n            return z;\n        });\n\n        return {\n            ...options,\n            zones,\n            targetId: windowId,\n            flydownBounds: options.size,\n            flydownActiveArea: options.activeArea\n        };\n    }\n\n    private clearFlydownArea(windowId: string, areaIds: string[]) {\n        return this.execute(\"clearFlydownWindowArea\", {\n            windowId,\n            options: {}\n        }).then(() => {\n            areaIds.forEach((id) => {\n                this._registry.clearKey(`${windowId}_${id}`);\n            });\n        });\n    }\n\n    private executeWithoutToken(params: { windowId: string }, ...eventKeys: string[]) {\n        const uns: UnsubscribeFunction[] = [];\n        const executed = eventKeys?.filter((k) => !isUndefinedOrNull(k)).map((key) => {\n            return new Promise<void>((r) => {\n                const [type, windowId = params.windowId] = key.split(\"-\");\n                uns.push(this._registry.add(\"event\", (data: { windowId: string, type: string }) => {\n                    if (data.type === type && data.windowId === windowId) {\n                        r();\n                    }\n                }));\n            });\n        });\n        const action = new Promise<any>((resolve, reject) => {\n            this.agm.invoke<any>(\"T42.Wnd.Execute\", params, this.agmTarget)\n                .then((i) => {\n                    if (i.returned && i.returned.errorMsg) {\n                        reject(i);\n                    } else {\n                        resolve(i.returned);\n                    }\n                })\n                .catch((e) => reject(e));\n        });\n        return Promise.all([action, ...executed])\n            .then((r) => {\n                return r[0];\n            })\n            .finally(() => {\n                uns.forEach((un) => un());\n            });\n    }\n\n    private async executeWithToken(options: any) {\n        let un: UnsubscribeFunction;\n        try {\n            const token = shortid.generate();\n            const event = new Promise<void>((r) => {\n                un = this._registry.add(\"event\", (data: any) => {\n                    if (data.token === token) {\n                        r();\n                    }\n                });\n            });\n            const execute = new Promise<any>((resolve, reject) => {\n                options.token = token;\n                this.agm.invoke<any>(\"T42.Wnd.Execute\", options, this.agmTarget)\n                    .then((i) => {\n                        if (i.returned && i.returned.errorMsg) {\n                            reject(i);\n                        } else {\n                            resolve(i.returned);\n                        }\n                    })\n                    .catch((i) => {\n                        reject(i);\n                    });\n            });\n\n            const result = await Promise.all([execute, event]);\n            return result[0];\n        } catch (error) {\n            throw error;\n        } finally {\n            if (un) {\n                un();\n            }\n        }\n    }\n\n    private areBoundsEqual(requested: Partial<Glue42.Windows.Bounds>, w: Glue42.Windows.GDWindow) {\n        const current = w.bounds;\n        const settings = w.settings;\n        let height = requested.height;\n        let width = requested.width;\n        if (requested.height < settings.minHeight) {\n            height = settings.minHeight;\n        }\n        if (requested.height > settings.maxHeight) {\n            height = settings.maxHeight;\n        }\n        if (requested.width < settings.minWidth) {\n            width = settings.minWidth;\n        }\n        if (requested.width > settings.maxWidth) {\n            width = settings.maxWidth;\n        }\n\n        const areHeightsEqual = height ? current.height === height : true;\n        const areWidthsEqual = width ? current.width === width : true;\n        const areLeftsEqual = requested.left ? current.left === requested.left : true;\n        const areTopsEqual = requested.top ? current.top === requested.top : true;\n\n        return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\n    }\n\n    private swapUndefinedToNull(context: any) {\n        try {\n            // swap top level undefined values to null-s\n            const copy: any = {};\n            for (const key of Object.keys(context)) {\n                let value = context[key];\n                if (typeof value === \"undefined\") {\n                    value = null;\n                }\n                copy[key] = value;\n            }\n            return copy;\n        } catch {\n            return context;\n        }\n    }\n}\n\nexport default new GDExecutor();\n","import { default as windowStore } from \"../store\";\nimport { WindowWrapper } from \"../types\";\n\nexport function getWindowsByTabGroupId(windowId: string, tabGroupId: string): WindowWrapper[] {\n    const windows = windowStore.list;\n    return Object.keys(windows).reduce((memo, id) => {\n        const win = windows[id];\n        if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\n            memo.push(win);\n        }\n        return memo;\n    }, []);\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Glue42 } from \"../../../../glue\";\nimport { default as windowStore } from \"../../store\";\nimport { Environment, Executor, WindowConstructorOptions, WindowEvents, WindowWrapper } from \"../../types\";\nimport windowFactory from \"../../window\";\nimport { default as executor } from \"./executor\";\nimport { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport {\n    FullInfoEvent,\n    StreamEvent,\n    WindowInfo,\n    GroupHeaderVisibilityChanged,\n    UrlChanged,\n    TitleChanged,\n    BoundsChanged,\n    FocusChanged,\n    CompositionChanged,\n    ExtendedStreamEvent,\n    EventWithResponseData,\n    ResponseTypes,\n    IsStickyChanged,\n} from \"./types\";\nimport { getWindowsByTabGroupId } from \"../helpers\";\n\nexport default class GDEnvironment implements Environment {\n\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _agm: Glue42Core.AGM.API;\n    private _logger: Glue42Core.Logger.API;\n    private _waitTimeout: number = 10000;\n    private _agmInstance: Glue42Core.AGM.Instance | \"best\" | \"all\";\n    private _windowId: string;\n    private _appManagerGetter: () => Glue42.AppManager.API;\n    private _displayAPIGetter: () => Glue42.Displays.API;\n    private _channelsAPIGetter: () => Glue42.Channels;\n\n    constructor(agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, channelsAPIGetter: () => Glue42.Channels, instance?: Glue42Core.AGM.Instance, wndId?: string) {\n        this._agm = agm;\n        this._logger = logger.subLogger(\"gd-env\");\n        this._agmInstance = this.normalizeInstance(instance);\n        this._windowId = wndId;\n        this._appManagerGetter = appManagerGetter;\n        this._displayAPIGetter = displayAPIGetter;\n        this._channelsAPIGetter = channelsAPIGetter;\n    }\n\n    public init(): Promise<GDEnvironment> {\n        return new Promise((resolve, reject) => {\n            // if we don't have an Instance, thats means that we are running outside from any Tick42 Containers\n            // so our target is best\n            if (typeof this._agmInstance === \"undefined\") {\n                this._agmInstance = \"best\";\n            }\n\n            this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", (args, caller, success, err) => {\n                this.respondToEvent(args as any).then(success).catch(err);\n            });\n\n            const streamPromise = new Promise<void>((streamResolve, streamReject) => {\n                this._agm.subscribe(\"T42.Wnd.OnEvent\", {\n                    waitTimeoutMs: this._waitTimeout,\n                    target: this._agmInstance,\n                    onData: (streamData: any) => {\n                        this.updateWindow(streamData.data, resolve);\n                        executor.handleEvent(streamData.data);\n                    },\n                    onConnected: (instance) => {\n                        this._agmInstance = this.normalizeInstance(instance);\n                        // Init the executor\n                        executor.init(this._agm, this._agmInstance);\n                    }\n                }).catch((err: any) => {\n                    reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\n                });\n            });\n        });\n    }\n\n    public get executor(): Executor {\n        return executor;\n    }\n\n    public open(name: string, url: string, options: any): Promise<Glue42.Windows.GDWindow> {\n        options = options || {};\n        const copyOptions = { ...options };\n\n        if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\n            copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\n        }\n\n        copyOptions.name = name;\n        copyOptions.url = url;\n\n        // This is for compatibility between gd2 and gd3\n        copyOptions.windowState = options.windowState || options.state;\n        // Otherwise glue desktop throws an error for extra properties\n        delete copyOptions.state;\n\n        return this.executor.open(copyOptions);\n    }\n\n    public createFlydown(windowId: string, options: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return this.executor.createFlydown(windowId, options);\n    }\n\n    public async showPopup(windowId: string, options: Glue42.Windows.PopupOptions): Promise<void> {\n        const window = windowStore.get(windowId);\n        await this.executor.showPopup(window.API, options);\n    }\n\n    public tabAttached(callback: (tabWindow: Glue42.Windows.GDWindow, newTabGroupId: string, tabHeaderVisible: boolean) => void): UnsubscribeFunction {\n        return this._registry.add(\"tab-attached\", callback);\n    }\n\n    public tabDetached(callback: (window: Glue42.Windows.GDWindow, tabGroupId: string, oldTabGroupId: string) => void): UnsubscribeFunction {\n        return this._registry.add(\"tab-detached\", callback);\n    }\n\n    public onWindowFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void) {\n        return this._registry.add(\"frame-color-changed\", callback);\n    }\n\n    public onEvent(callback: (windowInfo: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"window-event\", callback);\n    }\n\n    public my(): string {\n        return this._windowId;\n    }\n\n    public execute<T>(command: string, windowId: string, options: {}): Promise<Glue42Core.AGM.InvocationResult<T>> {\n        return this._agm.invoke<T>(\"T42.Wnd.Execute\", {\n            command,\n            options,\n            windowId,\n        });\n    }\n\n    /** Groups */\n    public onCompositionChanged(callback: (windowInfo: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"composition-changed\", callback);\n    }\n\n    public onGroupHeaderVisibilityChanged(callback: (stream: any) => void): UnsubscribeFunction {\n        return this._registry.add(\"group-header-changed\", callback);\n    }\n\n    public onWindowGotFocus(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return this._registry.add(\"got-focus\", callback);\n    }\n\n    public onWindowLostFocus(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return this._registry.add(\"lost-focus\", callback);\n    }\n\n    // TODO revise it\n    private normalizeInstance(instance: Glue42Core.AGM.Instance) {\n        if (!instance) {\n            return undefined;\n        }\n        return {\n            application: instance.application,\n            machine: instance.machine,\n            user: instance.user,\n        };\n    }\n    private respondToEvent(args: EventWithResponseData): Promise<ResponseTypes> {\n        if (args.type === \"ShowFlydownBoundsRequested\") {\n            return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\n        } else if (args.type === \"OnClosing\" || args.type === \"OnRefreshing\" || args.type === \"OnNavigating\") {\n            return this.executor.handleOnEventRequested(args.data.callbackId, args.data.args);\n        }\n        return Promise.reject(`There isn't a handler for ${(args as any).type}`);\n    }\n\n    private updateWindow(windowInfo: StreamEvent, readyResolve: (env: GDEnvironment) => void) {\n        const extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\n\n        // this is the snapshot of all windows\n        if (windowInfo.type === \"Snapshot\") {\n            const windowInfoFullInfoEvent = (windowInfo as FullInfoEvent);\n            windowInfoFullInfoEvent.windows.forEach((w) => {\n                const existingWindow = windowStore.get(w.id);\n                if (existingWindow) {\n                    existingWindow.Events.handleUpdate(this.mapToWindowConstructorOptions(w));\n                } else {\n                    const win = this.createWindow(w.id, w);\n                    windowStore.markReadyToShow(win.API.id);\n                }\n                this._registry.execute(\"window-event\", extendedStreamEvent);\n            });\n            readyResolve(this);\n            return;\n        }\n\n        // global event\n        if (windowInfo.type === \"CommandExecuted\") {\n            this._registry.execute(\"window-event\", extendedStreamEvent);\n            return;\n        }\n\n        // if new window handle it separately\n        if (windowInfo.type === \"Created\") {\n            const windowInfoCreatedEvent = (windowInfo as StreamEvent);\n            const win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\n            windowStore.setReadyState(win.API.id);\n            this._registry.execute(\"window-event\", extendedStreamEvent);\n            return;\n        }\n\n        // otherwise check if the window is in our internal collections and update its state\n        const windowObjectAndEvents: WindowWrapper = windowStore.get((windowInfo as StreamEvent).windowId);\n        if (!windowObjectAndEvents) {\n            this._logger.error(`received update for unknown window. Stream:', ${JSON.stringify(windowInfo, null, 4)}`);\n            return;\n        }\n\n        const theWindow: Glue42.Windows.GDWindow = windowObjectAndEvents.API;\n        const theWindowEvents: WindowEvents = windowObjectAndEvents.Events;\n\n        // handle bounds changed\n        if (windowInfo.type === \"BoundsChanged\") {\n            const windowInfoBoundsChangedEvent = (windowInfo as BoundsChanged);\n            theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\n        }\n\n        // handle url changed\n        if (windowInfo.type === \"UrlChanged\") {\n            const windowInfoUrlChangedEvent = (windowInfo as UrlChanged);\n            windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\n            theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\n        }\n\n        // handle title changed\n        if (windowInfo.type === \"TitleChanged\") {\n            const windowInfoTitleChanged = (windowInfo as TitleChanged);\n            theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\n        }\n\n        // handle isSticky changed\n        if (windowInfo.type === \"IsStickyChanged\") {\n            const windowInfoIsStickyChangedChanged = (windowInfo as IsStickyChanged);\n            theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\n        }\n\n        // handle visibility changed\n        if (windowInfo.type === \"VisibilityChanged\") {\n            theWindowEvents.handleVisibilityChanged(windowInfo.data);\n        }\n\n        // handle context changed\n        if (windowInfo.type === \"ContextChanged\") {\n            theWindowEvents.handleContextUpdated(windowInfo.data);\n        }\n\n        // handle window state changed\n        if (windowInfo.type === \"StateChanged\") {\n            theWindowEvents.handleWindowChangeState(windowInfo.data);\n        }\n\n        // handle frame color changed\n        if (windowInfo.type === \"FrameColorChanged\") {\n            theWindowEvents.handleFrameColorChanged(windowInfo.data);\n            this._registry.execute(\"frame-color-changed\", theWindow);\n        }\n\n        // handle composition changed - groups API\n        if (windowInfo.type === \"CompositionChanged\") {\n            const windowInfoCompositionChanged = windowInfo as CompositionChanged;\n            theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data);\n            this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\n        }\n\n        if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\n            const info = windowInfo as GroupHeaderVisibilityChanged;\n            theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\n            this._registry.execute(\"group-header-changed\", info.data);\n        }\n\n        // handle focus changed\n        if (windowInfo.type === \"FocusChanged\") {\n            const windowInfoFocusChanged = (windowInfo as FocusChanged);\n            this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\n        }\n\n        if (windowInfo.type === \"WindowFrameChanged\") {\n            theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\n            this._registry.execute(\"frame-changed\");\n        }\n\n        if (windowInfo.type === \"WindowFrameAdded\") {\n            const winsToBeNotified = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\n            const data = windowInfo.data;\n            theWindowEvents.handleAttached(data.frameId, data.frameId, data.isTabHeaderVisible, data.isLocked, winsToBeNotified)\n                .then(async () => {\n                    // don't fire the event if it is the first window\n                    if (winsToBeNotified.length > 0) {\n                        await executor.finished;\n                        this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\n                    }\n                });\n        }\n\n        if (windowInfo.type === \"WindowFrameRemoved\") {\n            // In the event, tabGroupId is empty, will be update on the next event FrameAttached\n            const oldTabGroupId = theWindow.tabGroupId;\n            const winsToBeNotified = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\n            theWindowEvents.handleDetached(windowInfo.data.isLocked, winsToBeNotified)\n                .then(async () => {\n                    // don't fire the event if it is the first window\n                    if (winsToBeNotified.length > 0) {\n                        await executor.finished;\n                        this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\n                    }\n                });\n        }\n\n        if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\n            theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\n        }\n\n        if (windowInfo.type === \"FrameSelectionChanged\") {\n            theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\n        }\n\n        if (windowInfo.type === \"ButtonClicked\") {\n            theWindowEvents.handleFrameButtonClicked(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"ButtonAdded\") {\n            theWindowEvents.handleFrameButtonAdded(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"ButtonRemoved\") {\n            theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"WindowZoomFactorChanged\") {\n            theWindowEvents.handleZoomFactorChanged(windowInfo.data);\n        }\n\n        // Clear the window on close event\n        if (windowInfo.type === \"Closed\") {\n            windowStore.remove(windowObjectAndEvents);\n            theWindowEvents.handleWindowClose();\n        }\n\n        if (windowInfo.type === \"FrameIsLockedChanged\") {\n            theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\n        }\n\n        if (windowInfo.type === \"PlacementSettingsChanged\") {\n            theWindowEvents.handlePlacementSettingsChanged(windowInfo.data);\n        }\n\n        // expose to external listeners\n        this._registry.execute(\"window-event\", extendedStreamEvent);\n    }\n\n    private createWindow(windowId: string, options: WindowInfo): WindowWrapper {\n        const windowObjAndEvents: WindowWrapper = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._displayAPIGetter, this._channelsAPIGetter, this._agm);\n        windowStore.add(windowObjAndEvents);\n        return windowObjAndEvents;\n    }\n\n    private focusChanged(theWindowEvents: WindowEvents, theWindow: Glue42.Windows.GDWindow, focus: boolean) {\n        theWindowEvents.handleFocusChanged(focus);\n        if (focus) {\n            this._registry.execute(\"got-focus\", theWindow);\n        } else {\n            this._registry.execute(\"lost-focus\", theWindow);\n        }\n    }\n\n    private mapToWindowConstructorOptions(args: WindowInfo): WindowConstructorOptions {\n        // TODO\n        return {\n            name: args.name,\n            context: args.context,\n            bounds: args.bounds,\n            url: args.url,\n            title: args.title,\n            isVisible: args.isVisible,\n            focus: args.isFocused,\n            state: args.state,\n            frameColor: args.frameColor,\n            groupId: args.groupId,\n            neighbours: args.neighbors,\n            isFocused: args.isFocused,\n            isGroupHeaderVisible: args.groupHeaderVisible,\n            isCollapsed: args.isCollapsed,\n            tabGroupId: args.frameId,\n            frameId: args.frameId,\n            mode: args.mode,\n            isTabHeaderVisible: args.isTabHeaderVisible,\n            isTabSelected: args.isActiveTab,\n            settings: args.settings,\n            windowType: args.windowType,\n            zoomFactor: args.zoomFactor,\n            // focus: args.focus,\n            isLocked: args.isLocked,\n            placementSettings: args.placementSettings,\n            isSticky: args.isSticky,\n            tabIndex: args.tabIndex,\n            // settings: windowStyleAttributes,\n            frameButtons: args.frameButtons,\n            jumpListOptions: args.jumpList,\n            applicationName: args.applicationName\n        };\n    }\n\n    private getExtendedStreamEvent(streamEvent: StreamEvent): StreamEvent | ExtendedStreamEvent {\n        try {\n            // some events (e.g. Snapshot) do not have windowIds\n            if (!streamEvent.windowId) {\n                return streamEvent;\n            }\n\n            // try to get the window, if not there return the original event\n            const window = windowStore.get(streamEvent.windowId);\n            if (!window) {\n                return streamEvent;\n            }\n\n            const result: ExtendedStreamEvent = {\n                state: streamEvent.type,\n                windowName: window.API.name,\n                ...streamEvent\n            };\n\n            if (result.state === \"WindowFrameAdded\") {\n                result.state = \"TabAttached\";\n            }\n\n            if (result.state === \"StateChanged\") {\n                result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\n            }\n\n            if (result.state === \"ButtonAdded\") {\n                result.state = \"FrameButtonAdded\";\n            }\n\n            if (result.state === \"ButtonRemoved\") {\n                result.state = \"FrameButtonRemoved\";\n            }\n\n            return result;\n        } catch (error) {\n            return streamEvent;\n        }\n    }\n}\n","import { Glue42Core } from \"@glue42/core\";\nimport { Environment } from \"./../types\";\nimport { default as GD } from \"./gd/gd\";\nimport { Glue42 } from \"../../../glue\";\n\nexport default (agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, channelsAPIGetter: () => Glue42.Channels, gdMajorVersion: number): Promise<Environment> => {\n    const _logger = logger;\n    return new Promise((resolve, reject) => {\n        if (gdMajorVersion === 2) {\n            // We are running in HC\n            _logger.trace(\"running in HC\");\n            throw new Error(\"GD2 not supported\");\n        } else if (gdMajorVersion >= 3) {\n            // We are running in GD 3\n            // TODO expose instance in glu42gd\n            _logger.trace(\"running in GD 3\");\n            const gd = new GD(agm, _logger, appManagerGetter, displayAPIGetter, channelsAPIGetter, undefined, window.glue42gd.windowId);\n            gd.init()\n                .then(resolve)\n                .catch(reject);\n        } else {\n            // We are running in Browser or Node, we should check which stream is available\n            // But we need to pass the container as dependency\n            const gdPromise = new GD(agm, _logger, appManagerGetter, displayAPIGetter, channelsAPIGetter).init();\n            const wait = (ms: number) => new Promise((res, rej) => setTimeout(() => { rej(\"timeout waiting for streams\"); }, ms));\n            Promise.race([gdPromise, wait(10000)])\n                .then(resolve)\n                .catch(reject);\n        }\n    });\n};\n","import callbackRegistry, { CallbackRegistry } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { default as windowStore } from \"./store\";\nimport { Executor, GroupInternal, GroupWrapper, WindowWrapper } from \"./types\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nexport default (id: string, executor: Executor): GroupWrapper => {\n\n    const _registry: CallbackRegistry = callbackRegistry();\n\n    const _windowsId: string[] = [];\n\n    //#region \"API functions\"\n\n    async function addWindow(winId: string): Promise<void> {\n        if (_windowsId.indexOf(winId) === -1) {\n            _windowsId.push(winId);\n            const win: WindowWrapper = windowStore.get(winId);\n            win.Events.handleGroupChanged(groupObject, undefined);\n            await executor.finished;\n            _registry.execute(\"window-added\", groupObject, win.API);\n        }\n    }\n\n    async function removeWindow(win: WindowWrapper): Promise<void> {\n        const index: number = _windowsId.indexOf(win.API.id);\n        if (index !== -1) {\n            _windowsId.splice(index, 1);\n            win.Events.handleGroupChanged(undefined, groupObject);\n            await executor.finished;\n            _registry.execute(\"window-removed\", groupObject, win.API);\n        }\n    }\n\n    function find(window: string | Glue42.Windows.GDWindow, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        let winId: string;\n        if (typeof window === \"string\") {\n            winId = window;\n        } else if (!isUndefinedOrNull(window)) {\n            winId = window.id;\n        }\n\n        const win = _mapToWindowObject(winId);\n        if (win) {\n            if (typeof success === \"function\") {\n                success(win);\n            }\n            return win;\n        } else {\n            if (typeof error === \"function\") {\n                error(`No window with ID: ${winId}`);\n            }\n        }\n    }\n\n    function windows(success?: (windows: Glue42.Windows.GDWindow[]) => void): Glue42.Windows.GDWindow[] {\n        const mappedWindows: Glue42.Windows.GDWindow[] = _mapToWindowObjects();\n        if (typeof success === \"function\") {\n            success(mappedWindows);\n        }\n        return mappedWindows;\n    }\n\n    async function execute(command: string, options: any & { windowId: string }, ...keys: string[]): Promise<Glue42.Windows.Group> {\n        await executor.execute<Glue42.Windows.Group>(command, options, ...keys);\n        return groupObject;\n    }\n\n    //#endregion \"API functions\"\n\n    //#region \"Stream function\"\n\n    function handleGroupHeaderVisibilityChanged(windowInfo: any): void {\n        _registry.execute(\"header-visibility-changed\", groupObject);\n    }\n\n    //#endregion \"Stream function\"\n\n    //#region \"Internal function\"\n\n    function _mapToWindowObjects(): Glue42.Windows.GDWindow[] {\n        const winObjects: Glue42.Windows.GDWindow[] = [];\n\n        _windowsId.forEach((winId) => {\n            const windowObject = _mapToWindowObject(winId);\n            if (typeof windowObject !== \"undefined\") {\n                winObjects.push(windowObject);\n            }\n        });\n\n        return winObjects;\n    }\n\n    function _mapToWindowObject(windowId: string): Glue42.Windows.GDWindow {\n        return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\n    }\n\n    function _getGroupHeaderVisibility(): boolean {\n        // if one of the windows has a flag hideGroupHeader the group header should be off.\n        const windowWithHiddenHeader = _mapToWindowObjects().find((w) => !w.isGroupHeaderVisible);\n        const _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\n\n        return _isGroupHeaderVisible;\n    }\n\n    //#endregion \"Internal function\"\n\n    //#region \"Events\"\n\n    function onHeaderVisibilityChanged(callback?: (group: Glue42.Windows.Group) => void): () => void {\n        return _registry.add(\"header-visibility-changed\", callback);\n    }\n\n    function onWindowAdded(callback?: (group: Glue42.Windows.Group, window: Glue42.Windows.GDWindow) => void): () => void {\n        return _registry.add(\"window-added\", callback);\n    }\n\n    function onWindowRemoved(callback?: (group: Glue42.Windows.Group, window: Glue42.Windows.GDWindow) => void): () => void {\n        return _registry.add(\"window-removed\", callback);\n    }\n\n    //#endregion \"Events\"\n\n    //#region \"API\"\n\n    const groupObject: Glue42.Windows.Group = {\n        id,\n        get windows() {\n            return windows();\n        },\n        find,\n        get isHeaderVisible() {\n            return _getGroupHeaderVisibility();\n        },\n        showHeader: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"setGroupHeaderVisibility\", { windowId: _windowsId[0], options: { toShow: true } }, ..._windowsId.map((w) => `GroupHeaderVisibilityChanged-${w}`));\n            }, success, error);\n        },\n        hideHeader: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"setGroupHeaderVisibility\", { windowId: _windowsId[0], options: { toShow: false } }, ..._windowsId.map((w) => `GroupHeaderVisibilityChanged-${w}`));\n            }, success, error);\n        },\n        getTitle: async () => {\n            const r = await executor.execute<{ title: string }>(\"getGroupTitle\", { windowId: _windowsId[0] });\n            return r.title;\n        },\n        setTitle: async (title: string) => {\n            if (isNullOrWhiteSpace(title)) {\n                throw new Error(\"`title` must not be null or undefined.\");\n            }\n            return execute(\"setGroupTitle\", { windowId: _windowsId[0], options: { title } });\n        },\n        capture: (captureOptions: Glue42.Windows.CaptureOptions) => {\n            return executor.captureGroup(_windowsId, captureOptions);\n        },\n        maximize: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"maximizeGroup\", { windowId: _windowsId[0] }, ..._windowsId.map((w) => `StateChanged-${w}`));\n            }, success, error);\n        },\n        restore: (success, error) => {\n            return utils.callbackifyPromise(() => {\n                return execute(\"restoreGroup\", { windowId: _windowsId[0] }, ..._windowsId.map((w) => `StateChanged-${w}`));\n            }, success, error);\n        },\n        onHeaderVisibilityChanged,\n        onWindowAdded,\n        onWindowRemoved,\n    };\n\n    const internal: GroupInternal = {\n        get windows() {\n            return _windowsId;\n        },\n        addWindow,\n        removeWindow,\n        handleGroupHeaderVisibilityChanged,\n    };\n\n    return {\n        groupAPI: groupObject,\n        groupInternal: internal,\n    };\n\n    //#endregion \"API\"\n};\n","import { Glue42Core } from \"@glue42/core\";\nimport callbackRegistry, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { isNullOrWhiteSpace, isUndefinedOrNull } from \"../activity/helpers/util\";\nimport { CompositionChangedData } from \"./environment/gd/types\";\nimport groupFactory from \"./group\";\nimport { default as windowStore } from \"./store\";\nimport {\n    Environment,\n    GroupsInternal,\n    GroupsWrapper,\n    GroupWrapper,\n    WindowWrapper\n} from \"./types\";\n\nexport default (environment: Environment, logger: Glue42Core.Logger.API): GroupsWrapper => {\n    const _registry: CallbackRegistry = callbackRegistry();\n    const _groups: { [key: string]: GroupWrapper } = {};\n    let heardForWindowsCounter: number = -1;\n\n    // Getting already existing windows and create Group API for each window\n    const windows = windowStore.list;\n    Object.keys(windows).forEach((k) => {\n        const win = windows[k];\n        const groupId = win.API.groupId;\n        const winId = win.API.id;\n        // hidden windows doesn't have groupId\n        if (!isNullOrWhiteSpace(groupId)) {\n            addWindow(groupId, winId);\n        }\n    });\n\n    windowStore.onRemoved((w) => {\n        const group = findGroupWrapperByWindow(w.API);\n        removeWindow(group, w);\n    });\n\n    environment.onCompositionChanged((windowInfo: CompositionChangedData) => {\n        handleCompositionChanged(windowInfo);\n    });\n\n    environment.onGroupHeaderVisibilityChanged((windowInfo) => {\n        const windowId = windowInfo.windowId;\n        const group: Glue42.Windows.Group = findGroupByWindow(windowId);\n        if (typeof group !== \"undefined\") {\n            const groupEvents: GroupWrapper = _groups[group.id];\n\n            if (heardForWindowsCounter === -1) {\n                heardForWindowsCounter = group.windows.length;\n            }\n\n            heardForWindowsCounter--;\n            if (heardForWindowsCounter === 0) {\n                heardForWindowsCounter = -1;\n                groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\n            }\n        }\n    });\n\n    // Methods\n\n    function my(): Glue42.Windows.Group {\n        return findGroupByWindow(environment.my());\n    }\n\n    function list(success?: (groups: Glue42.Windows.Group[]) => void): Glue42.Windows.Group[] {\n        const result: Glue42.Windows.Group[] = Object.keys(_groups).map((groupId) => {\n            if (_groups[groupId]) {\n                return _groups[groupId].groupAPI;\n            }\n\n        });\n\n        if (typeof success === \"function\") {\n            success(result);\n        }\n        return result;\n    }\n\n    function findGroupByWindow(winId: string | Glue42.Windows.GDWindow, success?: (group: Glue42.Windows.Group) => void, error?: (error: string) => void): Glue42.Windows.Group {\n        let windowId: string;\n        if (typeof winId === \"string\") {\n            windowId = winId;\n        } else if (!isUndefinedOrNull(winId)) {\n            windowId = winId.id;\n        }\n        const result = Object.values(_groups).find((groupObj) => {\n            const group: Glue42.Windows.Group = groupObj.groupAPI;\n            const wins = group.windows.filter((w) => w.id === windowId);\n            return wins.length;\n        });\n        if (result) {\n            if (typeof success === \"function\") {\n                success(result.groupAPI);\n            }\n            return result.groupAPI;\n        } else {\n            if (typeof error === \"function\") {\n                error(`Cannot find the group of the window.`);\n            }\n        }\n    }\n\n    // Events\n    function onWindowMoved(callback?: (windowId: string, oldTabGroupId: string, newGroupId: string) => void): UnsubscribeFunction {\n        return _registry.add(\"window-moved\", callback);\n    }\n\n    // Private\n\n    function createOrGet(groupId: string): GroupWrapper {\n        if (!_groups.hasOwnProperty(groupId)) {\n            const createdGroup: GroupWrapper = groupFactory(groupId, environment.executor);\n            _groups[groupId] = createdGroup;\n            return createdGroup;\n        } else {\n            return _groups[groupId];\n        }\n    }\n\n    function deleteIfEmpty(group: GroupWrapper): void {\n        if (group.groupAPI.windows.length === 0) {\n            delete _groups[group.groupAPI.id];\n        }\n    }\n\n    // hidden window doesn't have a groupId\n    function addWindow(groupId: string, winId: string) {\n        const group = createOrGet(groupId);\n        group.groupInternal.addWindow(winId);\n        return group;\n    }\n\n    function removeWindow(group: GroupWrapper, win: WindowWrapper) {\n        if (!group) {\n            return;\n        }\n        group.groupInternal.removeWindow(win);\n        deleteIfEmpty(group);\n    }\n\n    function handleCompositionChanged(state: CompositionChangedData): void {\n        const groupId = state.groupId;\n        const windowId = state.windowId;\n        const win = windowStore.get(windowId);\n        if (!win) {\n            return;\n        }\n        const currentGroup = findGroupWrapperByWindow(win.API);\n        // if the window's visibility is changed to hidden, remove from the group\n        // or the window is closed.\n        if (isUndefinedOrNull(groupId)) {\n            removeWindow(currentGroup, win);\n            return;\n        }\n        // if the window's visibility is changed to visible, addOrCreate the group\n        if (isUndefinedOrNull(currentGroup) && !isUndefinedOrNull(groupId)) {\n            addWindow(groupId, win.API.id);\n            return;\n        }\n\n        if (currentGroup.groupAPI.id !== groupId) {\n            moveWindow(win, currentGroup.groupAPI.id, groupId);\n        }\n    }\n\n    function moveWindow(win: WindowWrapper, from: string, to: string) {\n        const winId = win.API.id;\n        const fromGroup = _groups[from];\n        removeWindow(fromGroup, win);\n        const toGroup = addWindow(to, winId);\n        win.Events.handleGroupChanged(toGroup.groupAPI, fromGroup.groupAPI);\n        _registry.execute(\"window-moved\", winId, from, to);\n    }\n\n    function findGroupWrapperByWindow(winId: string | Glue42.Windows.GDWindow): GroupWrapper {\n        let windowId: string;\n        if (typeof winId === \"string\") {\n            windowId = winId;\n        } else if (!isUndefinedOrNull(winId)) {\n            windowId = winId.id;\n        }\n        return Object.values(_groups).find((groupObj) => {\n            const groupInternal = groupObj.groupInternal;\n            const wins = groupInternal.windows.filter((id) => id === windowId);\n            return wins.length;\n        });\n    }\n\n    //#region \"API\"\n\n    const groups = {\n        get my() {\n            return my();\n        },\n        list,\n        findGroupByWindow,\n    };\n\n    //#endregion \"API\n\n    const events: GroupsInternal = { onWindowMoved };\n\n    return {\n        groupsAPI: groups,\n        groupsEvents: events,\n    };\n};\n","import { Glue42Core } from \"@glue42/core\";\nimport { CallbackRegistry, UnsubscribeFunction, default as CallbackFactory } from \"callback-registry\";\nimport { Glue42 } from \"../../glue\";\nimport { Environment, GroupsWrapper, WindowWrapper } from \"./types\";\nimport jumpListManager from \"./jumpList/manager\";\n\nimport { default as envDetector } from \"./environment/detector\";\nimport groupsFactory from \"./groups\";\nimport { default as windowStore } from \"./store\";\nimport executor from \"./environment/gd/executor\";\nimport * as util from \"../activity/helpers/util\";\nimport utils from \"../utils\";\n\nexport default (agm: Glue42Core.AGM.API, logger: Glue42Core.Logger.API, appManagerGetter: () => Glue42.AppManager.API, displayAPIGetter: () => Glue42.Displays.API, channelsGetter: () => Glue42.Channels, gdMajorVersion: number): Glue42.Windows.API => {\n    const _registry: CallbackRegistry = CallbackFactory();\n    const _logger = logger;\n    let groups: GroupsWrapper;\n    let environment: Environment;\n\n    windowStore.init(_logger);\n\n    const isReady = new Promise<void>((resolve, reject) => {\n        envDetector(agm, _logger, appManagerGetter, displayAPIGetter, channelsGetter, gdMajorVersion)\n            .then((env) => {\n                environment = env;\n                groups = groupsFactory(env, _logger);\n                jumpListManager.init(env.executor, agm, _logger);\n                resolve();\n            })\n            .catch((e) => {\n                const err = `Environment detector fails with: ${e}`;\n                _logger.error(err);\n                reject(err);\n            });\n    });\n\n    function ready() {\n        return isReady;\n    }\n\n    function my(): Glue42.Windows.GDWindow {\n        const myWindow = windowStore.getIfReady(environment.my());\n        return myWindow ? myWindow.API : undefined;\n    }\n\n    function open(name: string, url: string, options?: Glue42.Windows.WindowSettings, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Promise<Glue42.Windows.GDWindow> {\n        return utils.callbackifyPromise(() => {\n            if (util.isNullOrWhiteSpace(name)) {\n                throw new Error(\"The window name is missing.\");\n            }\n            if (util.isNullOrWhiteSpace(url)) {\n                throw new Error(\"The window URL is missing.\");\n            }\n\n            if (!util.isUndefinedOrNull(options)) {\n                const optionsAsAny = options as any;\n                for (const prop of [\"minHeight\", \"maxHeight\", \"minWidth\", \"maxWidth\", \"width\", \"height\", \"top\", \"left\"]) {\n                    if (prop in optionsAsAny) {\n                        const value = optionsAsAny[prop];\n                        if (util.isUndefinedOrNull(value)) {\n                            delete optionsAsAny[prop];\n                            continue;\n                        }\n                        if (!util.isNumber(value)) {\n                            const errMessage = `${prop} must be a number`;\n                            throw new Error(errMessage);\n                        }\n                        if (optionsAsAny[prop] === \"width\" || optionsAsAny[prop] === \"height\") {\n                            if (value <= 0) {\n                                const errMessage = `${prop} must be a positive number`;\n                                throw new Error(errMessage);\n                            }\n                        }\n                    }\n                }\n            }\n            return environment.open(name, url, options);\n        }, success, error);\n    }\n\n    function find(name: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows).reduce((memo, winId) => {\n            const window: WindowWrapper = windows[winId];\n            if (window?.API?.name === name) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n\n        const win = windowsForListing[0];\n        if (win) {\n            if (typeof success === \"function\") {\n                success(windowsForListing[0]);\n            }\n            return windowsForListing[0];\n        } else {\n            if (typeof error === \"function\") {\n                error(\"There is no window with name:\" + name);\n            }\n        }\n    }\n\n    function findById(id: string, success?: (window: Glue42.Windows.GDWindow) => void, error?: (error: string) => void): Glue42.Windows.GDWindow {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows).reduce((memo, winId) => {\n            const window: WindowWrapper = windows[winId];\n            if (typeof window !== \"undefined\" && window.API.id === id) {\n                memo.push(window.API);\n            }\n            return memo;\n        }, []);\n        const win = windowsForListing[0];\n        if (win) {\n            if (typeof success === \"function\") {\n                success(windowsForListing[0]);\n            }\n            return windowsForListing[0];\n        } else {\n            if (typeof error === \"function\") {\n                error(\"There is no window with such id:\" + id);\n            }\n        }\n    }\n\n    function list(success?: (window: Glue42.Windows.GDWindow[]) => void): Glue42.Windows.GDWindow[] {\n        const windows: { [key: string]: WindowWrapper } = windowStore.list;\n\n        const windowsForListing: Glue42.Windows.GDWindow[] = Object.keys(windows)\n            .map((k) => {\n                return windows[k].API;\n            });\n\n        if (typeof success !== \"function\") {\n            return windowsForListing;\n        }\n\n        success(windowsForListing);\n    }\n\n    function configure(options: Glue42.Windows.WindowsConfiguration): Promise<void> {\n        const win = my();\n        const winId = win ? win.id : \"\";\n        return executor.configure(winId, options);\n    }\n\n    function windowAdded(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return _registry.add(\"window-added\", callback);\n    }\n\n    function windowRemoved(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        return _registry.add(\"window-removed\", callback);\n    }\n\n    function tabAttached(callback: (tabWindow: Glue42.Windows.GDWindow, newTabGroupId: string, tabHeaderVisible: boolean) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.tabAttached(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function tabDetached(callback: (window: Glue42.Windows.GDWindow, tabGroupId: string, oldTabGroupId: string) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.tabDetached(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowFrameColorChanged(callback: (window: Glue42.Windows.GDWindow) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowFrameColorChanged(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowGotFocus(callback: (window: Glue42.Windows.GDWindow) => void) {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowGotFocus(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onWindowLostFocus(callback: (window: Glue42.Windows.GDWindow) => void) {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onWindowLostFocus(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function onEvent(callback: (stream: any) => void): UnsubscribeFunction {\n        let unsubFunc: UnsubscribeFunction;\n        let unsubscribed = false;\n        isReady.then(() => {\n            if (unsubscribed) {\n                return;\n            }\n            unsubFunc = environment.onEvent(callback);\n        });\n\n        return () => {\n            unsubscribed = true;\n            if (unsubFunc) {\n                unsubFunc();\n            }\n        };\n    }\n\n    function createFlydown(targetId: string, config: Glue42.Windows.FlydownOptions): Promise<Glue42.Windows.Flydown> {\n        return environment.createFlydown(targetId, config);\n    }\n\n    function showPopup(targetId: string, config: Glue42.Windows.PopupOptions): Promise<void> {\n        return environment.showPopup(targetId, config);\n    }\n\n    function handleWindowAdded(w: WindowWrapper) {\n        _registry.execute(\"window-added\", w.API);\n    }\n\n    function handleWindowRemoved(w: WindowWrapper) {\n        _registry.execute(\"window-removed\", w.API);\n    }\n\n    windowStore.onReadyWindow(handleWindowAdded);\n    windowStore.onRemoved(handleWindowRemoved);\n\n    // The API itself\n    return {\n        my,\n        open,\n        find,\n        findById,\n        list,\n        ready,\n        onWindowAdded: windowAdded,\n        windowAdded,\n        onWindowRemoved: windowRemoved,\n        windowRemoved,\n        onTabAttached: tabAttached,\n        onTabDetached: tabDetached,\n        onWindowFrameColorChanged,\n\n        get groups() {\n            return groups.groupsAPI;\n        },\n        onWindowGotFocus,\n        onWindowLostFocus,\n        onEvent,\n        createFlydown,\n        showPopup,\n        configure\n    };\n};\n","import { Glue42 } from \"../../glue\";\n\n// provides a unified way to access layouts array\nexport class LayoutStore {\n    private layouts: Glue42.Layouts.Layout[] = [];\n\n    public removeWhere(condition: (l: Glue42.Layouts.Layout) => boolean) {\n        this.layouts = this.layouts.filter(condition);\n    }\n\n    public add(item: Glue42.Layouts.Layout) {\n        this.layouts.push(item);\n    }\n\n    public get all(): Glue42.Layouts.Layout[] {\n        return this.layouts;\n    }\n\n    public where(condition: (l: Glue42.Layouts.Layout) => boolean): Glue42.Layouts.Layout[] {\n        return this.layouts.filter(condition);\n    }\n\n    public first(condition: (l: Glue42.Layouts.Layout) => boolean): Glue42.Layouts.Layout {\n        return this.where(condition)[0];\n    }\n}\n\nexport default new LayoutStore();\n","import { Glue42 } from \"../../glue\";\nimport { CallbackRegistry } from \"callback-registry\";\nimport { LayoutsLibConfiguration } from \"./types\";\n\nconst SaveContextMethodName = \"T42.HC.GetSaveContext\";\ndeclare var htmlContainer: any;\n\n/**\n * Logic for apps that want to provide custom context on save\n */\nexport default class ContextProvider {\n\n    private interop: Glue42.Interop.API;\n\n    constructor(private config: LayoutsLibConfiguration, private activitiesGetter: () => Glue42.Activities.API, private callbacks: CallbackRegistry, private logger: Glue42.Logger.API) {\n        this.interop = config.agm;\n        this.registerRequestMethods();\n    }\n\n    public onSaveRequested(callback: (info?: Glue42.Layouts.SaveRequestContext) => Glue42.Layouts.SaveRequestResponse) {\n        return this.callbacks.add(\"saveRequested\", callback);\n    }\n\n    private isActivityOwner() {\n        // fallback for GD2 - remove once the bellow code is tested\n        if (typeof htmlContainer !== \"undefined\") {\n            const context = htmlContainer.getContext();\n            return context && context._t42 && context._t42.activityIsOwner;\n        }\n\n        // check if we're the activity owners\n        const activities = this.activitiesGetter();\n        if (!activities) {\n            return false;\n        }\n\n        if (!activities.inActivity) {\n            return false;\n        }\n\n        const myWindow = activities.my.window;\n        const myActivity = activities.my.activity;\n\n        if (!myActivity && !myWindow) {\n            return false;\n        }\n\n        return myActivity.owner.id === myWindow.id;\n    }\n\n    private registerRequestMethods() {\n        this.interop.register<Glue42.Layouts.SaveRequestContext>(SaveContextMethodName, (args) => {\n            const usersCbs = this.callbacks.execute(\"saveRequested\", args);\n            if (usersCbs?.length > 1) {\n                this.logger.warn(`Multiple subscriptions for \"glue.layouts.onSaveRequested\" - only the first one will be used`);\n            }\n            const requestResult = usersCbs[0] as Glue42.Layouts.SaveRequestResponse;\n            const autoSaveWindowContext = this.config.autoSaveWindowContext;\n\n            if (typeof autoSaveWindowContext === \"boolean\" && autoSaveWindowContext) {\n                return { autoSaveWindowContext };\n            } else if (Array.isArray(autoSaveWindowContext) && autoSaveWindowContext.length > 0) {\n                return { autoSaveWindowContext };\n            }\n            // always include the window context\n            const result: Glue42.Layouts.SaveRequestResponse = { windowContext: requestResult?.windowContext, activityContext: undefined };\n\n            // if we're the activity owner put the context too\n            if (this.isActivityOwner()) {\n                result.activityContext = requestResult?.activityContext;\n            }\n\n            return result;\n        });\n    }\n}\n","// A simple transformation that makes object to start with lowercase\n// Note that this is not full implementation as it supports only:\n// undefined, null, arrays, number, string, bool. Anything out of this\n// list is considered Object\nexport default function transformACSLayout(something: { [key: string]: any }): { [key: string]: any } {\n    if (!something) {\n        return something;\n    }\n\n    if (Array.isArray(something)) {\n        return something.map((item) => {\n            return transformACSLayout(item);\n        });\n    }\n\n    if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\n        return something;\n    }\n\n    const initial: { [key: string]: any } = {};\n    return Object.keys(something).reduce((accumulator, current) => {\n        const value = something[current];\n        const convertedValue = transformACSLayout(value);\n\n        let key = current;\n        if (current[0].toLowerCase() !== current[0]) {\n            key = current[0].toLowerCase() + current.substr(1);\n        }\n\n        accumulator[key] = convertedValue;\n        return accumulator;\n    }, initial);\n}\n","import { Glue42 } from \"../../glue\";\n\nexport default class LayoutImpl implements Glue42.Layouts.Layout {\n    /** Name of the layout */\n    public name: string;\n\n    /** Type of the layout */\n    public type: Glue42.Layouts.LayoutType;\n\n    /** Array of components describing the applications that are saved in the layout */\n    public components: Glue42.Layouts.LayoutComponent[];\n\n    /** Context passed when the layout was saved */\n    public context: any;\n\n    /** Metadata passed when the layout was saved */\n    public metadata: any;\n\n    /** Version of the layout */\n    public version: number;\n\n    /** Displays of the layout */\n    public displays: any;\n\n    constructor(data: any) {\n        this.name = data.name;\n        this.type = data.type;\n        this.components = data.components;\n        this.context = data.context;\n        this.metadata = data.metadata;\n        this.version = data.version;\n        this.displays = data.displays;\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { LayoutsStream, HibernationResumeMessage, UpdateLayoutComponentContextMessage, LayoutsLibConfiguration } from \"./types\";\nimport store from \"./store\";\nimport generate from \"shortid\";\nimport { ACSSaveLayoutMessage, ACSRestoreMessage, ACSRestoreOptionsMessage, ACSMessage, ACSRenameMessage, ACSRemoveLayoutMessage, ACSImportMessage, ExportResultMessage } from \"./types\";\nimport { Glue42Core } from \"@glue42/core\";\nimport ContextProvider from \"./contextProvider\";\nimport transformACSLayout from \"./transform\";\nimport LayoutImpl from \"./layout\";\nimport { isBoolean, isNullOrWhiteSpace, isNumber, isObject, isString, isUndefinedOrNull } from \"../activity/helpers/util\";\n\nexport default class LayoutsAPIImpl implements Glue42.Layouts.API {\n    private appManager: Glue42.AppManager.API;\n    private provider: ContextProvider;\n\n    constructor(private config: LayoutsLibConfiguration, private stream: LayoutsStream, private callbacks: CallbackRegistry, logger: Glue42.Logger.API) {\n        this.appManager = config.appManager;\n        this.onEvent = stream.onEvent;\n        this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\n        stream.subscribe();\n    }\n\n    public async setDefaultGlobal(name: string): Promise<void> {\n        await this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name });\n        return;\n    }\n\n    public async clearDefaultGlobal(): Promise<void> {\n        await this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\");\n        return;\n    }\n\n    public async getDefaultGlobal(): Promise<Glue42.Layouts.Layout | undefined> {\n        const result = await this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\");\n        const layout = result.returned;\n        if (!layout) {\n            return undefined;\n        }\n        if (this.isSlimMode()) {\n            return layout;\n        }\n        return this.list().find((l) => l.name === layout.name && l.type === \"Global\");\n    }\n\n    public ready(): Promise<void> {\n        if (this.config.mode === \"fullWaitSnapshot\") {\n            return this.stream.gotSnapshot;\n        }\n        return this.stream.ready;\n    }\n\n    public save(layout: Glue42.Layouts.NewLayoutOptions): Promise<Glue42.Layouts.Layout> {\n        return new Promise<Glue42.Layouts.Layout>((resolve, reject) => {\n\n            this.verifyNotSlimMode();\n\n            if (isUndefinedOrNull(layout)) {\n                return reject(new Error(\"layout is required\"));\n            }\n\n            if (isNullOrWhiteSpace(layout.name)) {\n                return reject(new Error(\"layout.name argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(layout.type)) {\n                layout.type = \"Global\";\n            }\n\n            if (!isNullOrWhiteSpace(layout.activityId)) {\n                layout.type = \"Activity\";\n            }\n\n            const layoutObject: ACSSaveLayoutMessage = {\n                name: layout.name,\n                type: layout.type,\n                context: layout.context ?? {},\n                metadata: layout.metadata ?? {},\n                options: {},\n            };\n\n            if (layout.type === \"Activity\") {\n                let actId = layout.activityId;\n                if (!actId) {\n                    if (!this.appManager.myInstance.inActivity) {\n                        return reject(new Error(\"Current application is not in activity. Cannot save activity layout for it.\"));\n                    }\n                    actId = this.appManager.myInstance.activityId;\n                }\n                layoutObject.activityId = actId;\n            } else if (layout.type === \"Global\") {\n                if (Array.isArray(layout.ignoreInstances)) {\n                    layoutObject.options.ignoreInstances = layout.ignoreInstances;\n                }\n                if (Array.isArray(layout.instances)) {\n                    layoutObject.options.instances = layout.instances;\n                }\n            } else {\n                return reject(new Error(`layout type ${layout.type} is not supported`));\n            }\n\n            this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\n        });\n    }\n\n    public restore(options: Glue42.Layouts.RestoreOptions): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n            // TODO add validations...\n            if (isUndefinedOrNull(options)) {\n                return reject(new Error(\"options argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(options.name)) {\n                return reject(new Error(\"options.name argument is required\"));\n            }\n\n            if (isNullOrWhiteSpace(options.type)) {\n                options.type = \"Global\";\n            }\n\n            if (!isNullOrWhiteSpace(options.activityIdToJoin)) {\n                options.type = \"Activity\";\n            }\n\n            if (options.type === \"Activity\") {\n                if (isUndefinedOrNull(options.setActivityContext)) {\n                    options.setActivityContext = true;\n                }\n                if (typeof options.setActivityContext !== \"boolean\") {\n                    return reject(new Error(\"`setActivityContext` must hold a boolean value.\"));\n                }\n                options.activityIdToJoin = options.activityIdToJoin ?? this.appManager.myInstance.activityId;\n            }\n\n            // backwards compatibility\n            if (!isUndefinedOrNull(options.closeRunningInstance)) {\n                options.closeRunningInstances = options.closeRunningInstance;\n            }\n\n            if (isUndefinedOrNull(options.closeRunningInstances)) {\n                options.closeRunningInstances = true;\n            }\n\n            if (!isBoolean(options.closeRunningInstances)) {\n                return reject(new Error(\"`closeRunningInstances` must hold a boolean value.\"));\n            }\n\n            if (isUndefinedOrNull(options.closeMe)) {\n                options.closeMe = options.closeRunningInstances;\n            }\n\n            if (!isBoolean(options.closeMe)) {\n                return reject(new Error(\"`closeMe` must hold a boolean value.\"));\n            }\n\n            if (!isUndefinedOrNull(options.context) && !isObject(options.context)) {\n                return reject(new Error(\"`context` must hold an object value.\"));\n            }\n\n            if (!isUndefinedOrNull(options.timeout) && typeof options.timeout !== \"number\") {\n                return reject(new Error(\"`timeout` must hold an number value.\"));\n            }\n\n            options.context = options.context ?? {};\n\n            const restoreOptions: ACSRestoreOptionsMessage = {\n                activityToJoin: options.activityIdToJoin,\n                setActivityContext: options.setActivityContext,\n                ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\n                // not used in GD3\n                // restoreActivityOwner: options.restoreActivityOwner,\n                // closeOldWindows: options.closeRunningInstance,\n                reuseExistingWindows: options.reuseWindows,\n\n                closeRunningInstances: options.closeRunningInstances, // new\n                excludeFromClosing: options.closeMe ? [] : [this.appManager.myInstance?.id]\n            };\n\n            const arg: ACSRestoreMessage = {\n                type: options.type,\n                name: options.name,\n                context: options.context,\n                options: restoreOptions\n            };\n            if (options.timeout) {\n                arg.timeout = options.timeout;\n            }\n\n            this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\n        });\n    }\n\n    public remove(type: string, name: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n\n            if (!name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            const msg: ACSRemoveLayoutMessage = {\n                type,\n                name,\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\n        });\n    }\n\n    public list(): Glue42.Layouts.Layout[] {\n        this.verifyNotSlimMode();\n        return store.all;\n    }\n\n    public import(layouts: Glue42.Layouts.Layout[], mode?: Glue42.Layouts.ImportMode): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n            if (!isUndefinedOrNull(mode)) {\n                if (mode !== \"merge\" && mode !== \"replace\") {\n                    return reject(new Error(`${mode} is not supported - only \"merge\" and \"replace\"`));\n                }\n            }\n            if (!Array.isArray(layouts)) {\n                return reject(new Error(\"layouts arguments is not an array\"));\n            }\n            const msg: ACSImportMessage = {\n                mode: mode || \"replace\",\n                layouts\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\n        });\n    }\n\n    public export(layoutType?: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.Layout[]> {\n        return new Promise<Glue42.Layouts.Layout[]>((resolve, reject) => {\n            const handleResult = (result: ExportResultMessage) => {\n                let layouts: Glue42.Layouts.Layout[] = this.getObjectValues(result.Layouts).map((t) => new LayoutImpl(transformACSLayout(t)));\n                if (layoutType) {\n                    layouts = layouts.filter((l) => l.type === layoutType);\n                }\n                resolve(layouts);\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\n        });\n    }\n\n    public rename(layout: Glue42.Layouts.Layout, newName: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            this.verifyNotSlimMode();\n\n            if (!layout) {\n                return reject(new Error(\"layout argument is required\"));\n            }\n\n            if (!layout.name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!layout.type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            const msg: ACSRenameMessage = { type: layout.type, oldName: layout.name, newName };\n\n            this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\n        });\n    }\n\n    public updateMetadata(layout: Glue42.Layouts.Layout): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!layout) {\n                return reject(new Error(\"layout argument is required\"));\n            }\n\n            if (!layout.name) {\n                return reject(new Error(\"name argument is required\"));\n            }\n\n            if (!layout.type) {\n                return reject(new Error(\"type argument is required\"));\n            }\n\n            if (!layout.metadata) {\n                return reject(new Error(\"metadata argument is required\"));\n            }\n\n            const layoutObject: any = {\n                name: layout.name,\n                type: layout.type,\n                metadata: layout.metadata\n            };\n\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\n        });\n    }\n\n    public hibernate(name: string, options?: Glue42.Layouts.HibernationOptions): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!name) {\n                return reject(new Error(\"name cannot be empty\"));\n            }\n            options = options || {};\n            const request: HibernationResumeMessage = {\n                name,\n                type: \"Global\",\n                context: options.context || {},\n                metadata: options.metadata || {},\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\n        });\n    }\n\n    public resume(name: string, context?: any, options?: Glue42.Layouts.ResumeOptions): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (!name) {\n                return reject(new Error(\"name cannot be empty\"));\n            }\n            const request: HibernationResumeMessage = {\n                name,\n                type: \"Global\",\n                context,\n                ...options\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\n        });\n    }\n\n    public async getCurrentLayout(): Promise<Glue42.Layouts.Layout | undefined> {\n        const result = await this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 });\n        let layout = result.returned.layout;\n        if (!layout) {\n            return undefined;\n        }\n        if (!this.isSlimMode()) {\n            // we have internal if we track layouts (so not slim mode), if not return the object we received from GD\n            layout = this.list().find((l) => l.name === layout.name && l.type === layout.type);\n        }\n        return layout;\n    }\n\n    public onAdded(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        const result = this.callbacks.add(\"added\", callback);\n\n        if (store.all.length > 0) {\n            store.all.forEach((layout) => {\n                try {\n                    callback(layout);\n                } catch (err) { /** */ }\n            });\n        }\n\n        return result;\n    }\n\n    public onRemoved(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"removed\", callback);\n    }\n\n    public onChanged(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"changed\", callback);\n    }\n\n    public onRestored(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"restored\", callback);\n    }\n\n    public onRenamed(callback: (layout: Glue42.Layouts.Layout) => void): () => void {\n        return this.callbacks.add(\"renamed\", callback);\n    }\n\n    public onEvent(callback: (event: any) => void): () => void {\n        return this.stream.onEvent(callback);\n    }\n\n    public onSaveRequested(callback: (info?: Glue42.Layouts.SaveRequestContext) => Glue42.Layouts.SaveRequestResponse): UnsubscribeFunction {\n        return this.provider.onSaveRequested(callback);\n    }\n\n    public updateAppContextInCurrent(context: object): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (context && typeof context !== \"object\") {\n                return reject(new Error(\"context must be an object\"));\n            }\n            context = context ?? {};\n            const request: UpdateLayoutComponentContextMessage = {\n                context\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\n        });\n    }\n\n    public updateDefaultContext(context: object): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (context && typeof context !== \"object\") {\n                return reject(new Error(\"context must be an object\"));\n            }\n            context = context ?? {};\n            const request: UpdateLayoutComponentContextMessage = {\n                context\n            };\n            this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\n        });\n    }\n\n    public async get(name: string, type: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.Layout> {\n        const matching = this.list().find((l) => l.name === name && l.type === type);\n        if (!matching) {\n            throw new Error(`cannot find layout with name=${name} and type=${type}`);\n        }\n        return matching;\n    }\n\n    public async getAll(type: Glue42.Layouts.LayoutType): Promise<Glue42.Layouts.LayoutSummary[]> {\n        const matching = this.list().filter((l) => type === l.type);\n        return matching;\n    }\n\n    private isSlimMode() {\n        return this.config.mode === \"slim\";\n    }\n\n    private verifyNotSlimMode() {\n        if (this.isSlimMode()) {\n            throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\n        }\n    }\n\n    private invokeMethodAndTrack(methodName: string, args: ACSMessage, resolve: (result: any) => void, reject: (err: any) => void, skipStreamEvent?: boolean) {\n        let streamEventReceived = skipStreamEvent;\n        let agmResult: any;\n\n        const token = generate();\n        args.token = token;\n\n        const handleResult = () => {\n            if (streamEventReceived && agmResult) {\n                resolve(agmResult);\n            }\n        };\n\n        if (!skipStreamEvent) {\n            this.stream.waitFor(token)\n                .then(() => {\n                    streamEventReceived = true;\n                    handleResult();\n                })\n                .catch((err: any) => {\n                    reject(err);\n                });\n        }\n\n        const responseHandler = (result: Glue42Core.AGM.InvocationResult<any>) => {\n            if (!result.returned) {\n                return reject(new Error(\"No result from method \" + methodName));\n            }\n\n            if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\n                if (typeof (result.returned) === \"string\") {\n                    return reject(new Error(result.returned));\n                } else if (typeof (result.returned) === \"object\") {\n                    if (result.returned.status && result.returned.failed) {\n                        return reject(new Error(`${result.returned.status}: ${JSON.stringify(result.returned.failed)}`));\n                    } else {\n                        return reject(new Error(result.returned));\n                    }\n                }\n            }\n\n            agmResult = result.returned;\n            handleResult();\n        };\n\n        this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\n            .then(responseHandler)\n            .catch((err: any) => reject(err));\n    }\n\n    private getObjectValues(obj: any) {\n        if (!obj) {\n            return [];\n        }\n\n        return Object.keys(obj).map((k) => obj[k]);\n    }\n}\n","import { LayoutsStream } from \"../types\";\nimport store, { LayoutStore } from \"../store\";\nimport { ACSStreamData, ACSLayout } from \"./messages\";\nimport LayoutImpl from \"../layout\";\nimport { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport transformACSLayout from \"../transform\";\n\nimport { Glue42Core } from \"@glue42/core\";\n\n/**\n * ACS event stream related to layouts\n */\nexport default class ACSStream implements LayoutsStream {\n\n    public ready: Promise<void>;\n    public gotSnapshot: Promise<void>;\n\n    private resolveReady: () => void;\n    private rejectReady: (err: any) => void;\n\n    private resolveGotSnapshot: () => void;\n    private rejectGotSnapshot: (err: any) => void;\n\n    constructor(private agm: Glue42Core.AGM.API, private callbacks: CallbackRegistry) {\n\n        this.ready = new Promise<void>((resolve, reject) => {\n            this.resolveReady = resolve;\n            this.rejectReady = reject;\n        });\n\n        this.gotSnapshot = new Promise<void>((resolve, reject) => {\n            this.resolveGotSnapshot = resolve;\n            this.rejectGotSnapshot = reject;\n        });\n    }\n\n    public subscribe(noRetry?: boolean) {\n        const transform = (obj: object) => {\n            return this.getObjectValues(obj).map((t) => transformACSLayout(t));\n        };\n\n        // if we don't have OnLayoutEvent stream  we're running pre 2.1 GD version or outside GD,\n        if (!this.checkForLayoutEventMethod()) {\n            // if no retry resolve right away\n            if (noRetry) {\n                this.resolveReady();\n            }\n\n            // if we should retry, schedule  one more time\n            setTimeout(() => {\n                this.subscribe(true);\n            }, 500);\n        } else {\n            this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\n                .then((subs) => {\n                    subs.onData((args) => {\n                        const data = args.data as ACSStreamData;\n                        if (data.IsSnapshot) {\n                            this.resolveGotSnapshot();\n                        }\n\n                        this.addLayouts(transform(data.OnLayoutAdded));\n                        this.removeLayouts(transform(data.OnLayoutRemoved));\n                        this.changeLayouts(transform(data.OnLayoutChanged));\n                        this.renameLayouts(transform(data.OnLayoutRenamed));\n                        this.restoredLayout(transform(data.OnLayoutRestored));\n                        this.callbacks.execute(\"streamEvent\", data);\n                    });\n\n                    subs.onFailed((err) => {\n                        const msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\n                        this.rejectReady(msg);\n                        this.rejectGotSnapshot(msg);\n                    });\n\n                    this.resolveReady();\n                })\n                .catch((err) => {\n                    const msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\n                    this.rejectReady(msg);\n                    this.rejectGotSnapshot(msg);\n                });\n        }\n    }\n\n    public onEvent(callback: (streamEvent: ACSStreamData) => void): UnsubscribeFunction {\n        return this.callbacks.add(\"streamEvent\", callback);\n    }\n\n    public waitFor(token: string, timeout?: number): Promise<void> {\n        if (!timeout) {\n            timeout = 10000; // default timeout is 10 seconds\n        }\n        return new Promise<void>((resolve, reject) => {\n            let done = false;\n            const unsubscribe = this.onEvent((streamEvent) => {\n                if (streamEvent.Token === token) {\n                    done = true;\n                    unsubscribe();\n                    resolve();\n                }\n            });\n\n            setTimeout(() => {\n                if (!done) {\n                    reject(\"timed out\");\n                }\n            }, timeout);\n        });\n    }\n\n    private checkForLayoutEventMethod() {\n        try {\n            return this.agm\n                .methods()\n                .map((m) => m.name)\n                .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private addLayouts(layoutsData: any[]) {\n        if (!layoutsData) {\n            return;\n        }\n\n        layoutsData.forEach((layoutData) => {\n            const layout = new LayoutImpl(layoutData);\n            store.add(layout);\n            this.callbacks.execute(\"added\", layout);\n        });\n    }\n\n    private removeLayouts(removedLayouts: any[]) {\n        if (!removedLayouts) {\n            return;\n        }\n        removedLayouts.forEach((removedLayout) => {\n            store.removeWhere((existingLayout) => !this.compareLayouts(existingLayout, removedLayout));\n\n            this.callbacks.execute(\"removed\", removedLayout);\n        });\n    }\n\n    private changeLayouts(changedLayouts: any[]) {\n        if (!changedLayouts) {\n            return;\n        }\n\n        changedLayouts.forEach((changedLayout) => {\n            // removed the changed layout and push it again\n            store.removeWhere((existingLayout) => !this.compareLayouts(existingLayout, changedLayout));\n            store.add(new LayoutImpl(changedLayout));\n            // execute callback\n            this.callbacks.execute(\"changed\", changedLayout);\n        });\n\n    }\n\n    private renameLayouts(renamedLayouts: any[]) {\n        if (!renamedLayouts) {\n            return;\n        }\n\n        renamedLayouts.forEach((renamedLayout) => {\n            const existingLayout = store.first((current) => this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }));\n\n            if (!existingLayout) {\n                throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\n            }\n\n            existingLayout.name = renamedLayout.newName;\n\n            this.callbacks.execute(\"renamed\", existingLayout);\n        });\n    }\n\n    private compareLayouts(layout1: { name: string, type: string }, layout2: { name: string, type: string }) {\n        return layout1.name === layout2.name && layout1.type === layout2.type;\n    }\n\n    private getObjectValues(obj: any) {\n        if (!obj) {\n            return [];\n        }\n\n        return Object.keys(obj).map((k) => obj[k]);\n    }\n\n    private restoredLayout(restoredLayouts: any[]) {\n\n        if (!restoredLayouts) {\n            return;\n        }\n\n        restoredLayouts.forEach((restoredLayout) => {\n            const existingLayout = store.first((current) => this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }));\n            this.callbacks.execute(\"restored\", existingLayout);\n        });\n    }\n}\n","import Layouts from \"./layouts\";\nimport ACSStream from \"./stream/acsStream\";\nimport streamNull from \"./stream/nullStream\";\nimport {LayoutsLibConfiguration, LayoutsStream } from \"./types\";\nimport callbackRegistry, { CallbackRegistry } from \"callback-registry\";\n\nexport default function(config: LayoutsLibConfiguration): Layouts {\n\n    if (!config.agm) {\n        throw Error(\"config.agm is required\");\n    }\n\n    if (!config.logger) {\n        throw Error(\"config.logger is required\");\n    }\n\n    // default mode to slim\n    config.mode = config.mode || \"slim\";\n\n    const logger = config.logger;\n    const callbacks: CallbackRegistry = callbackRegistry();\n\n    let acsStream: LayoutsStream;\n\n    if (config.mode === \"full\" || \"fullWaitSnapshot\") {\n        acsStream = new ACSStream(config.agm, callbacks);\n    } else {\n        acsStream = streamNull();\n    }\n\n    return new Layouts(config, acsStream, callbacks, logger);\n}\n","import { Glue42 } from \"../../glue\";\nimport { Glue42Core } from \"@glue42/core\";\nimport CallbackFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport CaptureOptions = Glue42.Displays.CaptureOptions;\n\nconst T42DisplayCommand = \"T42.Displays.Command\";\nconst T42DisplayOnEvent = \"T42.Displays.OnEvent\";\n\nexport default class DisplayManager implements Glue42.Displays.API {\n    private _registry: CallbackRegistry = CallbackFactory();\n    private _registered = false;\n\n    constructor(\n        private _agm: Glue42Core.AGM.API,\n        private _logger: Glue42Core.Logger.API,\n    ) {\n        //\n    }\n\n    public all = async (): Promise<Glue42.Displays.Display[]> => {\n        const displays = await this.callGD<Glue42.Displays.Display[]>(DisplayCommand.GetAll, {});\n        return displays.map(this.decorateDisplay);\n    }\n\n    public get = async (id: number): Promise<Glue42.Displays.Display> => {\n        const display = await this.callGD<Glue42.Displays.Display>(DisplayCommand.Get, { id });\n        return this.decorateDisplay(display);\n    }\n\n    public getPrimary = async (): Promise<Glue42.Displays.Display> => {\n        const primary = (await this.all()).find((d) => d.isPrimary);\n        return primary;\n    }\n\n    public getByWindowId(id: string): Promise<Glue42.Displays.Display> {\n        const current = this.callGD<Glue42.Displays.Display>(DisplayCommand.GetByWindowId, { id });\n        return current;\n    }\n\n    public capture = async (options: CaptureOptions): Promise<string> => {\n        const screenshot = await this.callGD<string>(DisplayCommand.Capture, { ...options });\n        return screenshot;\n    }\n\n    public captureAll = async (options: Glue42.Displays.CaptureAllOptions): Promise<string | string[]> => {\n        const screenshots = await this.callGD<string | string[]>(DisplayCommand.CaptureAll, { ...options });\n        return screenshots;\n    }\n\n    public getMousePosition = async (): Promise<Glue42.Displays.Point> => {\n        const point = await this.callGD<Glue42.Displays.Point>(DisplayCommand.GetMousePosition);\n        return point;\n    }\n\n    public onDisplayChanged(cb: (displays: Glue42.Displays.Display[]) => void) {\n        this.register();\n        return this._registry.add(\"on-display-changed\", cb);\n    }\n\n    private callGD = async <T>(command: string, options?: object): Promise<T> => {\n        // Consider targeting only GD\n        const invocationResult = await this._agm.invoke(T42DisplayCommand, { options: { ...options }, command });\n        return invocationResult.returned.data;\n    }\n\n    private decorateDisplay = (original: Glue42.Displays.Display): Glue42.Displays.Display => {\n        const decoratedDisplay = {\n            ...original,\n            capture: (size: SizeOptions) => this.capture({ id: original.id, size })\n        };\n        const workAreaAsAny = decoratedDisplay.workArea as any;\n        workAreaAsAny.x = workAreaAsAny.left;\n        workAreaAsAny.y = decoratedDisplay.workArea.top;\n        return decoratedDisplay;\n    }\n\n    private register() {\n        if (this._registered) {\n            return;\n        }\n        this._registered = true;\n        this._agm.register(T42DisplayOnEvent, (args, caller) => {\n            const event = args.event;\n            const data = args.data;\n            switch (event) {\n                case \"display-changed\":\n                    this._registry.execute(\"on-display-changed\", data.displays.map(this.decorateDisplay));\n                    break;\n                default:\n                    this._logger.warn(`unknown event - ${event}`);\n                    break;\n            }\n        });\n    }\n}\n\ntype SizeOptions = Glue42.Displays.ScaleOptions | Glue42.Displays.AbsoluteSizeOptions;\n\nenum DisplayCommand {\n    Capture = \"capture\",\n    CaptureAll = \"captureAll\",\n    GetAll = \"getAll\",\n    Get = \"get\",\n    GetByWindowId = \"getByWindowId\",\n    GetMousePosition = \"getMousePosition\",\n}\n","import { Glue42 } from \"../../glue\";\nimport { ChannelsImpl } from \"./channels\";\n\nlet interop: Glue42.Interop.API;\nlet windowId: string;\n\nexport async function setupAGM(interopLib: Glue42.Interop.API, channels: ChannelsImpl) {\n    interop = interopLib;\n\n    if (typeof window !== \"undefined\") {\n        if (window.glue42gd) {\n            windowId = window.glue42gd.windowId;\n        }\n    }\n\n    if (!windowId) {\n        // not supported\n        return;\n    }\n\n    await interop.register(\"T42.Channels.Command\", (args: any) => {\n        const command = args.command;\n        if (!command) {\n            throw new Error(\"missing command argument\");\n        }\n        if (command === \"join\") {\n            const id = args.channel;\n            if (!id) {\n                throw new Error(\"missing argument id\");\n            }\n            // this is coming from GD (which means from selector switch, join without triggering selection change again)\n            channels.joinNoSelectorSwitch(id);\n            return;\n        }\n        if (command === \"leave\") {\n            channels.leaveNoSelectorSwitch();\n            return;\n        }\n        if (command === \"get\") {\n            const id = channels.current();\n            return { id };\n        }\n        throw new Error(`unknown command ${command}`);\n    });\n\n    // agm interface is available for SW windows only\n    interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\n}\n\nexport async function switchChannel(channel?: string, id?: string) {\n    interop.invoke(\"T42.Channels.Announce\", {\n        swId: id ?? windowId,\n        command: \"switchChannel\",\n        data: { newChannel: channel }\n    });\n}\n","import { Glue42 } from \"../../glue\";\n\nconst CONTEXT_PREFIX = \"___channel___\";\nconst LATEST_FDC3_TYPE = \"latest_fdc3_type\";\n\nexport class SharedContextSubscriber {\n    private unsubscribeFunc: () => void;\n    private callback: any;\n\n    constructor(private contexts: Glue42.Contexts.API) {\n    }\n\n    public subscribe(callback: any): void {\n        this.callback = callback;\n    }\n\n    public subscribeFor(name: string, callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): Promise<() => void> {\n        if (!this.isChannel(name)) {\n            return Promise.reject(new Error(`Channel with name: ${name} doesn't exist!`));\n        }\n\n        const contextName = this.createContextName(name);\n\n        return this.contexts.subscribe(contextName, (data, _, __, ___, extraData) => {\n            callback(data.data, data, extraData?.updaterId);\n        });\n    }\n\n    /** Unsubscribes from the current shared context, and subscribe to the passed one */\n    public async switchChannel(name: string): Promise<void> {\n        this.unsubscribe();\n        const contextName = this.createContextName(name);\n        this.unsubscribeFunc = await this.contexts.subscribe(contextName, (data, _, __, ___, extraData) => {\n            if (this.callback) {\n                this.callback(data.data, data, extraData?.updaterId);\n            }\n        });\n    }\n\n    public leave() {\n        if (this.callback) {\n            this.callback({}, undefined);\n        }\n        this.unsubscribe();\n    }\n\n    public all(): string[] {\n        const contextNames = this.contexts.all();\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(CONTEXT_PREFIX));\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.substr(CONTEXT_PREFIX.length));\n        return channelNames;\n    }\n\n    public getContextData(name: string): Promise<Glue42.Channels.ChannelContext> {\n        return new Promise((resolve, reject) => {\n            if (!this.isChannel(name)) {\n                return reject(new Error(`A channel with name: ${name} doesn't exist!`));\n            }\n\n            const contextName = this.createContextName(name);\n\n            this.contexts.subscribe(contextName, (data) => {\n                if (data[LATEST_FDC3_TYPE]) {\n                    const { latest_fdc3_type, ...rest } = data;\n\n                    resolve(rest);\n                }\n\n                resolve(data);\n            }).then((unsubscribeFunc) => unsubscribeFunc());\n        });\n    }\n\n    public updateChannel(name: string, data: { name: string, meta: any, data: any }): Promise<void> {\n        const contextName = this.createContextName(name);\n        return this.contexts.update(contextName, data);\n    }\n\n    public updateData(name: string, data: any) {\n        const contextName = this.createContextName(name);\n        const fdc3Type = this.getFDC3Type(data);\n\n        if (this.contexts.setPathSupported) {\n            const pathValues: Glue42.Contexts.PathValue[] = Object.keys(data).map((key) => {\n                return {\n                    path: `data.` + key,\n                    value: data[key]\n                };\n            });\n\n            if (fdc3Type) {\n                pathValues.push({ path: LATEST_FDC3_TYPE, value: fdc3Type });\n            }\n\n            return this.contexts.setPaths(contextName, pathValues);\n        } else {\n            if (fdc3Type) {\n                data[LATEST_FDC3_TYPE] = fdc3Type;\n            }\n\n            // pre 3.10, note that we update the data property only\n            return this.contexts.update(contextName, { data });\n        }\n    }\n\n    public isChannel(name: string): boolean {\n        return this.all().some((channelName) => channelName === name);\n    }\n\n    private unsubscribe(): void {\n        if (this.unsubscribeFunc) {\n            this.unsubscribeFunc();\n        }\n    }\n\n    private createContextName(name: string): string {\n        return CONTEXT_PREFIX + name;\n    }\n\n    private getFDC3Type(data: any): string | undefined {\n        const fdc3PropsArr = Object.keys(data).filter((key: string) => key.indexOf(\"fdc3_\") === 0);\n\n        if (fdc3PropsArr.length === 0) {\n            return;\n        }\n\n        if (fdc3PropsArr.length > 1) {\n            throw new Error(\"FDC3 does not support updating of multiple context keys\");\n        }\n\n        return fdc3PropsArr[0].split(\"_\").slice(1).join(\"_\");\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { default as CallbackRegistryFactory, CallbackRegistry } from \"callback-registry\";\nimport { SharedContextSubscriber } from \"./contexts\";\nimport { switchChannel } from \"./agm\";\nimport shortid from \"shortid\";\nexport class ChannelsImpl implements Glue42.Channels.API {\n    private subsKey = \"subs\";\n    private changedKey = \"changed\";\n    private isInitialJoin = true;\n\n    private registry: CallbackRegistry = CallbackRegistryFactory();\n    private currentContext: string;\n    private lastUpdate: { context: Glue42.Channels.ChannelContext, updaterId?: string };\n    private pendingReplays: any = {};\n\n    constructor(private shared: SharedContextSubscriber, private interop: Glue42.Interop.API, private getWindows: () => Glue42.Windows.API, private logger: Glue42.Logger.API) {\n        this.shared.subscribe(this.handler.bind(this));\n\n        if (typeof window !== \"undefined\" && typeof window.glue42gd !== \"undefined\") {\n            this.currentContext = (window.glue42gd as any).initialChannel;\n            if (this.currentContext) {\n                this.joinNoSelectorSwitch(this.currentContext);\n            }\n        }\n    }\n\n    public subscribe(callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): () => void {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n\n        // We want to replay the current context for late joiners\n        // Some caveats:\n        // 1. We need to consider that unsub might be called before we replay the initial set - in which case we should not do the replay - we wrap unsubscribe\n        // and use pendingReplays to handle this well)\n        // 2. We need to prevent double context updated calls with the same value. This  might happen if you do subscirbe -> publish fast - we use pendingReplays to prevent double calls.\n        // 3. We don't use replay args of callback registry, as they might reorder updates in case of fast updates (e.g. subscribe -> leave might result in [undefined, context] updates,\n        // instead of [context, undefined]\n        const id = shortid();\n        this.pendingReplays[id] = true;\n        if (this.lastUpdate) {\n            let lastUpdate = Object.assign({}, this.lastUpdate);\n            setTimeout(() => {\n                if (this.pendingReplays[id]) {\n                    if (this.lastUpdate) {\n                        lastUpdate = this.lastUpdate;\n                    }\n                    callback(lastUpdate.context.data, lastUpdate.context, lastUpdate.updaterId);\n                }\n                delete this.pendingReplays[id];\n            }, 0);\n        }\n\n        const unsub = this.registry.add(this.subsKey, callback);\n        return () => {\n            this.pendingReplays[id] = false;\n            unsub();\n        };\n    }\n\n    public async subscribeFor(name: string, callback: (data: object, context: Glue42.Channels.ChannelContext, updaterId: string) => void): Promise<() => void> {\n        if (typeof name !== \"string\") {\n            throw new Error(\"Please provide the name as a string!\");\n        }\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n        const unsubscribeFunc = await this.shared.subscribeFor(name, callback);\n        return unsubscribeFunc;\n    }\n\n    public async publish(data: object, name?: string): Promise<void> {\n        if (typeof data !== \"object\") {\n            throw new Error(\"Please provide the data as an object!\");\n        }\n\n        if (name) {\n            if (typeof name !== \"string\") {\n                throw new Error(\"Please provide the name as a string!\");\n            }\n\n            if (!this.shared.isChannel(name)) {\n                return Promise.reject(new Error(`A channel with name: ${name} doesn't exist!`));\n            }\n\n            return this.shared.updateData(name, data);\n        }\n\n        if (!this.currentContext) {\n            throw new Error(\"Not joined to any channel!\");\n        }\n        return this.shared.updateData(this.currentContext, data);\n    }\n\n    public all(): Promise<string[]> {\n        const channelNames = this.shared.all();\n        return Promise.resolve(channelNames);\n    }\n\n    public async list(): Promise<Glue42.Channels.ChannelContext[]> {\n        const channelNames = await this.all();\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\n        return channelContexts;\n    }\n\n    public get(name: string): Promise<Glue42.Channels.ChannelContext> {\n        if (typeof name !== \"string\") {\n            return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\n        }\n\n        return this.shared.getContextData(name);\n    }\n\n    /* Returns info about my channel */\n    public getMy(): Promise<Glue42.Channels.ChannelContext> {\n        if (!this.currentContext) {\n            return Promise.resolve(undefined);\n        }\n        return this.get(this.currentContext);\n    }\n\n    public async join(name: string, windowId?: string): Promise<void> {\n        if (windowId) {\n            return switchChannel(name, windowId);\n        }\n        return this.joinCore(name);\n    }\n\n    public async joinNoSelectorSwitch(name: string): Promise<void> {\n        return this.joinCore(name, false);\n    }\n\n    public leave(windowId?: string) {\n        if (windowId) {\n            return switchChannel(undefined, windowId);\n        }\n        return this.leaveCore();\n    }\n\n    public leaveNoSelectorSwitch() {\n        return this.leaveCore(false);\n    }\n\n    public current(): string {\n        return this.currentContext;\n    }\n\n    public my(): string {\n        return this.current();\n    }\n\n    public changed(callback: (channel: string) => void): () => void {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Please provide the callback as a function!\");\n        }\n\n        // don't use replay args as they might fail if changed->leave\n        const current = this.current();\n        if (current) {\n            setTimeout(() => {\n                callback(this.current());\n            }, 0);\n        }\n\n        return this.registry.add(this.changedKey, callback);\n    }\n\n    public onChanged(callback: (channel: string) => void): () => void {\n        return this.changed(callback);\n    }\n\n    public async add(info: Glue42.Channels.ChannelContext): Promise<Glue42.Channels.ChannelContext> {\n        if (typeof info !== \"object\") {\n            throw new Error(\"Please provide the info as an object!\");\n        }\n        if (typeof info.name === \"undefined\") {\n            throw new Error(\"info.name is missing!\");\n        }\n        if (typeof info.name !== \"string\") {\n            throw new Error(\"Please provide the info.name as a string!\");\n        }\n        if (typeof info.meta === \"undefined\") {\n            throw new Error(\"info.meta is missing!\");\n        }\n        if (typeof info.meta !== \"object\") {\n            throw new Error(\"Please provide the info.meta as an object!\");\n        }\n        if (typeof info.meta.color === \"undefined\") {\n            throw new Error(\"info.meta.color is missing!\");\n        }\n        if (typeof info.meta.color !== \"string\") {\n            throw new Error(\"Please provide the info.meta.color as a string!\");\n        }\n\n        const context: Glue42.Channels.ChannelContext = {\n            name: info.name,\n            meta: info.meta || {},\n            data: info.data || {}\n        };\n\n        // Note that we use `update` instead of `add` so that if the channel already exists we don't overwrite it.\n        await this.shared.updateChannel(info.name, context);\n\n        return context;\n    }\n\n    public async getWindowsOnChannel(channel: string): Promise<Glue42.Windows.GDWindow[]> {\n        const windowInfos = await this.getWindowsWithChannels({ channels: [channel] });\n        return windowInfos.map((w) => w.window);\n    }\n\n    public async getWindowsWithChannels(filter: Glue42.Channels.WindowWithChannelFilter): Promise<Glue42.Channels.WindowOnChannelInfo[]> {\n        try {\n            const info = await this.interop.invoke<{ windows: Array<{ windowId: string, channel: string, application: string }> }>(\"T42.Channels.Announce\", { command: \"getChannelsInfo\", data: { filter } });\n            const windows = this.getWindows();\n            if (info?.returned?.windows) {\n                return info.returned.windows.map((windowInfo) => {\n                    const window = windows.findById(windowInfo.windowId);\n                    return {\n                        window,\n                        channel: windowInfo.channel,\n                        application: windowInfo.application\n                    };\n                });\n            }\n        } catch (er) {\n            this.logger.error(`Error getting all channel enabled windows. This method is available since Glue42 3.12`, er);\n        }\n        return [];\n    }\n\n    private handler(data: object, context: Glue42.Channels.ChannelContext, updaterId: string): any {\n        this.lastUpdate = { context, updaterId };\n        this.pendingReplays = {};\n        this.registry.execute(this.subsKey, data, context, updaterId);\n    }\n\n    private async joinCore(name: string, changeSelector: boolean = true) {\n        if (typeof name !== \"string\") {\n            throw new Error(\"Please provide the channel name as a string!\");\n        }\n\n        if (!this.isInitialJoin && name === this.currentContext) {\n            // ignore joining the channel that we're already on, except when this is the very first call\n            return;\n        }\n        this.isInitialJoin = false;\n\n        // Checks if a channel exists with the provided name.\n        const doesChannelExist = (channelName: string): boolean => {\n            const channelNames = this.shared.all();\n            return channelNames.includes(channelName);\n        };\n\n        // Wait for 3k ms for the channel to appear if it doesn't already exist.\n        if (!doesChannelExist(name)) {\n            const channelExistsPromise = new Promise<void>((resolve, reject) => {\n                let timeoutId: NodeJS.Timeout;\n\n                // Check every 100 ms for a channel with the provided name.\n                const intervalId = setInterval(() => {\n                    if (doesChannelExist(name)) {\n                        clearTimeout(timeoutId);\n                        clearInterval(intervalId);\n                        resolve();\n                    }\n                }, 100);\n\n                timeoutId = setTimeout(() => {\n                    clearInterval(intervalId);\n\n                    return reject(new Error(`A channel with name: ${name} doesn't exist!`));\n                }, 3000);\n            });\n\n            await channelExistsPromise;\n        }\n\n        this.currentContext = name;\n        this.lastUpdate = undefined;\n\n        await this.shared.switchChannel(name);\n        if (changeSelector) {\n            switchChannel(name);\n        }\n        this.registry.execute(this.changedKey, name);\n    }\n\n    private leaveCore(changeSelector = true): Promise<void> {\n        this.currentContext = undefined;\n        this.registry.execute(this.changedKey, undefined);\n        this.shared.leave();\n        if (changeSelector) {\n            switchChannel();\n        }\n        return Promise.resolve();\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { setupAGM } from \"./agm\";\nimport { SharedContextSubscriber } from \"./contexts\";\nimport { ChannelsImpl } from \"./channels\";\n\nexport function factory(contexts: Glue42.Contexts.API, agm: Glue42.AGM.API, getWindows: () => Glue42.Windows.API, logger: Glue42.Logger.API): Glue42.Channels.API & { ready: () => Promise<void>; } {\n    const sharedContexts = new SharedContextSubscriber(contexts);\n    const channels = new ChannelsImpl(sharedContexts, agm, getWindows, logger);\n\n    setupAGM(agm, channels);\n\n    return {\n        subscribe: channels.subscribe.bind(channels),\n        subscribeFor: channels.subscribeFor.bind(channels),\n        publish: channels.publish.bind(channels),\n        all: channels.all.bind(channels),\n        list: channels.list.bind(channels),\n        get: channels.get.bind(channels),\n        join: channels.join.bind(channels),\n        leave: channels.leave.bind(channels),\n        // @ignore-ed, but kept for backwards compatibility.\n        current: channels.current.bind(channels),\n        my: channels.my.bind(channels),\n        // @ignore-ed, but kept for backwards compatibility.\n        changed: channels.changed.bind(channels),\n        onChanged: channels.onChanged.bind(channels),\n        // @ignore-ed as currently not entirely supported by the framework.\n        add: channels.add.bind(channels),\n        getWindowsOnChannel: channels.getWindowsOnChannel.bind(channels),\n        getWindowsWithChannels: channels.getWindowsWithChannels.bind(channels),\n        getMy: channels.getMy.bind(channels),\n        ready: () => (contexts as any).ready()\n    };\n}\n","import { Glue42 } from \"../../glue\";\r\nimport { default as CallbackRegistryFactory, CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\n\r\nconst CommandMethod = \"T42.Hotkeys.Command\";\r\nconst InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n\r\nconst RegisterCommand = \"register\";\r\nconst UnregisterCommand = \"unregister\";\r\nconst UnregisterAllCommand = \"unregisterAll\";\r\n\r\nexport class HotkeysImpl implements Glue42.Hotkeys.API {\r\n\r\n    private registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private firstHotkey = true;\r\n    private hotkeys = new Map<string, Glue42.Hotkeys.HotkeyInfo>();\r\n\r\n    constructor(private agm: Glue42.AGM.API) {\r\n    }\r\n\r\n    public async register(info: string | Glue42.Hotkeys.HotkeyInfo, callback: Glue42.Hotkeys.HotkeyCallback): Promise<void> {\r\n        if (typeof info === \"undefined\") {\r\n            throw new Error(\"Hotkey parameter missing\");\r\n        }\r\n\r\n        if (typeof info === \"string\") {\r\n            info = {\r\n                hotkey: info\r\n            };\r\n        } else {\r\n            if (!info.hotkey) {\r\n                throw new Error(\"Info's hotkey parameter missing\");\r\n            }\r\n\r\n            info = {\r\n                hotkey: info.hotkey,\r\n                description: info.description\r\n            };\r\n        }\r\n\r\n        const hkToLower = this.formatHotkey(info.hotkey);\r\n        if (this.hotkeys.has(hkToLower)) {\r\n            throw new Error(`Shortcut for ${hkToLower} already registered`);\r\n        }\r\n\r\n        // if very first a hotkey is registered by this application register invoke AGM method\r\n        if (this.firstHotkey) {\r\n            this.firstHotkey = false;\r\n            await this.registerInvokeAGMMethod();\r\n        }\r\n        // store the callback\r\n        this.registry.add(hkToLower, callback);\r\n\r\n        // invoke GD method\r\n        await this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description });\r\n\r\n        this.hotkeys.set(hkToLower, info);\r\n    }\r\n\r\n    public async unregister(hotkey: string): Promise<void> {\r\n        if (typeof hotkey === \"undefined\") {\r\n            throw new Error(\"hotkey parameter missing\");\r\n        }\r\n\r\n        if (typeof hotkey !== \"string\") {\r\n            throw new Error(\"hotkey parameter must be string\");\r\n        }\r\n\r\n        const hkToLower = this.formatHotkey(hotkey);\r\n        await this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower });\r\n        this.hotkeys.delete(hkToLower);\r\n        this.registry.clearKey(hkToLower);\r\n    }\r\n\r\n    public async unregisterAll(): Promise<void> {\r\n        await this.agm.invoke(CommandMethod, { command: UnregisterAllCommand });\r\n        this.hotkeys.clear();\r\n        this.registry.clear();\r\n    }\r\n\r\n    /**\r\n     * Whether this application has registered accelerator.\r\n     * @param hotkey\r\n     */\r\n    public isRegistered(hotkey: string): boolean {\r\n        const hkToLower = this.formatHotkey(hotkey);\r\n        return this.hotkeys.has(hkToLower);\r\n    }\r\n\r\n    private registerInvokeAGMMethod(): void {\r\n        this.agm.register(InvokeMethod, (args: {\r\n            key: string;\r\n        }) => {\r\n            const hkToLower = args.key.toLowerCase();\r\n            const info = this.hotkeys.get(hkToLower);\r\n            this.registry.execute(hkToLower, info);\r\n        });\r\n    }\r\n\r\n    private formatHotkey(hotkey: string): string {\r\n        if (hotkey) {\r\n            return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n        }\r\n    }\r\n}\r\n","import { Glue42 } from \"../../glue\";\nimport { HotkeysImpl } from \"./hotkeys\";\n\nexport function factory(agm: Glue42.AGM.API): Glue42.Hotkeys.API & { ready: () => Promise<void>; } {\n    const hotkeys = new HotkeysImpl(agm);\n\n    return {\n        register: hotkeys.register.bind(hotkeys),\n        unregister: hotkeys.unregister.bind(hotkeys),\n        unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\n        isRegistered: hotkeys.isRegistered.bind(hotkeys),\n\n        ready: () => Promise.resolve()\n    };\n}\n","import { Glue42 } from \"../glue\";\nimport { ActivitiesLibConfigObject, LibConfigObject, InternalConfig, LayoutsLibConfigObject, AppManagerLibConfigObject } from \"./types\";\n\ninterface InputModeObject {\n    mode?: boolean | string;\n    logger?: Glue42.LoggerConfig;\n}\n\nexport default (options: Glue42.Config): InternalConfig => {\n\n    // Possible options per lib (this is InputLibConfig type)\n    // * false - library is disabled (e.g. config.appManager = false)\n    // * true - library is enabled in running in default mode (e.g config.appManager = true).\n    //          Exception is if default mode is false - in that case it runs default true mode.\n    // * string - start in some mode (e.g. config.appManager = \"full\")\n    // * object - allows further customization (e.g config.appManager = {mode: \"full\", someSetting: 42})\n    //\n    // Some libs support different running modes, some do not.\n    //\n    // Currently defaults are:\n    // appManager: disabled\n    // layouts: enabled in 'slim' mode\n    // activities: enabled in 'trackMyTypeAndInitiatedFromMe' mode\n    // windows: enabled (does not support modes)\n    //\n    // InputLibConfig is transformed to LibConfigObject\n\n    type InputLibConfig = boolean | string | InputModeObject;\n\n    /**\n     * Transforms InputLibConfig (the config as specified from the user)\n     * to LibConfigObject(internal library configuration)\n     */\n    function getLibConfig<T extends LibConfigObject<string>>(value: InputLibConfig, defaultMode: boolean | string, trueMode?: boolean | string): T {\n\n        // if value is false return undefined\n        if (typeof value === \"boolean\" && !value) {\n            return undefined;\n        }\n\n        // find the mode of the library\n        const mode = getModeAsString(value, defaultMode, trueMode);\n\n        // if object we will replace the mode because appManager = {mode: true, setting: 42}\n        // should be turned into appManager = {mode: 'slim', setting: 42}\n        if (typeof value === \"object\") {\n            value.mode = mode;\n            return value as T;\n        }\n\n        return {\n            mode,\n        } as T;\n    }\n\n    /**\n     * Finds the mode based for a given library\n     * 1. If object we call recursively using object.mode for value\n     * 1. If the user hasn't specified anything we use the hard coded defaults\n     * 3. If the value is false or it got defaulted to false, we return undefined\n     * 4. If the value is true we return trueMode or defaultMode (if trueMode is undefined)\n     */\n    function getModeAsString(value: InputLibConfig, defaultMode: boolean | string, trueMode?: boolean | string): string {\n\n        if (typeof value === \"object\") {\n            // 1. if object\n            return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\n        } else if (typeof value === \"undefined\") {\n            // 2. if the user does not pass anything\n            if (typeof defaultMode === \"boolean\" && !defaultMode) {\n                // 3. if gets defaulted to false, the library should be off\n                return undefined;\n            } else {\n                return defaultMode + \"\";\n            }\n        } else if (typeof value === \"boolean\") {\n            // 4. if the user passes true, use trueMode or defaultMode\n            if (value) {\n                // if the user passes true, use trueMode or defaultMode\n                return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\n            } else {\n                // 3. if the user passes false, the library should be off\n                return undefined;\n            }\n        }\n\n        return value + \"\";\n    }\n\n    const appDefaultMode = false;\n    const appDefaultTrueMode = \"startOnly\";\n\n    const activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\n\n    const layoutsDefaultMode = \"slim\";\n\n    return {\n        layouts: getLibConfig<LayoutsLibConfigObject>(options.layouts, layoutsDefaultMode),\n        activities: getLibConfig<ActivitiesLibConfigObject>(options.activities, activitiesDefaultMode),\n        appManager: getLibConfig<AppManagerLibConfigObject>(options.appManager, appDefaultMode, appDefaultTrueMode),\n        windows: getLibConfig<LibConfigObject<string>>(options.windows, true),\n        channels: getLibConfig<LibConfigObject<string>>(options.channels || false, false),\n        displays: getLibConfig<LibConfigObject<string>>(options.displays, true)\n    };\n};\n","import { Glue42 } from \"../../glue\";\nimport callbackRegistry, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\n\nexport class Glue42Notification implements Glue42.Notifications.Glue42Notification {\n    public readonly actions: Glue42.Notifications.Glue42NotificationAction[];\n    public badge: string;\n    public body: string;\n    public data: any;\n    public dir: NotificationDirection;\n    public icon: string;\n    public image: string;\n    public lang: string;\n    public renotify: boolean;\n    public requireInteraction: boolean;\n    public silent: boolean;\n    public tag: string;\n    public timestamp: number;\n    public title: string;\n    public readonly vibrate: number[];\n\n    public onclick: ((this: Notification, ev: Event) => any) | null;\n    public onclose: ((this: Notification, ev: Event) => any) | null;\n    public onerror: ((this: Notification, ev: Event) => any) | null;\n    public onshow: ((this: Notification, ev: Event) => any) | null;\n    public onaction: ((this: Notification, ev: Glue42.Notifications.ActionEvent) => any) | null;\n\n    private callbacks: CallbackRegistry = callbackRegistry();\n\n    public constructor(public options: Glue42.Notifications.Glue42NotificationOptions) {\n        this.actions = options.actions;\n        this.body = options.body;\n        this.badge = options.badge;\n        this.data = options.data;\n        this.dir = options.dir;\n        this.icon = options.icon;\n        this.image = options.image;\n        this.lang = options.lang;\n        this.renotify = options.renotify;\n        this.requireInteraction = options.requireInteraction;\n        this.silent = options.silent;\n        this.tag = options.tag;\n        this.timestamp = options.timestamp;\n        this.title = options.title;\n    }\n\n    public close(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n    public addEventListener<K extends \"click\" | \"close\" | \"error\" | \"show\">(type: K, listener: (this: Notification, ev: NotificationEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void;\n    public addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    public addEventListener(type: any, listener: any, options?: any) {\n        this.callbacks.add(type, listener);\n    }\n    public removeEventListener<K extends \"click\" | \"close\" | \"error\" | \"show\">(type: K, listener: (this: Notification, ev: NotificationEventMap[K]) => any, options?: boolean | EventListenerOptions): void;\n    public removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;\n    public removeEventListener(type: any, listener: any, options?: any) {\n        // DO NOTHING FOR NOW\n    }\n    public dispatchEvent(event: Event): boolean {\n        this.callbacks.execute(event.type, event);\n        return true;\n    }\n}\n","import { Glue42 } from \"../../glue\";\n\nexport class PanelAPI implements Glue42.Notifications.NotificationPanelAPI {\n    constructor(private interop: Glue42.Interop.API) {\n    }\n\n    public toggle(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Show\");\n    }\n    public show(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Show\", { show: true });\n    }\n    public hide(): Promise<any> {\n        return this.interop.invoke(\"T42.Notifications.Hide\");\n    }\n    public isVisible(): Promise<boolean> {\n        throw new Error(\"Method not implemented.\");\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { Glue42Notification } from \"./notification\";\nimport { GnsNotificationSettings, GnsNotificationActionSettings, GnsNotificationActionPayload } from \"./types\";\nimport generate from \"shortid\";\nimport { PanelAPI } from \"./panel\";\nconst STARTING_INDEX = 0;\n\nexport class Notifications implements Glue42.Notifications.API {\n    public panel: PanelAPI;\n\n    private methodsRegistered: boolean = false;\n    private NOTIFICATIONS_CONFIGURE_METHOD_NAME = \"T42.Notifications.Configure\";\n    private readonly methodNameRoot = \"T42.Notifications.Handler-\" + generate();\n    private nextId = 0;\n    private notifications: { [id: string]: Glue42Notification } = {};\n\n    constructor(private interop: Glue42.Interop.API) {\n        this.panel = new PanelAPI(interop);\n    }\n\n    public get maxActions(): number {\n        return 2;\n    }\n\n    public async raise(options: Glue42.Notifications.Glue42NotificationOptions): Promise<Glue42.Notifications.Glue42Notification> {\n        if (!options) {\n            throw new Error(\"invalid options - should be an object\");\n        }\n        if (!options.title) {\n            throw new Error(\"invalid options - should have title\");\n        }\n        if (!this.methodsRegistered) {\n            const bunchOfPromises = [];\n            for (let index = STARTING_INDEX; index < this.maxActions; index++) {\n                bunchOfPromises.push(\n                    this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this))\n                );\n            }\n\n            await Promise.all(bunchOfPromises);\n            this.methodsRegistered = true;\n        }\n\n        // transform actions\n        const id = String(this.nextId++);\n        const type = options.type ?? \"Notification\";\n        const notification: GnsNotificationSettings = {\n            title: options.title,\n            type,\n            severity: options.severity ?? \"None\",\n            description: options.body,\n            glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\n            actions: [],\n            sourceId: id,\n            source: options.source\n        };\n\n        if (options.actions) {\n            const validActions = options.actions.slice(0, this.maxActions);\n\n            let index = STARTING_INDEX;\n            for (const action of validActions) {\n                const args: GnsNotificationActionPayload = { // this should include user arguments (action.interop?.arguments)\n                    g42notificationId: id,\n                    g42action: action.action,\n                    g42interopMethod: action.interop?.method,\n                    g42interopTarget: action.interop?.target,\n                };\n                // TODO, properly convert between args and GNS value\n                const parameters = Object.keys(args).map((key) => {\n                    const value = (args as any)[key];\n                    return {\n                        name: key,\n                        value: {\n                            stringValue: value\n                        }\n                    };\n                });\n\n                const glueAction: GnsNotificationActionSettings = {\n                    name: this.methodNameRoot + \"_\" + index,\n                    description: action.title,\n                    displayName: action.title,\n                    parameters\n                };\n\n                notification.actions.push(glueAction);\n                index++;\n            }\n        }\n\n        if (options.icon) {\n            notification.attributes = notification.attributes || [];\n            notification.attributes.push(\n                { key: \"icon\", value: { stringValue: options.icon } }\n            );\n        }\n\n        if (options.data) {\n            notification.attributes = notification.attributes || [];\n            const dataAsString = JSON.stringify(options.data);\n            notification.attributes.push(\n                { key: \"data\", value: { stringValue: dataAsString } }\n            );\n        }\n\n        if (typeof options.panelExpiry === \"number\") {\n            notification.attributes = notification.attributes || [];\n            notification.attributes.push(\n                { key: \"panelExpiry\", value: { stringValue: options.panelExpiry + \"\" } }\n            );\n        }\n\n        if (typeof options.toastExpiry === \"number\") {\n            notification.attributes = notification.attributes || [];\n            notification.attributes.push(\n                { key: \"toastExpiry\", value: { stringValue: options.toastExpiry + \"\" } }\n            );\n        }\n\n        await this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification });\n\n        const g42notification = new Glue42Notification(options);\n        this.notifications[id] = g42notification;\n        return g42notification;\n    }\n\n    public async setFilter(filter: Glue42.Notifications.NotificationFilter): Promise<Glue42.Notifications.NotificationFilter> {\n        const result = await this.interop.invoke(\"T42.Notifications.Filter\", filter);\n        return result.returned;\n    }\n\n    public async getFilter(): Promise<Glue42.Notifications.NotificationFilter> {\n        const result = await this.interop.invoke(\"T42.Notifications.Filter\");\n        return result.returned;\n    }\n\n    public async configure(options: Glue42.Notifications.Configuration): Promise<void> {\n        if (!options || Array.isArray(options)) {\n            throw new Error(\"Invalid options - should be an object.\");\n        }\n\n        if (Object.values(options).length === 0) {\n            throw new Error(\"The argument must be a non-empty object.\");\n        }\n\n        Object.values(options).forEach((value) => {\n            if (typeof value !== undefined && typeof value !== \"boolean\") {\n                throw new Error(\"Expected type of option values - boolean.\");\n            }\n        });\n\n        const result = await this.interop.invoke(this.NOTIFICATIONS_CONFIGURE_METHOD_NAME, options);\n        return result.returned;\n    }\n\n    private handleNotificationAction(args: any) {\n        if (args.g42notificationId) {\n            // action click\n            const payload: GnsNotificationActionPayload = args as GnsNotificationActionPayload;\n            const id = payload.g42notificationId;\n            const notification = this.notifications[id];\n            if (!notification) {\n                return;\n            }\n\n            // user event\n            const event: { type: string, action?: string } = {\n                type: \"onaction\",\n                action: payload.g42action\n            };\n\n            if (notification.onaction) {\n                notification.onaction(event as Glue42.Notifications.ActionEvent);\n            }\n\n            // interop\n            const actionDefinition = (notification.actions || []).find((item) => item.action === payload.g42action);\n            const actionInterop = actionDefinition.interop;\n            if (actionInterop) {\n                this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\n            }\n\n            // dispatch\n            notification.dispatchEvent(event as Glue42.Notifications.ActionEvent);\n        } else if (args.notification && args.notification.sourceNotificationId) {\n            // notification click\n            const id = args.notification.sourceNotificationId;\n            const notification = this.notifications[id];\n            if (!notification) {\n                return;\n            }\n\n            // user event\n            const event = { type: \"onclick\" };\n            if (notification.onclick) {\n                notification.onclick(event as Event);\n            }\n\n            // interop call\n            const clickInterop = notification.options.clickInterop;\n            if (clickInterop) {\n                this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\n            }\n\n            // dispatch\n            notification.dispatchEvent(event as Event);\n        }\n    }\n}\n","import CallbackRegistryFactory, { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { Glue42 } from \"../../glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nconst ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\ninterface ThemesConfiguration {\r\n    setThemesMethodName: string;\r\n    getThemesMethodName: string;\r\n    sharedContextName: string;\r\n    getThemesConfigurationMethodName: string;\r\n}\r\ninterface GetResult {\r\n    all: Glue42.Themes.Theme[];\r\n    selected: string;\r\n}\r\nexport class ThemesImpl implements Glue42.Themes.API {\r\n    private registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private sharedContextName: string;\r\n    private getMethodName: string;\r\n    private setMethodName: string;\r\n    private isSubscribed = false;\r\n\r\n    constructor(private core: Glue42Core.GlueCore) {\r\n        this.getConfiguration();\r\n    }\r\n\r\n    public async list(): Promise<Glue42.Themes.Theme[]> {\r\n        await this.getConfiguration();\r\n        if (!this.getMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n        return (await this.getAll()).returned.all;\r\n    }\r\n\r\n    public async getCurrent(): Promise<Glue42.Themes.Theme> {\r\n        await this.getConfiguration();\r\n        if (!this.getMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n        const all = await this.getAll();\r\n        return all.returned.all.find((t) => t.name === all.returned.selected);\r\n    }\r\n\r\n    public async select(theme: string): Promise<void> {\r\n        await this.getConfiguration();\r\n        if (!this.setMethodName) {\r\n            throw new Error(\"not supported\");\r\n        }\r\n\r\n        await this.core.interop.invoke(this.setMethodName, { theme });\r\n    }\r\n\r\n    public onChanged(callback: (theme: Glue42.Themes.Theme) => any): UnsubscribeFunction {\r\n        this.subscribe();\r\n        return this.registry.add(\"changed\", callback);\r\n    }\r\n\r\n    private async getConfiguration() {\r\n        try {\r\n            if (this.sharedContextName) {\r\n                return;\r\n            }\r\n            const config = await this.core.interop.invoke<ThemesConfiguration>(ThemesConfigurationMethodName);\r\n            this.sharedContextName = config.returned.sharedContextName;\r\n            this.getMethodName = config.returned.getThemesMethodName;\r\n            this.setMethodName = config.returned.setThemesMethodName;\r\n        } catch (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private async getAll() {\r\n        await this.getConfiguration();\r\n        return await this.core.interop.invoke<GetResult>(this.getMethodName);\r\n    }\r\n\r\n    private async subscribe() {\r\n        await this.getConfiguration();\r\n        if (this.isSubscribed) {\r\n            return;\r\n        }\r\n        this.isSubscribed = true;\r\n        this.core.contexts.subscribe(this.sharedContextName, (data: { all: Glue42.Themes.Theme[], selected: string }) => {\r\n            if (data && data.all && data.selected) {\r\n                this.registry.execute(\"changed\", data.all.find((t) => t.name === data.selected));\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { Glue42 } from \"../../glue\";\r\nimport { ThemesImpl } from \"./themes\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport function factory(core: Glue42Core.GlueCore): Glue42.Themes.API & { ready: () => Promise<void>; } {\r\n    const themes = new ThemesImpl(core);\r\n\r\n    return {\r\n        list: themes.list.bind(themes),\r\n        getCurrent: themes.getCurrent.bind(themes),\r\n        select: themes.select.bind(themes),\r\n        onChanged: themes.onChanged.bind(themes),\r\n        ready: () => Promise.resolve(),\r\n    };\r\n}\r\n","import { Glue42 } from \"../../glue\";\nimport { AppDefinition, GetWindowsInfoResult, GetWindowsInfoResultItem, IntentInfo } from \"./types\";\n\nconst GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\n\nexport class Intents implements Glue42.Intents.API {\n    private myIntents = new Set<string>();\n\n    constructor(private interop: Glue42.Interop.API, private windows: Glue42.Windows.API, private logger: Glue42.Logger.API) {\n    }\n\n    public async find(intentFilter?: string | Glue42.Intents.IntentFilter): Promise<Glue42.Intents.Intent[]> {\n        let intents = await this.all();\n        if (typeof intentFilter === \"undefined\") {\n            return intents;\n        }\n\n        if (typeof intentFilter === \"string\") {\n            return intents.filter((intent) => intent.name === intentFilter);\n        }\n\n        if (typeof intentFilter !== \"object\") {\n            throw new Error(\"Please provide the intentFilter as a string or an object!\");\n        }\n\n        if (intentFilter.contextType) {\n            const ctToLower = intentFilter.contextType.toLowerCase();\n            intents = intents.filter((intent) => intent.handlers.some((handler) => handler.contextTypes?.some((ct) => ct.toLowerCase() === ctToLower)));\n        }\n\n        if (intentFilter.name) {\n            intents = intents.filter((intent) => intent.name === intentFilter.name);\n        }\n\n        return intents;\n    }\n\n    public async raise(intent: string | Glue42.Intents.IntentRequest): Promise<Glue42.Intents.IntentResult> {\n        if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\n            throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\n        }\n\n        if (typeof intent === \"string\") {\n            intent = {\n                intent\n            };\n        }\n\n        const intentName = intent.intent;\n        const intentDef = await this.get(intentName);\n\n        if (typeof intentDef === \"undefined\") {\n            throw new Error(`Intent ${intentName} not found.`);\n        }\n\n        const isDynamicIntent = !intentDef.handlers.some((intentDefHandler) => intentDefHandler.type === \"app\");\n\n        // Default to \"reuse\" in the case of a dynamic intent and to \"startNew\" if target isn't provided.\n        const target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\n        // The handler that will execute the intent.\n        let handler: Glue42.Intents.IntentHandler;\n        const anAppHandler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"app\");\n        if (target === \"startNew\") {\n            handler = anAppHandler;\n        } else if (target === \"reuse\") {\n            const anInstanceHandler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"instance\");\n            handler = anInstanceHandler || anAppHandler;\n        } else if (target.instance) {\n            handler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance);\n        } else if (target.app) {\n            handler = intentDef.handlers.find((intentHandler) => intentHandler.type === \"app\" && intentHandler.applicationName === target.app);\n        } else {\n            throw new Error(`Invalid intent target: ${JSON.stringify(target)}`);\n        }\n\n        if (!handler) {\n            throw new Error(`Can not raise intent for request ${JSON.stringify(intent)} - can not find intent handler.`);\n        }\n\n        let instanceId = handler.instanceId;\n        if (handler.type === \"app\") {\n            instanceId = await this.startApp(handler.applicationName, intent.options);\n        }\n\n        const result: Partial<Glue42.Intents.IntentResult> = await this.raiseIntentToInstance(instanceId, intentName, intent.context);\n        result.request = intent;\n        result.handler = handler;\n\n        return result as Glue42.Intents.IntentResult;\n    }\n\n    public async all(): Promise<Glue42.Intents.Intent[]> {\n        // Gathers all intents from:\n        // 1. Application definitions\n        // 2. Running instances (application can register dynamic intents by calling `addIntentListener()` that aren't predefined inside of their application definitions)\n        // It also populates intent handlers (actual entities that can handle the intent).\n        let apps: AppDefinition[];\n        try {\n            const result = await this.interop.invoke<{ applications: AppDefinition[] }>(\"T42.ACS.GetApplications\", { withIntentsInfo: true });\n            apps = result.returned.applications;\n        } catch (e) {\n            this.logger.error(`Failed to get the applications!`, e);\n            return [];\n        }\n        const intents: { [key: string]: Glue42.Intents.Intent } = {};\n        const appsWithIntents = apps.filter((app) => app.intents && app.intents.length > 0);\n        //  Gather app handlers from application definitions.\n        for (const app of appsWithIntents) {\n            for (const intentDef of app.intents) {\n                let intent = intents[intentDef.name];\n                if (!intent) {\n                    intent = {\n                        name: intentDef.name,\n                        handlers: [],\n                    };\n                    intents[intentDef.name] = intent;\n                }\n\n                const handler: Glue42.Intents.IntentHandler = {\n                    applicationName: app.name,\n                    applicationTitle: app.title || \"\",\n                    applicationDescription: app.caption,\n                    displayName: intentDef.displayName,\n                    contextTypes: intentDef.contexts,\n                    applicationIcon: app.icon,\n                    type: \"app\"\n                };\n\n                intent.handlers.push(handler);\n            }\n        }\n\n        const servers = this.interop.servers();\n        const serverWindowIds = servers.map((server) => server.windowId).filter((serverWindowId) => typeof serverWindowId !== \"undefined\");\n\n        const T42WndGetInfo = \"T42.Wnd.GetInfo\";\n        const isT42WndGetInfoMethodRegistered = this.interop.methods().some((method) => method.name === T42WndGetInfo);\n\n        let windowsInfos: GetWindowsInfoResultItem[];\n        // For backwards compatibility with previous versions of Glue Desktop, the windows' titles will be attempted to be obtained using the Windows API.\n        if (isT42WndGetInfoMethodRegistered) {\n            try {\n                const result = await this.interop.invoke<GetWindowsInfoResult>(T42WndGetInfo, { ids: serverWindowIds });\n                windowsInfos = result.returned.windows;\n            } catch (e) {\n                // Swallow the error. The windows' titles will be attempted to be obtained using the Windows API.\n            }\n        }\n\n        // Discover all running instances that provide intents, and add them to the corresponding intent.\n        for (const server of servers) {\n            await Promise.all(server.getMethods()\n                .filter((method) => method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX))\n                .map(async (method) => {\n                    const intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\n                    let intent = intents[intentName];\n                    if (!intent) {\n                        intent = {\n                            name: intentName,\n                            handlers: [],\n                        };\n                        intents[intentName] = intent;\n                    }\n                    const info = method.flags.intent as Omit<Glue42.Intents.AddIntentListenerRequest, \"intent\">;\n\n                    const app = apps.find((appWithIntents) => appWithIntents.name === server.application);\n                    let appIntent: IntentInfo | undefined;\n                    if (app && app.intents) {\n                        appIntent = app.intents.find((appDefIntent) => appDefIntent.name === intentName);\n                    }\n\n                    const title = await this.windowsIdToTitle(server.windowId, windowsInfos);\n                    const handler: Glue42.Intents.IntentHandler = {\n                        instanceId: server.instance,\n                        applicationName: server.application,\n                        applicationIcon: info.icon || app?.icon,\n                        applicationTitle: app?.title || \"\",\n                        applicationDescription: info.description || app?.caption,\n                        displayName: info.displayName || appIntent?.displayName,\n                        contextTypes: info.contextTypes || appIntent?.contexts,\n                        instanceTitle: title,\n                        type: \"instance\"\n                    };\n                    intent.handlers.push(handler);\n                }));\n        }\n\n        return Object.values(intents);\n    }\n\n    public addIntentListener(intent: string | Glue42.Intents.AddIntentListenerRequest, handler: (context: Glue42.Intents.IntentContext) => any): { unsubscribe: () => void } {\n        if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\n            throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\n        }\n        if (typeof handler !== \"function\") {\n            throw new Error(\"Please provide the handler as a function!\");\n        }\n\n        // `addIntentListener()` is sync.\n        // tslint:disable-next-line:no-console\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\n        const methodName = `${GLUE42_FDC3_INTENTS_METHOD_PREFIX}${intentName}`;\n        let intentFlag: Omit<Glue42.Intents.AddIntentListenerRequest, \"intent\"> = {};\n        let registerPromise: Promise<void>;\n\n        const alreadyRegistered = this.myIntents.has(intentName);\n\n        if (alreadyRegistered) {\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\n        }\n\n        this.myIntents.add(intentName);\n\n        const result = {\n            unsubscribe: (): void => {\n                this.myIntents.delete(intentName);\n\n                registerPromise\n                    .then(() => this.interop.unregister(methodName))\n                    .catch((err) => this.logger.trace(`Unregistration of a method with name ${methodName} failed with reason: ${err}`));\n            }\n        };\n\n        if (typeof intent === \"object\") {\n            const { intent: removed, ...rest } = intent;\n            intentFlag = rest;\n        }\n\n        registerPromise = this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42.Intents.IntentContext) => {\n            if (this.myIntents.has(intentName)) {\n                return handler(args);\n            }\n        });\n\n        registerPromise.catch((err) => {\n            this.myIntents.delete(intentName);\n\n            this.logger.warn(`Registration of a method with name ${methodName} failed with reason: ${err}`);\n        });\n\n        return result;\n    }\n\n    private async get(intent: string): Promise<Glue42.Intents.Intent> {\n        return (await this.all()).find((registeredIntent) => registeredIntent.name === intent);\n    }\n\n    private async startApp(application: string, options?: Glue42.AppManager.ApplicationStartOptions) {\n        const result = await this.interop.invoke<{ Name: string, Id: string }>(\"T42.ACS.StartApplication\", { Name: application, options });\n        return result.returned.Id;\n    }\n\n    private async raiseIntentToInstance(instanceId: string, intent: string, context?: Glue42.Intents.IntentContext): Promise<{ result: any }> {\n        const methodName = `${GLUE42_FDC3_INTENTS_METHOD_PREFIX}${intent}`;\n        let interopServer = this.interop.servers().find((server) => server.instance === instanceId);\n        if (!interopServer) {\n            // Wait 30 sec for the server to appear.\n            await (new Promise<void>((resolve, reject) => {\n                let timeoutId: any;\n\n                const unsub = this.interop.serverAdded((server) => {\n                    if (server.instance === instanceId) {\n                        interopServer = server;\n                        resolve();\n                        clearTimeout(timeoutId);\n                        unsub();\n                    }\n                });\n\n                timeoutId = setTimeout(() => {\n                    unsub();\n                    reject(new Error(`Can not find interop server for instance ${instanceId}`));\n                }, 30 * 1000);\n            }));\n        }\n\n        const method = interopServer.getMethods().find((registeredMethod) => registeredMethod.name === methodName);\n        if (!method) {\n            // Wait 10 sec for the method to appear.\n            await (new Promise<void>((resolve, reject) => {\n                let timeoutId: any;\n\n                const unsub = this.interop.methodAdded((addedMethod) => {\n                    if (addedMethod.name === methodName) {\n                        resolve();\n                        clearTimeout(timeoutId);\n                        unsub();\n                    }\n                });\n\n                timeoutId = setTimeout(() => {\n                    unsub();\n                    reject(new Error(`Can not find interop method ${methodName} for instance ${instanceId}`));\n                }, 10 * 1000);\n            }));\n        }\n\n        const result = await this.interop.invoke(methodName, context, { instance: instanceId });\n\n        return {\n            result: result.returned\n        };\n    }\n\n    private async windowsIdToTitle(id: string, windowsInfos?: GetWindowsInfoResultItem[]): Promise<string> {\n        if (typeof windowsInfos !== \"undefined\") {\n            return windowsInfos.find((windowsInfo) => windowsInfo.id === id)?.title;\n        }\n\n        // The Windows API could be undefined e.g. when running inside of a node environment.\n        const window = this.windows?.findById(id);\n        const title = await window?.getTitle();\n        return title;\n    }\n}\n","import { Glue42 } from \"../glue\";\n\ninterface CallDetails {\n    date: Date;\n    config: Glue42.Config;\n}\n\nexport class FactoryCallInfo {\n\n    public promise: Promise<Glue42.Glue>;\n    public initialized = false;\n    public details: CallDetails[] = [];\n    public reject: (reason?: any) => void = () => { /** Do nothing - default impl. - will be replaced */};\n    public resolve: (value: Glue42.Glue | PromiseLike<Glue42.Glue>) => void = () => { /** Do nothing - default impl. - will be replaced */};\n\n    public init(config: Glue42.Config) {\n        this.initialized = true;\n        this.addCall(config);\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n\n    public addCall(config: Glue42.Config) {\n        this.details.push({ date: new Date(), config });\n    }\n\n    public done(g: Glue42.Glue) {\n        this.resolve(g);\n    }\n\n    public error(e: Error) {\n        this.reject(e);\n    }\n}\n","import { Glue42 } from \"../../glue\";\nimport { default as CallbackRegistryFactory, CallbackRegistry } from \"callback-registry\";\nimport { isFunction, isObject, isString } from \"../activity/helpers/util\";\n\nexport interface AppPreferences {\n    app: string;\n    data: any;\n    lastUpdate: Date;\n}\n\nexport class Prefs {\n\n    private registry: CallbackRegistry = CallbackRegistryFactory();\n    private interopMethodRegistered = false;\n\n    constructor(private appName: string, private interop: Glue42.Interop.API) {\n    }\n\n    public async get(app?: string): Promise<AppPreferences | undefined> {\n        const data = (await this.interop.invoke(\"T42.Prefs.Get\", { app: app ?? this.appName }));\n        return data.returned;\n    }\n\n    public async set(data: any, options?: { app: string }): Promise<void> {\n        this.verifyDataObject(data);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: options?.app ?? this.appName, data, merge: false });\n    }\n\n    public async setFor(app: string, data: any): Promise<void> {\n        this.verifyApp(app);\n        this.verifyDataObject(data);\n        return this.set(data, { app });\n    }\n\n    public async update(data: any, options?: { app: string }) {\n        this.verifyDataObject(data);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: options?.app ?? this.appName, data, merge: true });\n    }\n\n    public async updateFor(app: string, data: any) {\n        this.verifyApp(app);\n        this.verifyDataObject(data);\n        return this.update(data, { app });\n    }\n\n    public async clear(app?: string) {\n        await this.interop.invoke(\"T42.Prefs.Set\", { app: app ?? this.appName, clear: true });\n    }\n\n    public async clearFor(app: string) {\n        this.verifyApp(app);\n        await this.interop.invoke(\"T42.Prefs.Set\", { app, clear: true });\n    }\n\n    public async getAll(): Promise<AppPreferences[]> {\n        const data = (await this.interop.invoke(\"T42.Prefs.Get\"));\n        return data.returned;\n    }\n\n    public async clearAll() {\n        await this.interop.invoke(\"T42.Prefs.Set\", { clear: true });\n    }\n\n    public subscribe(callback: (prefs: AppPreferences) => void): () => void {\n        this.verifyCallback(callback);\n        return this.subscribeFor(this.appName, callback);\n    }\n\n    public subscribeFor(app: string, callback: (prefs: AppPreferences) => void): () => void {\n        this.verifyApp(app);\n        this.verifyCallback(callback);\n        const unsubscribeFn = this.registry.add(app, callback);\n\n        // register the method if needed and then send the subscription request\n        this.registerInteropIfNeeded()\n            .then(() => {\n                this.interop.invoke(\"T42.Prefs.Get\", { app, subscribe: true });\n            });\n\n        return () => {\n            unsubscribeFn();\n        };\n    }\n\n    private async registerInteropIfNeeded() {\n        if (this.interopMethodRegistered) {\n            return;\n        }\n        this.interopMethodRegistered = true;\n\n        await this.interop.register(\"T42.Prefs.Update\", (args) => {\n            this.registry.execute(args.app, args);\n        });\n    }\n\n    private verifyApp(app: string) {\n        if (!app) {\n            throw new Error(`app should be defined`);\n        }\n        if (!isString(app)) {\n            throw new Error(`app should be a string`);\n        }\n    }\n    private verifyDataObject(data: any) {\n        if (!data) {\n            throw new Error(`data should be defined`);\n        }\n        if (!isObject(data)) {\n            throw new Error(`data should be an object`);\n        }\n    }\n\n    private verifyCallback(callback: any) {\n        if (!isFunction(callback)) {\n            throw new Error(`callback should be defined`);\n        }\n    }\n}\n","import { Glue42 } from \"../../glue\";\r\nimport { isObject, isString } from \"../activity/helpers/util\";\r\n\r\nconst enum Commands {\r\n    GetCookies = \"get-cookies\",\r\n    SetCookie = \"set-cookie\",\r\n    RemoveCookie = \"remove-cookie\"\r\n}\r\n\r\nexport class Cookies implements Glue42.Cookies.API {\r\n\r\n    constructor(private methodName: string, private interop: Glue42.Interop.API) {\r\n    }\r\n\r\n    public async get(filter?: Glue42.Cookies.CookiesGetFilter): Promise<Glue42.Cookies.Cookie[]> {\r\n        const result = await this.invoke<{ cookies: Glue42.Cookies.Cookie[] }>(Commands.GetCookies, { filter });\r\n        return result.returned.cookies;\r\n    }\r\n\r\n    public async set(cookie: Glue42.Cookies.CookiesSetDetails): Promise<void> {\r\n        this.verifyCookieObject(cookie);\r\n        await this.invoke<Glue42.Cookies.Cookie[]>(Commands.SetCookie, cookie);\r\n    }\r\n\r\n    public async remove(url: string, name: string): Promise<void> {\r\n        if (!isString(url)) {\r\n            throw new Error(`url should be a string`);\r\n        }\r\n        if (!isString(name)) {\r\n            throw new Error(`name should be a string`);\r\n        }\r\n        await this.invoke<Glue42.Cookies.Cookie[]>(Commands.RemoveCookie, { url, name });\r\n    }\r\n\r\n    private invoke<T>(command: Commands, data: any) {\r\n        return this.interop.invoke<T>(this.methodName, { command, args: data });\r\n    }\r\n\r\n    private verifyCookieObject(cookie: Glue42.Cookies.CookiesSetDetails) {\r\n        if (!cookie) {\r\n            throw new Error(`cookie should be defined`);\r\n        }\r\n        if (!isObject(cookie)) {\r\n            throw new Error(`cookie should be an object`);\r\n        }\r\n    }\r\n}\r\n","import { Glue42 } from \"../../glue\";\r\nimport { Cookies } from \"./index\";\r\n\r\nexport function factory(agm: Glue42.AGM.API, methodName: string): Glue42.Cookies.API & { ready: () => Promise<void>; } {\r\n    const cookies = new Cookies(methodName, agm);\r\n\r\n    return {\r\n        get: cookies.get.bind(cookies),\r\n        remove: cookies.remove.bind(cookies),\r\n        set: cookies.set.bind(cookies),\r\n        ready: () => Promise.resolve()\r\n    };\r\n}\r\n","import CoreFactory, { Glue42Core } from \"@glue42/core\";\nimport { ActivityModule } from \"./activity/main\";\nimport AppManagerFactory from \"./app-manager/main\";\nimport WindowsFactory from \"./windows/main\";\nimport LayoutsFactory from \"./layouts/main\";\nimport DisplayManager from \"./displays/displayManager\";\nimport { factory as channels } from \"./channels/main\";\nimport { factory as hotkeys } from \"./hotkeys/main\";\n\nimport { Glue42 } from \"../glue\";\nimport { version } from \"../package.json\";\nimport prepareConfig from \"./config\";\nimport { LibConfigObject } from \"./types\";\nimport { ActivityMode } from \"./activity/activityConfig\";\nimport Utils from \"./utils\";\nimport { Notifications } from \"./notifications/main\";\nimport { factory as themes } from \"./themes/main\";\nimport { Intents } from \"./intents/intents\";\nimport { FactoryCallInfo } from \"./factoryCallInfo\";\nimport { Prefs } from \"./prefs/index\";\nimport { factory as cookies } from \"./cookies/main\";\n\nconst callInfo: FactoryCallInfo = new FactoryCallInfo();\n\nconst factory = async (options: Glue42.Config): Promise<Glue42.Glue> => {\n    let firstRun = false;\n    if (!callInfo.initialized) {\n        firstRun = true;\n        callInfo.init(options);\n    }\n\n    // if running in GD, do not allow creating multiple instance of this API in the same page\n    const glue42gd: Glue42.GDObject = typeof window !== \"undefined\" && window.glue42gd;\n    if (glue42gd) {\n        if (!firstRun) {\n            callInfo.addCall(options);\n            return callInfo.promise;\n        }\n    }\n    const g = await factoryCore(options, glue42gd);\n    callInfo.resolve(g);\n    return g;\n};\n\nconst factoryCore = async (options: Glue42.Config, glue42gd: Glue42.GDObject): Promise<Glue42.Glue> => {\n    const T42GDExecuteMethod = \"T42.GD.Execute\";\n    const gdMajorVersion = Utils.getGDMajorVersion();\n    // get config object\n    // basically selecting some properties (and defaulting them)\n    // it's used to extract things like layouts, appManager, activities etc things\n    // that glueCore itself doesn't know about\n    options = options || {};\n    const glueConfig = prepareConfig(options);\n    options.gateway = options.gateway || {};\n\n    let _appManager: any;\n    let _activity: any;\n    let _windows: any;\n    let _displays: any;\n    let _channels: Glue42.Channels;\n\n    // dependency graph:\n    //   windows: agm, appManager (via getter)\n    //   activities: contexts, agm, logger, windows, appManager (via getter)\n    //   appManager: agm, windows, logger, activities\n    //   layouts: agm, appManager, logger\n    function createWindows(core: Glue42Core.GlueCore) {\n        if (glueConfig.windows) {\n\n            const windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\n\n            _windows = WindowsFactory(\n                core.agm,\n                windowsLogger,\n                () => {\n                    return _appManager;\n                },\n                () => {\n                    return _displays;\n                },\n                () => {\n                    return _channels;\n                },\n                gdMajorVersion);\n            debugLog(_windows);\n            return _windows;\n        }\n    }\n\n    function createActivities(core: Glue42Core.GlueCore) {\n        if (glueConfig.activities) {\n            if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\n\n                const activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\n\n                _activity = new ActivityModule({\n                    connection: core.connection,\n                    contexts: core.contexts,\n                    agm: core.agm,\n                    logger: activityLogger,\n                    logLevel: \"info\",\n                    disableAutoAnnounce: false,\n                    disposeRequestHandling: \"exit\",\n                    announcementInfo: null,\n                    windows: _windows,\n                    appManagerGetter: () => {\n                        return _appManager;\n                    },\n                    mode: glueConfig.activities.mode as ActivityMode,\n                    typesToTrack: glueConfig.activities.typesToTrack,\n                    activityId: glue42gd?.activityInfo?.activityId,\n                    gdMajorVersion\n                }).api;\n                debugLog(_activity);\n                return _activity;\n            }\n        }\n    }\n\n    function createAppManager(core: Glue42Core.GlueCore) {\n        if (!glueConfig.appManager) {\n            return;\n        }\n\n        const logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\n\n        // AppManager v3\n        _appManager = AppManagerFactory({\n            agm: core.agm,\n            windows: _windows,\n            logger,\n            activities: _activity,\n            mode: glueConfig.appManager.mode,\n            gdMajorVersion\n        });\n        debugLog(_appManager);\n        return _appManager;\n    }\n\n    function createLayouts(core: Glue42Core.GlueCore) {\n        if (!glueConfig.layouts) {\n            return;\n        }\n\n        const logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\n        const layoutsConfig = glueConfig.layouts;\n        const lay = LayoutsFactory({\n            agm: core.agm,\n            appManager: _appManager,\n            activityGetter: () => _activity,\n            logger,\n            mode: layoutsConfig.mode,\n            autoSaveWindowContext: layoutsConfig.autoSaveWindowContext ?? false,\n            gdMajorVersion\n        });\n        debugLog(lay);\n        return lay;\n    }\n\n    function createChannels(core: Glue42Core.GlueCore) {\n        if (!glueConfig.channels) {\n            return;\n        }\n\n        if (!core.contexts) {\n            // TODO log - notify the user that he can not use channels without context\n            return;\n        }\n\n        // Logger\n        const logger = getLibLogger(\"channels\", core.logger, glueConfig.channels);\n\n        _channels = channels(core.contexts, core.agm, () => _windows, logger);\n\n        debugLog(_channels);\n        return _channels;\n    }\n\n    function createHotkeys(core: Glue42Core.GlueCore) {\n        const hotkeysAPI = hotkeys(core.agm);\n\n        debugLog(hotkeysAPI);\n        return hotkeysAPI;\n    }\n\n    function createIntents(core: Glue42Core.GlueCore) {\n        const intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\n\n        debugLog(intentsAPI);\n        return intentsAPI;\n    }\n\n    function createNotifications(core: Glue42Core.GlueCore) {\n        const notificationsAPI = new Notifications(core.interop);\n\n        debugLog(notificationsAPI);\n        return notificationsAPI;\n    }\n\n    function createDisplaysApi(core: Glue42Core.GlueCore) {\n        if (glueConfig.displays) {\n            const displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\n\n            _displays = new DisplayManager(core.agm, displaysLogger);\n            debugLog(_displays);\n            return _displays;\n        }\n    }\n\n    function createThemes(core: Glue42Core.GlueCore) {\n        if (!core.contexts) {\n            // TODO log - notify the user that he can not use themes without context\n            return;\n        }\n        const themesAPI = themes(core);\n\n        debugLog(themesAPI);\n        return themesAPI;\n    }\n\n    function createPrefs(core: Glue42Core.GlueCore) {\n        const appName = options.application ?? glue42gd?.application ?? core.interop.instance.application;\n        const prefs = new Prefs(appName, core.interop);\n\n        debugLog(prefs);\n        return prefs;\n    }\n\n    function createCookies(core: Glue42Core.GlueCore) {\n        const api = cookies(core.interop, T42GDExecuteMethod);\n\n        debugLog(api);\n        return api;\n    }\n\n    function getLibLogger(loggerName: string, logger: Glue42Core.Logger.API, config: LibConfigObject<string>) {\n        const newLogger = logger.subLogger(loggerName);\n\n        if (config && config.logger) {\n            const loggerConfig = config.logger;\n            if (loggerConfig.console) {\n                newLogger.consoleLevel(loggerConfig.console);\n            }\n            if (loggerConfig.publish) {\n                newLogger.publishLevel(loggerConfig.publish);\n            }\n            // not supported in GD3\n            // if (loggerConfig.metrics) {\n            //  newLogger.metricsLevel(loggerConfig.metrics);\n            // }\n        }\n\n        return newLogger;\n    }\n\n    const ext: Glue42Core.Extension = {\n        // define extra libraries for glue-core to raise\n        libs: [\n            { name: \"windows\", create: createWindows },\n            { name: \"activities\", create: createActivities },\n            { name: \"appManager\", create: createAppManager },\n            { name: \"layouts\", create: createLayouts },\n            { name: \"channels\", create: createChannels },\n            { name: \"hotkeys\", create: createHotkeys },\n            { name: \"displays\", create: createDisplaysApi },\n            { name: \"intents\", create: createIntents },\n            { name: \"notifications\", create: createNotifications },\n            { name: \"themes\", create: createThemes },\n            { name: \"prefs\", create: createPrefs },\n            { name: \"cookies\", create: createCookies }\n        ],\n\n        version,\n\n        enrichGlue: (glue: Glue42Core.GlueCore) => {\n            // put some data to config\n            glue.config.activities = glueConfig.activities;\n            glue.config.windows = glueConfig.windows;\n            glue.config.appManager = glueConfig.appManager;\n            glue.config.layouts = glueConfig.layouts;\n            glue.config.channels = glueConfig.channels;\n            glue.config.displays = glueConfig.displays;\n        },\n    };\n\n    const currentLog: any[] = [];\n    if (typeof window !== \"undefined\") {\n        if (!(window as any).glueFactoryLog) {\n            (window as any).glueFactoryLog = [];\n        }\n        (window as any).glueFactoryLog.push(currentLog);\n    }\n\n    function debugLog(entry: any) {\n        currentLog.push(entry);\n    }\n\n    const glueApi = (await CoreFactory(options, ext)) as Glue42.Glue;\n\n    // Decorate the ready glue object with extra functionalities coming from the user-defined libraries.\n    if (Array.isArray(options?.libraries) && options.libraries.length) {\n        await Promise.all(options.libraries.map((lib) => lib(glueApi, options)));\n    }\n\n    return glueApi;\n};\n\nfactory.coreVersion = (CoreFactory as any).version;\nfactory.version = version;\nfactory.calls = callInfo;\n\nexport default factory;\n","import CreateGlue from \"./glue\";\n\nlet whatToExpose = CreateGlue;\nlet shouldSetToWindow = true;\n\nif (typeof window !== \"undefined\") {\n    // if glue42gd (running in GD3) and autoInjected\n    const glue42gd = (window as any).glue42gd;\n    if (glue42gd && glue42gd.autoInjected) {\n        whatToExpose = (window as any).Glue;\n        // no need to set to window, it's already there\n        shouldSetToWindow = false;\n    }\n\n    if (shouldSetToWindow) {\n        (window as any).Glue = whatToExpose;\n    }\n\n    // remove GlueCore from the window object (injected by Glue-core)\n    delete (window as any).GlueCore;\n}\n// add default library for ES6 modules\n(whatToExpose as any).default = whatToExpose;\n\nexport default whatToExpose;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nmodule.exports = 0;\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"de476ad8\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"workspaces-react-template:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkworkspaces_react_template\"] = self[\"webpackChunkworkspaces_react_template\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { createContext, memo } from 'react';\r\nimport { node, object } from 'prop-types';\r\nimport { Glue42Web } from '@glue42/web';\r\nimport { Glue42 } from '@glue42/desktop';\r\nimport { useGlueInit } from './useGlueInit';\r\nimport { GlueProviderProps } from '../react-hooks';\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, settings = {} }) => {\r\n        \r\n        const glue = useGlueInit(settings);\r\n\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    settings: object,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = 'GlueProvider';\r\n","import { useEffect, useState } from \"react\";\r\nimport { UseGlueInitFunc } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: UseGlueInitFunc = (settings) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                if (settings.web && settings.webPlatform) {\r\n                    throw new Error(\"Cannot initialize, because the settings are over-specified: defined are both web and webPlatform. Please set one or the other\");\r\n                }\r\n\r\n                const isEnterprise = typeof (window as any).glue42gd !== \"undefined\";\r\n\r\n                if (isEnterprise) {\r\n                    const factory = settings.desktop?.factory || settings.web?.factory || settings.webPlatform?.factory || (window as any).Glue;\r\n                    const config = settings.desktop?.config || settings.web?.config || settings.webPlatform?.config;\r\n\r\n                    const factoryResult = await factory(config);\r\n\r\n                    setGlue(factoryResult.glue || factoryResult);\r\n                    return;\r\n                }\r\n\r\n                const config = settings.web?.config || settings.webPlatform?.config;\r\n                const factory = settings.web?.factory || settings.webPlatform?.factory || (window as any).GlueWeb || (window as any).GlueWebPlatform;\r\n\r\n                const factoryResult = await factory(config);\r\n\r\n                setGlue(factoryResult.glue || factoryResult);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string, id?: string }> = ({ title, className, children, id, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className} id={id}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        if (glue.workspaces.getWorkspaceById) {\r\n            glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        } else {\r\n            glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n                const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n    \r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        }\r\n\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup, filterLayouts }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries().then((s: any[]) => {\r\n              let filtered = s\r\n              if (typeof filterLayouts === 'function') {\r\n                  filtered = s.filter((l) => filterLayouts(l))\r\n              } \r\n              return filtered;\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any[]) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s)\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any[]) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, filterLayouts, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            filterLayouts={filterLayouts}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            workspace = myWorkspace;\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,o,i){return new(o||(o=Promise))((function(n,s){function r(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,a)}l((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function o(t,e,o){return t(o={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&o.path)}},o.exports),o.exports}var i=o((function(t,e){!function(e){var o={config:{},container:{},controls:{},errors:{},items:{},utils:{}};o.utils.F=function(){},o.utils.extend=function(t,e){t.prototype=o.utils.createObject(e.prototype),t.prototype.contructor=t},o.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(o.utils.F.prototype=t,new o.utils.F)},o.utils.objectKeys=function(t){var e,o;if(\"function\"==typeof Object.keys)return Object.keys(t);for(o in e=[],t)e.push(o);return e},o.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},o.utils.getQueryStringParam=function(t){if(window.location.hash)return o.utils.getHashValue(t);if(!window.location.search)return null;var e,i,n=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<n.length;i++)s[(e=n[i].split(\"=\"))[0]]=e[1];return s[t]||null},o.utils.copy=function(t,e){for(var o in e)t[o]=e[o];return t},o.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},o.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?o.utils.isFunction=function(t){return\"function\"==typeof t||!1}:o.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},o.utils.fnBind=function(t,e,o){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(o||[]));var i=function(){var n=(o||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,n);t.apply(this,n)};return i.prototype=t.prototype,i},o.utils.removeFromArray=function(t,e){var i=o.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},o.utils.moveInArray=function(t,e,o){var i=t[e];t.splice(e,1),t.splice(o,0,i)},o.utils.getBounds=function(t){if(!t[0])throw new Error(\"Cannot get bounds of invalid element\");return t[0].getBoundingClientRect()},o.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},o.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},o.utils.filterXss=function(t,e){var o=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?o:o.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},o.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},o.utils.idAsString=function(t){return Array.isArray(t)?t[0]:t},o.utils.isCustomWorkspaceTab=function(t){return\"workspace\"===t._layoutManager.config.settings.mode&&t._layoutManager._componentFactory&&t._layoutManager._componentFactory.createWorkspaceTabs},o.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!o.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,n;n=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,n);n.unshift(t);var r=this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,n)},this.unbind=function(t,e,o){if(this._mSubscriptions[t]){var i,n=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||o&&o!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),n=!0);if(!1===n)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},o.utils.EventEmitter.ALL_EVENT=\"__all\",o.utils.DragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.DragListener.timeout=null,o.utils.copy(o.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),o.LayoutManager=function(t,i,n){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}o.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":o.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=o.utils.fnBind(this._onResize,this),this._unloadFunction=o.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizedItemsInTargetContainer={},this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=n,this._ignorePinned=!1,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new o.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:o.utils.fnBind(o.items.RowOrColumn,this,[!0]),row:o.utils.fnBind(o.items.RowOrColumn,this,[!1]),stack:o.items.Stack,component:o.items.Component}},o.LayoutManager.__lm=o,o.LayoutManager.minifyConfig=function(t){return(new o.utils.ConfigMinifier).minifyConfig(t)},o.LayoutManager.unminifyConfig=function(t){return(new o.utils.ConfigMinifier).unminifyConfig(t)},o.utils.copy(o.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,n;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof o.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:o.utils.copy({},this.config.settings),dimensions:o.utils.copy({},this.config.dimensions),labels:o.utils.copy({},this.config.labels),context:o.utils.copy({},this.config.context),workspacesOptions:o.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var o,n;for(o in e.config)\"content\"!==o&&(t[o]=e.config[o]);if(e.contentItems.length)for(t.content=[],n=0;n<e.contentItems.length;n++)t.content[n]={},i(t.content[n],e.contentItems[n])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],n=0;n<this.openPopouts.length;n++)e.openPopouts.push(this.openPopouts[n].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new o.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(o.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new o.controls.DropTargetIndicator(this.container),this.transitionIndicator=new o.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this._maximizeContainers(),this.emit(\"initialised\")}else e(document).ready(o.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),Object.values(this._maximizedItemsInTargetContainer).forEach((t=>{const e=t.contentItem,o=t.maximizationContainer;e.element.width(o.element.width()),e.element.height(o.element.height()),e.callDownwards(\"setSize\")})),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new o.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+o.utils.objectKeys(this._typeToItem).join(\",\"),new o.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof o.items.Stack||!e||!0===this.isSubWindow&&e instanceof o.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,n){var s,r,a,l,c,d,h=t,u=t instanceof o.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=o.utils.getUniqueId(),l=t.parent,c=t;1===l.contentItems.length&&!l.isRoot;)l=l.parent,c=c.parent;l.addId(i),isNaN(n)&&(n=o.utils.indexOf(c,l.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new o.controls.BrowserPopout(h,e,i,n,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,n){this.config.settings.constrainDragToContainer=!1;var s=new o.controls.DragSource(e(t),i,this,n);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){const e=this._findItemToMaximizeIn(t);if(e==this.root){if(null!==this._maximizedItem){const t=this._maximizedItem;this._$minimiseItem(this._maximizedItem),t.isMaximized=!1}this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")}else this._$maximiseInContainer(t,e)},_$minimiseItem:function(t){this._maximizedItemsInTargetContainer[o.utils.idAsString(t.config.id)]?this._$minimiseInContainer(t):(t.element.removeClass(\"lm_maximised\"),t.hasId(\"__glMaximised\")&&t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\"))},_findItemToMaximizeIn:function(t){return t?t.config.workspacesConfig.maximizationBoundary?t:this._findItemToMaximizeIn(t.parent):this.root},_$maximiseInContainer:function(t,i){const n=Object.values(this._maximizedItemsInTargetContainer).find((t=>t.maximizationContainer===i));n&&(this._$minimiseItem(n.contentItem),n.contentItem.isMaximized=!1);const s=e(`<div id=\"${o.utils.idAsString(t.config.id)}\" class=\"lm_maximise_target_container_placeholder\"></div>`);this._maximizedItemsInTargetContainer[o.utils.idAsString(t.config.id)]={contentItem:t,maximizationContainer:i,placeholder:s},t.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised_in_container\"),t.element.after(s),i.element.prepend(t.element),t.element.width(i.element.width()),t.element.height(i.element.height()),t.callDownwards(\"setSize\"),t.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseInContainer:function(t){t.element.removeClass(\"lm_maximised_in_container\");const e=this._maximizedItemsInTargetContainer[o.utils.idAsString(t.config.id)].placeholder;t.hasId(\"__glMaximised\")&&t.removeId(\"__glMaximised\"),e.after(t.element),e.remove(),t.parent.callDownwards(\"setSize\"),delete this._maximizedItemsInTargetContainer[o.utils.idAsString(t.config.id)],t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var o,i,n=1/0,s=null;for(o=0;o<this._itemAreas.length;o++)t>(i=this._itemAreas[o]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&n>i.surface&&(n=i.surface,s=i);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:o,allowDropRight:i,allowDropBottom:n}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===o||!0===i||!0===n){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[0]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[3]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++){if(!i[t].isStack)continue;const s=i[t].config.workspacesConfig&&!0===i[t].config.workspacesConfig.allowDrop;if((!1!==this.config.workspacesOptions.allowDrop||s)&&((!i[t].config.workspacesConfig||!1!==i[t].config.workspacesConfig.allowDrop)&&null!==(e=i[t]._$getArea())))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var n={};o.utils.copy(n,e),e.contentItem._contentAreaDimensions.header&&(o.utils.copy(n,e.contentItem._contentAreaDimensions.header.highlightArea),n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)),i[t]._dropSegment&&(i[t]._dropSegment=null)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(o.utils.isFunction(t)&&(t=t()),t instanceof o.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var n=this.createContentItem(t,i);return n.callDownwards(\"_$init\"),n}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(o){if(t.push(o),o.contentItems instanceof Array)for(var i=0;i<o.contentItems.length;i++)e(o.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(o.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=o.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new o.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},o.config.defaultConfig,t);var n=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?n(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(o.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=o.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new o.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new o.errors.ConfigurationError(e,t);this.root=new o.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var o=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],n=this._findAllStackContainers()[0],s=0;s<o;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(n,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_maximizeContainers:function(){const t=this.root.getItemsByFilter((t=>t.config.workspacesConfig&&t.config.workspacesConfig.isMaximized&&\"component\"!=t.type));t.length&&t.forEach((t=>{t.toggleMaximise()}))},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(o){t.addChild(o),e.removeChild(o,!0)})):e.contentItems.forEach(o.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(o.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))},restoreMaximizedContainers:function(){this.root.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type)).forEach((t=>{this._$minimiseItem(t)}))}}),o.LayoutManager.default=o.LayoutManager,t.exports=o.LayoutManager,window.GoldenLayout=o.LayoutManager,o.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,workspaceInnerDrag:!0,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:20,maxItemHeight:32767,minItemWidth:20,maxItemWidth:32767,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},o.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},o.container.ItemContainer=function(t,i,n){o.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},o.utils.copy(o.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){var o,i,n,s,r=this.parent,a=this;if(!t&&!e||t&&e)return!1;for(;!r.isColumn&&e||!r.isRow&&t||r.contentItems.length<=1;)if(a=r,(r=r.parent).isRoot)return!1;for(this.layoutManager._ignorePinned=!0,r._calculateRelativeSizes(),o=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this._element[i]()*(1/(a.config[i]/100)))*100,n=(a.config[i]-o)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=o:r.contentItems[s].config[i]+=n;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var o=this._contentElement[0],i=o.offsetWidth-o.clientWidth,n=o.offsetHeight-o.clientHeight;this._contentElement.width(this.width-i).height(this.height-n),this.emit(\"resize\")}}}),o.controls.BrowserPopout=function(t,e,i,n,s){o.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=n,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},o.utils.copy(o.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,o;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(o=this._layoutManager.root.getItemsById(this._parentId)[0])||(o=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),o.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,n,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",o.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",o.utils.fnBind(this._onClose,this)),t=setInterval(o.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,o=[];for(e in t)o.push(e+\"=\"+t[e]);return o.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+o.utils.getUniqueId();e=(new o.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(o.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),o.controls.DragProxy=function(t,i,n,s,r,a){o.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(o.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",o.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var l=this._layoutManager.container.offset();this._minX=l.left,this._minY=l.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},o.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',o.utils.copy(o.controls.DragProxy.prototype,{_onDrag:function(t,e,o){var i=(o=o.originalEvent&&o.originalEvent.touches?o.originalEvent.touches[0]:o).pageX,n=o.pageY;(i>this._minX&&i<this._maxX&&n>this._minY&&n<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,n)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),o.controls.DragSource=function(t,e,o,i){this._element=t,this._itemConfig=e,this._layoutManager=o,this._dragListener=null,this._dragProxy=null,this._createDragListener(i)},o.utils.copy(o.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new o.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var n=this._itemConfig;o.utils.isFunction(n)&&(n=n());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},n));this._dragProxy=new o.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null),this._layoutManager.transitionIndicator.transitionElements(this._element,this._dragProxy.element)}}),o.controls.DropTargetIndicator=function(){this.element=e(o.controls.DropTargetIndicator._template),e(document.body).append(this.element)},o.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',o.utils.copy(o.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,o,i){this.highlightArea({x1:t,y1:e,x2:o,y2:i})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),o.controls.Header=function(t,i){if(o.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(o.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",o.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],o=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:o}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}else if(this.layoutManager._componentFactory){this.element.children(\".lm_controls\")[0];const t=this.element.children(\".lm_tabs_controls\")[0],e=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createBeforeGroupTabs&&this.layoutManager._componentFactory.createBeforeGroupTabs({domNode:e,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)}),this.layoutManager._componentFactory.createAfterGroupTabs&&this.layoutManager._componentFactory.createAfterGroupTabs({domNode:t,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=o.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._isDestroyed=!1,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},o.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),o.utils.copy(o.controls.Header.prototype,{createTab:function(t,e){var i,n;for(n=0;n<this.tabs.length;n++)if(this.tabs[n].contentItem===t)return;if(i=new o.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);(void 0===e||e>this.tabs.length)&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},moveTab:function(t,e){o.utils.moveInArray(this.tabs,t,e),this._updateTabSizesWithoutDropdown(),this.parent._syncContentItemOrder()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,o,i,n;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(n=this.tabs[this.parent.config.activeItemIndex],o=this.parent.config.activeItemIndex;o>0;o--)this.tabs[o]=this.tabs[o-1];this.tabs[0]=n,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){if(!this._isDestroyed){this._isDestroyed=!0,this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()}},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,n,s,r,a,l,c;c=o.utils.fnBind(this._showAdditionalTabsDropdown,this),l=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new o.controls.HeaderButton(this,l,\"lm_tabdropdown\",c),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=o.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new o.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new o.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=o.utils.fnBind(this.parent.toggleMaximise,this.parent)),n=this._getHeaderSetting(\"maximize\"),a=new o.controls.HeaderButton(this,n,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",n)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=o.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new o.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,o,i,n,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,l=0,c=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,o=0;o<this.tabs.length;o++)if(e=this.tabs[o].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=o?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)o===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((l=h>0&&h<=o?(a-s)/(o-1):(a-s)/o)<c){for(i=0;i<=o;i++)n=i!==h&&0!==i?\"-\"+l+\"px\":\"\",this.tabs[i].element.css({\"z-index\":o-i,\"margin-left\":n});this._lastVisibleTabIndex=o,this.tabsContainer.append(e)}else d=!0;if(d&&o!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=o,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,o,i=0,n=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[n];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,o=0;o<this.tabs.length;o++)e=this.tabs[o].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),n<=o?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_getLastIndexOfPinnedTab(t){const e=this.tabs.reduce(((e,o)=>o.isPinned&&(\"function\"!=typeof t||t(o))?o:e),void 0);return e?this.tabs.indexOf(e):-1}}),o.controls.HeaderButton=function(t,o,i,n){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+o+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=n,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},o.utils.copy(o.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),o.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new o.utils.DragListener(this.element)},o.utils.copy(o.controls.Splitter.prototype,{on:function(t,e,o){this._dragListener.on(t,e,o)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),o=e('<div class=\"lm_splitter\"></div>');o.append(t);var i=this._grabSize-this._size,n=i/2;return this._isVertical?(t.css(\"top\",-n),t.css(\"height\",this._size+i),o.addClass(\"lm_vertical\"),o.height(this._size)):(t.css(\"left\",-n),t.css(\"width\",this._size+i),o.addClass(\"lm_horizontal\"),o.width(this._size)),o}}),o.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this._layoutManager=this.contentItem.layoutManager;const n=\"workspace\"===this._layoutManager.config.settings.mode,s=o.utils.isCustomWorkspaceTab(this);if(this.element=e(s?o.controls.Tab._customTabTemplate:o.controls.Tab._template),this._elementOffset=0,this._xOfLastReorder=0,this.titleElement=s?e(void 0):this.element.find(\".lm_title\"),this.closeElement=s?e(void 0):this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.isPinned=!1,this.title=i.config.title,this.setTitle(this.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new o.utils.TabDragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"reorderStart\",this._onReorderStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=o.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=o.utils.fnBind(this._onCloseClick,this),n&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this)),s){const t=this._layoutManager._componentFactory.createWorkspaceTabsOptions({element:this.element[0],contentItem:i});this._layoutManager._componentFactory.createWorkspaceTabs(t)}},o.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',o.controls.Tab._customTabTemplate='<li class=\"lm_tab\"></li>',o.utils.copy(o.controls.Tab.prototype,{setTitle:function(t){this.title=t,o.utils.isCustomWorkspaceTab(this)||this.element.attr(\"title\",o.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,pin:function(t){if(this.isPinned)return;this.titleElement.hide(),this.closeElement.hide();const e=this.header.tabs.indexOf(this),o=this.header._getLastIndexOfPinnedTab();let i=o+1;\"number\"==typeof t&&(i=Math.min(t,o+1)),this.header.moveTab(e,i),this.element.addClass(\"lm_pinned\"),this.isPinned=!0},unpin:function(){if(!this.isPinned)return;this.titleElement.show(),this.closeElement.show();const t=this.header.tabs.indexOf(this),e=this.header._getLastIndexOfPinnedTab();t!=e&&this.header.moveTab(t,e),this.element.removeClass(\"lm_pinned\"),this.isPinned=!1},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener.off(\"reorderStart\",this._onReorderStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,n=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId,r=!this.contentItem.layoutManager.config.settings.workspaceInnerDrag&&i;if(i&&n)return;if(!i&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;if(r)return;this._layoutManager.restoreMaximizedContainers.apply(this._layoutManager);const a=new o.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(a)},_onReorderStart:function(t,e){const o=this.element[0].getBoundingClientRect().x-this.header.element[0].getBoundingClientRect().x,i=this.element[0].getBoundingClientRect().width;this._elementOffset=o-t;const n=\"workspace\"===this._layoutManager.config.settings.mode,s=n&&!1===this.contentItem.config.workspacesConfig.allowWorkspaceTabReorder,r=!n&&!1===this.contentItem.config.workspacesConfig.allowReorder;s||r||(this._xOfLastReorder=t,this.element.css(\"position\",\"absolute\"),this.element.css(\"z-index\",\"42\"),this.element.css(\"left\",t+this._elementOffset+\"px\"),this.element.css(\"width\",i+\"px\"),this._dragListener.on(\"reorder\",this._onReorder,this),this._dragListener.on(\"reorderStop\",this._onReorderStop,this))},_onReorder:function(t,e){this.element.css(\"left\",t+this._elementOffset+\"px\");const i=this.header.tabs.indexOf(this);if(this._xOfLastReorder>t&&i>0){const e=o.utils.getBounds(this.header.tabs[i-1].element);t<e.x+e.width/2&&(this.header.moveTab(i,i-1),this._xOfLastReorder=t)}else if(this._xOfLastReorder<t&&i<this.header.tabs.length-1){const e=o.utils.getBounds(this.header.tabs[i+1].element);t>e.x+e.width/2&&(this.header.moveTab(i,i+1),this._xOfLastReorder=t)}this.element.css(\"z-index\",\"42\")},_onReorderStop:function(t,e){const o=this.header.tabs.indexOf(this),i=this.header._getLastIndexOfPinnedTab((t=>t!=this));this.isPinned&&i+1<o&&this.header.moveTab(o,i+1),!this.isPinned&&o<i&&this.header.moveTab(o,i),this.element.css(\"left\",\"\"),this.element.css(\"width\",\"\"),this.element.css(\"position\",\"\"),this.element.css(\"z-index\",\"auto\"),this._dragListener.off(\"reorder\",this._onReorder),this._dragListener.off(\"reorderStop\",this._onReorderStop)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),o.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},o.utils.copy(o.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(o.utils.now()-this._animationStartTime)/this._totalAnimationDuration,n={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)n[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(n),o.utils.animFrame(o.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),o.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},o.errors.ConfigurationError.prototype=new Error,o.items.AbstractContentItem=function(t,e,i){o.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=Array.isArray(e.id)&&e.id.includes(\"__glMaximised\"),this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this._isDestroyed=!1,this.on(o.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},o.utils.copy(o.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,o,i){var n;for(!0!==o&&!0!==i&&this[t].apply(this,e||[]),n=0;n<this.contentItems.length;n++)this.contentItems[n].callDownwards(t,e,o);!0===o&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof o.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var n=o.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===n)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[n]=e,e.parent=this,this.isStack&&(this.header.tabs[n].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==o.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=o.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],o=function(i){for(var n=0;n<i.contentItems.length;n++)!0===t(i.contentItems[n])&&e.push(i.contentItems[n]),o(i.contentItems[n])};return o(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==o.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,o=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<o.length;e++)i.push(o[e].instance&&0!==Object.keys(o[e].instance).length?o[e].instance:o[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(o){return o[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,o){this.layoutManager.dropTargetIndicator.highlightArea(o)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,o,i=this.getItemsByType(\"stack\");for(o=0;o<i.length;o++)(e=i[o].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this._isDestroyed||(this._isDestroyed=!0,this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\"))},_$getArea:function(t){var e=(t=t||this.element).offset(),o=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+o,y2:e.top+i,surface:o*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new o.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new o.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in o.config.itemDefaultConfig)void 0===t[e]&&(t[e]=o.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof o.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===o.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,o.utils.animFrame(o.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),o.items.Component=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new o.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},o.utils.extend(o.items.Component,o.items.AbstractContentItem),o.utils.copy(o.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},getMinWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth},getMaxWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth},getMinHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight},getMaxHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight},_$init:function(){o.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),o.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),o.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),o.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),o.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),o.items.Root=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},o.utils.extend(o.items.Root,o.items.AbstractContentItem),o.utils.copy(o.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),0);return Math.min(t,e)},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),o.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var n=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof o.items.RowOrColumn||a.type!=n){var l=this.layoutManager.createContentItem({type:n},this);this.replaceChild(a,l),l.addChild(t,r?0:void 0,!0),l.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,l.callDownwards(\"setSize\")}else{var c=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),c.config[s]*=.5,t.config[s]=c.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),o.items.RowOrColumn=function(t,i,n,s){o.items.AbstractContentItem.call(this,i,n,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},o.utils.extend(o.items.RowOrColumn,o.items.AbstractContentItem),o.utils.copy(o.items.RowOrColumn.prototype,{addChild:function(t,e,i){var n,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t,e),n=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=n:(s=this.contentItems[r].config[this._dimension]*=(100-n)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,n,s=t.config[this._dimension],r=o.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(n=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,n,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,o.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth:\"column\"===this.config.type&&(t=Math.max(e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth,t)),t)),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e+=o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth:\"column\"===this.config.type&&(e=Math.min(o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth,e||t)),e)),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t=Math.max(e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight,t):\"column\"===this.config.type&&(t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),t)),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e=Math.min(o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight,e||t):\"column\"===this.config.type&&(e+=o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),e)),0);return Math.min(t,e)},_$init:function(){var t;if(!0!==this.isInitialised)for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();const o=this.contentItems.filter((t=>t.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned));let i=e.additionalPixel;o.filter((t=>{const o=this.isColumn?t.element.height():t.element.width(),i=this.contentItems.indexOf(t);return Math.floor(o)>Math.floor(e.itemSizes[i])})).forEach((t=>{const o=this.isColumn?t.element.height():t.element.width(),n=this.contentItems.indexOf(t),s=Math.floor(o-e.itemSizes[n]),r=Math.min(i,s);e.itemSizes[n]+=r,i-=r}));const n=Math.ceil(i/(this.contentItems.length-o.length));for(t=0;t<this.contentItems.length;t++){if(i>0&&!this.contentItems[t].config.workspacesConfig.isPinned){const o=Math.min(i,n);e.itemSizes[t]+=o,i-=o}this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight)),this._isColumn&&this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned?this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.height():this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned&&(this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.width())}},_calculateAbsoluteSizes:function(){var t,e,o=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),n=this.element.height(),s=0,r=[];for(this._isColumn?n-=o:i-=o,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(n*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?n:i)-s),totalWidth:i,totalHeight:n}},_calculateRelativeSizes:function(){var t,e=0,o=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:o.push(this.contentItems[t]);if(100===Math.round(e))return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints();if(Math.round(e)<100&&o.length>0){for(t=0;t<o.length;t++)o[t].config[i]=(100-e)/o.length;return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints()}if(Math.round(e)>100)for(t=0;t<o.length;t++)o[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectItemWidthConstraints(),this._respectItemHeightConstraints()},_respectItemWidthConstraints:function(){var t,e,o,i,n,s,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemWidth||32767,l=[],c=[],d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isColumn||!r||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),a=Math.min(a,t.totalWidth);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.width(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxWidth(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinWidth(),n=Math.min(void 0===o?a:o,t.totalWidth),m=void 0===i?r:i;g<m?(h+=m-g,s={maxWidth:n,minWidth:m,width:m}):(d+=Math.min(g,n)-m,s={maxWidth:n,minWidth:m,width:g},l.push(s)),g>n?(u+=g-n,s.width=n):(p+=n-Math.max(g,m),c.push(s)),v.push(s)}const _=0===h||h>d,C=0===u||u>p;if(_&&C)return!0;if(!_)for(e=h/d,m=h,y=0;y<l.length;y++)s=l[y],m-=i=Math.round((s.width-s.minWidth)*e),s.width-=i;if(!C)for(o=u/p,f=u,y=0;y<c.length;y++)s=c[y],f-=n=Math.round((s.maxWidth-s.width)*o),s.width+=n;for(_||0!==m&&(v[v.length-1].width-=m),C||0!==f&&(v[v.length-1].width+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=v[y].width/t.totalWidth*100;return!1},_respectItemHeightConstraints:function(){var t,e,o,i,n,s=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemHeight||0,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemHeight||32767,a=[],l=[],c=0,d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isRow||!s||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),r=Math.min(t.totalHeight,r);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.height(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxHeight(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinHeight(),p=Math.min(void 0===o?r:o,t.totalHeight),m=void 0===i?s:i;g<m?(d+=m-g,n={maxHeight:p,minHeight:m,height:m}):(c+=Math.min(g,p)-m,n={maxHeight:p,minHeight:m,height:g},a.push(n)),g>p?(h+=g-p,n.height=p):(u+=p-Math.max(g,m),l.push(n)),v.push(n)}const _=0===d||d>c,C=0===h||h>u;if(_&&C)return!0;if(!_)for(e=d/c,p=d,y=0;y<a.length;y++)n=a[y],p-=m=Math.round((n.height-s)*e),n.height-=m;if(!C)for(o=h/u,f=h,y=0;y<l.length;y++)n=l[y],f-=i=Math.round((n.maxHeight-n.height)*o),n.height+=i;for(_||0!==p&&(v[v.length-1].height-=p),C||0!==f&&(v[v.length-1].height+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.height=v[y].height/t.totalHeight*100;return!1},_createSplitter:function(t){var e;return(e=new o.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",o.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",o.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",o.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=o.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,o=0,i=0;i<t.length;++i)e=Math.max(t[i].getMinWidth()||0,e),o=Math.max(t[i].getMinHeight()||0,o);return{horizontal:e,vertical:o}},_getMaximumDimensions:function(t){for(var e=32767,o=32767,i=0;i<t.length;++i)e=Math.min(t[i].getMaxWidth()||0,e),o=Math.min(t[i].getMaxHeight()||0,o);return{horizontal:e,vertical:o}},_setMinMaxSplitterPosition(t){const e=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],o=this.layoutManager.config.dimensions[this.isColumn?\"maxItemHeight\":\"maxItemWidth\"];var i=this._getMinimumDimensions([...t.before.contentItems,t.before]),n=this._getMaximumDimensions([...t.before.contentItems,t.before]),s=this._isColumn?i.vertical:i.horizontal,r=this.isColumn?n.vertical:n.horizontal,a=this._getMinimumDimensions([...t.after.contentItems,t.after]),l=this._getMaximumDimensions([...t.after.contentItems,t.after]),c=this._isColumn?a.vertical:a.horizontal,d=this.isColumn?l.vertical:l.horizontal,h=-1*(t.before.element[this._dimension]()-(s||e)),u=-1*((d||o)-t.after.element[this._dimension]()),p=(r||o)-t.before.element[this._dimension](),m=t.after.element[this._dimension]()-(c||e);this._splitterPosition=0,this._splitterMinPosition=Math.max(h,u),this._splitterMaxPosition=Math.min(p,m)},_onSplitterDragStart:function(t){this.layoutManager._ignorePinned=!0;var e=this._getItemsForSplitter(t);this._setMinMaxSplitterPosition(e)},_onSplitterDrag:function(t,e,o){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var i=this._isColumn?o:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),n=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+n),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),o.utils.animFrame((()=>{o.utils.fnBind(this.callDownwards,this,[\"setSize\"])(),this._layoutManager._ignorePinned=!1,Object.values(this.layoutManager._maximizedItemsInTargetContainer).length&&this._layoutManager.updateSize()})),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),o.items.Stack=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;if(this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&o.utils.copy(this._header,s.header),i.header&&o.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&o.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,t._componentFactory&&t._componentFactory.createId&&(!this.config.id||!this.config.id.length)){const e=t._componentFactory.createId();e&&this.addId(e)}this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new o.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},o.utils.extend(o.items.Stack,o.items.AbstractContentItem),o.utils.copy(o.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,o=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(o),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(o).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth;return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth)),t)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;return this.contentItems.reduce(((t,e)=>{const o=e.getMaxWidth();return Math.min(t,o||this.layoutManager.config.dimensions.maxItemWidth)}),t)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinHeight()+o||this.layoutManager.config.dimensions.minItemHeight)),t)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.min(t,e.getMaxHeight()+o||this.layoutManager.config.dimensions.maxItemHeight)),t)},realHeight:function(t){if(!t||!t[0])return 0;const o=t.height();if(o>0)return o;var i=t.clone();i.css(\"visibility\",\"hidden\"),e(\"body\").append(i);var n=i.height();return i.remove(),n},_$init:function(){var t,e;if(!0!==this.isInitialised){for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e);this.contentItems.filter((t=>t.config.workspacesConfig.isPinned)).forEach((t=>{t.tab.pin()}))}}},setActiveContentItem:function(t){if(-1===o.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,n=!0){t=this.layoutManager._$normalizeContentItem(t,this);const s=this.header._getLastIndexOfPinnedTab(),r=t.config&&t.config.workspacesConfig&&t.config.workspacesConfig.isPinned;i>=0&&i<=s&&!r&&(i=s+1),o.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),r&&t.tab.pin(i),e(this.layoutManager.container).is(\":visible\")&&n?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t)if(this.contentItems.length>0){const t=this._getItemToFocusAfterRemove.call(this,i);this.setActiveContentItem(t)}else this._activeContentItem=null;this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,o;for(t=this.header._isClosable(),o=0,e=this.contentItems.length;o<e&&t;o++)t=this.contentItems[o].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){o.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(null!==this._dropSegment){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,n,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,l=s&&this.parent.isColumn||r&&this.parent.isRow,c=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),l?(e=o.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(c=s?\"column\":\"row\",n=this.layoutManager.createContentItem({type:c},this),this.parent.replaceChild(this,n),n.addChild(t,a?0:void 0,!0),n.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,n.callDownwards(\"setSize\"))}else this.addChild(t)}},_$highlightDropZone:function(t,e){var o,i;for(o in this._contentAreaDimensions)if((i=this._contentAreaDimensions[o].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===o?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(o)));this._dropSegment=null,this._resetHeaderDropZone(),this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=o.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),n=i.x2-i.x1,s=i.y2-i.y1;return!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropHeader||!0===this.config.workspacesConfig.allowDropHeader?this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}}:this._contentAreaDimensions={},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&((!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropLeft||!0===this.config.workspacesConfig.allowDropLeft)&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*n,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropTop||!0===this.config.workspacesConfig.allowDropTop)&&(this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*n,y1:i.y1,x2:i.x1+.75*n,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropRight||!0===this.config.workspacesConfig.allowDropRight)&&(this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*n,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*n,y1:i.y1,x2:i.x2,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropBottom||!0===this.config.workspacesConfig.allowDropBottom)&&(this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*n,y1:i.y1+.5*s,x2:i.x1+.75*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}})),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,o,i,n,s,r,a,l,c=this.header.tabs.length,d=!1;if(0===c)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<c;e++)if(s=(o=this.header.tabs[e].element).offset(),this._sided?(n=s.top,i=s.left,l=o.height()):(n=s.left,i=s.top,l=o.width()),t>n&&t<n+l){d=!0;break}if(!(!1===d&&t<n)){if(t<n+l/2?(this._dropIndex=e,o.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,c),o.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+o.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+o.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t},_syncContentItemOrder:function(){const t=[];this.header.tabs.forEach((e=>{const o=Array.isArray(e.contentItem.config.id)?e.contentItem.config.id[0]:e.contentItem.config.id,i=this.contentItems.find((t=>{const e=Array.isArray(t.config.id)?t.config.id[0]:t.config.id;return o===e}));i&&t.push(i)})),this.contentItems.length===t.length&&(this.contentItems=t)},_getItemToFocusAfterRemove:function(t){for(let e=t-1;e>=0;e--){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}for(let e=t+1;e<this.contentItems.length;e++){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}return this.contentItems[Math.max(t-1,0)]}}),o.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},o.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},o.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},o.utils.copy(o.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,o){var i,n;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(n=this[o](i,this._keys),\"object\"==typeof t[i]?(e[n]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[n],o)):e[n]=this[o](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=o.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),o.utils.EventHub=function(t){o.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(o.utils.EventEmitter.ALL_EVENT,o.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=o.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},o.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},o.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},o.utils.EventHub.prototype._propagateToParent=function(t){var e,o=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(o,!0,!0):(e=window.opener.document.createEventObject()).eventType=o,e.eventName=o,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},o.utils.EventHub.prototype._propagateToChildren=function(t){var e,o;for(o=0;o<this._layoutManager.openPopouts.length;o++)(e=this._layoutManager.openPopouts[o].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},o.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},o.utils.copy(o.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},o=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,o)}}),o.utils.TabDragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=400,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.TabDragListener.timeout=null,o.utils.TabDragListener.reorderTimeout=null,o.utils.copy(o.utils.TabDragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this.reorderTimeout=setTimeout(o.utils.fnBind((function(){this._startReorder(t)}),this),this._nDelay)}},onMouseMove:function(t){const e=this._getCoordinates(t);if(null!=this._timeout)t.preventDefault(),this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t);else if(this._inReorder){const i=this._eElement.parent()[0].getBoundingClientRect(),n=15,s=i.left-e.x>n||e.x-i.right>n,r=i.top-e.y>n||e.y-i.bottom>n;s||r?this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay):this._onReorder(t)}},onMouseUp:function(t){this._stopReorder(t),clearTimeout(this._timeout),this._timeout=null,this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX))},_startDrag:function(t){this._stopReorder(t),this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_startReorder:function(t){this._inReorder=!0,this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"reorderStart\",this._nOriginalX,this._nOriginalY,t)},_onReorder:function(t){if(this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorder\",e.x,e.y)}},_stopReorder:function(t){if(clearTimeout(this.reorderTimeout),null!==this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorderStop\",e.x,e.y)}this._inReorder=!1},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}})}(window.$)}));function n(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,o={};function i(o,i){var n=o instanceof Error?o:new Error(o);if(e)e(n);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+n.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,n){var s=o[t];return s||(s=[],o[t]=s),s.push(e),n&&setTimeout((function(){n.forEach((function(n){var s;if(null===(s=o[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(n)?e.apply(void 0,n):e.apply(void 0,[n])}catch(e){i(e,t)}}))}),0),function(){var i=o[t];i&&(0===(i=i.reduce((function(t,o,i){return o===e&&t.length===i||t.push(o),t}),[])).length?delete o[t]:o[t]=i)}},execute:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=o[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(o){try{var n=o.apply(void 0,e);r.push(n)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){o={}},clearKey:function(t){o[t]&&delete o[t]}}}n.default=n;var s=n,r=1;var a,l,c,d={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(t){r=t}},h=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function u(){c=!1}function p(t){if(t){if(t!==a){if(t.length!==h.length)throw new Error(\"Custom alphabet for shortid must be \"+h.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,o){return e!==o.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+h.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));a=t,u()}}else a!==h&&(a=h,u())}function m(){return c||(c=function(){a||p(h);for(var t,e=a.split(\"\"),o=[],i=d.nextValue();e.length>0;)i=d.nextValue(),t=Math.floor(i*e.length),o.push(e.splice(t,1)[0]);return o.join(\"\")}())}var f={get:function(){return a||h},characters:function(t){return p(t),a},seed:function(t){d.seed(t),l!==t&&(u(),l=t)},lookup:function(t){return m()[t]},shuffled:m},g=\"object\"==typeof window&&(window.crypto||window.msCrypto),w=g&&g.getRandomValues?function(t){return g.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],o=0;o<t;o++)e.push(Math.floor(256*Math.random()));return e},v=function(t,e,o){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*i*o/e.length),s=\"\";;)for(var r=t(n),a=n;a--;)if((s+=e[r[a]&i]||\"\").length===+o)return s};var y,_,C=function(t){for(var e,o=0,i=\"\";!e;)i+=v(w,f.get(),1),e=t<Math.pow(16,o+1),o++;return i};var I=function(t){var e=\"\",o=Math.floor(.001*(Date.now()-1567752802062));return o===_?y++:(y=0,_=o),e+=C(7),e+=C(t),y>0&&(e+=C(y)),e+=C(o)};var k=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+f.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},b=o((function(t){var e=0;function o(){return I(e)}t.exports=o,t.exports.generate=o,t.exports.seed=function(e){return f.seed(e),t.exports},t.exports.worker=function(o){return e=o,t.exports},t.exports.characters=function(t){return void 0!==t&&f.characters(t),f.shuffled()},t.exports.isValid=k}));const x=t=>Array.isArray(t)?t[0]:t,W=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]);return t.reduce(((t,o)=>[...t,...e(o)]),[])},E=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]),t]};return t.reduce(((t,o)=>[...t,...e(o)]),[])},S=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},T=t=>\"___workspace___\"+t,B=t=>{if(!t||!t[0])return 0;const e=t.clone();e.css(\"visibility\",\"hidden\"),$(\"body\").append(e);const o=e.height();return e.remove(),o},D=()=>\"g42-\"+b.generate();var M=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=x(t),this._idToLayout[t]}getByContainerId(t){return t=x(t),this._idToLayout[t]||this.getByContainerIdCore(t)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,o){const i=this.getById(t);if(i)return i.layout=o,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:o,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=x(t);return this.layouts.reduce(((t,o)=>t||o.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id)),o.windows.push(t)}removeWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=x(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const o=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==o?void 0:o.isComponent)?o:void 0}getContainer(t){t=x(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,o)=>{const i=o.root.getItemsById(t)[0];return\"component\"===(null==i?void 0:i.type)?e:e||i}),void 0)}getWorkspaceContext(t){var e,o,i;const n=this.getById(t);return null===(i=null===(o=null===(e=null==n?void 0:n.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context}syncWorkspaceOrder(){const t=this.workspaceLayout.root.getItemsByType(\"stack\")[0];if(\"stack\"!==t.type)return;const e=t.contentItems.map((t=>x(t.config.id))),o={};e.forEach((t=>{o[t]=this._idToLayout[t]})),Object.keys(o).length===Object.keys(this._idToLayout).length&&(this._idToLayout=o)}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let o=e.windowId;if(!o){const i=t.find((t=>t.id===e.id));o=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:o})}))}};class A{init(t){this.containerElement=$(\"\"+t)[0],this.setupEvents()}refreshTabsMaxWidth(t){const e=t.children(),o=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",o+\"px\"),Array.from(e).forEach((t=>{const e=$(t).children(\".lm_title\"),o=S(t).width;e.css(\"max-width\",.75*o+\"px\"),this.refreshTabClasses(t)}))}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes),Array.from(t.addedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e,o){const i=t.children(),n=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",n+\"px\"),Array.from(i).forEach((t=>{const o=$(t).children(\".lm_title\"),i=S(t).width;o.css(\"max-width\",.75*i+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),o=this.visibleTabs($(e));o.forEach(((t,e)=>{const i=$(t).children(\".lm_title\"),n=S(o[e]).width;i.css(\"max-width\",.75*n+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),o=t.classList;this.isTabPinned(t)?(o.remove(\"lm_tab_mini\"),o.remove(\"lm_tab_small\")):e>=25&&e<35?(o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\"),o.add(\"lm_tab_small\")):e>=35?(o.remove(\"lm_tab_small\"),o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\")):e<25&&(o.remove(\"lm_tab_small\"),o.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\"))).map((t=>t))}isTabPinned(t){return t.classList.contains(\"lm_pinned\")}getTabWidth(t){return this.isTabPinned(t)?S(t).width:200}}const R=require(\"shortid\");var P=new class{constructor(){this.visibilityState={logo:void 0,workspaceTabs:{},addWorkspace:void 0,systemButtons:void 0,workspaceContents:[],beforeGroupTabs:[],afterGroupTabs:[]},this.callbackRegistry=s(),this.componentsFactory={},this._decoratedFactory={},this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,o=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,o)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(e[0].frameId=t,this.visibilityState.addWorkspace=[...e],this.componentsFactory.createAddWorkspace(...e))),(null==e?void 0:e.createWorkspaceTabs)&&(this.decoratedFactory.createWorkspaceTabs=t=>{var o;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t);let n=()=>{};return n=this.onWorkspaceClosed(t.workspaceId,(()=>{this.componentsFactory.removeWorkspaceTabs&&this.componentsFactory.removeWorkspaceTabs({elementId:null==t?void 0:t.workspaceId}),delete this.visibilityState.workspaceTabs[t.workspaceId],n()})),e.createWorkspaceTabs(t)}),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(e[0].frameId=t,this.visibilityState.logo=[...e],this.componentsFactory.createLogo(...e))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...o)=>(o[0].frameId=t,this.visibilityState.systemButtons=[...o],e.createSystemButtons(...o))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var o,i;const n=t;this.visibilityState.workspaceContents.push(n);const s=this.onWorkspaceClosed(null===(o=t[0])||void 0===o?void 0:o.workspaceId,(()=>{var e;this.componentsFactory.removeWorkspaceContents({workspaceId:null===(e=t[0])||void 0===e?void 0:e.workspaceId}),this.visibilityState.workspaceContents=this.visibilityState.workspaceContents.filter((t=>t!==n)),s()}));return this.subscribeForWorkspaceContentsVisibility(null===(i=t[0])||void 0===i?void 0:i.workspaceId),e.createWorkspaceContents(...t)}),(null==e?void 0:e.createBeforeGroupTabs)&&(this.decoratedFactory.createBeforeGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.beforeGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeBeforeGroupTabs&&this.componentsFactory.removeBeforeGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.beforeGroupTabs=this.visibilityState.beforeGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createBeforeGroupTabs(...t)}),(null==e?void 0:e.createAfterGroupTabs)&&(this.decoratedFactory.createAfterGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.afterGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeAfterGroupTabs&&this.componentsFactory.removeAfterGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.afterGroupTabs=this.visibilityState.afterGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createAfterGroupTabs(...t)}),(null==e?void 0:e.updateWorkspaceTabs)?this.decoratedFactory.updateWorkspaceTabs=t=>{var o;if(!this.visibilityState.workspaceTabs[t.workspaceId])return;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t),e.updateWorkspaceTabs(t)}:this.decoratedFactory.updateWorkspaceTabs=()=>{},e&&(this.decoratedFactory.createId=()=>R.generate(),this.decoratedFactory.createWorkspaceTabsOptions=({element:t,contentItem:e})=>{var o,i;const n=e.parent.contentItems.indexOf(e)===(e.parent.config.activeItemIndex||0);return{domNode:t,workspaceId:x(e.config.id),title:e.config.title,isSelected:n,isPinned:e.config.workspacesConfig.isPinned,icon:e.config.workspacesConfig.icon,showSaveButton:null===(o=e.config.workspacesConfig.showSaveButton)||void 0===o||o,showCloseButton:null===(i=e.config.workspacesConfig.showCloseButton)||void 0===i||i,layoutName:e.config.workspacesConfig.layoutName}})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createWorkspaceTabs)&&Object.values(this.visibilityState.workspaceTabs).forEach((e=>{t.createWorkspaceTabs(e)})),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),(null==t?void 0:t.createBeforeGroupTabs)&&this.visibilityState.beforeGroupTabs.forEach((e=>{t.createBeforeGroupTabs(...e)})),(null==t?void 0:t.createAfterGroupTabs)&&this.visibilityState.afterGroupTabs.forEach((e=>{t.createAfterGroupTabs(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}notifyWorkspaceClosed(t){this.callbackRegistry.execute(\"workspace-closed-\"+t,t)}notifyGroupClosed(t){this.callbackRegistry.execute(\"group-closed-\"+t,t)}onWorkspaceClosed(t,e){return this.callbackRegistry.add(\"workspace-closed-\"+t,e)}onGroupClosed(t,e){return this.callbackRegistry.add(\"group-closed-\"+t,e)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}changeSelectedState(t){const e=this.lastSelectedWorkspaceTab;e&&this.decoratedFactory.updateWorkspaceTabs({workspaceId:e.workspaceId,isSelected:!1}),this.lastSelectedWorkspaceTab=t}};class L{constructor(t,e,o){this.stateResolver=t,this.windowContentItem=e,this.frameId=o}get minWidth(){return this.windowContentItem.getMinWidth()}set minWidth(t){this.windowContentItem.config.workspacesConfig.minWidth=t}get maxWidth(){return this.windowContentItem.getMaxWidth()}set maxWidth(t){this.windowContentItem.config.workspacesConfig.maxWidth=t}get minHeight(){return this.windowContentItem.getMinHeight()}set minHeight(t){this.windowContentItem.config.workspacesConfig.minHeight=t}get maxHeight(){return this.windowContentItem.getMaxHeight()}set maxHeight(t){this.windowContentItem.config.workspacesConfig.maxHeight=t}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get allowReorder(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowReorder)||void 0===t||t}set allowReorder(t){this.windowContentItem.config.workspacesConfig.allowReorder=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,o;return null!==(o=null===(e=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.isMaximized)&&void 0!==o&&o}get isSelected(){var t;return x(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===x(this.windowContentItem.config.id)}get index(){var t,e;return(null===(e=null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems)||void 0===e?void 0:e.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,o;const i=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(o=null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.workspacesConfig)||void 0===o?void 0:o.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,x(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}get bounds(){var t,e,o;if(!this.windowContentItem)return{};this.windowContentItem.config.workspacesConfig||(this.windowContentItem.config.workspacesConfig={});const i=null===(t=M.getByWindowId(x(this.windowContentItem.config.id)))||void 0===t?void 0:t.id;if(i&&this.stateResolver.isWorkspaceSelected(i)){const t=S(this.windowContentItem.element);return this.windowContentItem.config.workspacesConfig.cachedBounds=t,t}const n=S(this.windowContentItem.element);return 0===n.width&&0===n.height&&(null===(e=this.windowContentItem.config.workspacesConfig)||void 0===e?void 0:e.cachedBounds)?null===(o=this.windowContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds:n}getSummaryCore(t,e){var o,i,n;const s=null==t?void 0:t.parent,r=(\"function\"==typeof(null==s?void 0:s.getActiveContentItem)&&s.getActiveContentItem(),void 0!==t.config.componentState.windowId),a=this.index,l=null===(o=M.getByWindowId(e))||void 0===o?void 0:o.id,{appName:c,url:d,windowId:h}=t.config.componentState,u=this.getUserFriendlyParent(t);return{itemId:x(t.config.id),parentId:null!==(n=x(null===(i=null==u?void 0:u.config)||void 0===i?void 0:i.id))&&void 0!==n?n:x(t.config.id),config:{frameId:this.frameId,isLoaded:r,isFocused:!1,isSelected:this.isSelected,positionIndex:a,workspaceId:l,windowId:h,isMaximized:this.isMaximized,appName:c,url:d,title:t.config.title,allowExtract:this.allowExtract,allowReorder:this.allowReorder,showCloseButton:this.showCloseButton,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height}}}getUserFriendlyParent(t){var e,o,i;return t.parent?(null===(i=null===(o=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class O{constructor(t,e,o,i){this.stateResolver=t,this.containerContentItem=e,this.frameId=o,this.workspaceId=i}get minWidth(){var t;return null!==(t=this.containerContentItem.getMinWidth())&&void 0!==t?t:20}set minWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set minWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minWidth \"+t);this.containerContentItem.config.workspacesConfig.minWidth=t}get minHeight(){var t;return null!==(t=this.containerContentItem.getMinHeight())&&void 0!==t?t:20}set minHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set minHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minHeight \"+t);this.containerContentItem.config.workspacesConfig.minHeight=t}get maxWidth(){var t;return null!==(t=this.containerContentItem.getMaxWidth())&&void 0!==t?t:32767}set maxWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set maxWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxWidth \"+t);this.containerContentItem.config.workspacesConfig.maxWidth=t}get maxHeight(){var t;return null!==(t=this.containerContentItem.getMaxHeight())&&void 0!==t?t:32767}set maxHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set maxHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxHeight \"+t);this.containerContentItem.config.workspacesConfig.maxHeight=t}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropHeader(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropHeader)||void 0===t||t}set allowDropHeader(t){this.containerContentItem.config.workspacesConfig.allowDropHeader=t}get allowDropLeft(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropLeft)||void 0===t||t}set allowDropLeft(t){this.containerContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropRight(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropRight)||void 0===t||t}set allowDropRight(t){this.containerContentItem.config.workspacesConfig.allowDropRight=t}get allowDropTop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropTop)||void 0===t||t}set allowDropTop(t){this.containerContentItem.config.workspacesConfig.allowDropTop=t}get allowDropBottom(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropBottom)||void 0===t||t}set allowDropBottom(t){this.containerContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowReorder(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowReorder)||void 0===t||t}set allowReorder(t){this.containerContentItem.config.workspacesConfig.allowReorder=t,this.populateChildrenAllowReorder(t)}get allowSplitters(){var t;if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Accessing allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);return null===(t=this.containerContentItem.config.workspacesConfig.allowSplitters)||void 0===t||t}set allowSplitters(t){if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Setting allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);this.containerContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get bounds(){var t,e,o,i;if(!this.containerContentItem)return{};this.containerContentItem.config.workspacesConfig||(this.containerContentItem.config.workspacesConfig={});const n=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=M.getByContainerId(x(this.containerContentItem.config.id)))||void 0===e?void 0:e.id;if(n&&this.stateResolver.isWorkspaceSelected(n)){const t=S(this.containerContentItem.element);return this.containerContentItem.config.workspacesConfig.cachedBounds=t,t}const s=S(this.containerContentItem.element);return 0===s.width&&0===s.height&&(null===(o=this.containerContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds)?null===(i=this.containerContentItem.config.workspacesConfig)||void 0===i?void 0:i.cachedBounds:s}get isPinned(){var t;return null!==(t=this.containerContentItem.config.workspacesConfig.isPinned)&&void 0!==t&&t}get maximizationBoundary(){var t;return null!==(t=this.containerContentItem.config.workspacesConfig.maximizationBoundary)&&void 0!==t&&t}set maximizationBoundary(t){this.containerContentItem.config.workspacesConfig.maximizationBoundary=t}get summary(){var t,e,o;const i=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=M.getByContainerId(x(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,n=this.getUserFriendlyType((null===(o=this.containerContentItem)||void 0===o?void 0:o.type)||\"workspace\");let s={workspaceId:i,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,isMaximized:this.isMaximized,maximizationBoundary:this.maximizationBoundary};const r=\"window\"===n?void 0:n;return\"group\"===r&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,allowReorder:this.allowReorder,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton,allowDropHeader:this.allowDropHeader,allowDropLeft:this.allowDropLeft,allowDropRight:this.allowDropRight,allowDropTop:this.allowDropTop,allowDropBottom:this.allowDropBottom})),\"group\"!==r&&(s=Object.assign(Object.assign({},s),{allowSplitters:this.allowSplitters})),{itemId:x(this.containerContentItem.config.id),type:\"window\"===n?void 0:n,config:s}}get config(){var t;const e=(M.getByContainerId(this.containerContentItem.config.id)||M.getByWindowId(x(this.containerContentItem.config.id))).layout.toConfig(),o=this.findElementInConfig(x(this.containerContentItem.config.id),e);return o.workspacesConfig.isPinned=null!==(t=o.workspacesConfig.isPinned)&&void 0!==t&&t,o}get isMaximized(){return this.containerContentItem.hasId(\"__glMaximised\")}populateChildrenAllowDrop(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type)return;new O(this.stateResolver,o,this.frameId).allowDrop=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtract(t){const e=o=>{o.forEach((o=>{if(\"component\"!==o.type){if(\"stack\"===o.type){new O(this.stateResolver,o,this.frameId).allowExtract=t}e(o.contentItems)}else{new L(this.stateResolver,o,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}populateChildrenAllowReorder(t){const e=o=>{o.forEach((o=>{if(\"component\"!==o.type){if(\"stack\"===o.type){new O(this.stateResolver,o,this.frameId).allowReorder=t}e(o.contentItems)}else{new L(this.stateResolver,o,this.frameId).allowReorder=t}}))};e(this.containerContentItem.contentItems)}populateChildrenAllowSplitters(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type||\"stack\"===o.type)return;new O(this.stateResolver,o,this.frameId).allowSplitters=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const o=e=>{if(x(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...o(e)]),[])};return o(e).find((t=>t.id))}}class z{constructor(t,e,o,i){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=o,this.frameId=i}get id(){return this.workspace.id}get title(){var t;const e=this.workspaceContentItem;return(null===(t=e.tab)||void 0===t?void 0:t.title)||e.config.workspacesOptions.title||e.config.title||e.config.componentName}get lastFocusedWindowId(){var t,e,o,i,n,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const r=null===(o=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.focusedWindowId;if(r)return r;{const t=null===(n=null===(i=this.workspace.layout.config)||void 0===i?void 0:i.workspacesOptions)||void 0===n?void 0:n.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){const t=e.contentItems[e.contentItems.length-1].config.id;return x(t)}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(x(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=M.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return x(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return M.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>x(t.contentItem.config.id)===this.workspace.id))}get isPinned(){return!!this.workspaceContentItem.tab.isPinned}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig.workspacesOptions.isPinned=this.isPinned,t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.allowWindowReorder=this.allowWindowReorder,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowWorkspaceTabReorder=this.allowWorkspaceTabReorder,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.showAddWindowButtons=this.showAddWindowButtons,e.workspacesOptions.showEjectButtons=this.showEjectButtons,e.workspacesOptions.showWindowCloseButtons=this.showWindowCloseButtons,e.workspacesOptions.minWidth=Math.max(this.minWidth,20),e.workspacesOptions.maxWidth=Math.min(this.maxWidth,32767),e.workspacesOptions.minHeight=Math.max(this.minHeight,20),e.workspacesOptions.maxHeight=Math.min(this.maxHeight,32767),e.workspacesOptions.widthInPx=this.bounds.width,e.workspacesOptions.heightInPx=this.bounds.height,e.workspacesOptions.isPinned=this.isPinned,e.workspacesOptions.icon=this.icon,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=this.title),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,o={frameId:this.frameId,positionIndex:e,title:this.title,name:t.workspacesOptions.name||this.title,layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowWindowReorder:this.allowWindowReorder,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton,allowWorkspaceTabReorder:this.allowWorkspaceTabReorder,showAddWindowButtons:this.showAddWindowButtons,showEjectButtons:this.showEjectButtons,showWindowCloseButtons:this.showWindowCloseButtons,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,icon:this.icon};return t.workspacesOptions.layoutName&&(o.layoutName=t.workspacesOptions.layoutName),{config:o,id:this.workspace.id}}get allowDrop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDrop\"))||void 0===t||t}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropLeft\"))||void 0===t||t}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropTop\"))||void 0===t||t}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropRight\"))||void 0===t||t}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropBottom\"))||void 0===t||t}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.getPropertyFromConfig(\"allowExtract\"))||void 0===t||t}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowWindowReorder(){var t;return null===(t=this.getPropertyFromConfig(\"allowWindowReorder\"))||void 0===t||t}set allowWindowReorder(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowWindowReorder=t),this.workspaceContentItem.config.workspacesConfig.allowWindowReorder=t,this.populateChildrenAllowReorder(t)}get allowSplitters(){var t;return null===(t=this.getPropertyFromConfig(\"allowSplitters\"))||void 0===t||t}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showSaveButton(){var t;return null===(t=this.getPropertyFromConfig(\"showSaveButton\"))||void 0===t||t}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t,P.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showSaveButton:t})}get allowWorkspaceTabReorder(){var t;return null===(t=this.getPropertyFromConfig(\"allowWorkspaceTabReorder\"))||void 0===t||t}set allowWorkspaceTabReorder(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowWorkspaceTabReorder=t),this.workspaceContentItem.config.workspacesConfig.allowWorkspaceTabReorder=t}get showCloseButton(){var t;return null===(t=this.getPropertyFromConfig(\"showCloseButton\"))||void 0===t||t}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t,P.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showCloseButton:t})}get showAddWindowButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showAddWindowButtons\"))||void 0===t||t}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t,this.populateChildrenShowAddWindowButtons(t)}get showEjectButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showEjectButtons\"))||void 0===t||t}set showEjectButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showEjectButtons=t),this.workspaceContentItem.config.workspacesConfig.showEjectButtons=t,this.populateChildrenShowEjectButtons(t)}get showWindowCloseButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showWindowCloseButtons\"))||void 0===t||t}set showWindowCloseButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showWindowCloseButtons=t),this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons=t,this.populateChildrenShowWindowCloseButtons(t)}get minWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinWidth())&&void 0!==e?e:20}get maxWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxWidth())&&void 0!==e?e:32767}get minHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinHeight())&&void 0!==e?e:20}get maxHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxHeight())&&void 0!==e?e:32767}get bounds(){return this.isSelected?S(this.workspaceContentItem.element):S(this.workspaceContentItem.element[0].parentElement)}get hasMaximizedItems(){const t=this.workspace.layout;if(!t)return!1;return t.root.getItemsById(\"__glMaximised\").length>0}getMaximizedItemInRoot(t){var e,o,i;return null!==(o=null===(e=t)||void 0===e?void 0:e._maximizedItem)&&void 0!==o?o:null===(i=this.workspace.layout)||void 0===i?void 0:i._maximizedItem}get maximizedItemsInContainer(){var t,e;return Object.values((null===(e=null===(t=this.workspace)||void 0===t?void 0:t.layout)||void 0===e?void 0:e._maximizedItemsInTargetContainer)||{})}get icon(){return this.getPropertyFromConfig(\"icon\")}set icon(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.icon=t),this.workspaceContentItem.config.workspacesConfig.icon=t,P.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,icon:t})}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type)return;new O(this.stateResolver,e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowSplitters(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type||\"stack\"===e.type)return;new O(this.stateResolver,e,this.frameId,this.workspace.id).allowSplitters=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new O(this.stateResolver,e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{o(t)}))}else{new L(this.stateResolver,e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowReorder(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new O(this.stateResolver,e,this.frameId,this.workspace.id).allowReorder=t}e.contentItems.forEach((t=>{o(t)}))}else{new L(this.stateResolver,e,this.frameId).allowReorder=t}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowAddWindowButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new O(this.stateResolver,e,this.frameId,this.workspace.id).showAddWindowButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowEjectButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new O(this.stateResolver,e,this.frameId,this.workspace.id).showEjectButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowWindowCloseButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type)e.contentItems.forEach((t=>{o(t)}));else{new L(this.stateResolver,e,this.frameId).showCloseButton=t}};e.root.contentItems.forEach((t=>{o(t)}))}getPropertyFromConfig(t){var e;let o;return o=(null===(e=this.workspace)||void 0===e?void 0:e.layout)?this.workspace.layout.config.workspacesOptions[t]:this.workspaceContentItem.config.workspacesConfig[t],o}}class F{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}showWorkspaceSaveButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(F.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(F.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showWorkspaceIconButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);if(!e||e.element.hasClass(F.HibernationIconClass))return;const o=e.element.children(\".lm_iconButton\");o.css(\"display\",\"flex\"),o.show();e.element.find(\".lm_iconButtonContent\").css(\"-webkit-mask-image\",`url(\"${t.icon}\")`)}hideWorkspaceIconButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);e&&!e.element.hasClass(F.HibernationIconClass)&&e.element.children(\".lm_iconButton\").hide()}replaceWorkspaceSaveButtonWithIcon(t){P.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceSaveButton(t),this.showWorkspaceIconButton(t))}replaceWorkspaceIconButtonWithSave(t){P.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceIconButton(t),this.showWorkspaceSaveButton(t))}hideHibernatedIcon(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_saveButton\").removeClass(F.HibernationIconClass)}showHibernationIcon(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.is(\":visible\")||o.show(),o.addClass(F.HibernationIconClass),o.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId),o=M.getById(t.workspaceId);if(!e)return;const i=e.element.children(\".lm_saveButton\");i.removeClass(F.HibernationIconClass),i.attr(\"title\",F.SaveWorkspaceButtonLabel),o.layout&&!1===o.layout.config.workspacesOptions.showSaveButton&&i.hide()}showWorkspaceCloseButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=t.workspaceTab||M.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").hide()}addInvisibleStyle(t){const e=document.createElement(\"style\");e.type=\"text/css\",e.innerHTML=`.lm_content.transparent-color { background-color: ${t}; }`,document.getElementsByTagName(\"head\")[0].appendChild(e)}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?M.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?M.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?M.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.hide()}showWindowCloseButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.showWindowCloseButton(x(t.config.id))}))}hideWindowCloseButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.hideWindowCloseButton(x(t.config.id))}))}showEjectButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showEjectButton(x(t.config.id))}))}hideEjectButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideEjectButton(x(t.config.id))}))}showAddWindowButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(x(t.config.id))}))}hideAddWindowButtons(t){const e=M.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideAddWindowButton(x(t.config.id))}))}hideWorkspaceRootItem(t){const e=M.getById(t);(null==e?void 0:e.layout)&&$(e.layout.root.contentItems[0].element[0]).hide()}showWorkspaceRootItem(t,e){const o=M.getById(t);(null==o?void 0:o.layout)&&($(o.layout.root.contentItems[0].element[0]).show(),o.layout.root.getItemsByType(\"stack\").forEach((t=>{e.refreshTabsMaxWidth(t.header.tabsContainer)})))}waitForTransition(t){return this.hasTransition(t)?new Promise((e=>{let o=()=>{};const i=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())},n=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())};o=()=>{t.removeEventListener(\"transitionend\",i),t.removeEventListener(\"transitioncancel\",n)},t.addEventListener(\"transitionend\",i),t.addEventListener(\"transitioncancel\",n)})):Promise.resolve()}hasTransition(t){return\"all 0s ease 0s\"!==window.getComputedStyle(t,null).getPropertyValue(\"transition\")}}F.HibernationIconClass=\"lm_hibernationIcon\",F.SaveWorkspaceButtonLabel=\"save\";var H=new F;const N=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class j{constructor(t,e,o,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this.getImmediateChildEmptyWindow=t=>\"component\"===t.type?\"emptyVisibleWindow\"===t.config.componentName?t:void 0:\"stack\"===t.type?t.getComponentsByName(\"emptyVisibleWindow\")[0]:t.contentItems.reduce(((t,e)=>t||(\"component\"===e.type?\"emptyVisibleWindow\"===e.config.componentName?e:void 0:e.contentItems.find((t=>\"component\"===t.type&&\"emptyVisibleWindow\"===t.config.componentName)))),void 0),this._options=o,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return S(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator,this._tabObserver=new A,this._tabObserver.init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:M.getById(e.id)})}))))),this.setupOuterLayout(),M.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){o=o||x(M.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=M.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));let i=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];o&&o!==t.id&&(i=t.layout.root.getItemsById(o)[0]),i||(i=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:n,windowId:s,url:r,appName:a}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,x(n));const l=this.getImmediateChildEmptyWindow(i),c=M.getWorkspaceContentItem(t.id),d=new z(this._stateResolver,t,c,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,i,d,o===t.id);else{[...E(e.content),e].forEach((e=>{this.applyLockConfig(e,i,d,o===t.id)}))}return new Promise((o=>{var s,r;const a=this.emitter.onContentComponentCreated((t=>{t.config.id===n&&(a(),o())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=W([e])[0]),l&&l.parent&&!(null===(s=l.parent.config.workspacesConfig)||void 0===s?void 0:s.wrapper)){const o=this._configFactory.wrapInGroup([e]);o.workspacesConfig.wrapper=!1;const i=function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(o[i[n]]=t[i[n]])}return o}((null===(r=l.parent.config)||void 0===r?void 0:r.workspacesConfig)||{},[\"wrapper\"]);return o.workspacesConfig=Object.assign(Object.assign({},o.workspacesConfig),i),l.parent.parent.replaceChild(l.parent,o),void(t.windows=t.windows.filter((t=>t.id!==x(l.config.id))))}if(l)return l.parent.replaceChild(l,e),void(t.windows=t.windows.filter((t=>t.id!==x(l.config.id))));i.addChild(e)}))}))}addContainer(e,o){var i;return t(this,void 0,void 0,(function*(){const t=M.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const o=e.id||this._configFactory.getId();return e&&(e.id=o),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),x(o)}let n=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(o&&(n=t.layout.root.getItemsById(o)[0]),n||(n=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===o&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),n=t.layout.root.contentItems[0]),e.content&&W(e.content).forEach((e=>{this.registerWindowComponent(t.layout,x(e.id))})),e.content){const i=[...E(e.content),e],s=M.getWorkspaceContentItem(t.id),r=new z(this._stateResolver,t,s,this._frameId);i.forEach((e=>{this.applyLockConfig(e,n,r,o===t.id)}))}if(\"component\"===n.type)throw new Error(\"The target item for add container can't be a component\");const s=n.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),r=(null===(i=null==s?void 0:s.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((o,i)=>{let a=()=>{};const l=setTimeout((()=>{a(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(a=this.emitter.onContentItemCreated(((i,n)=>{i===t.id&&n.type===e.type&&(o(x(n.config.id)),a(),clearTimeout(l))})),1===(null==s?void 0:s.contentItems.length)&&r){const o=n.getComponentsByName(this._emptyVisibleWindowName)[0];t.windows=t.windows.filter((t=>t.id!==o.config.id)),o.parent.replaceChild(o,e)}else n.addChild(e)}))}))}closeContainer(t){const e=M.getByContainerId(t)||M.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);const o=e.layout.root.getItemsById(t)[0];o.parent.isRoot?this.resetWorkspace(e.id):o.remove()}bundleWorkspace(t,e){const o=M.getById(t),i=o.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),n=o.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};o.layout.root.replaceChild(n,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,o){var i,n,s,r;return t(this,void 0,void 0,(function*(){const t=M.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],a={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:Object.assign({},o.workspacesOptions),id:e,noTabHeader:null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(n=null==o?void 0:o.workspacesOptions)||void 0===n?void 0:n.title)||this._configFactory.getWorkspaceTitle(this._stateResolver.getWorkspaceTitles())};let l=!0;!0===a.noTabHeader?l=!1:\"boolean\"==typeof o.workspacesOptions.selected&&(l=o.workspacesOptions.selected),this.registerWorkspaceComponent(e);const c=null===(s=o.workspacesOptions)||void 0===s?void 0:s.positionIndex;if(null===(r=o.workspacesOptions)||void 0===r||delete r.positionIndex,c<0)throw new Error(`Cannot place the workspace on index ${c} because its negative`);const d=t.header._getLastIndexOfPinnedTab();if(c<=d&&!o.workspacesOptions.isPinned)throw new Error(\"Cannot place and unpinned workspace before the last pinned workspace at position \"+d);t.addChild(a,c,l),yield this.initWorkspaceContents(e,o,!1);const h=M.getWorkspaceContentItem(e),u=new z(this._stateResolver,M.getById(e),h,this._frameId);!1===u.showCloseButton&&H.hideWorkspaceCloseButton({workspaceTab:h.tab}),!1===u.showSaveButton&&H.hideWorkspaceSaveButton({workspaceTab:h.tab}),u.isPinned&&(H.replaceWorkspaceSaveButtonWithIcon({workspaceTab:h.tab,icon:u.icon}),H.waitForTransition(h.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(h.parent.header.tabsContainer)}))),this.setupContentLayouts(e)}))}reinitializeWorkspace(t,e){var o,i;const n=M.getWorkspaceContentItem(t);return M.removeLayout(t),(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,(null===(i=e.workspacesOptions)||void 0===i?void 0:i.title)&&this.setWorkspaceTitle(x(n.config.id),e.workspacesOptions.title),this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=M.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could not find workspace to remove with id \"+t);M.removeById(t),e.remove()}resetWorkspace(e){return t(this,void 0,void 0,(function*(){const o=M.getById(e);o.hibernatedWindows=[],o.windows.filter((t=>t.appName||t.windowId)).map((e=>t(this,void 0,void 0,(function*(){const t=M.getWindowContentItem(e.id);t&&this.emitter.raiseEvent(\"tab-close-requested\",{item:t})}))));o.layout.root.getItemsByType(\"component\").forEach((t=>{t.remove()})),M.removeLayout(o.id),this.showAddButton(o.id)}))}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const o=$(\"link[href='./dist/glue42-light-theme.css']\");(0===o.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):o).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const o=this.getDragElement();if(o){o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\");const i=$(o).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const o=new MutationObserver((i=>{let n;Array.from(i).forEach((t=>{const e=$(t.addedNodes);n||(n=e.find(\".lm_dragProxy\"))})),n&&(o.disconnect(),this.setDragElementSize(t,e))}));o.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return M.layouts.filter((t=>t.layout)).forEach((o=>{const i=o.layout.root.getItemsById(t)[0];i&&o.windows.find((e=>e.id===t))&&(o.windows=o.windows.filter((e=>e.id!==t)),i.remove(),e=o)})),e}setWindowTitle(t,e){const o=M.getWindowContentItem(t);if(!o)throw new Error(`Could not find window ${t} to change its title to ${e}`);o.setTitle(e),o.config.componentState.title=e}setWorkspaceTitle(t,e){M.getWorkspaceLayoutItemById(t).setTitle(e),P.decoratedFactory.updateWorkspaceTabs({workspaceId:t,title:e})}focusWindow(t){const e=M.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.setActiveContentItem(o)}focusWorkspace(t){const e=M.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=M.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.hasId(this._maximizedId)||(o.parent.layoutManager._$maximiseItem(o.parent),o.parent.isMaximized=o.parent.hasId(\"__glMaximised\"))}restoreWindow(t){const e=M.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.hasId(this._maximizedId)&&(o.parent.layoutManager._$minimiseItem(o.parent),o.parent.isMaximized=o.parent.hasId(\"__glMaximised\"))}maximizeContainer(t){const e=M.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);e.hasId(\"__glMaximised\")||(e.layoutManager._$maximiseItem(e),e.isMaximized=e.hasId(\"__glMaximised\"))}restoreContainer(t){const e=M.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);e.hasId(\"__glMaximised\")&&(e.layoutManager._$minimiseItem(e),e.isMaximized=e.hasId(\"__glMaximised\"))}showLoadedWindow(e,o){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=M.getWindowContentItem(e),i=M.getByWindowId(e),n=t.config;n.componentState.windowId=o,i.windows.find((t=>t.id===e)).windowId=o,t.parent.replaceChild(t,n)}))}isWindowVisible(t){t=x(t);const e=M.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const o=null===(e=M.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return;const i=o.element.children(\".lm_saveButton\");i.addClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const o=null===(e=M.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return void console.error(\"Could not find the tab for\",t);const i=o.element.children(\".lm_saveButton\");i.removeClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=M.getWindowContentItem(t);if(null==e?void 0:e.tab){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),o=M.getById(t);if(e&&(null==o?void 0:o.layout)){const t=S(e);o.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const o=M.getWorkspaceContentItem(t),i=M.getById(t),n=new z(this._stateResolver,i,o,this._frameId);n.allowDrop=e.allowDrop,n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const o=M.getWorkspaceContentItem(t),i=M.getById(t),n=new z(this._stateResolver,i,o,this._frameId);n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}enableWorkspaceSaveButton(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t),i=new z(this._stateResolver,e,o,this._frameId);i.showSaveButton=!0,i.isPinned||H.showWorkspaceSaveButton({workspaceTab:o.tab})}disableWorkspaceSaveButton(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showSaveButton=!1,H.hideWorkspaceSaveButton({workspaceTab:o.tab})}enableWorkspaceReorder(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowWorkspaceTabReorder=!0}disableWorkspaceReorder(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowWorkspaceTabReorder=!1}enableWorkspaceCloseButton(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t),i=new z(this._stateResolver,e,o,this._frameId);i.showCloseButton=!0,i.isPinned||H.showWorkspaceCloseButton({workspaceTab:o.tab})}disableWorkspaceCloseButton(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showCloseButton=!1,H.hideWorkspaceCloseButton({workspaceTab:o.tab})}enableSplitters(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowSplitters=!0}disableSplitters(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowExtract=!1}enableWorkspaceWindowReorder(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowWindowReorder=!0}disableWorkspaceWindowReorder(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).allowWindowReorder=!1}enableWorkspaceWindowCloseButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!0,H.showWindowCloseButtons(t)}disableWorkspaceWindowCloseButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!1,H.hideWindowCloseButtons(t)}enableWorkspaceEjectButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showEjectButtons=!0,H.showEjectButtons(t)}disableWorkspaceEjectButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showEjectButtons=!1,H.hideEjectButtons(t)}enableWorkspaceAddWindowButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!0,H.showAddWindowButtons(t)}disableWorkspaceAddWindowButtons(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!1,H.hideAddWindowButtons(t)}enableWindowExtract(t,e){const o=M.getWindowContentItem(t);new L(this._stateResolver,o,this._frameId).allowExtract=e}disableWindowExtract(t){const e=M.getWindowContentItem(t);new L(this._stateResolver,e,this._frameId).allowExtract=!1}enableWindowReorder(t,e){const o=M.getWindowContentItem(t);new L(this._stateResolver,o,this._frameId).allowReorder=e}disableWindowReorder(t){const e=M.getWindowContentItem(t);new L(this._stateResolver,e,this._frameId).allowReorder=!1}enableWindowCloseButton(t,e){const o=M.getWindowContentItem(t);new L(this._stateResolver,o,this._frameId).showCloseButton=e;const i=M.getByWindowId(t),n=M.getWorkspaceContentItem(i.id);new z(this._stateResolver,i,n,this._frameId).showCloseButton&&H.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=M.getWindowContentItem(t);new L(this._stateResolver,e,this._frameId).showCloseButton=!1,H.hideWindowCloseButton(t)}enableColumnDrop(t,e){const o=M.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowDrop=e}disableColumnDrop(t){const e=M.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const o=M.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowDrop=e}disableRowDrop(t){const e=M.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowDrop=!1}enableColumnSplitters(t,e){const o=M.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowSplitters=e}disableColumnSplitters(t){const e=M.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowSplitters=!1}enableRowSplitters(t,e){const o=M.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowSplitters=e}disableRowSplitters(t){const e=M.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowSplitters=!1}enableGroupDrop(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new O(this._stateResolver,o,this._frameId);i.allowDrop=e.allowDrop,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableGroupDrop(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new O(this._stateResolver,o,this._frameId);i.allowDrop=!1,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableGroupMaximizeButton(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).showMaximizeButton=e,H.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=M.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).showMaximizeButton=!1,H.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).showEjectButton=e,H.showEjectButton(t)}disableGroupEjectButton(t){const e=M.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).showEjectButton=!1,H.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).showAddWindowButton=e,H.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=M.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).showAddWindowButton=!1,H.hideAddWindowButton(t)}enableGroupExtract(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowExtract=e}disableGroupExtract(t){const e=M.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowExtract=!1}enableGroupReorder(t,e){const o=M.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new O(this._stateResolver,o,this._frameId).allowReorder=e}disableGroupReorder(t){const e=M.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new O(this._stateResolver,e,this._frameId).allowReorder=!1}resizeRow(t,e){const o=t.getItemsByType(\"component\")[0];let i=this.validateRowHeight(t,e);if(i){if(\"number\"==typeof e){i-=B(o.parent.header.element)}this.resizeComponentCore(o,void 0,i)}}resizeColumn(t,e){const o=t.getItemsByType(\"component\")[0],i=this.validateColumnWidth(t,e);i&&this.resizeComponentCore(o,i)}resizeStack(t,e,o){const i=this.validateStackWidth(t,e);let n=this.validateStackHeight(t,o);const s=t.getItemsByType(\"component\")[0];if(\"number\"==typeof n){n-=B(s.parent.header.element)}this.resizeComponentCore(s,i,n)}resizeComponent(t,e,o){this.resizeComponentCore(t,e,o)}togglePinWorkspace(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);new z(this._stateResolver,e,o,this._frameId).isPinned?this.unpinWorkspace(t):this.pinWorkspace(t,void 0)}pinWorkspace(t,e){const o=M.getWorkspaceContentItem(t),i=new z(this._stateResolver,M.getById(t),o,this._frameId),n=e||i.icon;if(!n)throw new Error(`Workspace ${t} cannot be pinned because ${n} is an invalid icon`);o.tab.pin(),e&&(i.icon=e),H.replaceWorkspaceSaveButtonWithIcon({workspaceTab:o.tab,icon:n}),H.waitForTransition(o.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(o.parent.header.tabsContainer)})),P.decoratedFactory.updateWorkspaceTabs({workspaceId:t,icon:e,isPinned:!0})}unpinWorkspace(t){const e=M.getWorkspaceContentItem(t),o=new z(this._stateResolver,M.getById(t),e,this._frameId);e.tab.unpin(),o.showSaveButton&&H.showWorkspaceSaveButton({workspaceTab:e.tab}),o.showCloseButton||H.hideWorkspaceCloseButton({workspaceTab:e.tab}),H.hideWorkspaceIconButton({workspaceTab:e.tab}),H.waitForTransition(e.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(e.parent.header.tabsContainer)})),P.decoratedFactory.updateWorkspaceTabs({workspaceId:t,isPinned:!1})}hideWorkspaceRootItem(t){H.hideWorkspaceRootItem(t)}showWorkspaceRootItem(t){H.showWorkspaceRootItem(t,this._tabObserver)}resizeComponentCore(t,e,o){const i=this.validateComponentWidth(t,e),n=this.validateComponentHeight(t,o);if(\"number\"==typeof i){const e=t.container.setSize(i,void 0);if(t.container.setSize(i,void 0),!e)throw new Error(`Failed to resize window ${t.config.id} to ${i} width.\\n                 This is most likely caused by a missing row parent element - to change the width please make sure that there is a row element`)}if(\"number\"==typeof n){const e=t.container.setSize(void 0,n);if(t.container.setSize(void 0,n),!e)throw new Error(`Failed to resize component ${t.config.id} to ${n} height.\\n                     This is most likely caused by a missing column parent element - to change the height please make sure that there is a column element`)}}validateRowHeight(t,e){if(!e)return;const o=t.parent,i=o.getMaxHeight(),n=t.getMaxHeight(),s=t.getMinHeight(),r=S(o.element).height,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinHeight()),0);if(a<=0)return;const l=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxHeight()),0),c=Math.max(r-l,0),d=Math.min(i,n,a),h=Math.max(c,s);return d<h?void 0:Math.min(Math.max(h,e),d)}validateColumnWidth(t,e){if(!e)return;const o=t.parent,i=o.getMaxWidth(),n=t.getMaxWidth(),s=t.getMinWidth(),r=S(o.element).width,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinWidth()),0);if(a<=0)return;const l=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxWidth()),0),c=Math.max(r-l,0),d=Math.min(i,n,a),h=Math.max(c,s);return d<h?void 0:Math.min(Math.max(h,e),d)}validateStackHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateStackWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}initWorkspaceContents(t,e,o){if(!e||\"component\"!==e.type&&!e.content.length)return M.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let o,i,n=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{n++,n>=t&&(clearTimeout(s),o())},promise:new Promise(((t,e)=>{o=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[e]});const s=M.getWorkspaceContentItem(t),r=s.config.workspacesConfig,a=e.workspacesOptions,l=o?Object.assign({},r,a):a;\"boolean\"==typeof l.selected&&delete l.selected,s.config.workspacesConfig=l,e.workspacesOptions=l,e.workspacesOptions.workspaceId=t;const c=new i(e,$(\"#nestHere\"+t),P.decoratedFactory);M.addOrUpdate(t,[]),this.registerEmptyWindowComponent(c,t),W(e.content).forEach((t=>{this.registerWindowComponent(c,x(t.id))}));const d=$(\"#nestHere\"+t);return new N((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(d[0]),c.on(\"initialised\",(()=>{const e=W(c.toConfig().content);M.addOrUpdate(t,e.map((t=>{const e=c.root.getItemsById(x(t.id))[0].element;return{id:x(t.id),bounds:S(e),windowId:t.componentState.windowId}})),c),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:c});const o=d.width(),i=d.height();c.updateSize(o,i),n.signal()})),c.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),c.on(\"itemCreated\",(e=>{var o,i;if(e.isComponent)e.on(\"size-changed\",(()=>{const o=M.getById(t).windows.find((t=>t.id===e.config.id));o&&(o.bounds=S(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:x(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(o=e.parent)||void 0===o?void 0:o.config.workspacesConfig.wrapper))&&(null===(i=e.tab)||void 0===i||i.header.position(!1));else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId()),\"row\"!==e.type&&\"column\"!==e.type&&\"stack\"!==e.type||(e.on(\"maximized\",(()=>{this.emitter.raiseEvent(\"container-maximized\",{container:e})})),e.on(\"minimized\",(()=>{this.emitter.raiseEvent(\"container-restored\",{container:e})})))}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),c.on(\"itemDestroyed\",(e=>{this.emitter.raiseEvent(\"content-item-removed\",{workspaceId:t,item:e})})),c.on(\"stackCreated\",(e=>{const o=new O(this._stateResolver,e,this._frameId),i=document.createElement(\"li\");i.classList.add(\"lm_add_button\"),i.onclick=o=>{o.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:x(e.config.id),workspaceId:t,bounds:S(i)}})};const n=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");n.addClass(\"workspace_content\"),!1===o.showMaximizeButton&&H.hideMaximizeButton(e),!1===c.config.workspacesOptions.showEjectButtons&&!0!==o.showEjectButton&&H.hideAddWindowButton(e),!1===o.showEjectButton&&H.hideEjectButton(e),e.on(\"maximized\",(()=>{n.addClass(\"lm_restore\"),n.attr(\"title\",this._stackRestoreLabel)})),e.on(\"minimized\",(()=>{n.removeClass(\"lm_restore\"),n.attr(\"title\",this._stackMaximizeLabel)})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(i)),!1===c.config.workspacesOptions.showAddWindowButtons&&!0!==o.showAddWindowButton&&H.hideAddWindowButton(e),!1===o.showAddWindowButton&&H.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const o=t.config.id,i=[{id:x(t.config.id),bounds:S(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],n=e.header.tabs.reduce(((t,e)=>{const o=e.contentItem.config;if(\"component\"===o.type){const i={id:x(o.id),bounds:S(e.contentItem.element),windowId:o.componentState.windowId,appName:o.componentState.appName,url:o.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==o));this.emitter.raiseEvent(\"selection-changed\",{toBack:n,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),c.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragStop\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;const e=new L(this._stateResolver,t.contentItem,this._frameId);!1===c.config.workspacesOptions.showWindowCloseButtons&&!0!==e.showCloseButton&&H.hideWindowCloseButton(t.contentItem),!1===e.showCloseButton&&H.hideWindowCloseButton(t.contentItem)})),c.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),c.on(\"componentCreated\",(e=>{const o=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(o)?Promise.all(o).then((()=>{n.signal()})).catch((t=>n.reject(t))):o.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),c.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),c.on(\"itemDropped\",(t=>{this.emitter.raiseEvent(\"item-dropped\",{item:t})})),c._ignorePinned=!0,c.init(),n.promise.then((()=>{c._ignorePinned=!1}))}initWorkspaceConfig(e){return new Promise((o=>{e.settings.selectionEnabled=!0,M.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),P.decoratedFactory);new N((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(x(e))})),M.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{});M.workspaceLayout.root.getItemsByType(\"stack\")[0].header.tabs.forEach((t=>{var e,o,i;const n=new z(this._stateResolver,void 0,t.contentItem,this._frameId);n.isPinned&&(H.replaceWorkspaceSaveButtonWithIcon({workspaceTab:t,icon:n.icon}),H.waitForTransition(t.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(t.contentItem.parent.header.tabsContainer)}))),(null===(i=null===(o=null===(e=t.contentItem)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.selected)&&delete t.contentItem.config.workspacesConfig.selected})),o()})),M.workspaceLayout.on(\"stackCreated\",(e=>{var o;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const n=e.header.element[0],s=null===(o=P.decoratedFactory)||void 0===o?void 0:o.createAddWorkspace;if(new MutationObserver((()=>{const t=this.getElementByClass(n,\"lm_add_button\");t&&P.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:S(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!s){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!P.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const e=n.getElementsByClassName(\"lm_logo\")[0];e&&e.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===M.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(x(t));const o=M.workspaceIds.reduce(((t,e)=>[...t,...M.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:M.getById(t),toBack:o})}))))})),M.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:x(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),M.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\"),o=document.createElement(\"div\"),i=document.createElement(\"span\");o.classList.add(\"lm_iconButton\"),i.classList.add(\"lm_iconButtonContent\"),o.appendChild(i),e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:x(t.contentItem.config.id)})},this._options.disableCustomButtons||(P.decoratedFactory.createWorkspaceTabs||(t.element[0].prepend(o),t.element[0].prepend(e)),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t);const n=M.getById(t.contentItem.config.id),s=new z(this._stateResolver,n,t.contentItem,this._frameId);!1===s.showSaveButton&&H.hideWorkspaceSaveButton({workspaceTab:t}),!1===s.showCloseButton&&H.hideWorkspaceCloseButton({workspaceTab:t}),t._dragListener.on(\"reorderStop\",(()=>{M.syncWorkspaceOrder()}))})),M.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:M.getById(t.contentItem.config.id)})})),M.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{M.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const o=M.getById(t).layout;if(o){const e=$(\"#nestHere\"+t),i=S(e[0]);o.updateSize(i.width,i.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:100%;\"),o.id=\"app\"+e,t.getElement().append(o)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const o=document.createElement(\"div\");o.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=o=>{o.stopPropagation();const n=t.tab.contentItem,s=\"stack\"===n.parent.type?\"group\":n.parent.type;n.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:x(n.parent.parent.config.id),workspaceId:e,parentType:n.parent.parent.type,bounds:S(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:x(n.parent.config.id),workspaceId:e,parentType:s,bounds:S(i)}})},o.append(i),t.getElement().append(o)}))}registerWorkspaceComponent(t){this.registerComponent(M.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var o,i;const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),n.classList.add(\"empty-container-background\"),n.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=o=>{o.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:x(i.parent.id),workspaceId:t,bounds:S(s)}})},n.appendChild(s),(null===(o=P.decoratedFactory)||void 0===o?void 0:o.createWorkspaceContents)?(document.body.append(n),n.style.display=\"none\",null===(i=P.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(n),$(s).hide()}))}registerComponent(t,e,o){try{t.registerComponent(e,(function(t,e){o&&o(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const o=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),o()}));M.getById(t)&&(e(),o())}))}waitForWindowContainer(t){return new Promise((e=>{const o=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),o())}));M.getWindowContentItem(t)&&(e(),o())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:x(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=S($(this._workspaceLayoutElementId));M.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));o&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const o=t.getElementsByClassName(e);if(o.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return o[0]}applyLockConfig(t,e,o,i){var n,s,r,a,l;const c=i?o.allowDrop:e.config.workspacesConfig.allowDrop,d=i?o.allowSplitters:e.config.workspacesConfig.allowSplitters;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(n=t.workspacesConfig.allowDrop)&&void 0!==n?n:c),void 0===t.workspacesConfig.allowExtract){const e=o.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}if(void 0===t.workspacesConfig.allowReorder){const e=o.allowWindowReorder;t.workspacesConfig.allowReorder=null!==(r=t.workspacesConfig.allowReorder)&&void 0!==r?r:e}void 0===t.workspacesConfig.showAddWindowButton&&(t.workspacesConfig.showAddWindowButton=o.showAddWindowButtons),void 0===t.workspacesConfig.showEjectButton&&(t.workspacesConfig.showEjectButton=o.showEjectButtons)}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(a=t.workspacesConfig.allowDrop)&&void 0!==a?a:c),void 0===t.workspacesConfig.allowSplitters&&(t.workspacesConfig.allowSplitters=null!==(l=t.workspacesConfig.allowSplitters)&&void 0!==l?l:d);else if(\"component\"===t.type){if(void 0===t.workspacesConfig.allowExtract){const n=i?o.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=n}if(void 0===t.workspacesConfig.allowReorder){const n=i?o.allowWindowReorder:e.config.workspacesConfig.allowReorder;t.workspacesConfig.allowReorder=n}void 0===t.workspacesConfig.showCloseButton&&(t.workspacesConfig.showWindowCloseButtons=o.showWindowCloseButtons)}}}class q{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onContainerMaximized(t){return this._registry.add(\"container-maximized\",t)}onContainerRestored(t){return this._registry.add(\"container-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}onItemDropped(t){return this._registry.add(\"item-dropped\",t)}onContentItemRemoved(t){return this._registry.add(\"content-item-removed\",t)}raiseEvent(t,e){const o=this._registry.execute(t,...Object.values(e));return Array.isArray(o)&&o.some((t=>t&&t.then))||o&&!Array.isArray(o)&&o.then?o:Promise.resolve(o)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}const G=require(\"semver/functions/lte\");class V{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,o,i,n){return t(this,void 0,void 0,(function*(){return this.startCore(e,o,i,n)}))}moveFrame(t,e){const o=this._idToFrame[t],i=$(o);0!==e.width&&0!==e.height&&(i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\")),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",this.getMaximizedFrameZIndex()):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],window.glue42core.platformVersion&&!G(window.glue42core.platformVersion,\"1.12.11\")||e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setTimeout((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)}),0))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,o,i,n){return t(this,void 0,void 0,(function*(){if(n=n||D(),this._idToFrame[e])return this._idToFrame[e];if(!o)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");t.name=n+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=o;return new URL(location.href).protocol.includes(\"extension\")&&t.setAttribute(\"sandbox\",\"allow-forms allow-scripts allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin\"),document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(n),t}))}waitForWindow(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{o(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((o=>{o.id===t&&(i(),e(),clearTimeout(n))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(n))}))}getMaximizedFrameZIndex(){return\"42\"}}var U=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var X=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),o=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),n=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,l=[];try{l=JSON.parse(n)||l}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&l.push(i);const c={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=o&&void 0!==o,workspaceNames:l,context:a,build:null!=r};return this._config=c,this.cleanUpUrl(),c}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const o=new URLSearchParams(t),i=o.get(e);Array.from(o.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class Y{constructor(t,e,o,i,n,s){this.resolver=t,this._glue=e,this._configFactory=o,this._configConverter=i,this._constraintsValidator=n,this._platformCommunicator=s,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig(this._initialWorkspaceConfig);const o=X.config;if(o.workspaceNames&&o.workspaceNames.length){const e=(yield Promise.all(o.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},o.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,o.context):o.context&&(t.workspacesOptions.context=o.context),t.workspacesOptions.layoutName=o.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=X.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig(this.resolver.getWorkspaceTitles())}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(U.get(U.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){var o,i,n;return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),s=t.components[0].state;this._constraintsValidator.fixWorkspace(s);const r=this._configConverter.convertToRendererConfig(s);return null===(i=null===(o=r)||void 0===o?void 0:o.workspacesOptions)||void 0===i||delete i.positionIndex,this.addWorkspaceIds(r),{config:r,layoutData:{metadata:t.metadata,name:e,context:null!==(n=s.context)&&void 0!==n?n:{}}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var o;return t(this,void 0,void 0,(function*(){const{workspace:t,name:i,saveContext:n}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(o=t.layout)||void 0===o?void 0:o.config)||t.hibernateConfig).workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t,i);s.config.title&&delete s.config.title;let r=void 0;if(n)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:i,type:this._layoutsType,metadata:e.metadata,components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:null!=r?r:{}}}]};try{yield this._glue.layouts.import([a],\"merge\")}catch(t){throw console.error(t),t}return a}))}generateLayout(e,o){return t(this,void 0,void 0,(function*(){if(!o.layout)throw new Error(\"An empty layout cannot be generated\");o.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(o,e);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var o,i;return t(this,void 0,void 0,(function*(){if(!(null===(i=null===(o=window.glue42core)||void 0===o?void 0:o.workspacesFrameCache)||void 0===i||i))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);U.set(U.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const o=e=>t(this,void 0,void 0,(function*(){if(\"window\"===e.type){if(\"no-app-window\"===e.config.appName||!e.config.appName){e.config.appName=\"no-app-window\";const t=yield this.getWindowLayoutState(e.config.windowId);e.config.noAppWindowState=t}}else e.children.forEach((t=>o(t)))}));yield Promise.all(e.children.map((e=>t(this,void 0,void 0,(function*(){yield o(e)})))))}))}removeWorkspaceItemIds(t){const e=t=>{var o;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(o=t.children)||void 0===o||o.forEach((t=>e(t))))};e(t)}removeWorkspaceWindowWindowIds(t){const e=t=>{var o;\"window\"===t.type&&delete t.config.windowId,\"window\"!==t.type&&(null===(o=t.children)||void 0===o||o.forEach((t=>e(t))))};e(t)}applySavedContexts(e,o){return t(this,void 0,void 0,(function*(){const t=(t=>{const e=[],o=t=>{\"window\"!==t.type?t.children.forEach((t=>o(t))):e.push(t)};return o(t),e})(e),i=t.map((t=>t.config.windowId)).filter((t=>t));(yield this._platformCommunicator.requestOnLayoutSaveContexts({layoutName:o.layoutName,layoutType:o.layoutType,context:o.context,windowIds:i})).forEach((({windowId:e,windowContext:o})=>{t.find((t=>t.config.windowId===e)).config.context=o}))}))}saveWorkspaceCore(e,o){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName;const i=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(i),yield this.applyWindowLayoutState(i),yield this.applySavedContexts(i,{layoutName:o,layoutType:\"Workspace\"}),this.windowSummariesToWindowLayout(i),this.workspaceSummaryToWorkspaceLayout(i),i}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id),o=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(o),this.windowSummariesToWindowLayout(o),this.workspaceSummaryToWorkspaceLayout(o),o}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isLoaded,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(T(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const t=this._glue.windows.findById(e);return{bounds:{},createArgs:{url:yield t.getURL()}}}))}}class J{constructor(t,e,o,i){this._frameId=t,this._layoutEventEmitter=e,this.frameController=o,this.converter=i}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=M.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=M.getWindowContentItem(e));return new L(this,t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const o=e||M.getWindowContentItem(t);return new L(this,o,this._frameId).summary}getWorkspaceConfig(t){const e=M.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new z(this,e,M.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSnapshot(e,o,i){return t(this,void 0,void 0,(function*(){const t=this.getWorkspaceSnapshotSync(e,o);return yield o.layoutsManager.applyWindowLayoutState(t),i&&(o.layoutsManager.removeWorkspaceItemIds(t),o.layoutsManager.removeWorkspaceWindowWindowIds(t)),{id:e,children:t.children,config:t.config,frameSummary:o.getFrameSummary(this._frameId),context:yield o.getWorkspaceContext(t.id)}}))}getAllWorkspacesLayouts(e,o){const i=M.workspaceIds.map((t=>this.getWorkspaceSnapshotSync(t,e)));return Promise.all(i.map((i=>t(this,void 0,void 0,(function*(){const t=i.id;return yield e.layoutsManager.applyWindowLayoutState(i),yield e.layoutsManager.applySavedContexts(i,o),e.layoutsManager.removeWorkspaceItemIds(i),e.layoutsManager.removeWorkspaceWindowWindowIds(i),{id:t,children:i.children,config:i.config,frameSummary:e.getFrameSummary(this._frameId),context:yield e.getWorkspaceContext(t)}})))))}getWorkspaceSummary(t){return new z(this,M.getById(t),M.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=x(t),o=M.getWindowContentItem(e);return new L(this,o,this._frameId).isMaximized}isWindowInMaximizedContainer(t){const e=Array.isArray(t)?t[0]:t,o=M.getWindowContentItem(e),i=t=>{if(t&&!t.isRoot)return t.hasId(\"__glMaximised\")?t:i(t.parent)};return!!i(o)}isWindowSelected(t){const e=x(t),o=M.getWindowContentItem(e);return new L(this,o,this._frameId).isSelected}isWorkspaceSelected(t){const e=M.getById(t),o=M.getWorkspaceContentItem(t);return new z(this,e,o,this._frameId).isSelected}isWorkspaceHibernated(t){const e=M.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const o=M.getWorkspaceContentItem(e.id);return new z(this,e,o,this._frameId).isHibernated}getContainerSummary(t){t=x(t);const e=M.getContainer(t);return new O(this,e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new O(this,t,this._frameId,e).summary}getContainerConfig(t){const e=M.getContainer(t);return new O(this,e,this._frameId).config}isWindowInWorkspace(t){return!!M.getWindowContentItem(t)}getFrameSnapshot(e,o){return t(this,void 0,void 0,(function*(){const t=yield Promise.all(M.workspaceIds.map((t=>this.getWorkspaceSnapshot(t,e,o)))),i=this.getFrameConstraints();return{id:this._frameId,config:Object.assign({},i),workspaces:t}}))}getSnapshot(e,o){return t(this,void 0,void 0,(function*(){try{return this.getWorkspaceConfig(e)}catch(t){return this.getFrameSnapshot(o)}}))}getWorkspaceSnapshotSync(t,e){const o=this.getWorkspaceConfig(t),i=this.converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:e.getFrameSummary(this._frameId)}}extractWindowSummariesFromSnapshot(t){const e=[],o=(t,i)=>{\"component\"!==t.type?t.content.forEach((e=>o(e,x(t.id)))):e.push({itemId:x(t.id),parentId:i,config:t.workspacesConfig})};return o(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(x(t))}getRendererWindowBounds(){return{left:window.visualViewport.offsetLeft,top:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height}}getFrameConstraints(){return M.workspaceIds.map((t=>new z(this,M.getById(t),M.getWorkspaceContentItem(t),this._frameId))).reduce(((t,e)=>{const o=this.getRendererWindowBounds(),i=o.width-e.bounds.width,n=o.height-e.bounds.height,s=Math.ceil(Math.max(e.minWidth+i,t.minWidth)),r=Math.ceil(Math.max(e.minHeight+n,t.minHeight)),a=Math.ceil(Math.min(e.maxWidth+i,t.maxWidth)),l=Math.ceil(Math.min(e.maxHeight+n,t.maxHeight));return r<=l&&s<=a&&(t.minWidth=s,t.minHeight=r,t.maxWidth=a,t.maxHeight=l),t}),{minWidth:20,maxWidth:32767,minHeight:20,maxHeight:32767})}getWorkspaceIcon(t){return new z(this,M.getById(t),M.getWorkspaceContentItem(t),this._frameId).icon}getWorkspaceTitles(){return M.workspaceIds.map((t=>new z(this,M.getById(t),M.getWorkspaceContentItem(t),this._frameId).title))}getFrameBounds(){return{top:window.screenTop,left:window.screenLeft,width:window.innerWidth,height:window.innerHeight}}waitForWindowContentItem(t){return new Promise((e=>{const o=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(o(),e())}));M.getWindowContentItem(t)&&(o(),e())}))}}class Z{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const o=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((o.length?o.sort(((t,e)=>t-e))[o.length-1]:0)+1+e)}}class Q{constructor(t){this._titleGenerator=new Z,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),o={allowExtract:t.allowExtract,allowReorder:t.allowReorder,showCloseButton:t.showCloseButton,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,positionIndex:t.positionIndex,isMaximized:t.isMaximized,noAppWindowState:t.noAppWindowState};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:o})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,isSelected:t.isSelected,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,allowReorder:t.allowReorder,showCloseButton:t.showCloseButton,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,widthInPx:t.widthInPx,heightInPx:t.heightInPx}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return b.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(t){const e=b.generate();return{frameId:void 0,workspaceConfigs:[{id:e,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:e,componentName:this.getWorkspaceLayoutComponentName(e),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(t)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e=t.find((t=>{var e;return null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.selected})),o={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",activeItemIndex:e?t.indexOf(e):t.length-1,content:t.map((t=>{var e,o,i;const n=b.generate();return{workspacesConfig:Object.assign({},t.workspacesOptions),type:\"component\",id:(null==t?void 0:t.id)||n,componentName:this.getWorkspaceLayoutComponentName(x(null==t?void 0:t.id)||n),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(M.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,e)=>{let i=null==t?void 0:t.id;return i||\"component\"===o.content[0].type||(i=o.content[0].content[e].id),{id:i,config:t}})),workspaceLayout:o}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}convertLayoutOptionsToWorkspaceItem(e,o,i){var n;return t(this,void 0,void 0,(function*(){const t=yield i.getWorkspaceByName(e),s=t.config;return s.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&s.workspacesOptions.context?s.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(s.workspacesOptions.context=null==o?void 0:o.context),s.workspacesOptions.title=(null==o?void 0:o.title)||e,s.workspacesOptions.icon=null!==(n=null==o?void 0:o.icon)&&void 0!==n?n:s.workspacesOptions.icon,s&&s.workspacesOptions&&!s.workspacesOptions.name&&(s.workspacesOptions.name=e),s&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.layoutName=t.layoutData.name),s&&o&&(s.workspacesOptions.loadingStrategy=o.loadingStrategy),s&&void 0!==(null==o?void 0:o.noTabHeader)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),s&&void 0!==(null==o?void 0:o.isPinned)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.isPinned=null==o?void 0:o.isPinned),s&&void 0!==(null==o?void 0:o.isSelected)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.selected=null==o?void 0:o.isSelected),s}))}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}}class K{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class tt{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var o,i,n,s,r,a,l,c,d,h,u,p,m,f,g,w,v,y,_,C,I,k,b,x,W,E,S,T,B,D,M,A,R,P,L,O,z,F,H,$,N,j,q,G,V,U,X,Y,J,Z,Q,K,tt,et,ot,it,nt,st,rt,at,lt;let ct={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(ct=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:o}=e;return o.length>1&&o.every((t=>\"column\"===t.type))?ct.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):o.length>1&&o.every((t=>\"row\"===t.type))?ct.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):ct.content.push(...o.map((t=>this.convertToRendererConfigCore(t,e)))),ct}if(\"column\"===t.type||\"row\"===t.type)return ct.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===ct.content.length&&ct.content.push(this.getGroupWithEmptyVisibleWindow()),ct.workspacesConfig||(ct.workspacesConfig={}),ct.workspacesConfig.allowDrop=null===(o=t.config)||void 0===o?void 0:o.allowDrop,ct.workspacesConfig.allowSplitters=null===(i=t.config)||void 0===i?void 0:i.allowSplitters,ct.workspacesConfig.isPinned=null===(n=t.config)||void 0===n?void 0:n.isPinned,ct.workspacesConfig.maxWidth=null===(s=t.config)||void 0===s?void 0:s.maxWidth,ct.workspacesConfig.minWidth=null===(r=t.config)||void 0===r?void 0:r.minWidth,ct.workspacesConfig.maxHeight=null===(a=t.config)||void 0===a?void 0:a.maxHeight,ct.workspacesConfig.minHeight=null===(l=t.config)||void 0===l?void 0:l.minHeight,ct.workspacesConfig.positionIndex=null===(c=t.config)||void 0===c?void 0:c.positionIndex,ct.workspacesConfig.isMaximized=null===(d=t.config)||void 0===d?void 0:d.isMaximized,ct.width=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.width),ct.height=this.convertSizeToRendererConfigSafely(null===(u=t.config)||void 0===u?void 0:u.height),ct.workspacesConfig.maximizationBoundary=null===(p=t.config)||void 0===p?void 0:p.maximizationBoundary,ct;if(\"group\"===t.type)return ct.type=\"stack\",ct.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===ct.content.length&&ct.content.push(this._configFactory.createEmptyVisibleWindowConfig()),ct.workspacesConfig||(ct.workspacesConfig={}),ct.workspacesConfig.allowDrop=null===(m=t.config)||void 0===m?void 0:m.allowDrop,ct.workspacesConfig.allowDropHeader=null===(f=t.config)||void 0===f?void 0:f.allowDropHeader,ct.workspacesConfig.allowDropLeft=null===(g=t.config)||void 0===g?void 0:g.allowDropLeft,ct.workspacesConfig.allowDropRight=null===(w=t.config)||void 0===w?void 0:w.allowDropRight,ct.workspacesConfig.allowDropTop=null===(v=t.config)||void 0===v?void 0:v.allowDropTop,ct.workspacesConfig.allowDropBottom=null===(y=t.config)||void 0===y?void 0:y.allowDropBottom,ct.workspacesConfig.allowExtract=null===(_=t.config)||void 0===_?void 0:_.allowExtract,ct.workspacesConfig.allowReorder=null===(C=t.config)||void 0===C?void 0:C.allowReorder,ct.workspacesConfig.showMaximizeButton=null===(I=t.config)||void 0===I?void 0:I.showMaximizeButton,ct.workspacesConfig.showEjectButton=null===(k=t.config)||void 0===k?void 0:k.showEjectButton,ct.workspacesConfig.showAddWindowButton=null===(b=t.config)||void 0===b?void 0:b.showAddWindowButton,ct.workspacesConfig.maxWidth=null===(x=t.config)||void 0===x?void 0:x.maxWidth,ct.workspacesConfig.minWidth=null===(W=t.config)||void 0===W?void 0:W.minWidth,ct.workspacesConfig.maxHeight=null===(E=t.config)||void 0===E?void 0:E.maxHeight,ct.workspacesConfig.minHeight=null===(S=t.config)||void 0===S?void 0:S.minHeight,ct.activeItemIndex=null===(T=t.config)||void 0===T?void 0:T.activeTabIndex,ct.workspacesConfig.positionIndex=null===(B=t.config)||void 0===B?void 0:B.positionIndex,ct.workspacesConfig.isMaximized=null===(D=t.config)||void 0===D?void 0:D.isMaximized,ct.width=this.convertSizeToRendererConfigSafely(null===(M=t.config)||void 0===M?void 0:M.width),ct.height=this.convertSizeToRendererConfigSafely(null===(A=t.config)||void 0===A?void 0:A.height),ct;if(\"window\"===t.type){let o=(null===(R=t.config)||void 0===R?void 0:R.appName)||t.appName;const i=null===(P=t.config)||void 0===P?void 0:P.windowId;!o&&i&&(o=this._configFactory.getAppNameFromWindowId(i));const n=this._configFactory.createGDWindowConfig({windowId:i,id:t.id,appName:o,url:(null===(L=t.config)||void 0===L?void 0:L.url)||t.url,title:(null===(O=t.config)||void 0===O?void 0:O.title)||t.title,context:(null===(z=t.config)||void 0===z?void 0:z.context)||t.context,allowExtract:null!==(H=null===(F=null==t?void 0:t.config)||void 0===F?void 0:F.allowExtract)&&void 0!==H?H:t.allowExtract,allowReorder:null!==(N=null===($=null==t?void 0:t.config)||void 0===$?void 0:$.allowReorder)&&void 0!==N?N:t.allowReorder,showCloseButton:null!==(q=null===(j=null==t?void 0:t.config)||void 0===j?void 0:j.showCloseButton)&&void 0!==q?q:t.showCloseButton,minWidth:null!==(V=null===(G=null==t?void 0:t.config)||void 0===G?void 0:G.minWidth)&&void 0!==V?V:t.minWidth,maxWidth:null!==(X=null===(U=null==t?void 0:t.config)||void 0===U?void 0:U.maxWidth)&&void 0!==X?X:t.maxWidth,minHeight:null!==(J=null===(Y=null==t?void 0:t.config)||void 0===Y?void 0:Y.minHeight)&&void 0!==J?J:t.minHeight,maxHeight:null!==(Q=null===(Z=null==t?void 0:t.config)||void 0===Z?void 0:Z.maxHeight)&&void 0!==Q?Q:t.maxHeight,positionIndex:null!==(tt=null===(K=null==t?void 0:t.config)||void 0===K?void 0:K.positionIndex)&&void 0!==tt?tt:t.positionIndex,isMaximized:null!==(ot=null===(et=null==t?void 0:t.config)||void 0===et?void 0:et.isMaximized)&&void 0!==ot?ot:t.isMaximized,noAppWindowState:null!==(nt=null===(it=null==t?void 0:t.config)||void 0===it?void 0:it.noAppWindowState)&&void 0!==nt?nt:t.noAppWindowState});if(\"group\"!==e.type){n.componentState.header=!1;const e=this.wrap([n],\"stack\");return e.width=null!==(rt=null===(st=null==t?void 0:t.config)||void 0===st?void 0:st.width)&&void 0!==rt?rt:t.width,e.height=null!==(lt=null===(at=null==t?void 0:t.config)||void 0===at?void 0:at.height)&&void 0!==lt?lt:t.height,e}return n}}convertToApiConfigCore(t){var e,o,i,n,s,r,a,l,c,d,h,u,p,m,f,g,w,v,y,_,C,I,k,b;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:x(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper){const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return e.forEach((e=>{e.config.width=t.width,e.config.height=t.height})),e}if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,isSelected:e.isSelected,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,allowReorder:e.allowReorder,showCloseButton:e.showCloseButton,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minHeight:e.minHeight,minWidth:e.minWidth,widthInPx:e.widthInPx,heightInPx:e.heightInPx})}const W=t,E={id:x(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=W.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(o=W.workspacesConfig)||void 0===o?void 0:o.frameId,workspaceId:null===(i=W.workspacesConfig)||void 0===i?void 0:i.workspaceId,activeTabIndex:W.activeItemIndex,width:W.width,height:W.height,allowDrop:null===(n=W.workspacesConfig)||void 0===n?void 0:n.allowDrop,allowDropHeader:null===(s=W.workspacesConfig)||void 0===s?void 0:s.allowDropHeader,allowDropLeft:null===(r=W.workspacesConfig)||void 0===r?void 0:r.allowDropLeft,allowDropRight:null===(a=W.workspacesConfig)||void 0===a?void 0:a.allowDropRight,allowDropTop:null===(l=W.workspacesConfig)||void 0===l?void 0:l.allowDropTop,allowDropBottom:null===(c=W.workspacesConfig)||void 0===c?void 0:c.allowDropBottom,isPinned:null===(d=W.workspacesConfig)||void 0===d?void 0:d.isPinned,allowExtract:null===(h=W.workspacesConfig)||void 0===h?void 0:h.allowExtract,allowReorder:null===(u=W.workspacesConfig)||void 0===u?void 0:u.allowReorder,showMaximizeButton:null===(p=W.workspacesConfig)||void 0===p?void 0:p.showMaximizeButton,showEjectButton:null===(m=W.workspacesConfig)||void 0===m?void 0:m.showEjectButton,showAddWindowButton:null===(f=W.workspacesConfig)||void 0===f?void 0:f.showAddWindowButton,allowSplitters:null===(g=W.workspacesConfig)||void 0===g?void 0:g.allowSplitters,minWidth:null===(w=W.workspacesConfig)||void 0===w?void 0:w.minWidth,maxWidth:null===(v=W.workspacesConfig)||void 0===v?void 0:v.maxWidth,minHeight:null===(y=W.workspacesConfig)||void 0===y?void 0:y.minHeight,maxHeight:null===(_=W.workspacesConfig)||void 0===_?void 0:_.maxHeight,widthInPx:null===(C=W.workspacesConfig)||void 0===C?void 0:C.widthInPx,heightInPx:null===(I=W.workspacesConfig)||void 0===I?void 0:I.heightInPx,isMaximized:null===(k=W.workspacesConfig)||void 0===k?void 0:k.isMaximized,maximizationBoundary:null===(b=W.workspacesConfig)||void 0===b?void 0:b.maximizationBoundary}};return\"group\"!==E.type?(delete E.config.allowExtract,delete E.config.allowReorder,delete E.config.allowDropHeader,delete E.config.allowDropLeft,delete E.config.allowDropTop,delete E.config.allowDropRight,delete E.config.allowDropBottom,delete E.config.showMaximizeButton,delete E.config.showEjectButton,delete E.config.showAddWindowButton):delete E.config.allowSplitters,E}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class et{constructor(t,e,o){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=o}showAddWindowPopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,o):this._externalPopupManager.showAddWindowPopup(e,o)}))}showOpenWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,o)}))}showSaveWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,o):this._externalPopupManager.showSaveWorkspacePopup(e,o)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class ot{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,o);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,o);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,o);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,o){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const o=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),n=i.width-o.right-10,s=i.height-o.bottom-10;if(n<0){const t=e.css(\"left\"),o=parseInt(t.substring(0,t.length-2));e.css(\"left\",o+n)}if(s<0){const t=e.css(\"top\"),o=parseInt(t.substring(0,t.length-2));e.css(\"top\",o+s)}}getPopupSize(e,o){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:o},i)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class it{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:o,parentType:i,boxId:n}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,n,o,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,o)}))}showInternalSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o.workspaceId,buildMode:o.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,o,i,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,o){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,o){t.height&&(o.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(o.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=o[0].getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;if(s<0){const t=o.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"left\",e+s)}if(r<0){const t=o.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}class nt{constructor(t,e,o,i,n,r,a){this._glue=t,this._stateResolver=e,this._frameController=o,this._manager=i,this._delayedExecutor=n,this._platformCommunicator=r,this._systemSettings=a,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,o){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[x(e.config.id)])return this.idToWindowPromise[x(e.config.id)];const t=M.getById(o);if(!t)return;const i=this.startCore(e,t);this.idToWindowPromise[x(e.config.id)]=i;const n=this._frameController.onFrameRemoved((t=>{t===x(e.config.id)&&(n(),delete this.idToWindowPromise[t])}));return i}))}getLoadingStrategy(t,e,o){var i,n;return(null==o?void 0:o.loadingStrategy)?o.loadingStrategy:(null===(i=null==e?void 0:e.workspacesOptions)||void 0===i?void 0:i.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(n=null==t?void 0:t.loadingStrategy)||void 0===n?void 0:n.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t)));return Promise.all(i.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t))),n=i.visibleComponents.map((t=>this.start(t,e))),s=(yield this._systemSettings.getSettings()).loadingStrategy;return Promise.all(n).then((()=>{var t,o,n;return this._delayedExecutor.startExecution(i.notImmediatelyVisibleComponents.map((t=>({id:x(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(o=null==s?void 0:s.delayed)||void 0===o?void 0:o.interval)||5e3,initialDelay:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\");yield Promise.all(o.map((t=>this.start(t,e))))}))}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((o,i)=>{let n,s=()=>{},r=()=>{};const[a,l]=this.waitFor(e.length,(()=>{o(),s(),r(),clearTimeout(n)}));n=setTimeout((()=>{i(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:o})=>{o.config.workspaceId===t&&e.includes(o.itemId)&&a(o.itemId)})),r=this.onFailed((o=>{o.workspaceId===t&&e.includes(x(o.component.config.id))&&a(o.component.config.id)}))}))}getUrlByAppName(t){var e,o,i,n;if(t)return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.userProperties)||void 0===i?void 0:i.details)||void 0===n?void 0:n.url}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,o;if(t)return null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.title}getAppNameByWindowId(t){var e,o,i,n;return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===o?void 0:o.find((e=>e.id===t)))||void 0===i?void 0:i.application)||void 0===n?void 0:n.name}waitFor(t,e){const o=[];return[i=>{o.push(i),o.length===t&&e()},()=>o]}validateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),o=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:o}}startCore(e,o){var i,n,s,r,a;return t(this,void 0,void 0,(function*(){const t=S(e.element),{componentState:l}=e.config,{title:c,appName:d}=l;let{windowId:h}=l;const u=x(e.config.id),p=this.getTitleByAppName(d),m=this.validateTitle(c)||this.validateTitle(p)||this.validateTitle(d)||\"Glue\",f=null===(i=null==e?void 0:e.config.componentState)||void 0===i?void 0:i.context;let g=this.getUrlByAppName(l.appName)||(null===(r=null===(s=null===(n=e.config.workspacesConfig)||void 0===n?void 0:n.noAppWindowState)||void 0===s?void 0:s.createArgs)||void 0===r?void 0:r.url);const w=!M.getWindow(u)||!M.getWindow(u).windowId,v=o.hibernatedWindows.some((t=>t.id===x(e.config.id)));if(M.addWindow({id:u,bounds:t,windowId:h,url:g,appName:d},o.id),!g&&h){const t=this._glue.windows.list().find((t=>t.id===h));g=yield t.getURL();M.getWindow(u).url=g}if(h=h||D(),(null===(a=e.config.componentState)||void 0===a?void 0:a.context)&&delete e.config.componentState.context,e.config.componentState.url=g,m&&e.setTitle(m),w&&!v){const t=this._stateResolver.getWindowSummarySync(e.config.id,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const o=this._glue.windows.findById(h);if(o)try{yield o.close()}catch(t){}}try{yield this._platformCommunicator.notifyFrameWillStart(h,d,f,m),yield this._frameController.startFrame(u,g,void 0,h);const t=M.getWindow(u);e.config.componentState.windowId=h,t.windowId=h;if(this._glue.windows.findById(h).getTitle().then((t=>{this.validateTitle(m)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(u,S(e.element)),w&&!v&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(u)}}),!d){const o=this.getAppNameByWindowId(h);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${u} with windowId ${h} is missing its state object`);e.config.componentState.appName=o,t.appName=o}const i=e.layoutManager.root.getItemsByFilter((t=>t.isMaximized&&\"component\"!==t.type));i.reduce(((t,e)=>[...t,...e.getItemsByFilter((t=>\"component\"===t.type))]),[]).some((t=>t===e))&&(this._frameController.maximizeTab(u),this._frameController.selectionChanged([u],[]))}catch(t){this.raiseFailed(e,o.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(u,S(e.element)):this._manager.closeTab(e,!1);if(!M.getById(o.id))throw new Error(`Workspace ${o.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{o.hibernatedWindows=o.hibernatedWindows.filter((t=>t.id!==x(e.config.id)))}}))}}class st{constructor(){this.actionsInProgress=[]}startExecution(e,o){return t(this,void 0,void 0,(function*(){const i=this.splitInBatches(e,o.batchSize);yield this.waitFor(o.initialDelay);return i.reduce(((e,i)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(i)),yield this.waitFor(o.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,o,i)=>{if(i%e==0)t.push([o]);else{const e=t.pop();e.push(o),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}class rt{constructor(t){this._platformCommunicator=t}getSettings(){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this._platformCommunicator.askForSettings()),this.settings}))}}class at{validateWorkspace(t){return!this.getAllItemsFromWorkspace(t).filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length}fixWorkspace(t){const e=this.getAllItemsFromWorkspace(t);return!e.filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length||(e.forEach((t=>{t.config&&(t.config.minWidth=20,t.config.minHeight=20,t.config.maxWidth=32767,t.config.maxHeight=32767)})),!1)}fixNewWindow(t,e,o){var i,n,s,r;let a;if(void 0===(null===(i=t.config)||void 0===i?void 0:i.minWidth)&&void 0===(null===(n=t.config)||void 0===n?void 0:n.maxWidth)&&void 0===(null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0===(null===(r=t.config)||void 0===r?void 0:r.maxHeight))return;const l=(t,e)=>{a||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{l(t,o)})):a=t)};l(e,o),a.children.push(t),this.validateWorkspace(e)||(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767)}fixNewContainer(t,e,o){let i;const n=(t,e)=>{i||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{n(t,o)})):i=t)};if(n(e,o),i.children.push(t),!this.validateWorkspace(e)){const e=t=>{t.config&&(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767),\"window\"!==t.type&&t.children.forEach((t=>e(t)))};e(t)}}getAllItemsFromWorkspace(t){const e=[],o=t=>{e.push(t),\"window\"!==t.type&&t.children.forEach((t=>o(t)))};return o(t),e}areConstraintsValid(t){return t.minWidth<=t.maxWidth&&t.minHeight<=t.maxHeight}getConstraintsFromItem(t){var e,o,i,n,s,r,a,l;const c=null!==(o=null===(e=t.config)||void 0===e?void 0:e.minWidth)&&void 0!==o?o:20,d=null!==(n=null===(i=t.config)||void 0===i?void 0:i.maxWidth)&&void 0!==n?n:32767,h=null!==(r=null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0!==r?r:20,u=null!==(l=null===(a=t.config)||void 0===a?void 0:a.maxHeight)&&void 0!==l?l:32767;let p=0,m=0,f=0,g=0;return\"window\"===t.type?{minWidth:c,maxWidth:d,minHeight:h,maxHeight:u}:(\"row\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p+=null!==(e=s.minWidth)&&void 0!==e?e:20,m+=null!==(o=s.maxWidth)&&void 0!==o?o:32767,f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})):\"column\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f+=null!==(i=s.minHeight)&&void 0!==i?i:20,g+=null!==(n=s.maxHeight)&&void 0!==n?n:32767})):t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})),m=m||d,g=g||u,{minWidth:Math.max(c,p),maxWidth:Math.min(d,m),minHeight:Math.max(h,f),maxHeight:Math.min(u,g)})}}const lt=require(\"semver/functions/lte\");class ct{constructor(t,e){this._glue=t,this._frameId=e}requestOnLayoutSaveContexts(e){var o,i;return t(this,void 0,void 0,(function*(){if(!window.glue42core.platformVersion||lt(window.glue42core.platformVersion,\"1.12.12\"))return console.warn(`Workspace layout ${e.layoutName} won't save the window contexts because the platform must be at lease version 1.13.0`),[];try{const t=yield this._glue.agm.invoke(\"T42.Web.Platform.Control\",{domain:\"workspaces\",operation:\"getWorkspaceWindowsOnLayoutSaveContext\",data:e});return null!==(i=null===(o=null==t?void 0:t.returned)||void 0===o?void 0:o.windowsOnSaveData)&&void 0!==i?i:[]}catch(t){console.warn(\"The save of window contexts unexpectedly failed with \",t)}return[]}))}notifyFrameWillStart(t,e,o,i){const n=window.glue42core.communicationId;return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._frameId,appName:e,context:o,title:i}},n?{instance:n}:void 0)}notifyFrameWillClose(t,e){const o=window.glue42core.communicationId;return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}},o?{instance:o}:void 0)}askForSettings(){return t(this,void 0,void 0,(function*(){const t=window.glue42core.communicationId;return(yield this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}},t?{instance:t}:void 0)).returned}))}}var dt=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new K,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(null===(t=X.config)||void 0===t?void 0:t.build)return;const e=[],o=M.workspaceIds.map((t=>{const o=M.getById(t);e.push(...o.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const i=this.stateResolver.getWorkspaceConfig(t),n=this.stateResolver.extractWindowSummariesFromSnapshot(i);return e.push(...n),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._platformCommunicator.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t,frameBounds:this.stateResolver.getFrameBounds()}})}));const i=M.layouts.filter((t=>{var e,o,i;return!(null===(i=null===(o=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},frameBounds:this.stateResolver.getFrameBounds()}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}get layoutsManager(){return this._layoutsManager}init(t,e,o,i){this._glue=t,this._facade=o;const n=X.loadConfig();if(this._initialized)return void P.reInitialize(i);this._initialized=!0,this._frameId=e,this._configFactory=new Q(t);const r=new tt(this._configFactory);P.init(this._frameId,i),this._frameController=new V(t);const a=new q(s());return this._stateResolver=new J(this._frameId,a,this._frameController,r),this._controller=new j(a,this._stateResolver,n,this._configFactory),this._platformCommunicator=new ct(this._glue,this._frameId),this._systemSettings=new rt(this._platformCommunicator),this._applicationFactory=new nt(t,this.stateResolver,this._frameController,this,new st,this._platformCommunicator,this._systemSettings),this._layoutsManager=new Y(this.stateResolver,t,this._configFactory,r,new at,this._platformCommunicator),this._popupManager=new et(new ot(t),new it(i,e),i),n.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}initFrameLayout(e){return t(this,void 0,void 0,(function*(){return e.forEach((t=>{t.id=this._configFactory.getId()})),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,e.map((t=>x(t.id)))}))}saveWorkspace(e,o,i,n){var s,r;return t(this,void 0,void 0,(function*(){const t=M.getById(o)||M.getActiveWorkspace(),a=new z(this.stateResolver,t,M.getWorkspaceContentItem(t.id),this.frameId),l=yield this._layoutsManager.save({name:e,workspace:t,title:a.title,saveContext:i,metadata:n}),c=(null===(s=t.layout)||void 0===s?void 0:s.config)||t.hibernateConfig;return c.workspacesOptions.layoutName=e,(null===(r=P.decoratedFactory)||void 0===r?void 0:r.createWorkspaceTabs)&&P.decoratedFactory.updateWorkspaceTabs({workspaceId:t.id,layoutName:e}),c.workspacesOptions.noTabHeader&&delete c.workspacesOptions.noTabHeader,l}))}openWorkspace(e,o){var i,n,s;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),r=t.config;if(r.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&r.workspacesOptions.context?r.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(r.workspacesOptions.context=null==o?void 0:o.context),r.workspacesOptions.title=(null==o?void 0:o.title)||e,r.workspacesOptions.icon=null!==(i=null==o?void 0:o.icon)&&void 0!==i?i:r.workspacesOptions.icon,r.workspacesOptions.positionIndex=null!==(n=null==o?void 0:o.positionIndex)&&void 0!==n?n:r.workspacesOptions.positionIndex,r&&r.workspacesOptions&&!r.workspacesOptions.name&&(r.workspacesOptions.name=e),r&&(r.workspacesOptions=r.workspacesOptions||{},r.workspacesOptions.layoutName=t.layoutData.name),r&&o&&(r.workspacesOptions.loadingStrategy=o.loadingStrategy),r&&void 0!==(null==o?void 0:o.noTabHeader)&&(r.workspacesOptions=r.workspacesOptions||{},r.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),r&&void 0!==(null==o?void 0:o.isPinned)&&(r.workspacesOptions=r.workspacesOptions||{},r.workspacesOptions.isPinned=null==o?void 0:o.isPinned),r&&void 0!==(null==o?void 0:o.isSelected)&&(r.workspacesOptions=r.workspacesOptions||{},r.workspacesOptions.selected=null==o?void 0:o.isSelected),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig([r]),this._initPromise=this.initLayout(),yield this._initPromise,x(r.id);if(e){if(r.id=(null==o?void 0:o.reuseWorkspaceId)||this._configFactory.getId(),null==o?void 0:o.reuseWorkspaceId){M.getById(r.id).windows.map((t=>M.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(x(r.id),r),(null===(s=r.workspacesOptions)||void 0===s?void 0:s.context)&&(yield this._glue.contexts.set(T(x(r.id)),r.workspacesOptions.context))}else yield this.addWorkspace(x(r.id),r);return x(r.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){if(M.getContainer(t))return void this._controller.maximizeContainer(t);if(!M.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to maximize`);this._controller.maximizeWindow(t)}restoreItem(t){if(M.getContainer(t))return void this._controller.restoreContainer(t);if(!M.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to restore`);this._controller.restoreWindow(t)}closeItem(t){const e=M.getWindow(t),o=M.getContainer(t);if(this._frameId===t)M.workspaceIds.forEach((t=>this.closeWorkspace(M.getById(t))));else if(e){const e=M.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(o)this._controller.closeContainer(t);else{const e=M.getById(t);this.closeWorkspace(e)}}addContainer(e,o){return t(this,void 0,void 0,(function*(){const i=this.cleanIsPinned(e),n=M.getByContainerId(o)||M.getById(o),s=M.getWorkspaceContentItem(n.id),r=new z(this.stateResolver,n,s,this.frameId),a=yield this._controller.addContainer(i,o);r.hasMaximizedItems&&this._controller.refreshWorkspaceSize(n.id);const l=M.getContainer(a);l&&this.applyIsPinned(e,l);const c=W(e.content);return Promise.all(c.map((e=>t(this,void 0,void 0,(function*(){const t=M.getWindowContentItem(x(e.id));yield this._applicationFactory.start(t,n.id)}))))),a}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){const t=M.getContainer(o);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e]));const i=M.getById(o)||M.getByContainerId(o),n=M.getWorkspaceContentItem(i.id),s=new z(this.stateResolver,i,n,this.frameId);yield this._controller.addWindow(e,o),s.hasMaximizedItems&&this._controller.refreshWorkspaceSize(i.id);const r=W([e]),a=M.getWindowContentItem(x(r[0].id));this._applicationFactory.start(a,i.id)}))}setItemTitle(t,e){M.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:o,windowId:i}=e.config.componentState,n=M.getWorkspaceContext(M.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),r=s?yield s.getContext():n;if(this.closeItem(x(e.config.id)),t){const e=i?{reuseId:i}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(r,e)).id}}const a=this._applicationFactory.getUrlByAppName(t)||o;return{windowId:(yield this._glue.windows.open(`${t}_${i}`,a,{context:r,windowId:i})).id}}))}createWorkspace(e){var o,i,n,s;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig([e]),this._initPromise=this.initLayout(),yield this._initPromise,x(e.id);const t=(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)||this._configFactory.getId();if(null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId){const o=M.getById(t);if(!o)throw new Error(`Could not find workspace ${null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId} to reuse`);o.windows.map((t=>M.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),yield this._glue.contexts.set(T(t),null!==(s=e.workspacesOptions.context)&&void 0!==s?s:{})}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=M.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:o}=t.config.componentState;const i=M.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,i.id),yield this.waitForFrameLoaded(e),t=M.getWindowContentItem(e),o=t.config.componentState.windowId),new Promise(((t,i)=>{o||i(`The window id of ${e} is missing`);let n=()=>{};const s=setTimeout((()=>{i(`Could not load window ${o} for 5000ms`),n()}),5e3);n=this._glue.windows.onWindowAdded((e=>{e.id===o&&(t({windowId:o}),n(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===o))&&(t({windowId:o}),n(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=M.getByContainerId(t)||M.getByWindowId(t)||M.getById(t),o=this._frameId===t;return this._context?{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized,initializationContext:{context:this._context}}:{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized}}moveWindowTo(e,o){return t(this,void 0,void 0,(function*(){const t=M.getByWindowId(e),i=M.getByContainerId(o)||M.getById(o);if(!i)throw new Error(`Could not find container ${o} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(i.id))throw new Error(`Could not move window ${e} to workspace ${i.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const n=M.getWindowContentItem(e);if(!n)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e)),r=this.stateResolver.getWindowSummarySync(s.id);this._controller.removeLayoutElement(e),M.removeWindow(s,t.id),M.addWindow(s,i.id),yield this._controller.addWindow(n.config,o);const a=this.stateResolver.getWindowSummarySync(s.id);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:r}}),this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:a}})}))}generateWorkspaceLayout(t,e){const o=M.getById(e);if(!o)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,o)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const o=t.hibernateConfig;o.workspacesOptions||(o.workspacesOptions={}),o.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(o),t.hibernateConfig=void 0;const i=M.getWorkspaceContentItem(t.id),n=new z(this.stateResolver,t,i,this.frameId);n.isPinned?(H.hideHibernatedIcon({workspaceTab:i.tab}),H.hideWorkspaceSaveButton({workspaceTab:i.tab}),H.showWorkspaceIconButton({workspaceTab:i.tab,icon:n.icon})):H.showSaveIcon({workspaceTab:i.tab,workspaceId:t.id})}))}lockWorkspace(t){var e,o,i,n;t.config||(t.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowWindowReorder:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1,allowWorkspaceTabReorder:!1,showWindowCloseButtons:!1,showEjectButtons:!1,showAddWindowButtons:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),\"boolean\"==typeof t.config.allowDrop&&(t.config.allowDropLeft=null!==(e=t.config.allowDropLeft)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropTop=null!==(o=t.config.allowDropTop)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropRight=null!==(i=t.config.allowDropRight)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropBottom=null!==(n=t.config.allowDropBottom)&&void 0!==n?n:t.config.allowDrop);const{allowDrop:s,allowExtract:r,allowWindowReorder:a,allowSplitters:l,showCloseButton:c,showSaveButton:d,allowWorkspaceTabReorder:h,showAddWindowButtons:u,showWindowCloseButtons:p,showEjectButtons:m}=t.config,{workspaceId:f}=t;!1===s?this._controller.disableWorkspaceDrop(f,t.config):this._controller.enableWorkspaceDrop(f,t.config),!1===r?this._controller.disableWorkspaceExtract(f):this._controller.enableWorkspaceExtract(f),!1===a?this._controller.disableWorkspaceWindowReorder(f):this._controller.enableWorkspaceWindowReorder(f),!1===l?this._controller.disableSplitters(f):this._controller.enableSplitters(f),!1===c?this._controller.disableWorkspaceCloseButton(f):this._controller.enableWorkspaceCloseButton(f),!1===d?this._controller.disableWorkspaceSaveButton(f):this._controller.enableWorkspaceSaveButton(f),!1===h?this._controller.disableWorkspaceReorder(f):this._controller.enableWorkspaceReorder(f),!1===u?this._controller.disableWorkspaceAddWindowButtons(f):this._controller.enableWorkspaceAddWindowButtons(f),!1===m?this._controller.disableWorkspaceEjectButtons(f):this._controller.enableWorkspaceEjectButtons(f),!1===p?this._controller.disableWorkspaceWindowCloseButtons(f):this._controller.enableWorkspaceWindowCloseButtons(f)}lockContainer(t){var e,o,i,n,s;switch((t.config||\"column\"!==t.type)&&(t.config||\"row\"!==t.type)?t.config||\"group\"!==t.type||(t.config={allowDrop:!1,allowDropHeader:!1,allowDropLeft:!1,allowDropRight:!1,allowDropTop:!1,allowDropBottom:!1,allowExtract:!1,allowReorder:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):t.config={allowDrop:!1,allowSplitters:!1},void 0!==t.config.allowDrop&&\"group\"===t.type&&(t.config.allowDropHeader=null!==(e=t.config.allowDropHeader)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropLeft=null!==(o=t.config.allowDropLeft)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropTop=null!==(i=t.config.allowDropTop)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropRight=null!==(n=t.config.allowDropRight)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropBottom=null!==(s=t.config.allowDropBottom)&&void 0!==s?s:t.config.allowDrop),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),t.type){case\"column\":this.handleColumnLockRequested(t);break;case\"row\":this.handleRowLockRequested(t);break;case\"group\":this.handleGroupLockRequested(t)}}lockWindow(t){t.config||(t.config={allowExtract:!1,allowReorder:!1,showCloseButton:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)}));const{allowExtract:e,allowReorder:o,showCloseButton:i}=t.config,{windowPlacementId:n}=t;!1===e?this._controller.disableWindowExtract(n):this._controller.enableWindowExtract(n,e),!1===o?this._controller.disableWindowReorder(n):this._controller.enableWindowReorder(n,o),!1===i?this._controller.disableWindowCloseButton(n):this._controller.enableWindowCloseButton(n,i);const s=M.getByWindowId(n);(null==s?void 0:s.layout)&&s.layout.updateSize()}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=M.getById(e);if(M.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const o=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,o.workspacesOptions.isHibernated=!0,t.hibernateConfig=o,t.windows.map((t=>M.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),M.removeLayout(t.id),this._controller.showHibernationIcon(e),o}))}closeTab(t,e=!0){const o=x(t.config.id),i=M.getByWindowId(o),n=this.stateResolver.getWindowSummarySync(o);this._controller.removeLayoutElement(o),this._frameController.remove(o),this._platformCommunicator.notifyFrameWillClose(n.config.windowId,n.config.appName).catch((t=>{})),i.hibernatedWindows.some((t=>n.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:n}}),!i.windows.length&&e&&this._controller.resetWorkspace(i.id)}resizeItem(t){if(t.itemId===this.frameId)throw new Error(\"Cannot resize frame \"+t.itemId);return this.resizeWorkspaceItem(t)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}pinWorkspace(t,e){this._controller.pinWorkspace(t,e)}unpinWorkspace(t){this._controller.unpinWorkspace(t)}setWorkspaceIcon(t,e){const o=M.getWorkspaceContentItem(t),i=new z(this.stateResolver,M.getById(t),o,this.frameId);i.icon=e,i.isPinned&&H.showWorkspaceIconButton({workspaceTab:o.tab,icon:e})}setFrameContext(t){this._context=t}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:X.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0};M.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\");yield this._popupManager.showSaveWorkspacePopup(o,t)}))}getWorkspaceContext(t){return this._glue.contexts.get(T(t))}setMaximizationBoundary(t,e){const o=M.getContainer(t);if(!o)throw new Error(`Could not find container ${t} in frame ${this.frameId} to set the maximizationBoundary to ${e}`);if(\"stack\"===o.type)throw new Error(`Could not set the maximization boundary of group ${t} to ${e} because only rows and columns can be considered maximizationBoundaries`);new O(this.stateResolver,o,this.frameId).maximizationBoundary=e}resizeWorkspaceItem(t){var e,o;const i=M.getContainer(t.itemId)||M.getWindowContentItem(t.itemId);if(!i)throw new Error(`Could not find container ${t.itemId} in frame ${this.frameId}`);if(\"column\"===i.type&&t.height)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (height) was passed`);if(\"row\"===i.type&&t.width)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (width) was passed`);const n=M.getByContainerId(i.config.id)||M.getByWindowId(x(i.config.id));let s,r;if(this.stateResolver.isWorkspaceHibernated(n.id))throw new Error(`Requested resize for ${i.type} ${t.itemId}, however the workspace ${n.id} is hibernated`);n&&(s=n.windows.find((t=>this.stateResolver.isWindowMaximized(t.id))),r=null===(o=null===(e=n.layout)||void 0===e?void 0:e.root)||void 0===o?void 0:o.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type))[0]),s&&this._controller.restoreWindow(s.id),r&&this._controller.restoreContainer(x(r.config.id)),\"row\"===i.type?this._controller.resizeRow(i,t.height):\"column\"===i.type?this._controller.resizeColumn(i,t.width):\"stack\"===i.type?this._controller.resizeStack(i,t.width,t.height):this._controller.resizeComponent(i,t.width,t.height),s&&this._controller.maximizeWindow(s.id),r&&this._controller.maximizeContainer(x(r.config.id))}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield this._systemSettings.getSettings(),o=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(o.workspaceConfigs.map((t=>{var e,o;return this._glue.contexts.set(T(t.id),(null===(o=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:o.workspaceLayout,workspaceConfigs:o.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(M.workspaceIds.map((e=>{const i=this._applicationFactory.getLoadingStrategy(t,o.workspaceConfigs[0].config);return this.handleWindows(e,i)}))),M.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),X.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},frameBounds:this.stateResolver.getFrameBounds()}})}))}reinitializeWorkspace(e,o){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,o);const t=yield this._systemSettings.getSettings(),i=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,i)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,S(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){M.getByWindowId(x(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(x(e.config.id)),this._frameController.remove(x(e.config.id))})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=S(t.contentItem.element),o=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(o,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),o=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),o=S(e[0]),i=x(t.contentItem.config.id);this._frameController.moveFrame(i,o),this._frameController.bringToFront(i)}}))}));if(!e)return;o.observe(e,{attributes:!0});const i=this.stateResolver.getWindowSummarySync(t.contentItem.config.id,t.contentItem);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}})})),this._controller.emitter.onItemDropped((t=>{const e=this.stateResolver.getWindowSummarySync(t.config.id,t);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:e}})})),this._controller.emitter.onSelectionChanged(((e,o)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(o.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{this.handleOnWorkspaceAdded(t)})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id),frameBounds:this.stateResolver.getFrameBounds()}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const o=W(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(o.map((t=>x(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id),frameBounds:this.stateResolver.getFrameBounds()}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:o,bounds:i,parentType:n})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:o,parentType:n,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{const e=M.getById(t.root.config.id);new z(this.stateResolver,e,void 0,this.frameId).getMaximizedItemInRoot(t)&&this._controller.hideWorkspaceRootItem(e.id),this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=M.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),o=S(e);yield this._popupManager.showOpenWorkspacePopup(o,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t=M.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=S(t);yield this.showSaveWorkspacePopup(e,o)})))),this._controller.emitter.onContainerMaximized((t=>{if(\"component\"===t.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.maximizeTab(x(t.config.id))})),t.contentItems.filter((t=>\"component\"===t.type)).map((t=>this.stateResolver.getWindowSummarySync(t.config.id))).forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"maximized\",payload:{windowSummary:t}})}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>x(t.config.id)));return t[0].push(x(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i);const n=M.getById(t.layoutManager.root.config.id),s=M.getWorkspaceContentItem(n.id);new z(this.stateResolver,n,s,this.frameId).getMaximizedItemInRoot(t.layoutManager)&&!t.parent.isRoot&&this._controller.hideWorkspaceRootItem(n.id),this.reportLayoutStructure(t.layoutManager)})),this._controller.emitter.onContainerRestored((t=>{if(\"component\"===t.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.restoreTab(x(t.config.id))})),t.contentItems.filter((t=>\"component\"===t.type)).map((t=>this.stateResolver.getWindowSummarySync(t.config.id))).forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"restored\",payload:{windowSummary:t}})}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>x(t.config.id)));return t[0].push(x(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i);const n=x(t.layoutManager.root.config.id);this._controller.showWorkspaceRootItem(n),this._controller.refreshWorkspaceSize(n),this.reportLayoutStructure(t.layoutManager)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const o=x(t);e[o]&&clearTimeout(e[o]),e[o]=setTimeout((()=>{this._controller.refreshWorkspaceSize(o)}),16)})),this._controller.emitter.onContentItemRemoved(((e,o)=>t(this,void 0,void 0,(function*(){\"stack\"===o.type&&P.notifyGroupClosed(x(o.config.id))}))));let o=void 0;P.onWorkspaceContentsShown((t=>{const e=M.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;o&&clearTimeout(o),o=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),o=S(t[0]);e.layout.updateSize(o.width,o.height)}),50);const i=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(i.map((t=>x(t.getActiveContentItem().config.id))),[])})),P.onWorkspaceContentsHidden((t=>{const e=M.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const o=M.getById(e.workspaceSummary.id);o&&(o.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){W(t.toConfig().content).forEach((e=>{const o=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(x(o.config.id),S(o.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=t.windows.map((t=>{if(M.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._platformCommunicator.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||(P.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId},frameBounds:this.stateResolver.getFrameBounds()}}))}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=this.stateResolver.getWorkspaceConfig(t.id),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);t.windows.forEach((t=>this._frameController.remove(t.id)));const n=this.checkForEmptyWorkspace(t);i.forEach((t=>{this._platformCommunicator.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n||(P.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId},frameBounds:this.stateResolver.getFrameBounds()}}))}addWorkspace(e,o){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(T(e),(null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,o),this._controller.emitter.raiseEvent(\"workspace-added\",{workspace:M.getById(e)});const t=yield this._systemSettings.getSettings(),n=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,n).catch((t=>{console.log(t)}))}))}handleWindows(e,o){return t(this,void 0,void 0,(function*(){switch(o){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(e){if(1===M.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){const o=this._configFactory.getId();return this._controller.addWorkspace(o,void 0).then((()=>t(this,void 0,void 0,(function*(){yield this.handleOnWorkspaceAddedWithSnapshot(M.getById(o)),this.checkForEmptyWorkspace(e)})))).catch((()=>{})),!1}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(e.id);return!1}waitForFrameLoaded(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{i(),o(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((o,s)=>{\"loaded\"===o&&s.windowSummary.itemId===t&&(e(),clearTimeout(n),i())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(n),i())}))}handleGroupLockRequested(t){const{allowExtract:e,allowReorder:o,showAddWindowButton:i,showEjectButton:n,showMaximizeButton:s,allowDrop:r}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===o?this._controller.disableGroupReorder(t.itemId):this._controller.enableGroupReorder(t.itemId,o),!1===i?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,i),!1===n?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,n),!1===s?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,s),!1===r?this._controller.disableGroupDrop(t.itemId,t.config):this._controller.enableGroupDrop(t.itemId,t.config);const a=M.getByContainerId(t.itemId);(null==a?void 0:a.layout)&&a.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e),!1===o?this._controller.disableRowSplitters(t.itemId):this._controller.enableRowSplitters(t.itemId,o)}handleColumnLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e),!1===o?this._controller.disableColumnSplitters(t.itemId):this._controller.enableColumnSplitters(t.itemId,o)}cleanIsPinned(t){if(\"row\"!==t.type&&\"column\"!==t.type)return t;let e=!1;const o=JSON.parse(JSON.stringify(t)),i=t=>{t.workspacesConfig.isPinned&&(e=!0,t.workspacesConfig.isPinned=!1),\"component\"!==t.type&&t.content.forEach((t=>i(t)))};return i(o),e?o:t}applyIsPinned(t,e){if(\"row\"!==t.type&&\"column\"!==t.type)return;if(\"row\"!==e.config.type&&\"column\"!==e.config.type)return;const o=(t,e)=>{t.workspacesConfig.isPinned&&(e.config.workspacesConfig.isPinned=!0),\"component\"!==t.type&&\"component\"!==e.type&&t.content.forEach(((t,i)=>o(t,e.contentItems[i])))};o(t,e)}handleOnWorkspaceAdded(t){var e;const o=M.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...M.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id),frameBounds:this.stateResolver.getFrameBounds()}}),M.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id),frameBounds:this.stateResolver.getFrameBounds()}}),!t.layout)return void this._frameController.selectionChangedDeep([],o.map((t=>t.id)));const e=W(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>x(t.id))),o.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,n=i.title||i.name;n&&(null===(e=M.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(n))}handleOnWorkspaceAddedWithSnapshot(e){var o;return t(this,void 0,void 0,(function*(){const t=M.workspaceIds.filter((t=>t!==e.id)).reduce(((t,e)=>[...t,...M.getById(e).windows]),[]),i=yield this._stateResolver.getWorkspaceSnapshot(e.id,this);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSnapshot:i,workspaceSummary:this.stateResolver.getWorkspaceSummary(e.id),frameBounds:this.stateResolver.getFrameBounds()}}),M.getActiveWorkspace().id===e.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(e.id),frameBounds:this.stateResolver.getFrameBounds()}}),!e.layout)return void this._frameController.selectionChangedDeep([],t.map((t=>t.id)));const o=W(e.layout.toConfig().content);this._frameController.selectionChangedDeep(o.map((t=>x(t.id))),t.map((t=>t.id)))}if(!e.layout)return;const n=e.layout.config.workspacesOptions,s=n.title||n.name;s&&(null===(o=M.getWorkspaceLayoutItemById(e.id))||void 0===o||o.setTitle(s))}))}};class ht{constructor(t){this.manager=t}applyLockConfiguration(e,o){const i=(e,n)=>t(this,void 0,void 0,(function*(){\"window\"!==e.type?(\"group\"===e.type||\"row\"===e.type||\"column\"===e.type?this.doesContainerContainLockingProperties(e)&&this.manager.lockContainer({itemId:n.id,type:e.type,config:e.config}):this.doesWorkspaceContainLockingProperties(e)&&this.manager.lockWorkspace({workspaceId:o.id,config:e.config}),yield Promise.all(e.children.map(((t,e)=>i(t,n.children[e]))))):this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:n.id,config:e.config})}));return i(e,o)}applyWindowLockConfiguration(t){const e={config:t.config,id:t.itemId,type:\"window\"};this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:t.itemId,config:t.config})}applyContainerLockConfiguration(t,e,o){const i=this.getItemFromWorkspace(e,o),n=(t,e)=>{\"window\"!==t.type?(\"group\"===t.type||\"row\"===t.type||\"column\"===t.type?this.doesContainerContainLockingProperties(t)&&this.manager.lockContainer({itemId:e.id,type:t.type,config:t.config}):this.doesWorkspaceContainLockingProperties(t)&&this.manager.lockWorkspace({workspaceId:t.id,config:t.config}),t.children.map(((t,o)=>n(t,e.children[o])))):this.doesWindowContainLockingProperties(t)&&this.manager.lockWindow({windowPlacementId:e.id,config:t.config})};return n(t,i)}doesWindowContainLockingProperties(t){var e,o,i;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.showCloseButton)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowExtract)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowReorder)}doesContainerContainLockingProperties(t){var e,o,i,n,s,r,a,l,c,d,h,u;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropHeader)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropLeft)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropTop)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowDropBottom)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.allowExtract)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.allowReorder)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showExtractButton)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showMaximizeButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.showAddWindowButton)||this.isLockingPropertySet(null===(u=t.config)||void 0===u?void 0:u.allowSplitters)}doesWorkspaceContainLockingProperties(t){var e,o,i,n,s,r,a,l,c,d,h,u,p,m;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropLeft)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropTop)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropBottom)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowExtract)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.allowWindowReorder)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showExtractButtons)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showWindowCloseButtons)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showAddWindowButtons)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.showSaveButton)||this.isLockingPropertySet(null===(u=t.config)||void 0===u?void 0:u.allowWorkspaceTabReorder)||this.isLockingPropertySet(null===(p=t.config)||void 0===p?void 0:p.showCloseButton)||this.isLockingPropertySet(null===(m=t.config)||void 0===m?void 0:m.allowSplitters)}isLockingPropertySet(t){return\"boolean\"==typeof t}getItemFromWorkspace(t,e){const o=t=>t.id===e?t:\"window\"!==t.type?t.children.map((t=>o(t))).find((t=>t)):void 0;return o(t)}}var ut=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,o,i,n)=>t(this,void 0,void 0,(function*(){try{switch(yield dt.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(yield this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot(e.operationArguments));break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),i(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),i(void 0);break;case\"lockWorkspace\":this.handleLockWorkspace(e.operationArguments),i(void 0);break;case\"lockContainer\":this.handleLockContainer(e.operationArguments),i(void 0);break;case\"lockWindow\":this.handleLockWindow(e.operationArguments),i(void 0);break;case\"resizeItem\":this.handleResizeItem(e.operationArguments),i(void 0);break;case\"pinWorkspace\":this.handlePinWorkspace(e.operationArguments),i(void 0);break;case\"unpinWorkspace\":this.handleUnpinWorkspace(e.operationArguments),i(void 0);break;case\"getWorkspaceIcon\":i(this.handleGetWorkspaceIcon(e.operationArguments));break;case\"setWorkspaceIcon\":this.handleSetWorkspaceIcon(e.operationArguments),i(void 0);break;case\"initFrame\":yield this.handleInitFrame(e.operationArguments),i(void 0);break;case\"createFrame\":i(this.handleCreateFrame(e.operationArguments));break;case\"initFrameFromSnapshot\":yield this.handleInitFrameFromSnapshot(e.operationArguments),i(void 0);break;case\"getWorkspacesLayouts\":i(yield this.handleGetWorkspaceLayouts(e.operationArguments));break;case\"setMaximizationBoundary\":this.handleSetMaximizationBoundary(e.operationArguments),i(void 0);break;default:n(\"Invalid operation - \"+e.operation)}}catch(t){n(t.message),console.warn(t)}})),this.handleControl=(e,o,i,n)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,o,i,n);this._controlPromise=t,yield t}))}init(e,o){return t(this,void 0,void 0,(function*(){this._frameId=o,this._glue=e,this._configFactory=new Q(e),this._converter=new tt(this._configFactory),this._locker=new ht(dt),this._constraintValidator=new at,this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){dt.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),dt.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),dt.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),dt.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield dt.openWorkspace(e.name,e.restoreOptions);return dt.stateResolver.getWorkspaceSnapshot(t,dt)}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield dt.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield dt.saveWorkspace(e.name,e.workspaceId,e.saveContext,e.metadata)}))}handleDeleteLayout(t){dt.deleteLayout(t.name)}handleGetWorkspaceSnapshot(e){return t(this,void 0,void 0,(function*(){return dt.stateResolver.getWorkspaceSnapshot(e.itemId,dt)}))}handleGetAllWorkspaceSummaries(){return{summaries:M.layouts.map((t=>dt.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){return dt.closeItem(t.itemId)}handleRestoreItem(t){dt.restoreItem(t.itemId)}handleMaximizeItem(t){dt.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){if(\"workspace\"===e.definition.type)throw new Error(\"Unsuported add container type \"+e.definition.type);const t=M.getByContainerId(e.parentId)||M.getById(e.parentId),o=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(t.id));this._constraintValidator.fixNewContainer(e.definition,o,e.parentId);const i=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===i.type)throw new Error(\"Unsuccessful conversion\");const n={id:x(i.id),content:i.content,type:i.type,workspacesConfig:i.workspacesConfig},s=yield dt.addContainer(n,e.parentId),r=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(t.id));return this._locker.applyContainerLockConfiguration(e.definition,r,s),{itemId:s}}))}handleAddWindow(e){var o,i,n,s,r,a,l;return t(this,void 0,void 0,(function*(){const t=new at,c=M.getByContainerId(e.parentId)||M.getById(e.parentId),d=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(c.id));t.fixNewWindow(e.definition,d,e.parentId);const h=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:null===(o=e.definition.config)||void 0===o?void 0:o.allowExtract,allowReorder:null===(i=e.definition.config)||void 0===i?void 0:i.allowReorder,showCloseButton:null===(n=e.definition.config)||void 0===n?void 0:n.showCloseButton,minWidth:null===(s=e.definition.config)||void 0===s?void 0:s.minWidth,maxWidth:null===(r=e.definition.config)||void 0===r?void 0:r.maxWidth,minHeight:null===(a=e.definition.config)||void 0===a?void 0:a.minHeight,maxHeight:null===(l=e.definition.config)||void 0===l?void 0:l.maxHeight});if(e.definition.windowId){const t=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),o=yield t.getURL();h.componentState.url=o,h.componentState.appName=this._configFactory.getAppNameFromWindowId(t.id)}yield dt.addWindow(h,e.parentId);const u=dt.stateResolver.getWindowSummarySync(h.id);return this._locker.applyWindowLockConfiguration(u),{itemId:x(h.id)}}))}handleSetItemTitle(t){dt.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),o=e.children.some((t=>\"column\"===t.type));if(o&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};o&&(i={type:\"row\",children:e.children});const n=this._converter.convertToRendererConfig(i);yield dt.addContainer(n,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=M.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield dt.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={});const t=this.convertCreateWorkspaceArgumentsToWorkspaceItem(e);this._constraintValidator.fixWorkspace(t);const o=this._converter.convertToRendererConfig(t),i=yield dt.createWorkspace(o),n=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(i));return this._locker.applyLockConfiguration(t,n),dt.stateResolver.getWorkspaceSnapshot(i,dt)}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield dt.loadWindow(e.itemId)}))}handleFocusItem(t){return dt.focusItem(t.itemId)}handleBundleWorkspace(t){return dt.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:dt.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(t){return dt.getFrameSummary(t.itemId)}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield dt.move(e.location)}))}handleGetFrameSnapshot(t){return dt.stateResolver.getFrameSnapshot(dt,t.excludeIds)}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return this._frameId===e.itemId?dt.stateResolver.getFrameSnapshot(dt):M.getById(e.itemId)?dt.stateResolver.getWorkspaceSnapshot(e.itemId,dt):void 0}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return dt.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return dt.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return dt.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return dt.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return dt.lockWorkspace(t)}handleLockWindow(t){return dt.lockWindow(t)}handleLockContainer(t){return dt.lockContainer(t)}handleResizeItem(t){return dt.resizeItem(t)}handlePinWorkspace(t){return dt.pinWorkspace(t.workspaceId,t.icon)}handleUnpinWorkspace(t){return dt.unpinWorkspace(t.workspaceId)}handleGetWorkspaceIcon(t){const e=dt.stateResolver.getWorkspaceIcon(t.workspaceId);return e?{icon:e}:{}}handleSetWorkspaceIcon(t){dt.setWorkspaceIcon(t.workspaceId,t.icon)}handleInitFrame(e){return t(this,void 0,void 0,(function*(){const o=yield Promise.all(e.workspaces.map((e=>t(this,void 0,void 0,(function*(){const t=e,o=e;return t.name?this._configFactory.convertLayoutOptionsToWorkspaceItem(t.name,t.restoreOptions,dt.layoutsManager):this._converter.convertToRendererConfig(this.convertCreateWorkspaceArgumentsToWorkspaceItem(o))})))));(yield dt.initFrameLayout(o)).forEach(((t,o)=>{const i=e.workspaces[o];if(!i.children)return;const n=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(t));this._locker.applyLockConfiguration(i,n)}))}))}handleInitFrameFromSnapshot(e){return t(this,void 0,void 0,(function*(){const t=e.workspaces.map((t=>this._converter.convertToRendererConfig(this.convertCreateWorkspaceArgumentsToWorkspaceItem(t))));(yield dt.initFrameLayout(t)).forEach(((t,o)=>{const i=e.workspaces[o];if(!i.children)return;const n=this._converter.convertToAPIConfig(dt.stateResolver.getWorkspaceConfig(t));this._locker.applyLockConfiguration(i,n)}))}))}handleGetWorkspaceLayouts(e){return t(this,void 0,void 0,(function*(){return{workspaces:yield dt.stateResolver.getAllWorkspacesLayouts(dt,e)}}))}handleSetMaximizationBoundary(t){dt.setMaximizationBoundary(t.itemId,t.enabled)}handleCreateFrame(t){return dt.setFrameContext(null==t?void 0:t.context),dt.getFrameSummary(this._frameId)}publishEventData(t,e,o){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:o,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}convertCreateWorkspaceArgumentsToWorkspaceItem(t){var e,o;const i=Object.assign({},t);return i.config||(i.config={}),\"boolean\"==typeof(null===(e=t.config)||void 0===e?void 0:e.isSelected)&&(i.config.selected=t.config.isSelected),i.config.context=(null===(o=t.config)||void 0===o?void 0:o.context)||t.context,i.config.allowDrop=void 0,i}},pt=o((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,o){t.exports=e.document?o(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return o(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var o=[],i=Object.getPrototypeOf,n=o.slice,s=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},r=o.push,a=o.indexOf,l={},c=l.toString,d=l.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,o){var i,n,s=(o=o||g).createElement(\"script\");if(s.text=t,e)for(i in w)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,n);o.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?l[c.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,o=y(t);return!m(t)&&!f(t)&&(\"array\"===o||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return n.call(this)},get:function(t){return null==t?n.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,o){return t.call(e,o,e)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,o=+t+(t<0?e:0);return this.pushStack(o>=0&&o<e?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,o,i,n,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for(\"boolean\"==typeof r&&(c=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(c&&i&&(C.isPlainObject(i)||(n=Array.isArray(i)))?(o=r[e],s=n&&!Array.isArray(o)?[]:n||C.isPlainObject(o)?o:{},n=!1,r[e]=C.extend(c,s,i)):void 0!==i&&(r[e]=i));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,o;return!(!t||\"[object Object]\"!==c.call(t))&&(!(e=i(t))||\"function\"==typeof(o=d.call(e,\"constructor\")&&e.constructor)&&h.call(o)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,o){v(t,{nonce:e&&e.nonce},o)},each:function(t,e){var o,i=0;if(I(t))for(o=t.length;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var o=e||[];return null!=t&&(I(Object(t))?C.merge(o,\"string\"==typeof t?[t]:t):r.call(o,t)),o},inArray:function(t,e,o){return null==e?-1:a.call(e,t,o)},merge:function(t,e){for(var o=+e.length,i=0,n=t.length;i<o;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,o){for(var i=[],n=0,s=t.length,r=!o;n<s;n++)!e(t[n],n)!==r&&i.push(t[n]);return i},map:function(t,e,o){var i,n,r=0,a=[];if(I(t))for(i=t.length;r<i;r++)null!=(n=e(t[r],r,o))&&a.push(n);else for(r in t)null!=(n=e(t[r],r,o))&&a.push(n);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){l[\"[object \"+e+\"]\"]=e.toLowerCase()}));var k=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,o,i,n,s,r,a,l,c,d,h,u,p,m,f,g,w,v,y,_=\"sizzle\"+1*new Date,C=t.document,I=0,k=0,b=lt(),x=lt(),W=lt(),E=lt(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,B=[],D=B.pop,M=B.push,A=B.push,R=B.slice,P=function(t,e){for(var o=0,i=t.length;o<i;o++)if(t[o]===e)return o;return-1},L=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",O=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",z=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",F=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+z+\")(?:\"+O+\"*([*^$|!~]?=)\"+O+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+z+\"))|)\"+O+\"*\\\\]\",H=\":(\"+z+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+F+\")*)|.*)\\\\)|)\",$=new RegExp(O+\"+\",\"g\"),N=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),G=new RegExp(O+\"|>\"),V=new RegExp(H),U=new RegExp(\"^\"+z+\"$\"),X={ID:new RegExp(\"^#(\"+z+\")\"),CLASS:new RegExp(\"^\\\\.(\"+z+\")\"),TAG:new RegExp(\"^(\"+z+\"|[*])\"),ATTR:new RegExp(\"^\"+F),PSEUDO:new RegExp(\"^\"+H),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+L+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ot=function(t,e){var o=\"0x\"+t.slice(1)-65536;return e||(o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,nt=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{A.apply(B=R.call(C.childNodes),C.childNodes),B[C.childNodes.length].nodeType}catch(t){A={apply:B.length?function(t,e){M.apply(t,R.call(e))}:function(t,e){for(var o=t.length,i=0;t[o++]=e[i++];);t.length=o-1}}}function at(t,e,i,n){var s,a,c,d,h,m,w,v=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!n&&(u(e),e=e||p,f)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(c=e.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(v&&(c=v.getElementById(s))&&y(e,c)&&c.id===s)return i.push(c),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&o.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(s)),i}if(o.qsa&&!E[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,v=e,1===C&&(G.test(t)||q.test(t))){for((v=tt.test(t)&&wt(e.parentNode)||e)===e&&o.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,nt):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+yt(m[a]);w=m.join(\",\")}try{return A.apply(i,v.querySelectorAll(w)),i}catch(e){E(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return l(t.replace(N,\"$1\"),e,i,n)}function lt(){var t=[];return function e(o,n){return t.push(o+\" \")>i.cacheLength&&delete e[t.shift()],e[o+\" \"]=n}}function ct(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var o=t.split(\"|\"),n=o.length;n--;)i.attrHandle[o[n]]=e}function ut(t,e){var o=e&&t,i=o&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(o)for(;o=o.nextSibling;)if(o===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var o=e.nodeName.toLowerCase();return(\"input\"===o||\"button\"===o)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(o,i){for(var n,s=t([],o.length,e),r=s.length;r--;)o[n=s[r]]&&(o[n]=!(i[n]=o[n]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in o=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,o=(t.ownerDocument||t).documentElement;return!Y.test(e||o&&o.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),C!=p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener(\"unload\",st,!1):n.attachEvent&&n.attachEvent(\"onunload\",st)),o.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),o.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),o.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),o.getElementsByClassName=Q.test(p.getElementsByClassName),o.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),o.getById?(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o=e.getElementById(t);return o?[o]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){var o=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return o&&o.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o,i,n,s=e.getElementById(t);if(s){if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s];for(n=e.getElementsByName(t),i=0;s=n[i++];)if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s]}return[]}}),i.find.TAG=o.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):o.qsa?e.querySelectorAll(t):void 0}:function(t,e){var o,i=[],n=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;o=s[n++];)1===o.nodeType&&i.push(o);return i}return s},i.find.CLASS=o.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},w=[],g=[],(o.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+L+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(o.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){o.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),w.push(\"!=\",H)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(m.compareDocumentPosition),y=e||Q.test(m.contains)?function(t,e){var o=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(o.contains?o.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!o.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==C&&y(C,t)?-1:e==p||e.ownerDocument==C&&y(C,e)?1:d?P(d,t)-P(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var o,i=0,n=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!n||!s)return t==p?-1:e==p?1:n?-1:s?1:d?P(d,t)-P(d,e):0;if(n===s)return ut(t,e);for(o=t;o=o.parentNode;)r.unshift(o);for(o=e;o=o.parentNode;)a.unshift(o);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==C?-1:a[i]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),o.matchesSelector&&f&&!E[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||o.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var n=i.attrHandle[e.toLowerCase()],s=n&&T.call(i.attrHandle,e.toLowerCase())?n(t,e,!f):void 0;return void 0!==s?s:o.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,nt)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],n=0,s=0;if(h=!o.detectDuplicates,d=!o.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return d=null,t},n=at.getText=function(t){var e,o=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=n(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)o+=n(e);return o},(i=at.selectors={cacheLength:50,createPseudo:ct,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,ot),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,ot),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":o&&V.test(o)&&(e=r(o,!0))&&(e=o.indexOf(\")\",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,ot).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=b[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+O+\"|$)\"))&&b(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,o){return function(i){var n=at.attr(i,t);return null==n?\"!=\"===e:!e||(n+=\"\",\"=\"===e?n===o:\"!=\"===e?n!==o:\"^=\"===e?o&&0===n.indexOf(o):\"*=\"===e?o&&n.indexOf(o)>-1:\"$=\"===e?o&&n.slice(-o.length)===o:\"~=\"===e?(\" \"+n.replace($,\" \")+\" \").indexOf(o)>-1:\"|=\"===e&&(n===o||n.slice(0,o.length+1)===o+\"-\"))}},CHILD:function(t,e,o,i,n){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===n?function(t){return!!t.parentNode}:function(e,o,l){var c,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(y=(p=(c=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&c[1])&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[I,p,y];break}}else if(v&&(y=p=(c=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&c[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++y||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,y]),u!==e)););return(y-=n)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var o,n=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return n[_]?n(e):n.length>1?(o=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,o){for(var i,s=n(t,e),r=s.length;r--;)t[i=P(t,s[r])]=!(o[i]=s[r])})):function(t){return n(t,0,o)}):n}},pseudos:{not:ct((function(t){var e=[],o=[],i=a(t.replace(N,\"$1\"));return i[_]?ct((function(t,e,o,n){for(var s,r=i(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,n,s){return e[0]=t,i(e,null,s,o),e[0]=null,!o.pop()}})),has:ct((function(t){return function(e){return at(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,ot),function(e){return(e.textContent||n(e)).indexOf(t)>-1}})),lang:ct((function(t){return U.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,ot).toLowerCase(),function(e){var o;do{if(o=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(o=o.toLowerCase())===t||0===o.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var o=t.location&&t.location.hash;return o&&o.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,o){return[o<0?o+e:o]})),even:gt((function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t})),odd:gt((function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t})),lt:gt((function(t,e,o){for(var i=o<0?o+e:o>e?e:o;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,o){for(var i=o<0?o+e:o;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function yt(t){for(var e=0,o=t.length,i=\"\";e<o;e++)i+=t[e].value;return i}function _t(t,e,o){var i=e.dir,n=e.next,s=n||i,r=o&&\"parentNode\"===s,a=k++;return e.first?function(e,o,n){for(;e=e[i];)if(1===e.nodeType||r)return t(e,o,n);return!1}:function(e,o,l){var c,d,h,u=[I,a];if(l){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,o,l))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=d[s])&&c[0]===I&&c[1]===a)return u[2]=c[2];if(d[s]=u,u[2]=t(e,o,l))return!0}return!1}}function Ct(t){return t.length>1?function(e,o,i){for(var n=t.length;n--;)if(!t[n](e,o,i))return!1;return!0}:t[0]}function It(t,e,o,i,n){for(var s,r=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(o&&!o(s,i,n)||(r.push(s),c&&e.push(a)));return r}function kt(t,e,o,i,n,s){return i&&!i[_]&&(i=kt(i)),n&&!n[_]&&(n=kt(n,s)),ct((function(s,r,a,l){var c,d,h,u=[],p=[],m=r.length,f=s||function(t,e,o){for(var i=0,n=e.length;i<n;i++)at(t,e[i],o);return o}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:It(f,u,t,a,l),w=o?n||(s?t:m||i)?[]:r:g;if(o&&o(g,w,a,l),i)for(c=It(w,p),i(c,[],a,l),d=c.length;d--;)(h=c[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(n||t){if(n){for(c=[],d=w.length;d--;)(h=w[d])&&c.push(g[d]=h);n(null,w=[],c,l)}for(d=w.length;d--;)(h=w[d])&&(c=n?P(s,h):u[d])>-1&&(s[c]=!(r[c]=h))}}else w=It(w===r?w.splice(m,w.length):w),n?n(null,r,w,l):A.apply(r,w)}))}function bt(t){for(var e,o,n,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],l=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return P(e,t)>-1}),a,!0),u=[function(t,o,i){var n=!r&&(i||o!==c)||((e=o).nodeType?d(t,o,i):h(t,o,i));return e=null,n}];l<s;l++)if(o=i.relative[t[l].type])u=[_t(Ct(u),o)];else{if((o=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(n=++l;n<s&&!i.relative[t[n].type];n++);return kt(l>1&&Ct(u),l>1&&yt(t.slice(0,l-1).concat({value:\" \"===t[l-2].type?\"*\":\"\"})).replace(N,\"$1\"),o,l<n&&bt(t.slice(l,n)),n<s&&bt(t=t.slice(n)),n<s&&yt(t))}u.push(o)}return Ct(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var o,n,s,r,a,l,c,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,l=[],c=i.preFilter;a;){for(r in o&&!(n=j.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(s=[])),o=!1,(n=q.exec(a))&&(o=n.shift(),s.push({value:o,type:n[0].replace(N,\" \")}),a=a.slice(o.length)),i.filter)!(n=X[r].exec(a))||c[r]&&!(n=c[r](n))||(o=n.shift(),s.push({value:o,type:r,matches:n}),a=a.slice(o.length));if(!o)break}return e?a.length:a?at.error(t):x(t,l).slice(0)},a=at.compile=function(t,e){var o,n=[],s=[],a=W[t+\" \"];if(!a){for(e||(e=r(t)),o=e.length;o--;)(a=bt(e[o]))[_]?n.push(a):s.push(a);(a=W(t,function(t,e){var o=e.length>0,n=t.length>0,s=function(s,r,a,l,d){var h,m,g,w=0,v=\"0\",y=s&&[],_=[],C=c,k=s||n&&i.find.TAG(\"*\",d),b=I+=null==C?1:Math.random()||.1,x=k.length;for(d&&(c=r==p||r||d);v!==x&&null!=(h=k[v]);v++){if(n&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){l.push(h);break}d&&(I=b)}o&&((h=!g&&h)&&w--,s&&y.push(h))}if(w+=v,o&&v!==w){for(m=0;g=e[m++];)g(y,_,r,a);if(s){if(w>0)for(;v--;)y[v]||_[v]||(_[v]=D.call(l));_=It(_)}A.apply(l,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(l)}return d&&(I=b,c=C),y};return o?ct(s):s}(s,n))).selector=t}return a},l=at.select=function(t,e,o,n){var s,l,c,d,h,u=\"function\"==typeof t&&t,p=!n&&r(t=u.selector||t);if(o=o||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&\"ID\"===(c=l[0]).type&&9===e.nodeType&&f&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,ot),e)||[])[0]))return o;u&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=X.needsContext.test(t)?0:l.length;s--&&(c=l[s],!i.relative[d=c.type]);)if((h=i.find[d])&&(n=h(c.matches[0].replace(et,ot),tt.test(l[0].type)&&wt(e.parentNode)||e))){if(l.splice(s,1),!(t=n.length&&yt(l)))return A.apply(o,n),o;break}}return(u||a(t,p))(n,e,!f,o,!e||tt.test(t)&&wt(e.parentNode)||e),o},o.sortStable=_.split(\"\").sort(S).join(\"\")===_,o.detectDuplicates=!!h,u(),o.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,o){if(!o)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),o.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,o){if(!o&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(L,(function(t,e,o){var i;if(!o)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);C.find=k,C.expr=k.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var b=function(t,e,o){for(var i=[],n=void 0!==o;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&C(t).is(o))break;i.push(t)}return i},x=function(t,e){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&o.push(t);return o},W=C.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,o){return m(e)?C.grep(t,(function(t,i){return!!e.call(t,i,t)!==o})):e.nodeType?C.grep(t,(function(t){return t===e!==o})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==o})):C.filter(e,t,o)}C.filter=function(t,e,o){var i=e[0];return o&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,o,i=this.length,n=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<i;e++)if(C.contains(n[e],this))return!0})));for(o=this.pushStack([]),e=0;e<i;e++)C.find(t,n[e],o);return i>1?C.uniqueSort(o):o},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&W.test(t)?C(t):t||[],!1).length}});var B,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,o){var i,n;if(!t)return this;if(o=o||B,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||o).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(i[1])&&C.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=g.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==o.ready?o.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(g);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),o=e.length;return this.filter((function(){for(var t=0;t<o;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var o,i=0,n=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!W.test(t))for(;i<n;i++)for(o=this[i];o&&o!==e;o=o.parentNode)if(o.nodeType<11&&(r?r.index(o)>-1:1===o.nodeType&&C.find.matchesSelector(o,t))){s.push(o);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,\"parentNode\")},parentsUntil:function(t,e,o){return b(t,\"parentNode\",o)},next:function(t){return R(t,\"nextSibling\")},prev:function(t){return R(t,\"previousSibling\")},nextAll:function(t){return b(t,\"nextSibling\")},prevAll:function(t){return b(t,\"previousSibling\")},nextUntil:function(t,e,o){return b(t,\"nextSibling\",o)},prevUntil:function(t,e,o){return b(t,\"previousSibling\",o)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(E(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(o,i){var n=C.map(this,e,o);return\"Until\"!==t.slice(-5)&&(i=o),i&&\"string\"==typeof i&&(n=C.filter(i,n)),this.length>1&&(A[t]||C.uniqueSort(n),M.test(t)&&n.reverse()),this.pushStack(n)}}));var P=/[^\\x20\\t\\r\\n\\f]+/g;function L(t){return t}function O(t){throw t}function z(t,e,o,i){var n;try{t&&m(n=t.promise)?n.call(t).done(e).fail(o):t&&m(n=t.then)?n.call(t,e,o):e.apply(void 0,[t].slice(i))}catch(t){o.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(P)||[],(function(t,o){e[o]=!0})),e}(t):C.extend({},t);var e,o,i,n,s=[],r=[],a=-1,l=function(){for(n=n||t.once,i=e=!0;r.length;a=-1)for(o=r.shift();++a<s.length;)!1===s[a].apply(o[0],o[1])&&t.stopOnFalse&&(a=s.length,o=!1);t.memory||(o=!1),e=!1,n&&(s=o?[]:\"\")},c={add:function(){return s&&(o&&!e&&(a=s.length-1,r.push(o)),function e(o){C.each(o,(function(o,i){m(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&\"string\"!==y(i)&&e(i)}))}(arguments),o&&!e&&l()),this},remove:function(){return C.each(arguments,(function(t,e){for(var o;(o=C.inArray(e,s,o))>-1;)s.splice(o,1),o<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=r=[],s=o=\"\",this},disabled:function(){return!s},lock:function(){return n=r=[],o||e||(s=o=\"\"),this},locked:function(){return!!n},fireWith:function(t,o){return n||(o=[t,(o=o||[]).slice?o.slice():o],r.push(o),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(o,(function(o,i){var n=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=n&&n.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,n?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,n){var s=0;function r(e,o,i,n){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=i.apply(a,l))===o.promise())throw new TypeError(\"Thenable self-resolution\");c=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(c)?n?c.call(t,r(s,o,L,n),r(s,o,O,n)):(s++,c.call(t,r(s,o,L,n),r(s,o,O,n),r(s,o,L,o.notifyWith))):(i!==L&&(a=void 0,l=[t]),(n||o.resolveWith)(a,l))}},d=n?c:function(){try{c()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==O&&(a=void 0,l=[t]),o.rejectWith(a,l))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){o[0][3].add(r(0,t,m(n)?n:L,t.notifyWith)),o[1][3].add(r(0,t,m(e)?e:L)),o[2][3].add(r(0,t,m(i)?i:O))})).promise()},promise:function(t){return null!=t?C.extend(t,n):n}},s={};return C.each(o,(function(t,e){var r=e[2],a=e[5];n[e[1]]=r.add,a&&r.add((function(){i=a}),o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),n.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,o=e,i=Array(o),s=n.call(arguments),r=C.Deferred(),a=function(t){return function(o){i[t]=this,s[t]=arguments.length>1?n.call(arguments):o,--e||r.resolveWith(i,s)}};if(e<=1&&(z(t,r.done(a(o)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[o]&&s[o].then)))return r.then();for(;o--;)z(s[o],a(o),r.reject);return r.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,o){t.console&&t.console.warn&&e&&F.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,o)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var H=C.Deferred();function $(){g.removeEventListener(\"DOMContentLoaded\",$),t.removeEventListener(\"load\",$),C.ready()}C.fn.ready=function(t){return H.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||H.resolveWith(g,[C]))}}),C.ready.then=H.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",$),t.addEventListener(\"load\",$));var N=function(t,e,o,i,n,s,r){var a=0,l=t.length,c=null==o;if(\"object\"===y(o))for(a in n=!0,o)N(t,e,a,o[a],!0,s,r);else if(void 0!==i&&(n=!0,m(i)||(r=!0),c&&(r?(e.call(t,i),e=null):(c=e,e=function(t,e,o){return c.call(C(t),o)})),e))for(;a<l;a++)e(t[a],o,r?i:i.call(t[a],a,e(t[a],o)));return n?t:c?e.call(t):l?e(t[0],o):s},j=/^-ms-/,q=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,G)}var U=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},U(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,o){var i,n=this.cache(t);if(\"string\"==typeof e)n[V(e)]=o;else for(i in e)n[V(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,o){return void 0===e||e&&\"string\"==typeof e&&void 0===o?this.get(t,e):(this.set(t,e,o),void 0!==o?o:e)},remove:function(t,e){var o,i=t[this.expando];if(void 0!==i){if(void 0!==e){o=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(P)||[]).length;for(;o--;)delete i[e[o]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,o){var i;if(void 0===o&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(o=t.getAttribute(i))){try{o=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(o)}catch(t){}J.set(t,e,o)}else o=void 0;return o}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,o){return J.access(t,e,o)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,o){return Y.access(t,e,o)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var o,i,n,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(n=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(o=r.length;o--;)r[o]&&0===(i=r[o].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,n[i]));Y.set(s,\"hasDataAttrs\",!0)}return n}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):N(this,(function(e){var o;if(s&&void 0===e)return void 0!==(o=J.get(s,t))||void 0!==(o=K(s,t))?o:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,o){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),o&&(!i||Array.isArray(o)?i=Y.access(t,e,C.makeArray(o)):i.push(o)),i||[]},dequeue:function(t,e){e=e||\"fx\";var o=C.queue(t,e),i=o.length,n=o.shift(),s=C._queueHooks(t,e);\"inprogress\"===n&&(n=o.shift(),i--),n&&(\"fx\"===e&&o.unshift(\"inprogress\"),delete s.stop,n.call(t,(function(){C.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var o=e+\"queueHooks\";return Y.get(t,o)||Y.access(t,o,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",o])}))})}}),C.fn.extend({queue:function(t,e){var o=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",o--),arguments.length<o?C.queue(this[0],t):void 0===e?this:this.each((function(){var o=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==o[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var o,i=1,n=C.Deferred(),s=this,r=this.length,a=function(){--i||n.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(o=Y.get(s[r],t+\"queueHooks\"))&&o.empty&&(i++,o.empty.add(a));return a(),n.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),ot=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,nt=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(nt=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&nt(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,o,i){var n,s,r=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,\"\")},l=a(),c=o&&o[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==c&&+l)&&et.exec(C.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;r--;)C.style(t,e,d+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+c),o=o||[]}return o&&(d=+d||+l||0,n=o[1]?d+(o[1]+1)*o[2]:+o[2],i&&(i.unit=c,i.start=d,i.end=n)),n}var lt={};function ct(t){var e,o=t.ownerDocument,i=t.nodeName,n=lt[i];return n||(e=o.body.appendChild(o.createElement(i)),n=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===n&&(n=\"block\"),lt[i]=n,n)}function dt(t,e){for(var o,i,n=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(o=i.style.display,e?(\"none\"===o&&(n[s]=Y.get(i,\"display\")||null,n[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(n[s]=ct(i))):\"none\"!==o&&(n[s]=\"none\",Y.set(i,\"display\",o)));for(s=0;s<r;s++)null!=n[s]&&(t[s].style.display=n[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var o;return o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&E(t,e)?C.merge([t],o):o}function vt(t,e){for(var o=0,i=t.length;o<i;o++)Y.set(t[o],\"globalEval\",!e||Y.get(e[o],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var yt=/<|&#?\\w+;/;function _t(t,e,o,i,n){for(var s,r,a,l,c,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===y(s))C.merge(u,s.nodeType?[s]:s);else if(yt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),l=gt[a]||gt._default,r.innerHTML=l[1]+C.htmlPrefilter(s)+l[2],d=l[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&C.inArray(s,i)>-1)n&&n.push(s);else if(c=nt(s),r=wt(h.appendChild(s),\"script\"),c&&vt(r),o)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&o.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\\.(.+)|)/;function bt(){return!0}function xt(){return!1}function Wt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Et(t,e,o,i,n,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof o&&(i=i||o,o=void 0),e)Et(t,a,o,i,e[a],s);return t}if(null==i&&null==n?(n=o,i=o=void 0):null==n&&(\"string\"==typeof o?(n=i,i=void 0):(n=i,i=o,o=void 0)),!1===n)n=xt;else if(!n)return t;return 1===s&&(r=n,(n=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,n,i,o)}))}function St(t,e,o){o?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=n.call(arguments),Y.set(this,e,r),i=o(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,bt)}C.event={global:{},add:function(t,e,o,i,n){var s,r,a,l,c,d,h,u,p,m,f,g=Y.get(t);if(U(t))for(o.handler&&(o=(s=o).handler,n=s.selector),n&&C.find.matchesSelector(it,n),o.guid||(o.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||\"\").match(P)||[\"\"]).length;c--;)p=f=(a=kt.exec(e[c])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:f,data:i,handler:o,guid:o.guid,selector:n,needsContext:n&&C.expr.match.needsContext.test(n),namespace:m.join(\".\")},s),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=o.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,o,i,n){var s,r,a,l,c,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(l=g.events)){for(c=(e=(e||\"\").match(P)||[\"\"]).length;c--;)if(p=f=(a=kt.exec(e[c])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!n&&f!==d.origType||o&&o.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||C.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)C.event.remove(t,p+e[c],o,i,!0);C.isEmptyObject(l)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,o,i,n,s,r,a=new Array(arguments.length),l=C.event.fix(t),c=(Y.get(this,\"events\")||Object.create(null))[l.type]||[],d=C.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(r=C.event.handlers.call(this,l,c),e=0;(n=r[e++])&&!l.isPropagationStopped();)for(l.currentTarget=n.elem,o=0;(s=n.handlers[o++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(i=((C.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var o,i,n,s,r,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(\"click\"!==t.type||!0!==c.disabled)){for(s=[],r={},o=0;o<l;o++)void 0===r[n=(i=e[o]).selector+\" \"]&&(r[n]=i.needsContext?C(n,this).index(c)>-1:C.find(n,this,null,[c]).length),r[n]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\",bt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&E(e,\"input\")&&Y.get(e,\"click\")||E(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,o){t.removeEventListener&&t.removeEventListener(e,o)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Wt),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var o,i=this,n=t.relatedTarget,s=t.handleObj;return n&&(n===i||C.contains(i,n))||(t.type=s.origType,o=s.handler.apply(this,arguments),t.type=e),o}}})),C.fn.extend({on:function(t,e,o,i){return Et(this,t,e,o,i)},one:function(t,e,o,i){return Et(this,t,e,o,i,1)},off:function(t,e,o){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&\"function\"!=typeof e||(o=e,e=void 0),!1===o&&(o=xt),this.each((function(){C.event.remove(this,t,o,e)}))}});var Tt=/<script|<style|<link/i,Bt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Mt(t,e){return E(t,\"table\")&&E(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function At(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Rt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Pt(t,e){var o,i,n,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(n in Y.remove(e,\"handle events\"),a)for(o=0,i=a[n].length;o<i;o++)C.event.add(e,n,a[n][o]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Lt(t,e){var o=e.nodeName.toLowerCase();\"input\"===o&&pt.test(t.type)?e.checked=t.checked:\"input\"!==o&&\"textarea\"!==o||(e.defaultValue=t.defaultValue)}function Ot(t,e,o,i){e=s(e);var n,r,a,l,c,d,h=0,u=t.length,f=u-1,g=e[0],w=m(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&Bt.test(g))return t.each((function(n){var s=t.eq(n);w&&(e[0]=g.call(this,n,s.html())),Ot(s,e,o,i)}));if(u&&(r=(n=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===n.childNodes.length&&(n=r),r||i)){for(l=(a=C.map(wt(n,\"script\"),At)).length;h<u;h++)c=n,h!==f&&(c=C.clone(c,!0,!0),l&&C.merge(a,wt(c,\"script\"))),o.call(t[h],c,h);if(l)for(d=a[a.length-1].ownerDocument,C.map(a,Rt),h=0;h<l;h++)c=a[h],ft.test(c.type||\"\")&&!Y.access(c,\"globalEval\")&&C.contains(d,c)&&(c.src&&\"module\"!==(c.type||\"\").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute(\"nonce\")},d):v(c.textContent.replace(Dt,\"\"),c,d))}return t}function zt(t,e,o){for(var i,n=e?C.filter(e,t):t,s=0;null!=(i=n[s]);s++)o||1!==i.nodeType||C.cleanData(wt(i)),i.parentNode&&(o&&nt(i)&&vt(wt(i,\"script\")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,o){var i,n,s,r,a=t.cloneNode(!0),l=nt(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),i=0,n=(s=wt(t)).length;i<n;i++)Lt(s[i],r[i]);if(e)if(o)for(s=s||wt(t),r=r||wt(a),i=0,n=s.length;i<n;i++)Pt(s[i],r[i]);else Pt(t,a);return(r=wt(a,\"script\")).length>0&&vt(r,!l&&wt(t,\"script\")),a},cleanData:function(t){for(var e,o,i,n=C.event.special,s=0;void 0!==(o=t[s]);s++)if(U(o)){if(e=o[Y.expando]){if(e.events)for(i in e.events)n[i]?C.event.remove(o,i):C.removeEvent(o,i,e.handle);o[Y.expando]=void 0}o[J.expando]&&(o[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return N(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ot(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)}))},prepend:function(){return Ot(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return N(this,(function(t){var e=this[0]||{},o=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;o<i;o++)1===(e=this[o]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,(function(e){var o=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),o&&o.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var o,i=[],n=C(t),s=n.length-1,a=0;a<=s;a++)o=a===s?this:this.clone(!0),C(n[a])[e](o),r.apply(i,o.get());return this.pushStack(i)}}));var Ft=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),Ht=function(e){var o=e.ownerDocument.defaultView;return o&&o.opener||(o=t),o.getComputedStyle(e)},$t=function(t,e,o){var i,n,s={};for(n in e)s[n]=t.style[n],t.style[n]=e[n];for(n in i=o.call(t),e)t.style[n]=s[n];return i},Nt=new RegExp(ot.join(\"|\"),\"i\");function jt(t,e,o){var i,n,s,r,a=t.style;return(o=o||Ht(t))&&(\"\"!==(r=o.getPropertyValue(e)||o[e])||nt(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&Ft.test(r)&&Nt.test(e)&&(i=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=o.width,a.width=i,a.minWidth=n,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(c).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,l=12===o(e.marginLeft),d.style.right=\"60%\",r=36===o(e.right),n=36===o(e.width),d.style.position=\"absolute\",s=12===o(d.offsetWidth/3),it.removeChild(c),d=null}}function o(t){return Math.round(parseFloat(t))}var i,n,s,r,a,l,c=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,o,i,n;return null==a&&(e=g.createElement(\"table\"),o=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",o.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(o).appendChild(i),n=t.getComputedStyle(o),a=parseInt(n.height)>3,it.removeChild(e)),a}}))}();var Gt=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Ut={};function Xt(t){var e=C.cssProps[t]||Ut[t];return e||(t in Vt?t:Ut[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),o=Gt.length;o--;)if((t=Gt[o]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,o){var i=et.exec(e);return i?Math.max(0,i[2]-(o||0))+(i[3]||\"px\"):e}function te(t,e,o,i,n,s){var r=\"width\"===e?1:0,a=0,l=0;if(o===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===o&&(l+=C.css(t,o+ot[r],!0,n)),i?(\"content\"===o&&(l-=C.css(t,\"padding\"+ot[r],!0,n)),\"margin\"!==o&&(l-=C.css(t,\"border\"+ot[r]+\"Width\",!0,n))):(l+=C.css(t,\"padding\"+ot[r],!0,n),\"padding\"!==o?l+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n):a+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function ee(t,e,o){var i=Ht(t),n=(!p.boxSizingReliable()||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,i),s=n,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ft.test(r)){if(!o)return r;r=\"auto\"}return(!p.boxSizingReliable()&&n||!p.reliableTrDimensions()&&E(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,i))&&t.getClientRects().length&&(n=\"border-box\"===C.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,o||(n?\"border\":\"content\"),s,i,r)+\"px\"}function oe(t,e,o,i,n){return new oe.prototype.init(t,e,o,i,n)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var o=jt(t,\"opacity\");return\"\"===o?\"1\":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,o,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,r,a=V(e),l=Jt.test(e),c=t.style;if(l||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===o)return r&&\"get\"in r&&void 0!==(n=r.get(t,!1,i))?n:c[e];\"string\"===(s=typeof o)&&(n=et.exec(o))&&n[1]&&(o=at(t,e,n),s=\"number\"),null!=o&&o==o&&(\"number\"!==s||l||(o+=n&&n[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==o||0!==e.indexOf(\"background\")||(c[e]=\"inherit\"),r&&\"set\"in r&&void 0===(o=r.set(t,o,i))||(l?c.setProperty(e,o):c[e]=o))}},css:function(t,e,o,i){var n,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(n=r.get(t,!0,o)),void 0===n&&(n=jt(t,e,i)),\"normal\"===n&&e in Qt&&(n=Qt[e]),\"\"===o||o?(s=parseFloat(n),!0===o||isFinite(s)?s||0:n):n}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,o,i){if(o)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):$t(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,o,i){var n,s=Ht(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),l=i?te(t,e,i,a,s):0;return a&&r&&(l-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),l&&(n=et.exec(o))&&\"px\"!==(n[3]||\"px\")&&(t.style[e]=o,o=C.css(t,e)),Kt(0,o,l)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-$t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(o){for(var i=0,n={},s=\"string\"==typeof o?o.split(\" \"):[o];i<4;i++)n[t+ot[i]+e]=s[i]||s[i-2]||s[0];return n}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return N(this,(function(t,e,o){var i,n,s={},r=0;if(Array.isArray(e)){for(i=Ht(t),n=e.length;r<n;r++)s[e[r]]=C.css(t,e[r],!1,i);return s}return void 0!==o?C.style(t,e,o):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,o,i,n,s){this.elem=t,this.prop=o,this.easing=n||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(C.cssNumber[o]?\"\":\"px\")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,o=oe.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=oe.prototype.init,C.fx.step={};var ie,ne,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ne&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function le(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function ce(t,e){var o,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n[\"margin\"+(o=ot[i])]=n[\"padding\"+o]=t;return e&&(n.opacity=n.width=t),n}function de(t,e,o){for(var i,n=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=n.length;s<r;s++)if(i=n[s].call(o,e,t))return i}function he(t,e,o){var i,n,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete l.elem})),l=function(){if(n)return!1;for(var e=ie||le(),o=Math.max(0,c.startTime+c.duration-e),i=1-(o/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(i);return a.notifyWith(t,[c,i,o]),i<1&&r?o:(r||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},o),originalProperties:e,originalOptions:o,startTime:ie||le(),duration:o.duration,tweens:[],createTween:function(e,o){var i=C.Tween(t,c.opts,e,o,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var o=0,i=e?c.tweens.length:0;if(n)return this;for(n=!0;o<i;o++)c.tweens[o].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),d=c.props;for(!function(t,e){var o,i,n,s,r;for(o in t)if(n=e[i=V(o)],s=t[o],Array.isArray(s)&&(n=s[1],s=t[o]=s[0]),o!==i&&(t[i]=s,delete t[o]),(r=C.cssHooks[i])&&\"expand\"in r)for(o in s=r.expand(s),delete t[i],s)o in t||(t[o]=s[o],e[o]=n);else e[i]=n}(d,c.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(c,t,d,c.opts))return m(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(d,de,c),m(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var o=this.createTween(t,e);return at(o.elem,t,et.exec(e),o),o}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(P);for(var o,i=0,n=t.length;i<n;i++)o=t[i],he.tweeners[o]=he.tweeners[o]||[],he.tweeners[o].unshift(e)},prefilters:[function(t,e,o){var i,n,s,r,a,l,c,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in o.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(n=e[i],se.test(n)){if(delete e[i],s=s||\"toggle\"===n,n===(f?\"hide\":\"show\")){if(\"show\"!==n||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||C.style(t,i)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(i in h&&1===t.nodeType&&(o.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=g&&g.display)&&(c=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(c?d=c:(dt([t],!0),c=t.style.display||c,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=c)&&\"none\"===C.css(t,\"float\")&&(l||(u.done((function(){m.display=c})),null==c&&(d=m.display,c=\"none\"===d?\"\":d)),m.display=\"inline-block\")),o.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=o.overflow[0],m.overflowX=o.overflow[1],m.overflowY=o.overflow[2]}))),l=!1,p)l||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:c}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,i,p[i])}))),l=de(f?g[i]:0,i,u),i in g||(g[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,o){var i=t&&\"object\"==typeof t?C.extend({},t):{complete:o||!o&&e||m(t)&&t,duration:t,easing:o&&e||e&&!m(e)&&e};return C.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,o,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,o,i)},animate:function(t,e,o,i){var n=C.isEmptyObject(t),s=C.speed(e,o,i),r=function(){var e=he(this,C.extend({},t),s);(n||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,o){var i=function(t){var e=t.stop;delete t.stop,e(o)};return\"string\"!=typeof t&&(o=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,n=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(n)r[n]&&r[n].stop&&i(r[n]);else for(n in r)r[n]&&r[n].stop&&re.test(n)&&i(r[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(o),e=!1,s.splice(n,1));!e&&o||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,o=Y.get(this),i=o[t+\"queue\"],n=o[t+\"queueHooks\"],s=C.timers,r=i?i.length:0;for(o.finish=!0,C.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete o.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var o=C.fn[e];C.fn[e]=function(t,i,n){return null==t||\"boolean\"==typeof t?o.apply(this,arguments):this.animate(ce(e,!0),t,i,n)}})),C.each({slideDown:ce(\"show\"),slideUp:ce(\"hide\"),slideToggle:ce(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,o,i){return this.animate(e,t,o,i)}})),C.timers=[],C.fx.tick=function(){var t,e=0,o=C.timers;for(ie=Date.now();e<o.length;e++)(t=o[e])()||o[e]!==t||o.splice(e--,1);o.length||C.fx.stop(),ie=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ne||(ne=!0,ae())},C.fx.stop=function(){ne=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,o){return e=C.fx&&C.fx.speeds[e]||e,o=o||\"fx\",this.queue(o,(function(o,i){var n=t.setTimeout(o,e);i.stop=function(){t.clearTimeout(n)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return N(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,o):(1===s&&C.isXMLDoc(t)||(n=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==o?null===o?void C.removeAttr(t,e):n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:(t.setAttribute(e,o+\"\"),o):n&&\"get\"in n&&null!==(i=n.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&E(t,\"input\")){var o=t.value;return t.setAttribute(\"type\",e),o&&(t.value=o),e}}}},removeAttr:function(t,e){var o,i=0,n=e&&e.match(P);if(n&&1===t.nodeType)for(;o=n[i++];)t.removeAttribute(o)}}),ue={set:function(t,e,o){return!1===e?C.removeAttr(t,o):t.setAttribute(o,o),o}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var o=pe[e]||C.find.attr;pe[e]=function(t,e,i){var n,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=n,n=null!=o(t,e,i)?r:null,pe[r]=s),n}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(P)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(P)||[]}C.fn.extend({prop:function(t,e){return N(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,n=C.propHooks[e]),void 0!==o?n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:t[e]=o:n&&\"get\"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,o,i,n,s,r,a,l=0;if(m(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ve(t)).length)for(;o=this[l++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,o,i,n,s,r,a,l=0;if(m(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;o=this[l++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var o=typeof t,i=\"string\"===o||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(o){C(this).toggleClass(t.call(this,o,we(this),e),e)})):this.each((function(){var e,n,s,r;if(i)for(n=0,s=C(this),r=ve(t);e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==o||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,o,i=0;for(e=\" \"+t+\" \";o=this[i++];)if(1===o.nodeType&&(\" \"+ge(we(o))+\" \").indexOf(e)>-1)return!0;return!1}});var ye=/\\r/g;C.fn.extend({val:function(t){var e,o,i,n=this[0];return arguments.length?(i=m(t),this.each((function(o){var n;1===this.nodeType&&(null==(n=i?t.call(this,o,C(this).val()):t)?n=\"\":\"number\"==typeof n?n+=\"\":Array.isArray(n)&&(n=C.map(n,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,n,\"value\")||(this.value=n))}))):n?(e=C.valHooks[n.type]||C.valHooks[n.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(o=e.get(n,\"value\"))?o:\"string\"==typeof(o=n.value)?o.replace(ye,\"\"):null==o?\"\":o:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,o,i,n=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],l=r?s+1:n.length;for(i=s<0?l:r?s:0;i<l;i++)if(((o=n[i]).selected||i===s)&&!o.disabled&&(!o.parentNode.disabled||!E(o.parentNode,\"optgroup\"))){if(e=C(o).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var o,i,n=t.options,s=C.makeArray(e),r=n.length;r--;)((i=n[r]).selected=C.inArray(C.valHooks.option.get(i),s)>-1)&&(o=!0);return o||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,o,i,n){var s,r,a,l,c,h,u,p,w=[i||g],v=d.call(e,\"type\")?e.type:e,y=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+C.event.triggered)&&(v.indexOf(\".\")>-1&&(y=v.split(\".\"),v=y.shift(),y.sort()),c=v.indexOf(\":\")<0&&\"on\"+v,(e=e[C.expando]?e:new C.Event(v,\"object\"==typeof e&&e)).isTrigger=n?2:3,e.namespace=y.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+y.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),o=null==o?[e]:C.makeArray(o,[e]),u=C.event.special[v]||{},n||!u.trigger||!1!==u.trigger.apply(i,o))){if(!n&&!u.noBubble&&!f(i)){for(l=u.delegateType||v,_e.test(l+v)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(i.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?l:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,o),(h=c&&r[c])&&h.apply&&U(r)&&(e.result=h.apply(r,o),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),o)||!U(i)||c&&m(i[v])&&!f(i)&&((a=i[c])&&(i[c]=null),C.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,Ce),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,Ce),C.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,o){var i=C.extend(new C.Event,o,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var o=this[0];if(o)return C.event.trigger(t,e,o,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var o=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e);n||i.addEventListener(t,o,!0),Y.access(i,e,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e)-1;n?Y.access(i,e,n):(i.removeEventListener(t,o,!0),Y.remove(i,e))}}}));var Ie=t.location,ke={guid:Date.now()},be=/\\?/;C.parseXML=function(e){var o;if(!e||\"string\"!=typeof e)return null;try{o=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){o=void 0}return o&&!o.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),o};var xe=/\\[\\]$/,We=/\\r?\\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,o,i){var n;if(Array.isArray(e))C.each(e,(function(e,n){o||xe.test(t)?i(t,n):Te(t+\"[\"+(\"object\"==typeof n&&null!=n?e:\"\")+\"]\",n,o,i)}));else if(o||\"object\"!==y(e))i(t,e);else for(n in e)Te(t+\"[\"+n+\"]\",e[n],o,i)}C.param=function(t,e){var o,i=[],n=function(t,e){var o=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==o?\"\":o)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){n(this.name,this.value)}));else for(o in t)Te(o,t[o],e,n);return i.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var o=C(this).val();return null==o?null:Array.isArray(o)?C.map(o,(function(t){return{name:e.name,value:t.replace(We,\"\\r\\n\")}})):{name:e.name,value:o.replace(We,\"\\r\\n\")}})).get()}});var Be=/%20/g,De=/#.*$/,Me=/([?&])_=[^&]*/,Ae=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Re=/^(?:GET|HEAD)$/,Pe=/^\\/\\//,Le={},Oe={},ze=\"*/\".concat(\"*\"),Fe=g.createElement(\"a\");function He(t){return function(e,o){\"string\"!=typeof e&&(o=e,e=\"*\");var i,n=0,s=e.toLowerCase().match(P)||[];if(m(o))for(;i=s[n++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(o)):(t[i]=t[i]||[]).push(o)}}function $e(t,e,o,i){var n={},s=t===Oe;function r(a){var l;return n[a]=!0,C.each(t[a]||[],(function(t,a){var c=a(e,o,i);return\"string\"!=typeof c||s||n[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}return r(e.dataTypes[0])||!n[\"*\"]&&r(\"*\")}function Ne(t,e){var o,i,n=C.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((n[o]?t:i||(i={}))[o]=e[o]);return i&&C.extend(!0,t,i),t}Fe.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ze,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,C.ajaxSettings),e):Ne(C.ajaxSettings,t)},ajaxPrefilter:He(Le),ajaxTransport:He(Oe),ajax:function(e,o){\"object\"==typeof e&&(o=e,e=void 0),o=o||{};var i,n,s,r,a,l,c,d,h,u,p=C.ajaxSetup({},o),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?C(m):C.event,w=C.Deferred(),v=C.Callbacks(\"once memory\"),y=p.statusCode||{},_={},I={},k=\"canceled\",b={readyState:0,getResponseHeader:function(t){var e;if(c){if(!r)for(r={};e=Ae.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)b.always(t[b.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return i&&i.abort(e),x(0,e),this}};if(w.promise(b),p.url=((e||p.url||Ie.href)+\"\").replace(Pe,Ie.protocol+\"//\"),p.type=o.method||o.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(P)||[\"\"],null==p.crossDomain){l=g.createElement(\"a\");try{l.href=p.url,l.href=l.href,p.crossDomain=Fe.protocol+\"//\"+Fe.host!=l.protocol+\"//\"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),$e(Le,p,o,b),c)return b;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),n=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Be,\"+\")):(u=p.url.slice(n.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(n+=(be.test(n)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Me,\"$1\"),u=(be.test(n)?\"&\":\"?\")+\"_=\"+ke.guid+++u),p.url=n+u),p.ifModified&&(C.lastModified[n]&&b.setRequestHeader(\"If-Modified-Since\",C.lastModified[n]),C.etag[n]&&b.setRequestHeader(\"If-None-Match\",C.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||o.contentType)&&b.setRequestHeader(\"Content-Type\",p.contentType),b.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+ze+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)b.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,b,p)||c))return b.abort();if(k=\"abort\",v.add(p.complete),b.done(p.success),b.fail(p.error),i=$e(Oe,p,o,b)){if(b.readyState=1,d&&f.trigger(\"ajaxSend\",[b,p]),c)return b;p.async&&p.timeout>0&&(a=t.setTimeout((function(){b.abort(\"timeout\")}),p.timeout));try{c=!1,i.send(_,x)}catch(t){if(c)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,o,r,l){var h,u,g,_,I,k=o;c||(c=!0,a&&t.clearTimeout(a),i=void 0,s=l||\"\",b.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,o){for(var i,n,s,r,a=t.contents,l=t.dataTypes;\"*\"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(n in a)if(a[n]&&a[n].test(i)){l.unshift(n);break}if(l[0]in o)s=l[0];else{for(n in o){if(!l[0]||t.converters[n+\" \"+l[0]]){s=n;break}r||(r=n)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),o[s]}(p,b,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,o,i){var n,s,r,a,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(o[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=d.shift())if(\"*\"===s)s=l;else if(\"*\"!==l&&l!==s){if(!(r=c[l+\" \"+s]||c[\"* \"+s]))for(n in c)if((a=n.split(\" \"))[1]===s&&(r=c[l+\" \"+a[0]]||c[\"* \"+a[0]])){!0===r?r=c[n]:!0!==c[n]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+l+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,b,h),h?(p.ifModified&&((I=b.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[n]=I),(I=b.getResponseHeader(\"etag\"))&&(C.etag[n]=I)),204===e||\"HEAD\"===p.type?k=\"nocontent\":304===e?k=\"notmodified\":(k=_.state,u=_.data,h=!(g=_.error))):(g=k,!e&&k||(k=\"error\",e<0&&(e=0))),b.status=e,b.statusText=(o||k)+\"\",h?w.resolveWith(m,[u,k,b]):w.rejectWith(m,[b,k,g]),b.statusCode(y),y=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[b,p,h?u:g]),v.fireWith(m,[b,k]),d&&(f.trigger(\"ajaxComplete\",[b,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return b},getJSON:function(t,e,o){return C.get(t,e,o,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,o,i,n){return m(o)&&(n=n||i,i=o,o=void 0),C.ajax(C.extend({url:t,type:e,dataType:n,data:o,success:i},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,o){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,o)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),o=e.contents();o.length?o.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(o){C(this).wrapAll(e?t.call(this,o):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var o,i;if(p.cors||qe&&!e.crossDomain)return{send:function(n,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n[\"X-Requested-With\"]||(n[\"X-Requested-With\"]=\"XMLHttpRequest\"),n)a.setRequestHeader(r,n[r]);o=function(t){return function(){o&&(o=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=o(),i=a.onerror=a.ontimeout=o(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){o&&i()}))},o=o(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,o;if(t.crossDomain||t.scriptAttrs)return{send:function(i,n){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",o=function(t){e.remove(),o=null,t&&n(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){o&&o()}}}));var Ge,Ve=[],Ue=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||C.expando+\"_\"+ke.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,o,i){var n,s,r,a=!1!==e.jsonp&&(Ue.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ue.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return n=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ue,\"$1\"+n):!1!==e.jsonp&&(e.url+=(be.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+n),e.converters[\"script json\"]=function(){return r||C.error(n+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[n],t[n]=function(){r=arguments},i.always((function(){void 0===s?C(t).removeProp(n):t[n]=s,e[n]&&(e.jsonpCallback=o.jsonpCallback,Ve.push(n)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ge=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ge.childNodes.length),C.parseHTML=function(t,e,o){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(o=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!o&&[],(n=S.exec(t))?[e.createElement(n[1])]:(n=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],n.childNodes)));var i,n,s},C.fn.load=function(t,e,o){var i,n,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(o=e,e=void 0):e&&\"object\"==typeof e&&(n=\"POST\"),r.length>0&&C.ajax({url:t,type:n||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?C(\"<div>\").append(C.parseHTML(t)).find(i):t)})).always(o&&function(t,e){r.each((function(){o.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,o){var i,n,s,r,a,l,c=C.css(t,\"position\"),d=C(t),h={};\"static\"===c&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),l=C.css(t,\"left\"),(\"absolute\"===c||\"fixed\"===c)&&(s+l).indexOf(\"auto\")>-1?(r=(i=d.position()).top,n=i.left):(r=parseFloat(s)||0,n=parseFloat(l)||0),m(e)&&(e=e.call(t,o,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+n),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,o,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),o=i.ownerDocument.defaultView,{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,o,i=this[0],n={top:0,left:0};if(\"fixed\"===C.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),o=i.ownerDocument,t=i.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),n.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-n.top-C.css(i,\"marginTop\",!0),left:e.left-n.left-C.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var o=\"pageYOffset\"===e;C.fn[t]=function(i){return N(this,(function(t,i,n){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===n)return s?s[e]:t[i];s?s.scrollTo(o?s.pageXOffset:n,o?n:s.pageYOffset):t[i]=n}),t,i,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,o){if(o)return o=jt(t,e),Ft.test(o)?C(t).position()[e]+\"px\":o}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(o,i){C.fn[i]=function(n,s){var r=arguments.length&&(o||\"boolean\"!=typeof n),a=o||(!0===n||!0===s?\"margin\":\"border\");return N(this,(function(e,o,n){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===n?C.css(e,o,a):C.style(e,o,n,a)}),e,r?n:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,o){return this.on(t,null,e,o)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,o,i){return this.on(e,t,o,i)},undelegate:function(t,e,o){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,o){return arguments.length>0?this.on(e,null,t,o):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var o,i,s;if(\"string\"==typeof e&&(o=t[e],e=t,t=o),m(t))return i=n.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(n.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=m,C.isWindow=f,C.camelCase=V,C.type=y,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let mt;window.$=pt,window.addEventListener(\"beforeunload\",(()=>{ut.dispose(),mt&&mt()}));const ft={init:(t,e)=>{if(dt.initialized)return void dt.init(t,t.agm.instance.windowId,ut,e);ut.subscribeForWorkspaceEvents();const o=dt.init(t,t.agm.instance.windowId,ut,e);return mt=o.cleanUp,ut.init(t,t.agm.instance.windowId).then((()=>{X.config.emptyFrame||dt.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId},frameBounds:dt.stateResolver.getFrameBounds()}})})).catch(console.warn),dt},getFrameId:()=>dt.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>dt.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{dt.unmount()},subscribeForWindowFocused:t=>dt.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{},closeWorkspace:t=>{dt.closeItem(t)},showSaveWorkspacePopup:(t,e)=>{dt.showSaveWorkspacePopup(t,e)}};export default ft;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n\r\n    public showSaveWorkspacePopup(workspaceId: string, bounds: Bounds): void {\r\n        return (window.workspacesManager || workspacesManager).showSaveWorkspacePopup(workspaceId, bounds);\r\n    }\r\n\r\n    public closeWorkspace(workspaceId:string):void{\r\n        return (window.workspacesManager || workspacesManager).closeWorkspace(workspaceId);\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React, { useEffect, useRef } from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nconst WorkspacesWrapper: React.FC<WorkspacesWrapperProps> = ({ shouldInit, glue, ...props }) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!containerRef.current) {\r\n            return;\r\n        }\r\n        containerRef.current.appendChild(placeholder.content);\r\n\r\n        if (!shouldInit) {\r\n            return;\r\n        }\r\n        const componentFactory = {\r\n            // Create\r\n            createLogo: props.onCreateLogoRequested,\r\n            createWorkspaceTabs: props.onCreateWorkspaceTabRequested,\r\n            createAddWorkspace: props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: props.onCreateWorkspaceContentsRequested,\r\n            createBeforeGroupTabs: props.onCreateBeforeGroupTabsRequested,\r\n            createGroupTabs: props.onCreateGroupTabRequested,\r\n            createAfterGroupTabs: props.onCreateAfterGroupTabsRequested,\r\n            createGroupHeaderButtons: props.onCreateGroupHeaderButtonsRequested,\r\n            createSaveWorkspacePopup: props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: props.onCreateAddWorkspacePopupRequested,\r\n            createWorkspaceLoadingAnimation: props.onCreateWorkspaceLoadingAnimationRequested,\r\n            // Update\r\n            updateWorkspaceTabs: props.onUpdateWorkspaceTabsRequested,\r\n            // Remove\r\n            removeWorkspaceTabs: props.onRemoveWorkspaceTabsRequested,\r\n            removeWorkspaceContents: props.onRemoveWorkspaceContentsRequested,\r\n            removeBeforeGroupTabs: props.onRemoveBeforeGroupTabsRequested,\r\n            removeGroupTab: props.onRemoveGroupTabRequested,\r\n            removeAfterGroupTabs: props.onRemoveAfterGroupTabsRequested,\r\n            removeGroupHeaderButtons: props.onRemoveGroupHeaderButtonsRequested,\r\n            removeWorkspaceLoadingAnimation: props.onRemoveWorkspaceLoadingAnimationRequested,\r\n            // Misc\r\n            hideSystemPopups: props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(glue, componentFactory);\r\n\r\n        return () => {\r\n            let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n            if (!containerRef.current) {\r\n                return;\r\n            }\r\n\r\n            placeholder?.content.appendChild(containerRef.current.children[0]);\r\n\r\n            workspacesManager.unmount();\r\n        }\r\n    }, [shouldInit]);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import { AddApplicationPopupProps, AddWorkspacePopupProps, CreateElementRequestOptions, CreateGroupRequestOptions, CreateWorkspaceContentsRequestOptions, CreateWorkspaceLoadingAnimationOptions, CreateWorkspaceTabRequestOptions, ElementCreationWrapperState, RemoveRequestOptions, RemoveWorkspaceContentsRequestOptions, SaveWorkspacePopupProps } from \"./types/internal\";\r\n\r\nclass WorkspacesStore {\r\n    private listeners = new Set<() => void>();\r\n    private state: ElementCreationWrapperState = {\r\n        logo: undefined,\r\n        workspaceTabs: {},\r\n        addWorkspace: undefined,\r\n        systemButtons: undefined,\r\n        workspaceContents: [],\r\n        beforeGroupTabsZones: {},\r\n        afterGroupTabsZones: {},\r\n        saveWorkspacePopup: undefined,\r\n        addApplicationPopup: undefined,\r\n        addWorkspacePopup: undefined,\r\n        workspaceLoadingAnimations: {}\r\n    };\r\n\r\n    public subscribe = (cb: () => void) => {\r\n        this.listeners.add(cb);\r\n        return () => {\r\n            this.listeners.delete(cb);\r\n        };\r\n    }\r\n\r\n    public getSnapshot = () => {\r\n        return this.state;\r\n    }\r\n\r\n    public onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (options === this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateBeforeGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.beforeGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const beforeTabsZonesObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.beforeGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            beforeTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: beforeTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateAfterGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.afterGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const afterTabsZonesObj = Object.keys(s.afterGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.afterGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            afterTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: afterTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    public onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    public onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    public onCreateWorkspaceLoadingAnimationRequested = (options: CreateWorkspaceLoadingAnimationOptions) => {\r\n        if (options === this.state.workspaceLoadingAnimations[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceLoadingAnimationsObj = Object.keys(s.workspaceLoadingAnimations).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceLoadingAnimations[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceLoadingAnimationsObj[options.workspaceId] ?? {};\r\n            workspaceLoadingAnimationsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceLoadingAnimations: workspaceLoadingAnimationsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onUpdateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onRemoveWorkspaceTabRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                if (workspaceId != options.elementId) {\r\n                    acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                workspaceTabs: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onRemoveWorkspaceContentsRequested = (options: RemoveWorkspaceContentsRequestOptions) => {\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents.filter((wc) => wc.workspaceId !== options.workspaceId),\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    public onRemoveBeforeTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.beforeGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.beforeGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onRemoveAfterTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.afterGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.afterGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.afterGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    public onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    public onRemoveWorkspaceLoadingAnimation = (options: RemoveRequestOptions) => {\r\n        if (!this.state.workspaceLoadingAnimations[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newLoadingAnimationElementsObj = Object.keys(s.workspaceLoadingAnimations).reduce((acc, workspaceId) => {\r\n                if (workspaceId != options.elementId) {\r\n                    acc[workspaceId] = s.workspaceLoadingAnimations[workspaceId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                workspaceLoadingAnimations: newLoadingAnimationElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    private setState(cb: (ns: ElementCreationWrapperState) => ElementCreationWrapperState, afterUpdateCallback?: () => void) {\r\n        this.state = cb(this.state);\r\n        if (typeof afterUpdateCallback === \"function\") {\r\n            afterUpdateCallback();\r\n        }\r\n\r\n        this.listeners.forEach((l) => l());\r\n    }\r\n}\r\n\r\nexport default new WorkspacesStore();","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","import React, { useEffect, useState } from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { ElementCreationWrapperState, WorkspacesProps, Bounds } from \"./types/internal\";\r\nimport workspacesManager from \"./workspacesManager\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\nimport workspacesStore from \"./workspacesStore\";\r\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\r\n\r\nconst WorkspacesElementCreationWrapper: React.FC<WorkspacesProps> = ({ components, glue, ...additionalProperties }) => {\r\n    const state = useSyncExternalStore<ElementCreationWrapperState>(workspacesStore.subscribe, workspacesStore.getSnapshot);\r\n    const [shouldInit, setShouldInit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setShouldInit(true);\r\n    }, []);\r\n\r\n    const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n    const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n    const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n    const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n        workspacesStore.onCreateAddApplicationRequested : undefined;\r\n\r\n    const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n        workspacesStore.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n    const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n        workspacesStore.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n    const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n    const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n    const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n    const externalPopupApplications = {\r\n        addApplication,\r\n        saveWorkspace,\r\n        addWorkspace\r\n    }\r\n    const renderLogoComponent = () => {\r\n        const LogoCustomElement = components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!state.logo || !state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    const renderWorkspaceTabs = () => {\r\n        const TabComponent = components?.header?.WorkspaceTabComponent;\r\n\r\n        return Object.values(state.workspaceTabs).map((g) => {\r\n            if (!TabComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            const onCloseClick = () => {\r\n                workspacesManager.closeWorkspace(g.workspaceId);\r\n            };\r\n\r\n            const onSaveClick = (bounds: Bounds) => {\r\n                workspacesManager.showSaveWorkspacePopup(g.workspaceId, bounds);\r\n            };\r\n            return <Portal key={`${options.workspaceId}-tab`} domNode={domNode}><TabComponent onCloseClick={onCloseClick} onSaveClick={onSaveClick} {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    const renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!state.addWorkspace || !state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    const renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!state.systemButtons || !state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    const renderWorkspaceContents = () => {\r\n        const WorkspaceContentsComponent = components?.WorkspaceContents;\r\n\r\n        return state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    const renderBeforeGroupTabs = () => {\r\n        const BeforeGroupTabsComponent = components?.containers?.group?.header?.BeforeTabs;\r\n\r\n        return Object.values(state.beforeGroupTabsZones).map((g) => {\r\n            if (!BeforeGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><BeforeGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    const renderAfterGroupTabs = () => {\r\n        const AfterGroupTabsComponent = components?.containers?.group?.header?.AfterTabs;\r\n\r\n        return Object.values(state.afterGroupTabsZones).map((g) => {\r\n            if (!AfterGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><AfterGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    const renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!state.saveWorkspacePopup || !state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={glue} {...options} /></Portal>\r\n    }\r\n\r\n    const renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!state.addApplicationPopup || !state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={glue} {...options} /></Portal>\r\n    }\r\n\r\n    const renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!state.addWorkspacePopup || !state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={glue} {...options} /></Portal>\r\n    }\r\n\r\n    const renderWorkspaceLoadingAnimations = () => {\r\n        const LoadingAnimationComponent = components?.loadingAnimation?.Workspace;\r\n\r\n        return Object.values(state.workspaceLoadingAnimations).map((g) => {\r\n            if (!LoadingAnimationComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={`${options.workspaceId}-loading-animation`} domNode={domNode}><LoadingAnimationComponent  {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n            {renderLogoComponent()}\r\n            {renderWorkspaceTabs()}\r\n            {renderAddWorkspaceComponent()}\r\n            {renderSystemButtonsComponent()}\r\n            {renderWorkspaceContents()}\r\n            {renderBeforeGroupTabs()}\r\n            {renderAfterGroupTabs()}\r\n            {renderSaveWorkspacePopupComponent()}\r\n            {renderAddApplicationPopupComponent()}\r\n            {renderAddWorkspacePopupComponent()}\r\n            {renderWorkspaceLoadingAnimations()}\r\n            <WorkspacesWrapper\r\n                onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? workspacesStore.onCreateSystemButtonsRequested : undefined}\r\n                onCreateWorkspaceTabRequested={components?.header?.WorkspaceTabComponent ? workspacesStore.onCreateWorkspaceTabRequested : undefined}\r\n                onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? workspacesStore.onCreateAddWorkspaceRequested : undefined}\r\n                onCreateLogoRequested={components?.header?.LogoComponent ? workspacesStore.onCreateLogoRequested : undefined}\r\n                onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? workspacesStore.onCreateWorkspaceContentsRequested : undefined}\r\n                onCreateBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? workspacesStore.onCreateBeforeGroupTabsComponentRequested : undefined}\r\n                onCreateAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? workspacesStore.onCreateAfterGroupTabsComponentRequested : undefined}\r\n                onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                onCreateWorkspaceLoadingAnimationRequested = {components?.loadingAnimation?.Workspace ? workspacesStore.onCreateWorkspaceLoadingAnimationRequested: undefined}\r\n                onUpdateWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? workspacesStore.onUpdateWorkspaceTabRequested : undefined}\r\n                onRemoveWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? workspacesStore.onRemoveWorkspaceTabRequested : undefined}\r\n                onRemoveWorkspaceContentsRequested={components?.WorkspaceContents ? workspacesStore.onRemoveWorkspaceContentsRequested : undefined}\r\n                onRemoveBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? workspacesStore.onRemoveBeforeTabsComponentRequested : undefined}\r\n                onRemoveAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? workspacesStore.onRemoveAfterTabsComponentRequested : undefined}\r\n                onRemoveWorkspaceLoadingAnimationRequested = {components?.loadingAnimation?.Workspace ? workspacesStore.onRemoveWorkspaceLoadingAnimation : undefined}\r\n                onHideSystemPopupsRequested={workspacesStore.onHideSystemPopups}\r\n                externalPopupApplications={externalPopupApplications}\r\n                shouldInit={shouldInit}\r\n                glue={glue}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import React from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\nconst parseConfig = (config) => {\r\n    var _a, _b, _c, _d;\r\n    const isPlatformInternal = !!((_c = (_b = (_a = config) === null || _a === void 0 ? void 0 : _a.gateway) === null || _b === void 0 ? void 0 : _b.webPlatform) === null || _c === void 0 ? void 0 : _c.port);\r\n    const combined = Object.assign({}, defaultConfig, config, { isPlatformInternal });\r\n    if (combined.systemLogger) {\r\n        combined.logger = (_d = combined.systemLogger.level) !== null && _d !== void 0 ? _d : \"info\";\r\n    }\r\n    return combined;\r\n};\n\nconst checkSingleton = () => {\r\n    const glue42CoreNamespace = window.glue42core;\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n    if (!glue42CoreNamespace) {\r\n        window.glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n    glue42CoreNamespace.webStarted = true;\r\n};\n\nconst enterprise = (config) => {\r\n    var _a, _b, _c;\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: (_a = config === null || config === void 0 ? void 0 : config.libraries) !== null && _a !== void 0 ? _a : [],\r\n        logger: (_c = (_b = config === null || config === void 0 ? void 0 : config.systemLogger) === null || _b === void 0 ? void 0 : _b.level) !== null && _c !== void 0 ? _c : \"warn\"\r\n    };\r\n    return window.Glue(enterpriseConfig);\r\n};\n\n/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest$1(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest$1(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\n\nconst nonEmptyStringDecoder = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nconst nonNegativeNumberDecoder = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nconst libDomainDecoder = oneOf(constant(\"system\"), constant(\"windows\"), constant(\"appManager\"), constant(\"layouts\"), constant(\"intents\"), constant(\"notifications\"), constant(\"channels\"), constant(\"extension\"));\r\nconst windowOperationTypesDecoder = oneOf(constant(\"openWindow\"), constant(\"windowHello\"), constant(\"windowAdded\"), constant(\"windowRemoved\"), constant(\"getBounds\"), constant(\"getFrameBounds\"), constant(\"getUrl\"), constant(\"moveResize\"), constant(\"focus\"), constant(\"close\"), constant(\"getTitle\"), constant(\"setTitle\"));\r\nconst appManagerOperationTypesDecoder = oneOf(constant(\"appHello\"), constant(\"appDirectoryStateChange\"), constant(\"instanceStarted\"), constant(\"instanceStopped\"), constant(\"applicationStart\"), constant(\"instanceStop\"), constant(\"clear\"));\r\nconst layoutsOperationTypesDecoder = oneOf(constant(\"layoutAdded\"), constant(\"layoutChanged\"), constant(\"layoutRemoved\"), constant(\"get\"), constant(\"getAll\"), constant(\"export\"), constant(\"import\"), constant(\"remove\"), constant(\"clientSaveRequest\"), constant(\"getGlobalPermissionState\"), constant(\"checkGlobalActivated\"), constant(\"requestGlobalPermission\"));\r\nconst notificationsOperationTypesDecoder = oneOf(constant(\"raiseNotification\"), constant(\"requestPermission\"), constant(\"notificationShow\"), constant(\"notificationClick\"), constant(\"getPermission\"));\r\nconst windowRelativeDirectionDecoder = oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"));\r\nconst windowBoundsDecoder = object({\r\n    top: number(),\r\n    left: number(),\r\n    width: nonNegativeNumberDecoder,\r\n    height: nonNegativeNumberDecoder\r\n});\r\nconst windowOpenSettingsDecoder = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder),\r\n    windowId: optional(nonEmptyStringDecoder)\r\n}));\r\nconst openWindowConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\nconst windowHelloDecoder = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\nconst coreWindowDataDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst simpleWindowDecoder = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\nconst helloSuccessDecoder = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\nconst windowTitleConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: string()\r\n});\r\nconst windowMoveResizeConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\nconst windowBoundsResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst frameWindowBoundsResultDecoder = object({\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst windowUrlResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\nconst anyDecoder = anyJson();\r\nconst boundsDecoder = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst instanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\nconst applicationDetailsDecoder = object({\r\n    url: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst intentDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    displayName: optional(string()),\r\n    contexts: optional(array(string())),\r\n    customConfig: optional(object())\r\n});\r\nconst fdc3AppDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    appId: optional(nonEmptyStringDecoder),\r\n    manifest: nonEmptyStringDecoder,\r\n    manifestType: nonEmptyStringDecoder,\r\n    tooltip: optional(nonEmptyStringDecoder),\r\n    description: optional(nonEmptyStringDecoder),\r\n    contactEmail: optional(nonEmptyStringDecoder),\r\n    supportEmail: optional(nonEmptyStringDecoder),\r\n    publisher: optional(nonEmptyStringDecoder),\r\n    images: optional(array(object({ url: optional(nonEmptyStringDecoder) }))),\r\n    icons: optional(array(object({ icon: optional(nonEmptyStringDecoder) }))),\r\n    customConfig: anyJson(),\r\n    intents: optional(array(intentDefinitionDecoder))\r\n});\r\nconst applicationDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    customProperties: optional(anyJson()),\r\n    icon: optional(string()),\r\n    caption: optional(string()),\r\n    details: applicationDetailsDecoder,\r\n    intents: optional(array(intentDefinitionDecoder)),\r\n    hidden: optional(boolean())\r\n});\r\nconst allApplicationDefinitionsDecoder = oneOf(applicationDefinitionDecoder, fdc3AppDefinitionDecoder);\r\nconst appsImportOperationDecoder = object({\r\n    definitions: array(allApplicationDefinitionsDecoder),\r\n    mode: oneOf(constant(\"replace\"), constant(\"merge\"))\r\n});\r\nconst appRemoveConfigDecoder = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst appsExportOperationDecoder = object({\r\n    definitions: array(applicationDefinitionDecoder)\r\n});\r\nconst applicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst baseApplicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst appDirectoryStateChangeDecoder = object({\r\n    appsAdded: array(baseApplicationDataDecoder),\r\n    appsChanged: array(baseApplicationDataDecoder),\r\n    appsRemoved: array(baseApplicationDataDecoder)\r\n});\r\nconst appHelloSuccessDecoder = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\nconst basicInstanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst applicationStartConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    id: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"))),\r\n    forceChromeTab: optional(boolean())\r\n});\r\nconst layoutTypeDecoder = oneOf(constant(\"Global\"), constant(\"Activity\"), constant(\"ApplicationDefault\"), constant(\"Swimlane\"), constant(\"Workspace\"));\r\nconst componentTypeDecoder = oneOf(constant(\"application\"), constant(\"activity\"));\r\nconst windowComponentStateDecoder = object({\r\n    context: optional(anyJson()),\r\n    bounds: windowBoundsDecoder,\r\n    createArgs: object({\r\n        name: optional(nonEmptyStringDecoder),\r\n        url: optional(nonEmptyStringDecoder),\r\n        context: optional(anyJson())\r\n    }),\r\n    windowState: optional(nonEmptyStringDecoder),\r\n    restoreState: optional(nonEmptyStringDecoder),\r\n    instanceId: nonEmptyStringDecoder,\r\n    isCollapsed: optional(boolean()),\r\n    isSticky: optional(boolean()),\r\n    restoreSettings: object({\r\n        groupId: optional(nonEmptyStringDecoder),\r\n        groupZOrder: optional(number())\r\n    })\r\n});\r\nconst windowLayoutComponentDecoder = object({\r\n    type: constant(\"window\"),\r\n    componentType: optional(componentTypeDecoder),\r\n    application: nonEmptyStringDecoder,\r\n    state: windowComponentStateDecoder\r\n});\r\nconst windowLayoutItemDecoder = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        allowReorder: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        isMaximized: optional(boolean())\r\n    })\r\n});\r\nconst groupLayoutItemDecoder = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(windowLayoutItemDecoder))\r\n});\r\nconst columnLayoutItemDecoder = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => columnLayoutItemDecoder), lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst rowLayoutItemDecoder = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst workspaceLayoutComponentStateDecoder = object({\r\n    config: anyJson(),\r\n    context: anyJson(),\r\n    children: array(oneOf(rowLayoutItemDecoder, columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder))\r\n});\r\nconst workspaceLayoutComponentDecoder = object({\r\n    type: constant(\"Workspace\"),\r\n    application: optional(nonEmptyStringDecoder),\r\n    state: workspaceLayoutComponentStateDecoder\r\n});\r\nconst workspaceFrameComponentStateDecoder = object({\r\n    bounds: windowBoundsDecoder,\r\n    instanceId: nonEmptyStringDecoder,\r\n    selectedWorkspace: nonNegativeNumberDecoder,\r\n    workspaces: array(workspaceLayoutComponentStateDecoder),\r\n    windowState: optional(nonEmptyStringDecoder),\r\n    restoreState: optional(nonEmptyStringDecoder)\r\n});\r\nconst workspaceFrameComponentDecoder = object({\r\n    type: constant(\"workspaceFrame\"),\r\n    application: nonEmptyStringDecoder,\r\n    componentType: optional(componentTypeDecoder),\r\n    state: workspaceFrameComponentStateDecoder\r\n});\r\nconst glueLayoutDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf(windowLayoutComponentDecoder, workspaceLayoutComponentDecoder, workspaceFrameComponentDecoder)),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst newLayoutOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson()),\r\n    instances: optional(array(nonEmptyStringDecoder)),\r\n    ignoreInstances: optional(array(nonEmptyStringDecoder))\r\n});\r\nconst restoreOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean()),\r\n    closeMe: optional(boolean()),\r\n    timeout: optional(nonNegativeNumberDecoder)\r\n});\r\nconst layoutSummaryDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst simpleLayoutConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\nconst saveLayoutConfigDecoder = object({\r\n    layout: newLayoutOptionsDecoder\r\n});\r\nconst restoreLayoutConfigDecoder = object({\r\n    layout: restoreOptionsDecoder\r\n});\r\nconst getAllLayoutsConfigDecoder = object({\r\n    type: layoutTypeDecoder\r\n});\r\nconst allLayoutsFullConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\nconst importModeDecoder = oneOf(constant(\"replace\"), constant(\"merge\"));\r\nconst layoutsImportConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder),\r\n    mode: importModeDecoder\r\n});\r\nconst allLayoutsSummariesResultDecoder = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\nconst simpleLayoutResultDecoder = object({\r\n    layout: glueLayoutDecoder\r\n});\r\nconst optionalSimpleLayoutResult = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\nconst intentsOperationTypesDecoder = oneOf(constant(\"findIntent\"), constant(\"getIntents\"), constant(\"raiseIntent\"));\r\nconst intentHandlerDecoder = object({\r\n    applicationName: nonEmptyStringDecoder,\r\n    applicationTitle: string(),\r\n    applicationDescription: optional(string()),\r\n    applicationIcon: optional(string()),\r\n    type: oneOf(constant(\"app\"), constant(\"instance\")),\r\n    displayName: optional(string()),\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    instanceId: optional(string()),\r\n    instanceTitle: optional(string())\r\n});\r\nconst intentDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    handlers: array(intentHandlerDecoder)\r\n});\r\nconst intentTargetDecoder = oneOf(constant(\"startNew\"), constant(\"reuse\"), object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    instance: optional(nonEmptyStringDecoder)\r\n}));\r\nconst intentContextDecoder = object({\r\n    type: optional(nonEmptyStringDecoder),\r\n    data: optional(object())\r\n});\r\nconst intentsDecoder = array(intentDecoder);\r\nconst wrappedIntentsDecoder = object({\r\n    intents: intentsDecoder\r\n});\r\nconst intentFilterDecoder = object({\r\n    name: optional(nonEmptyStringDecoder),\r\n    contextType: optional(nonEmptyStringDecoder)\r\n});\r\nconst findFilterDecoder = oneOf(nonEmptyStringDecoder, intentFilterDecoder);\r\nconst wrappedIntentFilterDecoder = object({\r\n    filter: optional(intentFilterDecoder)\r\n});\r\nconst intentRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    target: optional(intentTargetDecoder),\r\n    context: optional(intentContextDecoder),\r\n    options: optional(windowOpenSettingsDecoder)\r\n});\r\nconst raiseRequestDecoder = oneOf(nonEmptyStringDecoder, intentRequestDecoder);\r\nconst intentResultDecoder = object({\r\n    request: intentRequestDecoder,\r\n    handler: intentHandlerDecoder,\r\n    result: anyJson()\r\n});\r\nconst addIntentListenerRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    displayName: optional(string()),\r\n    icon: optional(string()),\r\n    description: optional(string())\r\n});\r\nconst addIntentListenerIntentDecoder = oneOf(nonEmptyStringDecoder, addIntentListenerRequestDecoder);\r\nconst channelNameDecoder = (channelNames) => {\r\n    return nonEmptyStringDecoder.where(s => channelNames.includes(s), \"Expected a valid channel name\");\r\n};\r\nconst channelContextDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    meta: object({\r\n        color: nonEmptyStringDecoder\r\n    }),\r\n    data: optional(anyJson()),\r\n});\r\nconst interopActionSettingsDecoder = object({\r\n    method: nonEmptyStringDecoder,\r\n    arguments: optional(anyJson()),\r\n    target: optional(oneOf(constant(\"all\"), constant(\"best\")))\r\n});\r\nconst glue42NotificationActionDecoder = object({\r\n    action: string(),\r\n    title: nonEmptyStringDecoder,\r\n    icon: optional(string()),\r\n    interop: optional(interopActionSettingsDecoder)\r\n});\r\nconst notificationDefinitionDecoder = object({\r\n    badge: optional(string()),\r\n    body: optional(string()),\r\n    data: optional(anyJson()),\r\n    dir: optional(oneOf(constant(\"auto\"), constant(\"ltr\"), constant(\"rtl\"))),\r\n    icon: optional(string()),\r\n    image: optional(string()),\r\n    lang: optional(string()),\r\n    renotify: optional(boolean()),\r\n    requireInteraction: optional(boolean()),\r\n    silent: optional(boolean()),\r\n    tag: optional(string()),\r\n    timestamp: optional(nonNegativeNumberDecoder),\r\n    vibrate: optional(array(number()))\r\n});\r\nconst glue42NotificationOptionsDecoder = object({\r\n    title: nonEmptyStringDecoder,\r\n    clickInterop: optional(interopActionSettingsDecoder),\r\n    actions: optional(array(glue42NotificationActionDecoder)),\r\n    focusPlatformOnDefaultClick: optional(boolean()),\r\n    badge: optional(string()),\r\n    body: optional(string()),\r\n    data: optional(anyJson()),\r\n    dir: optional(oneOf(constant(\"auto\"), constant(\"ltr\"), constant(\"rtl\"))),\r\n    icon: optional(string()),\r\n    image: optional(string()),\r\n    lang: optional(string()),\r\n    renotify: optional(boolean()),\r\n    requireInteraction: optional(boolean()),\r\n    silent: optional(boolean()),\r\n    tag: optional(string()),\r\n    timestamp: optional(nonNegativeNumberDecoder),\r\n    vibrate: optional(array(number()))\r\n});\r\nconst raiseNotificationDecoder = object({\r\n    settings: glue42NotificationOptionsDecoder,\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst permissionRequestResultDecoder = object({\r\n    permissionGranted: boolean()\r\n});\r\nconst permissionQueryResultDecoder = object({\r\n    permission: oneOf(constant(\"default\"), constant(\"granted\"), constant(\"denied\"))\r\n});\r\nconst notificationEventPayloadDecoder = object({\r\n    definition: notificationDefinitionDecoder,\r\n    action: optional(string()),\r\n    id: optional(nonEmptyStringDecoder)\r\n});\r\nconst platformSaveRequestConfigDecoder = object({\r\n    layoutType: oneOf(constant(\"Global\"), constant(\"Workspace\")),\r\n    layoutName: nonEmptyStringDecoder,\r\n    context: optional(anyJson())\r\n});\r\nconst saveRequestClientResponseDecoder = object({\r\n    windowContext: optional(anyJson()),\r\n});\r\nconst permissionStateResultDecoder = object({\r\n    state: oneOf(constant(\"prompt\"), constant(\"denied\"), constant(\"granted\"))\r\n});\r\nconst simpleAvailabilityResultDecoder = object({\r\n    isAvailable: boolean()\r\n});\n\nconst operations = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: frameWindowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nclass WebWindowModel {\r\n    constructor(_id, _name, _bridge) {\r\n        this._id = _id;\r\n        this._name = _name;\r\n        this._bridge = _bridge;\r\n        this.registry = lib();\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n    get id() {\r\n        return this._id.slice();\r\n    }\r\n    get name() {\r\n        return this._name.slice();\r\n    }\r\n    clean() {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n    toApi() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.ctxUnsubscribe = yield this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n            const api = {\r\n                id: this.id,\r\n                name: this.name,\r\n                getURL: this.getURL.bind(this),\r\n                moveResize: this.moveResize.bind(this),\r\n                resizeTo: this.resizeTo.bind(this),\r\n                moveTo: this.moveTo.bind(this),\r\n                focus: this.focus.bind(this),\r\n                close: this.close.bind(this),\r\n                getTitle: this.getTitle.bind(this),\r\n                setTitle: this.setTitle.bind(this),\r\n                getBounds: this.getBounds.bind(this),\r\n                getContext: this.getContext.bind(this),\r\n                updateContext: this.updateContext.bind(this),\r\n                setContext: this.setContext.bind(this),\r\n                onContextUpdated: this.onContextUpdated.bind(this)\r\n            };\r\n            this.me = Object.freeze(api);\r\n            return this.me;\r\n        });\r\n    }\r\n    getURL() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getUrl, { windowId: this.id });\r\n            return result.url;\r\n        });\r\n    }\r\n    moveResize(dimension) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetBounds = boundsDecoder.runWithException(dimension);\r\n            const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    resizeTo(width, height) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof width !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(width);\r\n            }\r\n            if (typeof height !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(height);\r\n            }\r\n            const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    moveTo(top, left) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof top !== \"undefined\") {\r\n                number().runWithException(top);\r\n            }\r\n            if (typeof left !== \"undefined\") {\r\n                number().runWithException(left);\r\n            }\r\n            const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    focus() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.name === \"Platform\") {\r\n                window.open(undefined, this.id);\r\n            }\r\n            else {\r\n                yield this._bridge.send(\"windows\", operations.focus, { windowId: this.id });\r\n            }\r\n            return this.me;\r\n        });\r\n    }\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.close, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    getTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getTitle, { windowId: this.id });\r\n            return result.title;\r\n        });\r\n    }\r\n    setTitle(title) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ttl = nonEmptyStringDecoder.runWithException(title);\r\n            yield this._bridge.send(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n            return this.me;\r\n        });\r\n    }\r\n    getBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getBounds, { windowId: this.id });\r\n            return result.bounds;\r\n        });\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = yield this._bridge.contextLib.get(this.myCtxKey);\r\n            return ctx;\r\n        });\r\n    }\r\n    updateContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    setContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    onContextUpdated(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n        const wrappedCallback = (data) => {\r\n            callback(data, this.me);\r\n        };\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n}\n\nclass WindowsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.allWindowProjections = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n            this.logger.trace(\"starting the web windows controller\");\r\n            this.publicWindowId = ioc.publicWindowId;\r\n            this.actualWindowId = ioc.actualWindowId;\r\n            this.addWindowOperationExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.windows = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    open(name, url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            nonEmptyStringDecoder.runWithException(url);\r\n            const settings = windowOpenSettingsDecoder.runWithException(options);\r\n            const windowSuccess = yield this.bridge.send(\"windows\", operations.openWindow, { name, url, options: settings });\r\n            const projection = yield this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n            return projection.api;\r\n        });\r\n    }\r\n    list() {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n    findById(id) {\r\n        var _a;\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return (_a = this.allWindowProjections.find((projection) => projection.id === id)) === null || _a === void 0 ? void 0 : _a.api;\r\n    }\r\n    toApi() {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n    addWindowOperationExecutors() {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getFrameBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n    my() {\r\n        return Object.assign({}, this.me);\r\n    }\r\n    onWindowAdded(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n    onWindowRemoved(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n    sayHello() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const helloSuccess = yield this.bridge.send(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n            return helloSuccess;\r\n        });\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { windows, isWorkspaceFrame } = yield this.sayHello();\r\n            this.logger.trace(\"the platform responded to the hello message\");\r\n            if (!isWorkspaceFrame) {\r\n                this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n                const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n                if (!myWindow) {\r\n                    throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n                }\r\n                this.me = (yield this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n            }\r\n            const currentWindows = yield Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n            this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n            this.allWindowProjections.push(...currentWindows);\r\n        });\r\n    }\r\n    handleWindowAdded(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n                return;\r\n            }\r\n            const webWindowProjection = yield this.ioc.buildWebWindow(data.windowId, data.name);\r\n            this.allWindowProjections.push(webWindowProjection);\r\n            this.registry.execute(\"window-added\", webWindowProjection.api);\r\n        });\r\n    }\r\n    handleWindowRemoved(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n            if (!removed) {\r\n                return;\r\n            }\r\n            this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n            removed.model.clean();\r\n            this.registry.execute(\"window-removed\", removed.api);\r\n        });\r\n    }\r\n    handleGetBounds() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: (_a = this.me) === null || _a === void 0 ? void 0 : _a.id,\r\n                bounds: {\r\n                    top: window.screenTop,\r\n                    left: window.screenLeft,\r\n                    width: window.innerWidth,\r\n                    height: window.innerHeight\r\n                }\r\n            };\r\n        });\r\n    }\r\n    handleGetTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                title: document.title\r\n            };\r\n        });\r\n    }\r\n    handleGetUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                url: window.location.href\r\n            };\r\n        });\r\n    }\r\n    handleMoveResize(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetTop = typeof config.top === \"number\" ? config.top :\r\n                config.relative ? 0 : window.screenTop;\r\n            const targetLeft = typeof config.left === \"number\" ? config.left :\r\n                config.relative ? 0 : window.screenLeft;\r\n            const targetHeight = typeof config.height === \"number\" ? config.height :\r\n                config.relative ? 0 : window.innerHeight;\r\n            const targetWidth = typeof config.width === \"number\" ? config.width :\r\n                config.relative ? 0 : window.innerWidth;\r\n            const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n            const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n            moveMethod(targetLeft, targetTop);\r\n            resizeMethod(targetWidth, targetHeight);\r\n        });\r\n    }\r\n    handleSetTitle(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            document.title = config.title;\r\n        });\r\n    }\r\n}\n\nconst PromiseWrap = (promise, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        let promiseActive = true;\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        promise()\r\n            .then((result) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\r\nconst PromisePlus = (executor, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        const providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then((result) => {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nconst GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\nconst GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\nconst GlueClientControlName = \"T42.Web.Client.Control\";\n\nclass GlueBridge {\r\n    constructor(coreGlue, communicationId) {\r\n        this.coreGlue = coreGlue;\r\n        this.communicationId = communicationId;\r\n        this.platformMethodTimeoutMs = 10000;\r\n    }\r\n    get contextLib() {\r\n        return this.coreGlue.contexts;\r\n    }\r\n    get interopInstance() {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n    start(controllers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.controllers = controllers;\r\n            yield Promise.all([\r\n                this.checkWaitMethod(GlueWebPlatformControlName),\r\n                this.checkWaitMethod(GlueWebPlatformStreamName)\r\n            ]);\r\n            const systemId = this.communicationId;\r\n            const [sub] = yield Promise.all([\r\n                this.coreGlue.interop.subscribe(GlueWebPlatformStreamName, systemId ? { target: { instance: this.communicationId } } : undefined),\r\n                this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n            ]);\r\n            this.sub = sub;\r\n            this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n        });\r\n    }\r\n    getInteropInstance(windowId) {\r\n        const result = this.coreGlue.interop.servers().find((s) => s.windowId && s.windowId === windowId);\r\n        return {\r\n            application: result === null || result === void 0 ? void 0 : result.application,\r\n            applicationName: result === null || result === void 0 ? void 0 : result.applicationName,\r\n            peerId: result === null || result === void 0 ? void 0 : result.peerId,\r\n            instance: result === null || result === void 0 ? void 0 : result.instance,\r\n            windowId: result === null || result === void 0 ? void 0 : result.windowId\r\n        };\r\n    }\r\n    send(domain, operation, operationData, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (operation.dataDecoder) {\r\n                try {\r\n                    operation.dataDecoder.runWithException(operationData);\r\n                }\r\n                catch (error) {\r\n                    throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n            }\r\n            try {\r\n                const operationResult = yield this.transmitMessage(domain, operation, operationData, options);\r\n                if (operation.resultDecoder) {\r\n                    operation.resultDecoder.runWithException(operationResult);\r\n                }\r\n                return operationResult;\r\n            }\r\n            catch (error) {\r\n                if (error.kind) {\r\n                    throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n                throw new Error(error.message);\r\n            }\r\n        });\r\n    }\r\n    checkWaitMethod(name) {\r\n        return PromisePlus((resolve) => {\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => {\r\n                const nameMatch = method.name === name;\r\n                const serverMatch = this.communicationId ?\r\n                    method.getServers().some((server) => server.instance === this.communicationId) :\r\n                    true;\r\n                return nameMatch && serverMatch;\r\n            });\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n            const unSub = this.coreGlue.interop.serverMethodAdded((data) => {\r\n                const method = data.method;\r\n                const server = data.server;\r\n                const serverMatch = this.communicationId ?\r\n                    server.instance === this.communicationId :\r\n                    true;\r\n                if (method.name === name && serverMatch) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n    passMessageController(args, success, error) {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n        const domain = decodeResult.result;\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData) => {\r\n            if (success) {\r\n                success(resolutionData);\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            if (error) {\r\n                error(err);\r\n            }\r\n            console.warn(err);\r\n        });\r\n    }\r\n    transmitMessage(domain, operation, data, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const messageData = { domain, data, operation: operation.name };\r\n            let invocationResult;\r\n            const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n            const systemId = this.communicationId;\r\n            try {\r\n                invocationResult = yield this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData, systemId ? { instance: this.communicationId } : undefined, options);\r\n                if (!invocationResult) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty result\");\r\n                }\r\n                if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error && error.all_errors && error.all_errors.length) {\r\n                    const invocationErrorMessage = error.all_errors[0].message;\r\n                    throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n                }\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n            }\r\n            return invocationResult.all_return_values[0].returned;\r\n        });\r\n    }\r\n}\n\nconst operations$1 = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    appDirectoryStateChange: { name: \"appDirectoryStateChange\", dataDecoder: appDirectoryStateChangeDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\n\nclass AppManagerController {\r\n    constructor() {\r\n        this.baseApplicationsTimeoutMS = 60000;\r\n        this.appImportTimeoutMS = 20;\r\n        this.registry = lib();\r\n        this.applications = [];\r\n        this.instances = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n            this.logger.trace(\"starting the web appManager controller\");\r\n            this.publicWindowId = ioc.publicWindowId;\r\n            this.actualWindowId = ioc.actualWindowId;\r\n            this.addOperationsExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.appManager = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$1[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    onInstanceStarted(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"onInstanceStarted requires a single argument of type function\");\r\n        }\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n    onInstanceStopped(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"onInstanceStopped requires a single argument of type function\");\r\n        }\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n    startApplication(appName, context, options) {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const startOptions = {\r\n                name: appName,\r\n                waitForAGMReady: (_a = options === null || options === void 0 ? void 0 : options.waitForAGMReady) !== null && _a !== void 0 ? _a : true,\r\n                context,\r\n                top: options === null || options === void 0 ? void 0 : options.top,\r\n                left: options === null || options === void 0 ? void 0 : options.left,\r\n                width: options === null || options === void 0 ? void 0 : options.width,\r\n                height: options === null || options === void 0 ? void 0 : options.height,\r\n                relativeTo: options === null || options === void 0 ? void 0 : options.relativeTo,\r\n                relativeDirection: options === null || options === void 0 ? void 0 : options.relativeDirection,\r\n                id: (_b = options) === null || _b === void 0 ? void 0 : _b.reuseId,\r\n                forceChromeTab: (_c = options) === null || _c === void 0 ? void 0 : _c.forceTab\r\n            };\r\n            const openResult = yield this.bridge.send(\"appManager\", operations$1.applicationStart, startOptions);\r\n            const app = this.applications.find((a) => a.name === openResult.applicationName);\r\n            return this.ioc.buildInstance(openResult, app);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            myInstance: this.me,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        return api;\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$1.appDirectoryStateChange.execute = this.handleAppDirectoryStateChange.bind(this);\r\n        operations$1.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations$1.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n    handleAppDirectoryStateChange(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            data.appsAdded.forEach(this.handleApplicationAddedMessage.bind(this));\r\n            data.appsChanged.forEach(this.handleApplicationChangedMessage.bind(this));\r\n            data.appsRemoved.forEach(this.handleApplicationRemovedMessage.bind(this));\r\n        });\r\n    }\r\n    onAppAdded(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"onAppAdded requires a single argument of type function\");\r\n        }\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n    onAppRemoved(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"onAppRemoved requires a single argument of type function\");\r\n        }\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n    onAppChanged(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"onAppChanged requires a single argument of type function\");\r\n        }\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n    handleApplicationAddedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.applications.some((app) => app.name === appData.name)) {\r\n                return;\r\n            }\r\n            const app = yield this.ioc.buildApplication(appData, []);\r\n            const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n            app.instances.push(...instances);\r\n            this.applications.push(app);\r\n            this.registry.execute(\"application-added\", app);\r\n        });\r\n    }\r\n    handleApplicationRemovedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n            if (appIndex < 0) {\r\n                return;\r\n            }\r\n            const app = this.applications[appIndex];\r\n            this.applications.splice(appIndex, 1);\r\n            this.registry.execute(\"application-removed\", app);\r\n        });\r\n    }\r\n    handleApplicationChangedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const app = this.applications.find((app) => app.name === appData.name);\r\n            if (!app) {\r\n                return this.handleApplicationAddedMessage(appData);\r\n            }\r\n            app.title = appData.title;\r\n            app.version = appData.version;\r\n            app.icon = appData.icon;\r\n            app.caption = appData.caption;\r\n            app.userProperties = appData.userProperties;\r\n            this.registry.execute(\"application-changed\", app);\r\n        });\r\n    }\r\n    handleInstanceStartedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n                return;\r\n            }\r\n            const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n            if (!application) {\r\n                throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n            }\r\n            const instance = this.ioc.buildInstance(instanceData, application);\r\n            this.instances.push(instance);\r\n            application.instances.push(instance);\r\n            this.registry.execute(\"instance-started\", instance);\r\n        });\r\n    }\r\n    handleInstanceStoppedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const instance = this.instances.find((i) => i.id === instanceData.id);\r\n            if (instance) {\r\n                const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                this.instances.splice(instIdx, 1);\r\n            }\r\n            const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n            if (application) {\r\n                const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                application.instances.splice(instIdxApps, 1);\r\n            }\r\n            if (!instance) {\r\n                return;\r\n            }\r\n            this.registry.execute(\"instance-stopped\", instance);\r\n        });\r\n    }\r\n    import(definitions, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(definitions)) {\r\n                throw new Error(\"Import must be called with an array of definitions\");\r\n            }\r\n            if (definitions.length > 10000) {\r\n                throw new Error(\"Cannot import more than 10000 app definitions in Glue42 Core.\");\r\n            }\r\n            const parseResult = definitions.reduce((soFar, definition) => {\r\n                const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n                if (!decodeResult.ok) {\r\n                    soFar.invalid.push({ app: definition === null || definition === void 0 ? void 0 : definition.name, error: JSON.stringify(decodeResult.error) });\r\n                }\r\n                else {\r\n                    soFar.valid.push(definition);\r\n                }\r\n                return soFar;\r\n            }, { valid: [], invalid: [] });\r\n            const responseTimeout = this.baseApplicationsTimeoutMS + this.appImportTimeoutMS * parseResult.valid.length;\r\n            yield this.bridge.send(\"appManager\", operations$1.import, { definitions: parseResult.valid, mode }, { methodResponseTimeoutMs: responseTimeout });\r\n            return {\r\n                imported: parseResult.valid.map((valid) => valid.name),\r\n                errors: parseResult.invalid\r\n            };\r\n        });\r\n    }\r\n    remove(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"appManager\", operations$1.remove, { name }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n        });\r\n    }\r\n    clear() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.clear, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n        });\r\n    }\r\n    export() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield this.bridge.send(\"appManager\", operations$1.export, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n            return response.definitions;\r\n        });\r\n    }\r\n    getApplication(name) {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n        return this.applications.find((app) => app.name === verifiedName);\r\n    }\r\n    getApplications() {\r\n        return this.applications.slice();\r\n    }\r\n    getInstances() {\r\n        return this.instances.slice();\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"appManager\", operations$1.appHello, { windowId: this.actualWindowId }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n            this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n            this.applications = yield Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n            this.instances = this.applications.reduce((instancesSoFar, app) => {\r\n                instancesSoFar.push(...app.instances);\r\n                return instancesSoFar;\r\n            }, []);\r\n            this.me = this.findMyInstance();\r\n            this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n        });\r\n    }\r\n    findMyInstance() {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\n\nclass InstanceModel {\r\n    constructor(data, bridge, application) {\r\n        this.data = data;\r\n        this.bridge = bridge;\r\n        this.application = application;\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n    toApi() {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n        const api = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n        this.me = Object.freeze(api);\r\n        return this.me;\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.bridge.contextLib.get(this.myCtxKey);\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.instanceStop, { id: this.data.id });\r\n        });\r\n    }\r\n}\n\nclass ApplicationModel {\r\n    constructor(data, instances, controller) {\r\n        this.data = data;\r\n        this.instances = instances;\r\n        this.controller = controller;\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            name: this.data.name,\r\n            title: this.data.title,\r\n            version: this.data.version,\r\n            icon: this.data.icon,\r\n            caption: this.data.caption,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        this.me = api;\r\n        return this.me;\r\n    }\r\n    onInstanceStarted(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        return this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    onInstanceStopped(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        return this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    start(context, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.controller.startApplication(this.data.name, context, options);\r\n        });\r\n    }\r\n}\n\nconst operations$2 = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder },\r\n    save: { name: \"save\", dataDecoder: saveLayoutConfigDecoder, resultDecoder: simpleLayoutResultDecoder },\r\n    restore: { name: \"restore\", dataDecoder: restoreLayoutConfigDecoder },\r\n    clientSaveRequest: { name: \"clientSaveRequest\", dataDecoder: platformSaveRequestConfigDecoder, resultDecoder: saveRequestClientResponseDecoder },\r\n    getGlobalPermissionState: { name: \"getGlobalPermissionState\", resultDecoder: permissionStateResultDecoder },\r\n    requestGlobalPermission: { name: \"requestGlobalPermission\", resultDecoder: simpleAvailabilityResultDecoder },\r\n    checkGlobalActivated: { name: \"checkGlobalActivated\", resultDecoder: simpleAvailabilityResultDecoder }\r\n};\n\nclass LayoutsController {\r\n    constructor() {\r\n        this.defaultLayoutRestoreTimeoutMS = 120000;\r\n        this.registry = lib();\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n            this.logger.trace(\"starting the web layouts controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.windowsController = ioc.windowsController;\r\n            this.addOperationsExecutors();\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n            coreGlue.layouts = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$2[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this),\r\n            onSaveRequested: this.subscribeOnSaveRequested.bind(this),\r\n            getMultiScreenPermissionState: this.getGlobalPermissionState.bind(this),\r\n            requestMultiScreenPermission: this.requestGlobalPermission.bind(this),\r\n            getGlobalTypeState: this.checkGlobalActivated.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$2.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations$2.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations$2.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n        operations$2.clientSaveRequest.execute = this.handleSaveRequest.bind(this);\r\n    }\r\n    get(name, type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.get, { name, type });\r\n            return result.layout;\r\n        });\r\n    }\r\n    getAll(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.getAll, { type });\r\n            return result.summaries;\r\n        });\r\n    }\r\n    export(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.export, { type });\r\n            return result.layouts;\r\n        });\r\n    }\r\n    import(layouts, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(\"Import must be called with an array of layouts\");\r\n            }\r\n            const parseResult = layouts.reduce((soFar, layout) => {\r\n                const decodeResult = glueLayoutDecoder.run(layout);\r\n                if (decodeResult.ok) {\r\n                    soFar.valid.push(layout);\r\n                }\r\n                else {\r\n                    this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n                }\r\n                return soFar;\r\n            }, { valid: [] });\r\n            const layoutsToImport = layouts.filter((layout) => parseResult.valid.some((validLayout) => validLayout.name === layout.name));\r\n            yield this.bridge.send(\"layouts\", operations$2.import, { layouts: layoutsToImport, mode });\r\n        });\r\n    }\r\n    save(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            newLayoutOptionsDecoder.runWithException(layout);\r\n            const saveResult = yield this.bridge.send(\"layouts\", operations$2.save, { layout });\r\n            return saveResult.layout;\r\n        });\r\n    }\r\n    restore(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            restoreOptionsDecoder.runWithException(options);\r\n            const invocationTimeout = options.timeout ? options.timeout * 2 : this.defaultLayoutRestoreTimeoutMS;\r\n            yield this.bridge.send(\"layouts\", operations$2.restore, { layout: options }, { methodResponseTimeoutMs: invocationTimeout });\r\n        });\r\n    }\r\n    remove(type, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"layouts\", operations$2.remove, { type, name });\r\n        });\r\n    }\r\n    handleSaveRequest(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = {};\r\n            if (this.saveRequestSubscription) {\r\n                try {\r\n                    const onSaveRequestResponse = this.saveRequestSubscription(config);\r\n                    response.windowContext = onSaveRequestResponse === null || onSaveRequestResponse === void 0 ? void 0 : onSaveRequestResponse.windowContext;\r\n                }\r\n                catch (error) {\r\n                    this.logger.warn(`An error was thrown by the onSaveRequested callback, ignoring the callback: ${JSON.stringify(error)}`);\r\n                }\r\n            }\r\n            return response;\r\n        });\r\n    }\r\n    getGlobalPermissionState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestResult = yield this.bridge.send(\"layouts\", operations$2.getGlobalPermissionState, undefined);\r\n            return requestResult;\r\n        });\r\n    }\r\n    requestGlobalPermission() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const currentState = (yield this.getGlobalPermissionState()).state;\r\n            if (currentState === \"denied\") {\r\n                return { permissionGranted: false };\r\n            }\r\n            if (currentState === \"granted\") {\r\n                return { permissionGranted: true };\r\n            }\r\n            const myWindow = this.windowsController.my();\r\n            if (myWindow.name !== \"Platform\") {\r\n                throw new Error(\"Cannot request permission for multi-window placement from any app other than the Platform.\");\r\n            }\r\n            const requestResult = yield this.bridge.send(\"layouts\", operations$2.requestGlobalPermission, undefined, { methodResponseTimeoutMs: 180000 });\r\n            return { permissionGranted: requestResult.isAvailable };\r\n        });\r\n    }\r\n    checkGlobalActivated() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestResult = yield this.bridge.send(\"layouts\", operations$2.checkGlobalActivated, undefined);\r\n            return { activated: requestResult.isAvailable };\r\n        });\r\n    }\r\n    onAdded(callback) {\r\n        this.export(\"Global\").then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        this.export(\"Workspace\").then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations$2.layoutAdded.name, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.registry.add(operations$2.layoutChanged.name, callback);\r\n    }\r\n    onRemoved(callback) {\r\n        return this.registry.add(operations$2.layoutRemoved.name, callback);\r\n    }\r\n    subscribeOnSaveRequested(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to onSaveRequested, because the provided argument is not a valid callback function.\");\r\n        }\r\n        if (this.saveRequestSubscription) {\r\n            throw new Error(\"Cannot subscribe to onSaveRequested, because this client has already subscribed and only one subscription is supported. Consider unsubscribing from the initial one.\");\r\n        }\r\n        this.saveRequestSubscription = callback;\r\n        return () => {\r\n            delete this.saveRequestSubscription;\r\n        };\r\n    }\r\n    handleOnAdded(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutAdded.name, layout);\r\n        });\r\n    }\r\n    handleOnChanged(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutChanged.name, layout);\r\n        });\r\n    }\r\n    handleOnRemoved(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutRemoved.name, layout);\r\n        });\r\n    }\r\n}\n\nconst operations$3 = {\r\n    raiseNotification: { name: \"raiseNotification\", dataDecoder: raiseNotificationDecoder },\r\n    requestPermission: { name: \"requestPermission\", resultDecoder: permissionRequestResultDecoder },\r\n    notificationShow: { name: \"notificationShow\", dataDecoder: notificationEventPayloadDecoder },\r\n    notificationClick: { name: \"notificationClick\", dataDecoder: notificationEventPayloadDecoder },\r\n    getPermission: { name: \"getPermission\", resultDecoder: permissionQueryResultDecoder }\r\n};\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t  path: basedir,\n\t  exports: {},\n\t  require: function (path, base) {\n      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n    }\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nvar alphabet_1 = {\n    get: get,\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nvar randomByteBrowser = randomByte;\n\n// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nvar format_browser = function (random, alphabet, size) {\n  // We can’t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1;\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length);\n  var id = '';\n\n  while (true) {\n    var bytes = random(step);\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step;\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || '';\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n};\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format_browser(randomByteBrowser, alphabet_1.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar generate_1 = generate;\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate_1(version);\n    str = str + generate_1(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate_1(counter);\n    }\n    str = str + generate_1(seconds);\n    return str;\n}\n\nvar build_1 = build;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet_1.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build_1(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n});\n\nvar shortid = lib$1;\n\nclass NotificationsController {\r\n    constructor() {\r\n        this.notifications = {};\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n            this.logger.trace(\"starting the web notifications controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.coreGlue = coreGlue;\r\n            this.notificationsSettings = ioc.config.notifications;\r\n            this.buildNotificationFunc = ioc.buildNotification;\r\n            const api = this.toApi();\r\n            this.addOperationExecutors();\r\n            coreGlue.notifications = api;\r\n            this.logger.trace(\"notifications are ready\");\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = notificationsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$3[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            requestPermission: this.requestPermission.bind(this),\r\n            getPermission: this.getPermission.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    getPermission() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const queryResult = yield this.bridge.send(\"notifications\", operations$3.getPermission, undefined);\r\n            return queryResult.permission;\r\n        });\r\n    }\r\n    requestPermission() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const permissionResult = yield this.bridge.send(\"notifications\", operations$3.requestPermission, undefined);\r\n            return permissionResult.permissionGranted;\r\n        });\r\n    }\r\n    raise(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const settings = glue42NotificationOptionsDecoder.runWithException(options);\r\n            const permissionGranted = yield this.requestPermission();\r\n            if (!permissionGranted) {\r\n                throw new Error(\"Cannot raise the notification, because the user has declined the permission request\");\r\n            }\r\n            const id = shortid.generate();\r\n            yield this.bridge.send(\"notifications\", operations$3.raiseNotification, { settings, id });\r\n            const notification = this.buildNotificationFunc(options);\r\n            this.notifications[id] = notification;\r\n            return notification;\r\n        });\r\n    }\r\n    addOperationExecutors() {\r\n        operations$3.notificationShow.execute = this.handleNotificationShow.bind(this);\r\n        operations$3.notificationClick.execute = this.handleNotificationClick.bind(this);\r\n    }\r\n    handleNotificationShow(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!data.id) {\r\n                return;\r\n            }\r\n            const notification = this.notifications[data.id];\r\n            if (notification && notification.onshow) {\r\n                notification.onshow();\r\n            }\r\n        });\r\n    }\r\n    handleNotificationClick(data) {\r\n        var _a, _b, _c, _d, _e;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!data.action && ((_a = this.notificationsSettings) === null || _a === void 0 ? void 0 : _a.defaultClick)) {\r\n                this.notificationsSettings.defaultClick(this.coreGlue, data.definition);\r\n            }\r\n            if (data.action && ((_c = (_b = this.notificationsSettings) === null || _b === void 0 ? void 0 : _b.actionClicks) === null || _c === void 0 ? void 0 : _c.some((actionDef) => actionDef.action === data.action))) {\r\n                const foundHandler = (_e = (_d = this.notificationsSettings) === null || _d === void 0 ? void 0 : _d.actionClicks) === null || _e === void 0 ? void 0 : _e.find((actionDef) => actionDef.action === data.action);\r\n                foundHandler.handler(this.coreGlue, data.definition);\r\n            }\r\n            if (!data.id) {\r\n                return;\r\n            }\r\n            const notification = this.notifications[data.id];\r\n            if (notification && notification.onclick) {\r\n                notification.onclick();\r\n                delete this.notifications[data.id];\r\n            }\r\n        });\r\n    }\r\n}\n\nconst operations$4 = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\n\nclass IntentsController {\r\n    constructor() {\r\n        this.myIntents = new Set();\r\n        this.GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n            this.logger.trace(\"starting the web intents controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n            coreGlue.intents = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$4[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(request) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestObj = raiseRequestDecoder.runWithException(request);\r\n            let data;\r\n            if (typeof requestObj === \"string\") {\r\n                data = {\r\n                    intent: requestObj\r\n                };\r\n            }\r\n            else {\r\n                data = requestObj;\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$4.raiseIntent, data);\r\n            return result;\r\n        });\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"intents\", operations$4.getIntents, undefined);\r\n            return result.intents;\r\n        });\r\n    }\r\n    addIntentListener(intent, handler) {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n        let registerPromise;\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n        const result = {\r\n            unsubscribe: () => {\r\n                this.myIntents.delete(intentName);\r\n                registerPromise\r\n                    .then(() => this.interop.unregister(methodName))\r\n                    .catch((err) => this.logger.trace(`Unregistration of a method with name ${methodName} failed with reason: ${err}`));\r\n            }\r\n        };\r\n        let intentFlag = {};\r\n        if (typeof intent === \"object\") {\r\n            const rest = __rest(intent, [\"intent\"]);\r\n            intentFlag = rest;\r\n        }\r\n        registerPromise = this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args) => {\r\n            if (this.myIntents.has(intentName)) {\r\n                return handler(args);\r\n            }\r\n        });\r\n        registerPromise.catch(err => {\r\n            this.myIntents.delete(intentName);\r\n            this.logger.warn(`Registration of a method with name ${methodName} failed with reason: ${err}`);\r\n        });\r\n        return result;\r\n    }\r\n    find(intentFilter) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = undefined;\r\n            if (typeof intentFilter !== \"undefined\") {\r\n                const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n                if (typeof intentFilterObj === \"string\") {\r\n                    data = {\r\n                        filter: {\r\n                            name: intentFilterObj\r\n                        }\r\n                    };\r\n                }\r\n                else if (typeof intentFilterObj === \"object\") {\r\n                    data = {\r\n                        filter: intentFilterObj\r\n                    };\r\n                }\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$4.findIntent, data);\r\n            return result.intents;\r\n        });\r\n    }\r\n}\n\nconst Glue42CoreMessageTypes = {\r\n    platformUnload: { name: \"platformUnload\" },\r\n    transportSwitchRequest: { name: \"transportSwitchRequest\" },\r\n    transportSwitchResponse: { name: \"transportSwitchResponse\" },\r\n    getCurrentTransport: { name: \"getCurrentTransport\" },\r\n    getCurrentTransportResponse: { name: \"getCurrentTransportResponse\" },\r\n    checkPreferredLogic: { name: \"checkPreferredLogic\" },\r\n    checkPreferredConnection: { name: \"checkPreferredConnection\" },\r\n    checkPreferredLogicResponse: { name: \"checkPreferredLogicResponse\" },\r\n    checkPreferredConnectionResponse: { name: \"checkPreferredConnectionResponse\" }\r\n};\r\nconst webPlatformTransportName = \"web-platform\";\r\nconst latestFDC3Type = \"latest_fdc3_type\";\n\nconst operations$5 = {\r\n    addChannel: { name: \"addChannel\", dataDecoder: channelContextDecoder },\r\n};\n\nclass ChannelsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.GlueWebChannelsPrefix = \"___channel___\";\r\n        this.SubsKey = \"subs\";\r\n        this.ChangedKey = \"changed\";\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n            this.logger.trace(\"starting the web channels controller\");\r\n            this.contexts = coreGlue.contexts;\r\n            this.bridge = ioc.bridge;\r\n            this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.channels = api;\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    list() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            const channelContexts = yield Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n            return channelContexts;\r\n        });\r\n    }\r\n    my() {\r\n        return this.current();\r\n    }\r\n    join(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            yield this.switchToChannel(name);\r\n        });\r\n    }\r\n    onChanged(callback) {\r\n        return this.changed(callback);\r\n    }\r\n    leave() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.switchToChannel();\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    createContextName(channelName) {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n    getAllChannelNames() {\r\n        const contextNames = this.contexts.all();\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n        return channelNames;\r\n    }\r\n    unsubscribe() {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n    switchToChannel(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unsubscribe();\r\n            this.currentChannelName = name;\r\n            if (typeof name !== \"undefined\") {\r\n                const contextName = this.createContextName(name);\r\n                this.unsubscribeFunc = yield this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                    this.registry.execute(this.SubsKey, context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n                });\r\n            }\r\n            this.registry.execute(this.ChangedKey, name);\r\n        });\r\n    }\r\n    updateData(name, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const contextName = this.createContextName(name);\r\n            const fdc3Type = this.getFDC3Type(data);\r\n            if (this.contexts.setPathSupported) {\r\n                const pathValues = Object.keys(data).map((key) => {\r\n                    return {\r\n                        path: `data.${key}`,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                if (fdc3Type) {\r\n                    pathValues.push({ path: latestFDC3Type, value: fdc3Type });\r\n                }\r\n                yield this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                if (fdc3Type) {\r\n                    data[latestFDC3Type] = fdc3Type;\r\n                }\r\n                yield this.contexts.update(contextName, { data });\r\n            }\r\n        });\r\n    }\r\n    getFDC3Type(data) {\r\n        const fdc3PropsArr = Object.keys(data).filter((key) => key.indexOf(\"fdc3_\") === 0);\r\n        if (fdc3PropsArr.length === 0) {\r\n            return;\r\n        }\r\n        if (fdc3PropsArr.length > 1) {\r\n            throw new Error(\"FDC3 does not support updating of multiple context keys\");\r\n        }\r\n        return fdc3PropsArr[0].split(\"_\").slice(1).join(\"_\");\r\n    }\r\n    subscribe(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n    subscribeFor(name, callback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n            }\r\n            const contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                callback(context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n            });\r\n        });\r\n    }\r\n    publish(data, name) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            return this.updateData(name, data);\r\n        }\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            return channelNames;\r\n        });\r\n    }\r\n    get(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            const contextName = this.createContextName(name);\r\n            const channelContext = yield this.contexts.get(contextName);\r\n            if (channelContext.latest_fdc3_type) {\r\n                const rest = __rest(channelContext, [\"latest_fdc3_type\"]);\r\n                return Object.assign({}, rest);\r\n            }\r\n            return channelContext;\r\n        });\r\n    }\r\n    current() {\r\n        return this.currentChannelName;\r\n    }\r\n    changed(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n    add(info) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelContext = channelContextDecoder.runWithException(info);\r\n            const channelWithSuchNameExists = this.getAllChannelNames().includes(channelContext.name);\r\n            if (channelWithSuchNameExists) {\r\n                throw new Error(\"There's an already existing channel with such name\");\r\n            }\r\n            yield this.bridge.send(\"channels\", operations$5.addChannel, channelContext);\r\n            return channelContext;\r\n        });\r\n    }\r\n}\n\nconst operations$6 = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\n\nclass SystemController {\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.bridge = ioc.bridge;\r\n            yield this.setEnvironment();\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    setEnvironment() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const environment = yield this.bridge.send(\"system\", operations$6.getEnvironment, undefined);\r\n            const base = yield this.bridge.send(\"system\", operations$6.getBase, undefined);\r\n            const glue42core = Object.assign({}, window.glue42core, base, { environment });\r\n            window.glue42core = Object.freeze(glue42core);\r\n        });\r\n    }\r\n}\n\nclass Notification {\r\n    constructor(config) {\r\n        this.onclick = () => { };\r\n        this.onshow = () => { };\r\n        this.badge = config.badge;\r\n        this.body = config.body;\r\n        this.data = config.data;\r\n        this.dir = config.dir;\r\n        this.icon = config.icon;\r\n        this.image = config.image;\r\n        this.lang = config.lang;\r\n        this.renotify = config.renotify;\r\n        this.requireInteraction = config.requireInteraction;\r\n        this.silent = config.silent;\r\n        this.tag = config.tag;\r\n        this.timestamp = config.timestamp;\r\n        this.vibrate = config.vibrate;\r\n    }\r\n}\n\nconst extensionOperationTypesDecoder = oneOf(constant(\"clientHello\"));\r\nconst extensionConfigDecoder = object({\r\n    widget: object({\r\n        inject: boolean()\r\n    })\r\n});\n\nconst operations$7 = {\r\n    clientHello: { name: \"clientHello\", resultDecoder: extensionConfigDecoder }\r\n};\n\nclass ExtController {\r\n    constructor() {\r\n        this.channels = [];\r\n        this.contentCommands = {\r\n            widgetVisualizationPermission: { name: \"widgetVisualizationPermission\", handle: this.handleWidgetVisualizationPermission.bind(this) },\r\n            changeChannel: { name: \"changeChannel\", handle: this.handleChangeChannel.bind(this) }\r\n        };\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"extension.controller.web\");\r\n            this.windowId = ioc.publicWindowId;\r\n            this.logger.trace(\"starting the extension web controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.channelsController = ioc.channelsController;\r\n            this.eventsDispatcher = ioc.eventsDispatcher;\r\n            try {\r\n                yield this.registerWithPlatform();\r\n            }\r\n            catch (error) {\r\n                return;\r\n            }\r\n            this.channels = yield this.channelsController.list();\r\n            this.eventsDispatcher.onContentMessage(this.handleContentMessage.bind(this));\r\n            this.channelsController.onChanged((channel) => {\r\n                this.eventsDispatcher.sendContentMessage({ command: \"channelChange\", newChannel: channel });\r\n            });\r\n        });\r\n    }\r\n    handleBridgeMessage(_) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    handleContentMessage(message) {\r\n        if (!message || typeof message.command !== \"string\") {\r\n            return;\r\n        }\r\n        const foundHandler = this.contentCommands[message.command];\r\n        if (!foundHandler) {\r\n            return;\r\n        }\r\n        foundHandler.handle(message);\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger.trace(\"registering with the platform\");\r\n            this.config = yield this.bridge.send(\"extension\", operations$7.clientHello, { windowId: this.windowId });\r\n            this.logger.trace(\"the platform responded to the hello message with a valid extension config\");\r\n        });\r\n    }\r\n    handleWidgetVisualizationPermission() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!((_a = this.config) === null || _a === void 0 ? void 0 : _a.widget.inject)) {\r\n                return this.eventsDispatcher.sendContentMessage({ command: \"permissionResponse\", allowed: false });\r\n            }\r\n            const currentChannel = this.channels.find((channel) => channel.name === this.channelsController.my());\r\n            this.eventsDispatcher.sendContentMessage({ command: \"permissionResponse\", allowed: true, channels: this.channels, currentChannel });\r\n        });\r\n    }\r\n    handleChangeChannel(message) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (message.name === \"no-channel\") {\r\n                yield this.channelsController.leave();\r\n                return;\r\n            }\r\n            yield this.channelsController.join(message.name);\r\n        });\r\n    }\r\n}\n\nclass EventsDispatcher {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.glue42CoreEventName = \"Glue42CoreRuntime\";\r\n        this.events = {\r\n            notifyStarted: { name: \"notifyStarted\", handle: this.handleNotifyStarted.bind(this) },\r\n            contentInc: { name: \"contentInc\", handle: this.handleContentInc.bind(this) }\r\n        };\r\n    }\r\n    start(glue) {\r\n        this.glue = glue;\r\n        this.wireCustomEventListener();\r\n        this.announceStarted();\r\n    }\r\n    sendContentMessage(message) {\r\n        this.send(\"contentOut\", message);\r\n    }\r\n    onContentMessage(callback) {\r\n        return this.registry.add(\"content-inc\", callback);\r\n    }\r\n    wireCustomEventListener() {\r\n        window.addEventListener(this.glue42CoreEventName, (event) => {\r\n            const data = event.detail;\r\n            if (!data || !data.glue42core) {\r\n                return;\r\n            }\r\n            const glue42Event = data.glue42core.event;\r\n            const foundHandler = this.events[glue42Event];\r\n            if (!foundHandler) {\r\n                return;\r\n            }\r\n            foundHandler.handle(data.glue42core.message);\r\n        });\r\n    }\r\n    announceStarted() {\r\n        this.send(\"start\");\r\n    }\r\n    handleNotifyStarted() {\r\n        this.announceStarted();\r\n    }\r\n    handleContentInc(message) {\r\n        this.registry.execute(\"content-inc\", message);\r\n    }\r\n    send(eventName, message) {\r\n        const payload = { glue42core: { event: eventName, message } };\r\n        const event = new CustomEvent(this.glue42CoreEventName, { detail: payload });\r\n        window.dispatchEvent(event);\r\n    }\r\n}\n\nclass PreferredConnectionController {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.transactionTimeout = 15000;\r\n        this.transactionLocks = {};\r\n        this.reconnectCounter = 0;\r\n        this.logger = this.coreGlue.logger.subLogger(\"web.preferred.connection.controller\");\r\n    }\r\n    start(coreConfig) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (coreConfig.isPlatformInternal) {\r\n                this.logger.trace(\"This is an internal client to the platform, skipping all client preferred communication logic.\");\r\n                return;\r\n            }\r\n            const isConnectedToPlatform = this.coreGlue.connection.transport.name() === webPlatformTransportName;\r\n            if (!isConnectedToPlatform) {\r\n                throw new Error(\"Cannot initiate the Glue Web Bridge, because the initial connection was not handled by a Web Platform transport.\");\r\n            }\r\n            if (!this.coreGlue.connection.transport.isPreferredActivated) {\r\n                this.logger.trace(\"The platform of this client was configured without a preferred connection, skipping the rest of the initialization.\");\r\n                return;\r\n            }\r\n            this.webPlatformTransport = this.coreGlue.connection.transport;\r\n            this.webPlatformMessagesUnsubscribe = this.webPlatformTransport.onMessage(this.handleWebPlatformMessage.bind(this));\r\n            const transportState = yield this.getCurrentPlatformTransportState();\r\n            yield this.checkSwitchTransport(transportState);\r\n        });\r\n    }\r\n    handleWebPlatformMessage(msg) {\r\n        if (typeof msg === \"string\") {\r\n            return;\r\n        }\r\n        const isConnectedToPlatform = this.coreGlue.connection.transport.name() === webPlatformTransportName;\r\n        const type = msg.type;\r\n        const args = msg.args;\r\n        const transactionId = msg.transactionId;\r\n        if (type === Glue42CoreMessageTypes.transportSwitchRequest.name) {\r\n            return this.handleTransportSwitchRequest(args, transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.platformUnload.name && !isConnectedToPlatform) {\r\n            return this.handlePlatformUnload();\r\n        }\r\n        if (type === Glue42CoreMessageTypes.getCurrentTransportResponse.name) {\r\n            return this.handleGetCurrentTransportResponse(args, transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.checkPreferredLogic.name) {\r\n            return this.handleCheckPreferredLogic(transactionId);\r\n        }\r\n        if (type === Glue42CoreMessageTypes.checkPreferredConnection.name) {\r\n            return this.handleCheckPreferredConnection(args, transactionId);\r\n        }\r\n    }\r\n    reEstablishPlatformPort() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.webPlatformTransport.connect();\r\n            }\r\n            catch (error) {\r\n                this.logger.trace(`Error when re-establishing port connection to the platform: ${JSON.stringify(error)}`);\r\n                --this.reconnectCounter;\r\n                if (this.reconnectCounter > 0) {\r\n                    return this.reEstablishPlatformPort();\r\n                }\r\n                this.logger.warn(\"This client lost connection to the platform while connected to a preferred GW and was not able to re-connect to the platform.\");\r\n            }\r\n            this.logger.trace(\"The connection to the platform was re-established, closing the connection to the web gateway.\");\r\n            this.reconnectCounter = 0;\r\n            this.webPlatformTransport.close();\r\n            const transportState = yield this.getCurrentPlatformTransportState();\r\n            yield this.checkSwitchTransport(transportState);\r\n        });\r\n    }\r\n    checkSwitchTransport(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const myCurrentTransportName = this.coreGlue.connection.transport.name();\r\n            if (myCurrentTransportName === config.transportName) {\r\n                this.logger.trace(\"A check switch was requested, but the platform transport and my transport are identical, no switch is necessary\");\r\n                return;\r\n            }\r\n            this.logger.trace(`A check switch was requested and a transport switch is necessary, because this client is now on ${myCurrentTransportName}, but it should reconnect to ${JSON.stringify(config)}`);\r\n            const result = yield this.coreGlue.connection.switchTransport(config);\r\n            this.setConnected();\r\n            this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n        });\r\n    }\r\n    getCurrentPlatformTransportState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger.trace(\"Requesting the current transport state of the platform.\");\r\n            const transaction = this.setTransaction(Glue42CoreMessageTypes.getCurrentTransport.name);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.getCurrentTransport.name, transaction.id);\r\n            const transportState = yield transaction.lock;\r\n            this.logger.trace(`The platform responded with transport state: ${JSON.stringify(transportState)}`);\r\n            return transportState;\r\n        });\r\n    }\r\n    setTransaction(operation) {\r\n        const transaction = {};\r\n        const transactionId = shortid.generate();\r\n        const transactionLock = new Promise((resolve, reject) => {\r\n            let transactionLive = true;\r\n            transaction.lift = (args) => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                resolve(args);\r\n            };\r\n            transaction.fail = (reason) => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                reject(reason);\r\n            };\r\n            setTimeout(() => {\r\n                if (!transactionLive) {\r\n                    return;\r\n                }\r\n                transactionLive = false;\r\n                this.logger.warn(`Transaction for operation: ${operation} timed out.`);\r\n                delete this.transactionLocks[transactionId];\r\n                reject(`Transaction for operation: ${operation} timed out.`);\r\n            }, this.transactionTimeout);\r\n        });\r\n        transaction.lock = transactionLock;\r\n        transaction.id = transactionId;\r\n        this.transactionLocks[transactionId] = transaction;\r\n        return transaction;\r\n    }\r\n    sendPlatformMessage(type, transactionId, args) {\r\n        this.logger.trace(`Sending a platform message of type: ${type}, id: ${transactionId} and args: ${JSON.stringify(args)}`);\r\n        this.webPlatformTransport.sendObject({\r\n            glue42core: { type, args, transactionId }\r\n        });\r\n    }\r\n    handleTransportSwitchRequest(args, transactionId) {\r\n        this.logger.trace(`Received a transport switch request with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        this.coreGlue.connection.switchTransport(args.switchSettings)\r\n            .then((result) => {\r\n            this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n            this.setConnected();\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: result.success });\r\n        })\r\n            .catch((error) => {\r\n            this.logger.error(error);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: false });\r\n        });\r\n    }\r\n    handlePlatformUnload() {\r\n        this.reconnectCounter = 5;\r\n        this.logger.trace(\"The platform was unloaded while I am connected to a preferred connection, re-establishing the port connection.\");\r\n        this.reEstablishPlatformPort();\r\n    }\r\n    handleGetCurrentTransportResponse(args, transactionId) {\r\n        this.logger.trace(`Got a current transport response from the platform with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        const transportState = args.transportState;\r\n        const transaction = this.transactionLocks[transactionId];\r\n        transaction === null || transaction === void 0 ? void 0 : transaction.lift(transportState);\r\n    }\r\n    handleCheckPreferredLogic(transactionId) {\r\n        setTimeout(() => this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredLogicResponse.name, transactionId), 0);\r\n    }\r\n    handleCheckPreferredConnection(args, transactionId) {\r\n        const url = args.url;\r\n        this.logger.trace(`Testing the possible connection to: ${url}`);\r\n        this.checkPreferredConnection(url)\r\n            .then((result) => {\r\n            this.logger.trace(`The connection to ${url} is possible`);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, result);\r\n        })\r\n            .catch((error) => {\r\n            this.logger.trace(`The connection to ${url} is not possible`);\r\n            this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, { error });\r\n        });\r\n    }\r\n    checkPreferredConnection(url) {\r\n        return new Promise((resolve) => {\r\n            const ws = new WebSocket(url);\r\n            ws.onerror = () => resolve({ live: false });\r\n            ws.onopen = () => {\r\n                ws.close();\r\n                resolve({ live: true });\r\n            };\r\n        });\r\n    }\r\n    setConnected() {\r\n        this.webPlatformTransport.manualSetReadyState();\r\n    }\r\n}\n\nclass IoC {\r\n    constructor() {\r\n        this.controllers = {\r\n            windows: this.windowsController,\r\n            appManager: this.appManagerController,\r\n            layouts: this.layoutsController,\r\n            notifications: this.notificationsController,\r\n            intents: this.intentsController,\r\n            channels: this.channelsController,\r\n            system: this.systemController,\r\n            extension: this.extensionController\r\n        };\r\n    }\r\n    get communicationId() {\r\n        return this._communicationId;\r\n    }\r\n    get publicWindowId() {\r\n        if (!this._publicWindowId) {\r\n            throw new Error(\"Accessing undefined public window id.\");\r\n        }\r\n        return this._publicWindowId;\r\n    }\r\n    get actualWindowId() {\r\n        return this._actualWindowId;\r\n    }\r\n    get windowsController() {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n        return this._windowsControllerInstance;\r\n    }\r\n    get appManagerController() {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n        return this._appManagerControllerInstance;\r\n    }\r\n    get layoutsController() {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n        return this._layoutsControllerInstance;\r\n    }\r\n    get notificationsController() {\r\n        if (!this._notificationsControllerInstance) {\r\n            this._notificationsControllerInstance = new NotificationsController();\r\n        }\r\n        return this._notificationsControllerInstance;\r\n    }\r\n    get intentsController() {\r\n        if (!this._intentsControllerInstance) {\r\n            this._intentsControllerInstance = new IntentsController();\r\n        }\r\n        return this._intentsControllerInstance;\r\n    }\r\n    get systemController() {\r\n        if (!this._systemControllerInstance) {\r\n            this._systemControllerInstance = new SystemController();\r\n        }\r\n        return this._systemControllerInstance;\r\n    }\r\n    get channelsController() {\r\n        if (!this._channelsControllerInstance) {\r\n            this._channelsControllerInstance = new ChannelsController();\r\n        }\r\n        return this._channelsControllerInstance;\r\n    }\r\n    get extensionController() {\r\n        if (!this._extensionController) {\r\n            this._extensionController = new ExtController();\r\n        }\r\n        return this._extensionController;\r\n    }\r\n    get eventsDispatcher() {\r\n        if (!this._eventsDispatcher) {\r\n            this._eventsDispatcher = new EventsDispatcher();\r\n        }\r\n        return this._eventsDispatcher;\r\n    }\r\n    get bridge() {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this._coreGlue, this.communicationId);\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n    get preferredConnectionController() {\r\n        if (!this._preferredConnectionController) {\r\n            this._preferredConnectionController = new PreferredConnectionController(this._coreGlue);\r\n        }\r\n        return this._preferredConnectionController;\r\n    }\r\n    get config() {\r\n        return this._webConfig;\r\n    }\r\n    defineGlue(coreGlue) {\r\n        this._coreGlue = coreGlue;\r\n        this._publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n        this._actualWindowId = coreGlue.interop.instance.windowId;\r\n        this._communicationId = coreGlue.connection.transport.communicationId || window.glue42core.communicationId;\r\n    }\r\n    defineConfig(config) {\r\n        this._webConfig = config;\r\n    }\r\n    buildWebWindow(id, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const model = new WebWindowModel(id, name, this.bridge);\r\n            const api = yield model.toApi();\r\n            return { id, model, api };\r\n        });\r\n    }\r\n    buildNotification(config) {\r\n        return new Notification(config);\r\n    }\r\n    buildApplication(app, applicationInstances) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n            const instances = applicationInstances.map((instanceData) => this.buildInstance(instanceData, application));\r\n            application.instances.push(...instances);\r\n            return application;\r\n        });\r\n    }\r\n    buildInstance(instanceData, app) {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}\n\nvar version$1 = \"2.8.3\";\n\nconst createFactoryFunction = (coreFactoryFunction) => {\r\n    return (userConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n        if (window.glue42gd) {\r\n            return enterprise(userConfig);\r\n        }\r\n        const ioc = new IoC();\r\n        const config = parseConfig(userConfig);\r\n        checkSingleton();\r\n        const glue = yield PromiseWrap(() => coreFactoryFunction(config, { version: version$1 }), 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n        ioc.defineGlue(glue);\r\n        yield ioc.preferredConnectionController.start(config);\r\n        yield ioc.bridge.start(ioc.controllers);\r\n        ioc.defineConfig(config);\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n        yield Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n        yield Promise.all(config.libraries.map((lib) => lib(glue, config)));\r\n        logger.trace(\"all libraries were started\");\r\n        ioc.eventsDispatcher.start(glue);\r\n        logger.trace(\"start event dispatched, glue is ready, returning it\");\r\n        return glue;\r\n    });\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign$1 = function() {\r\n    __assign$1 = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign$1.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter$1(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign$1({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign$1({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                var _a;\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                var className = target ? (_a = target.getAttribute(\"class\")) !== null && _a !== void 0 ? _a : \"\" : \"\";\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: className,\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry$1(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry$1.default = createRegistry$1;\r\nvar lib$2 = createRegistry$1;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib$2();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib$2();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib$2();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (typeof retriesLeft === \"undefined\") {\r\n                            retriesLeft = this.settings.reconnectAttempts;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule$1(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed$1 = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue$1() {\n    seed$1 = (seed$1 * 9301 + 49297) % 233280;\n    return seed$1/(233280.0);\n}\n\nfunction setSeed$2(_seed_) {\n    seed$1 = _seed_;\n}\n\nvar randomFromSeed$1 = {\n    nextValue: getNextValue$1,\n    seed: setSeed$2\n};\n\nvar ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet$1;\nvar previousSeed$1;\n\nvar shuffled$1;\n\nfunction reset$1() {\n    shuffled$1 = false;\n}\n\nfunction setCharacters$1(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet$1 !== ORIGINAL$1) {\n            alphabet$1 = ORIGINAL$1;\n            reset$1();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet$1) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL$1.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet$1 = _alphabet_;\n    reset$1();\n}\n\nfunction characters$1(_alphabet_) {\n    setCharacters$1(_alphabet_);\n    return alphabet$1;\n}\n\nfunction setSeed$1$1(seed) {\n    randomFromSeed$1.seed(seed);\n    if (previousSeed$1 !== seed) {\n        reset$1();\n        previousSeed$1 = seed;\n    }\n}\n\nfunction shuffle$1() {\n    if (!alphabet$1) {\n        setCharacters$1(ORIGINAL$1);\n    }\n\n    var sourceArray = alphabet$1.split('');\n    var targetArray = [];\n    var r = randomFromSeed$1.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed$1.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled$1() {\n    if (shuffled$1) {\n        return shuffled$1;\n    }\n    shuffled$1 = shuffle$1();\n    return shuffled$1;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup$1(index) {\n    var alphabetShuffled = getShuffled$1();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1$1 = {\n    characters: characters$1,\n    seed: setSeed$1$1,\n    lookup: lookup$1,\n    shuffled: getShuffled$1\n};\n\nvar crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte$1() {\n    if (!crypto$1 || !crypto$1.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto$1.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser$1 = randomByte$1;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1$1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId$1(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1$1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid$1 = isShortId$1;\n\nvar lib$1$1 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1$1.lookup, version);\n    str = str + encode_1(alphabet_1$1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1$1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1$1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1$1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1$1.characters(newCharacters);\n    }\n\n    return alphabet_1$1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid$1;\n});\nvar lib_1 = lib$1$1.generate;\nvar lib_2 = lib$1$1.seed;\nvar lib_3 = lib$1$1.worker;\nvar lib_4 = lib$1$1.characters;\nvar lib_5 = lib$1$1.decode;\nvar lib_6 = lib$1$1.isValid;\n\nvar shortid$1 = lib$1$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib$2();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid$1();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib$2();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else if (config.provider) {\r\n                            authentication.provider = config.provider;\r\n                            authentication.providerContext = config.providerContext;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus$1 = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.iAmConnected = false;\r\n        this.parentReady = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.webNamespace = \"g42_core_web\";\r\n        this.parentPingTimeout = 5000;\r\n        this.connectionRequestTimeout = 7000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib$2();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) },\r\n            gatewayDisconnect: { name: \"gatewayDisconnect\", handle: this.handleGatewayDisconnect.bind(this) },\r\n            gatewayInternalConnect: { name: \"gatewayInternalConnect\", handle: this.handleGatewayInternalConnect.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        this.setupPlatformUnloadListener();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    WebPlatformTransport.prototype.manualSetReadyState = function () {\r\n        this.iAmConnected = true;\r\n        this.parentReady = true;\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"communicationId\", {\r\n        get: function () {\r\n            return this._communicationId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.gatewayDisconnect.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        this.parentReady = false;\r\n        this.notifyStatusChanged(false, \"manual reconnection\");\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.close()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, Promise.resolve()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.settings.port) return [3, 2];\r\n                        return [4, this.initiateInternalConnection()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.logger.debug(\"internal web platform connection completed\");\r\n                        return [2];\r\n                    case 2:\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 5];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateInternalConnection = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.logger.debug(\"opening an internal web platform connection\");\r\n            _this.port = _this.settings.port;\r\n            if (_this.iAmConnected) {\r\n                _this.logger.warn(\"cannot open a new connection, because this client is currently connected\");\r\n                return;\r\n            }\r\n            _this.port.onmessage = function (event) {\r\n                var _a, _b;\r\n                if (_this.iAmConnected && !((_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core)) {\r\n                    _this.registry.execute(\"onMessage\", event.data);\r\n                    return;\r\n                }\r\n                var data = (_b = event.data) === null || _b === void 0 ? void 0 : _b.glue42core;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.success) {\r\n                    _this.publicWindowId = _this.settings.windowId;\r\n                    if (_this.identity && _this.publicWindowId) {\r\n                        _this.identity.windowId = _this.publicWindowId;\r\n                        _this.identity.instance = _this.publicWindowId;\r\n                    }\r\n                    resolve();\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.error) {\r\n                    reject(data.error);\r\n                }\r\n            };\r\n            _this.port.postMessage({\r\n                glue42core: {\r\n                    type: _this.messages.gatewayInternalConnect.name\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve, reject) {\r\n            var _a;\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = (_a = _this.myClientId) !== null && _a !== void 0 ? _a : shortid$1();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus$1(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            _this.parentPingInterval = setInterval(function () {\r\n                                target.postMessage(message, _this.defaultTargetString);\r\n                            }, 1000);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        parentCheck.catch(function () {\r\n                            if (_this.parentPingInterval) {\r\n                                clearInterval(_this.parentPingInterval);\r\n                                delete _this.parentPingInterval;\r\n                            }\r\n                        });\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        var _a, _b, _c;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        this.isPreferredActivated = data.isPreferredActivated;\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = (_a = this.identity.windowId) !== null && _a !== void 0 ? _a : this.publicWindowId;\r\n            this.identity.instance = (_b = this.identity.instance) !== null && _b !== void 0 ? _b : this.publicWindowId;\r\n        }\r\n        if (this.identity && this.parentType === \"top\") {\r\n            this.identity.instance = (_c = this.identity.instance) !== null && _c !== void 0 ? _c : shortid$1();\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this._communicationId = data.communicationId;\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.setupPlatformUnloadListener = function () {\r\n        var _this = this;\r\n        this.onMessage(function (msg) {\r\n            if (msg.type === \"platformUnload\") {\r\n                _this.logger.debug(\"detected a web platform unload\");\r\n                _this.parentReady = false;\r\n                _this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n            }\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus$1(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayDisconnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayInternalConnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus$1(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar waitForInvocations = function (invocations, callback) {\r\n    var left = invocations;\r\n    return function () {\r\n        left--;\r\n        if (left === 0) {\r\n            callback();\r\n        }\r\n    };\r\n};\n\nvar AsyncSequelizer = (function () {\r\n    function AsyncSequelizer(minSequenceInterval) {\r\n        if (minSequenceInterval === void 0) { minSequenceInterval = 0; }\r\n        this.minSequenceInterval = minSequenceInterval;\r\n        this.queue = [];\r\n        this.isExecutingQueue = false;\r\n    }\r\n    AsyncSequelizer.prototype.enqueue = function (action) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.queue.push({ action: action, resolve: resolve, reject: reject });\r\n            _this.executeQueue();\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.executeQueue = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var operation, actionResult, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.isExecutingQueue) {\r\n                            return [2];\r\n                        }\r\n                        this.isExecutingQueue = true;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.queue.length) return [3, 7];\r\n                        operation = this.queue.shift();\r\n                        if (!operation) {\r\n                            this.isExecutingQueue = false;\r\n                            return [2];\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4, operation.action()];\r\n                    case 3:\r\n                        actionResult = _a.sent();\r\n                        operation.resolve(actionResult);\r\n                        return [3, 5];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        operation.reject(error_1);\r\n                        return [3, 5];\r\n                    case 5: return [4, this.intervalBreak()];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [3, 1];\r\n                    case 7:\r\n                        this.isExecutingQueue = false;\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.intervalBreak = function () {\r\n        var _this = this;\r\n        return new Promise(function (res) { return setTimeout(res, _this.minSequenceInterval); });\r\n    };\r\n    return AsyncSequelizer;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib$2();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        this._swapTransport = false;\r\n        this._switchInProgress = false;\r\n        this._transportSubscriptions = [];\r\n        this._sequelizer = new AsyncSequelizer();\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        this._defaultTransport = this.transport;\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.switchTransport = function (settings) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                return [2, this._sequelizer.enqueue(function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var switchTargetTransport, verifyPromise, isSwitchSuccess, error_1;\r\n                        return __generator(this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    if (!settings || typeof settings !== \"object\") {\r\n                                        throw new Error(\"Cannot switch transports, because the settings are missing or invalid.\");\r\n                                    }\r\n                                    if (typeof settings.type === \"undefined\") {\r\n                                        throw new Error(\"Cannot switch the transport, because the type is not defined\");\r\n                                    }\r\n                                    this.logger.trace(\"Starting transport switch with settings: \" + JSON.stringify(settings));\r\n                                    switchTargetTransport = settings.type === \"secondary\" ? this.getNewSecondaryTransport(settings) : this._defaultTransport;\r\n                                    this._targetTransport = switchTargetTransport;\r\n                                    this._targetAuth = settings.type === \"secondary\" ? this.getNewSecondaryAuth(settings) : this._defaultAuth;\r\n                                    verifyPromise = this.verifyConnection();\r\n                                    this._swapTransport = true;\r\n                                    this._switchInProgress = true;\r\n                                    this.logger.trace(\"The new transport has been set, closing the current transport\");\r\n                                    return [4, this.transport.close()];\r\n                                case 1:\r\n                                    _a.sent();\r\n                                    _a.label = 2;\r\n                                case 2:\r\n                                    _a.trys.push([2, 4, , 5]);\r\n                                    return [4, verifyPromise];\r\n                                case 3:\r\n                                    _a.sent();\r\n                                    isSwitchSuccess = this.transport === switchTargetTransport;\r\n                                    this.logger.info(\"The reconnection after the switch was completed. Was the switch a success: \" + isSwitchSuccess);\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: isSwitchSuccess }];\r\n                                case 4:\r\n                                    error_1 = _a.sent();\r\n                                    this.logger.info(\"The reconnection after the switch timed out, reverting back to the default transport.\");\r\n                                    this.switchTransport({ type: \"default\" });\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: false }];\r\n                                case 5: return [2];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.onLibReAnnounced = function (callback) {\r\n        return this.registry.add(\"libReAnnounced\", callback);\r\n    };\r\n    Connection.prototype.setLibReAnnounced = function (lib) {\r\n        this.registry.execute(\"libReAnnounced\", lib);\r\n    };\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            var currentServer = _this.transport.name();\r\n            callback(currentServer);\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var newAuth, identity, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._defaultAuth) {\r\n                            this._defaultAuth = authRequest;\r\n                        }\r\n                        if (this._swapTransport) {\r\n                            this.logger.trace(\"Detected a transport swap, swapping transports\");\r\n                            newAuth = this.transportSwap();\r\n                            authRequest = newAuth !== null && newAuth !== void 0 ? newAuth : authRequest;\r\n                        }\r\n                        this.logger.trace(\"Starting login for transport: \" + this.transport.name() + \" and auth \" + JSON.stringify(authRequest));\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4, this.transport.open()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.trace(\"Transport: \" + this.transport.name() + \" opened, logging in\");\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        return [4, this.protocol.login(authRequest, reconnect)];\r\n                    case 3:\r\n                        identity = _a.sent();\r\n                        this.logger.trace(\"Logged in with identity: \" + JSON.stringify(identity));\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                    case 4:\r\n                        error_2 = _a.sent();\r\n                        if (this._switchInProgress) {\r\n                            this.logger.trace(\"An error while logging in after a transport swap, preparing a default swap.\");\r\n                            this.prepareDefaultSwap();\r\n                        }\r\n                        throw new Error(error_2);\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            if (this.settings.replaySpecs && this.settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(this.settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    Connection.prototype.verifyConnection = function () {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve) {\r\n            var unsub;\r\n            var ready = waitForInvocations(2, function () {\r\n                if (unsub) {\r\n                    unsub();\r\n                }\r\n                resolve();\r\n            });\r\n            unsub = _this.onLibReAnnounced(function (lib) {\r\n                if (lib.name === \"interop\") {\r\n                    return ready();\r\n                }\r\n                if (lib.name === \"contexts\") {\r\n                    return ready();\r\n                }\r\n            });\r\n        }, 10000, \"Transport switch timed out waiting for all libraries to be re-announced\");\r\n    };\r\n    Connection.prototype.getNewSecondaryTransport = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.url)) {\r\n            throw new Error(\"Missing secondary transport URL.\");\r\n        }\r\n        return new WS(Object.assign({}, this.settings, { ws: settings.transportConfig.url, reconnectAttempts: 1 }), this.logger.subLogger(\"ws-secondary\"));\r\n    };\r\n    Connection.prototype.getNewSecondaryAuth = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.auth)) {\r\n            throw new Error(\"Missing secondary transport auth information.\");\r\n        }\r\n        return settings.transportConfig.auth;\r\n    };\r\n    Connection.prototype.transportSwap = function () {\r\n        this._swapTransport = false;\r\n        if (!this._targetTransport || !this._targetAuth) {\r\n            this.logger.warn(\"Error while switching transports - either the target transport or auth is not defined: transport defined -> \" + !!this._defaultTransport + \", auth defined -> \" + !!this._targetAuth + \". Staying on the current one.\");\r\n            return;\r\n        }\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport = this._targetTransport;\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        return this._targetAuth;\r\n    };\r\n    Connection.prototype.prepareDefaultSwap = function () {\r\n        var _this = this;\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport.close().catch(function (error) { return _this.logger.warn(\"Error closing the \" + _this.transport.name() + \" transport after a failed connection attempt: \" + JSON.stringify(error)); });\r\n        this._targetTransport = this._defaultTransport;\r\n        this._targetAuth = this._defaultAuth;\r\n        this._swapTransport = true;\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version$2 = \"5.7.8\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_e) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version$2\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getContexts() {\r\n        if (typeof configuration.contexts === \"undefined\") {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"boolean\" && configuration.contexts) {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"object\") {\r\n            return Object.assign({}, { reAnnounceKnownContexts: true }, configuration.contexts);\r\n        }\r\n        return false;\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid$1();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: getContexts(),\r\n        version: ext.version || version$2,\r\n        libs: (_d = ext.libs) !== null && _d !== void 0 ? _d : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign$1({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._contextsTempCache = {};\r\n        this._contextsSubscriptionsCache = [];\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._trackAllContexts = config.trackAllContexts;\r\n        this._reAnnounceKnownContexts = config.reAnnounceKnownContexts;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this._gw3Session.disconnected(this.resetState.bind(this));\r\n        this._gw3Session.onJoined(function (wasReconnect) {\r\n            if (!wasReconnect) {\r\n                return;\r\n            }\r\n            if (!_this._reAnnounceKnownContexts) {\r\n                return _this._connection.setLibReAnnounced({ name: \"contexts\" });\r\n            }\r\n            _this.reInitiateState().then(function () { return _this._connection.setLibReAnnounced({ name: \"contexts\" }); });\r\n        });\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve) {\r\n                _this.subscribe(name, function (data, _d, _r, un) {\r\n                    _this.unsubscribe(un);\r\n                    resolve(data);\r\n                });\r\n            });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback, subscriptionKey) {\r\n        var _this = this;\r\n        var thisCallbackSubscriptionNumber = typeof subscriptionKey === \"undefined\" ? this._nextCallbackSubscriptionNumber : subscriptionKey;\r\n        if (typeof subscriptionKey === \"undefined\") {\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n        }\r\n        if (this._contextsSubscriptionsCache.every(function (subscription) { return subscription.subKey !== _this._nextCallbackSubscriptionNumber; })) {\r\n            this._contextsSubscriptionsCache.push({ contextName: name, subKey: thisCallbackSubscriptionNumber, callback: callback });\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        this._contextsSubscriptionsCache = this._contextsSubscriptionsCache.filter(function (subscription) { return subscription.subKey !== subscriptionKey; });\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var _this = this;\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            if (this._trackAllContexts) {\r\n                this.subscribe(name, function () { }).then(function (subKey) { return _this._systemContextsSubKey = subKey; });\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.resetState = function () {\r\n        var _this = this;\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        if (this._systemContextsSubKey) {\r\n            this.unsubscribe(this._systemContextsSubKey);\r\n            delete this._systemContextsSubKey;\r\n        }\r\n        this._gw3Subscriptions = [];\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        delete this._protocolVersion;\r\n        this._contextsTempCache = Object.keys(this._contextNameToData).reduce(function (cacheSoFar, ctxName) {\r\n            cacheSoFar[ctxName] = _this._contextNameToData[ctxName].context;\r\n            return cacheSoFar;\r\n        }, {});\r\n        this._contextNameToData = {};\r\n    };\r\n    GW3Bridge.prototype.reInitiateState = function () {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _b, _c, _i, ctxName, lastKnownData;\r\n            var _this = this;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        this.subscribeToContextCreatedMessages();\r\n                        this.subscribeToContextUpdatedMessages();\r\n                        this.subscribeToContextDestroyedMessages();\r\n                        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                            var type = message.type;\r\n                            if (!type) {\r\n                                return;\r\n                            }\r\n                            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                                _this.handleContextCreatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                                _this.handleContextUpdatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                                _this.handleContextDestroyedMessage(message);\r\n                            }\r\n                        });\r\n                        return [4, Promise.all(this._contextsSubscriptionsCache.map(function (subscription) { return _this.subscribe(subscription.contextName, subscription.callback, subscription.subKey); }))];\r\n                    case 1:\r\n                        _e.sent();\r\n                        return [4, this.flushQueue()];\r\n                    case 2:\r\n                        _e.sent();\r\n                        _b = [];\r\n                        for (_c in this._contextsTempCache)\r\n                            _b.push(_c);\r\n                        _i = 0;\r\n                        _e.label = 3;\r\n                    case 3:\r\n                        if (!(_i < _b.length)) return [3, 7];\r\n                        ctxName = _b[_i];\r\n                        if (typeof this._contextsTempCache[ctxName] !== \"object\" || Object.keys(this._contextsTempCache[ctxName]).length === 0) {\r\n                            return [3, 6];\r\n                        }\r\n                        lastKnownData = this._contextsTempCache[ctxName];\r\n                        this._logger.info(\"Re-announcing known context: \" + ctxName);\r\n                        return [4, this.flushQueue()];\r\n                    case 4:\r\n                        _e.sent();\r\n                        return [4, this.update(ctxName, lastKnownData)];\r\n                    case 5:\r\n                        _e.sent();\r\n                        _e.label = 6;\r\n                    case 6:\r\n                        _i++;\r\n                        return [3, 3];\r\n                    case 7:\r\n                        this._contextsTempCache = {};\r\n                        this._logger.info(\"Contexts are re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.flushQueue = function () {\r\n        return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 0); });\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign$1({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign$1({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign$1({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid$1();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && filter[prop] !== null\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign$1({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign$1({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid$1();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign$1(__assign$1({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib$2();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var _a, _b;\r\n        var accepts = (_a = methodInfo.input_signature) !== null && _a !== void 0 ? _a : \"\";\r\n        var returns = (_b = methodInfo.result_signature) !== null && _b !== void 0 ? _b : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign$1(__assign$1({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib$2();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib$2();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar TimedCache = (function () {\r\n    function TimedCache(config) {\r\n        this.config = config;\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n    }\r\n    TimedCache.prototype.add = function (element) {\r\n        var _this = this;\r\n        var id = shortid$1();\r\n        this.cache.push({ id: id, element: element });\r\n        var timeoutId = setTimeout(function () {\r\n            var elementIdx = _this.cache.findIndex(function (entry) { return entry.id === id; });\r\n            if (elementIdx < 0) {\r\n                return;\r\n            }\r\n            _this.cache.splice(elementIdx, 1);\r\n        }, this.config.ELEMENT_TTL_MS);\r\n        this.timeoutIds.push(timeoutId);\r\n    };\r\n    TimedCache.prototype.flush = function () {\r\n        var elements = this.cache.map(function (entry) { return entry.element; });\r\n        this.timeoutIds.forEach(function (id) { return clearInterval(id); });\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n        return elements;\r\n    };\r\n    return TimedCache;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.timedCache = new TimedCache({ ELEMENT_TTL_MS: 10000 });\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                _this.timedCache.add(subscription);\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptionsCache = function () {\r\n        return this.timedCache.flush();\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptionsCache = function () {\r\n        return this.streaming.drainSubscriptionsCache();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var reconnectionPromises, existingSubscriptions, _loop_1, _i, existingSubscriptions_1, sub, registeredMethods, _loop_2, _a, registeredMethods_1, method;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n                        client.drainSubscriptionsCache().forEach(function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to soft-re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"soft-subscribing to method \" + methodInfo.name + \" DONE\"); }).catch(function (error) { return logger.warn(\"subscribing to method \" + methodInfo.name + \" failed: \" + JSON.stringify(error) + \"}\"); });\r\n                        });\r\n                        reconnectionPromises = [];\r\n                        existingSubscriptions = client.drainSubscriptions();\r\n                        _loop_1 = function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            reconnectionPromises.push(interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"subscribing to method \" + methodInfo.name + \" DONE\"); }));\r\n                        };\r\n                        for (_i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                            sub = existingSubscriptions_1[_i];\r\n                            _loop_1(sub);\r\n                        }\r\n                        registeredMethods = serverRepository.getList();\r\n                        serverRepository.reset();\r\n                        _loop_2 = function (method) {\r\n                            var def = method.definition;\r\n                            logger.info(\"re-publishing method \" + def.name);\r\n                            if (method.stream) {\r\n                                reconnectionPromises.push(interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallback) {\r\n                                reconnectionPromises.push(interop.register(def, method.theFunction.userCallback).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                                reconnectionPromises.push(interop.registerAsync(def, method.theFunction.userCallbackAsync).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            logger.info(\"re-publishing method \" + def.name + \" DONE\");\r\n                        };\r\n                        for (_a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                            method = registeredMethods_1[_a];\r\n                            _loop_2(method);\r\n                        }\r\n                        return [4, Promise.all(reconnectionPromises)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        logger.info(\"Interop is re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect().then(function () { return connection.setLibReAnnounced({ name: \"interop\" }); }).catch(function (error) { return logger.warn(\"Error while re-announcing interop: \" + JSON.stringify(error)); });\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid$1(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\"),\r\n                trackAllContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.trackAllContexts : false,\r\n                reAnnounceKnownContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.reAnnounceKnownContexts : false\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version$2,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    function registerInstanceIfNeeded() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var RegisterInstanceMethodName, isMethodAvailable, error_1, typedError;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        RegisterInstanceMethodName = \"T42.ACS.RegisterInstance\";\r\n                        if (!(Utils.isNode() && typeof process.env._GD_STARTING_CONTEXT_ === \"undefined\" && typeof (userConfig === null || userConfig === void 0 ? void 0 : userConfig.application) !== \"undefined\")) return [3, 4];\r\n                        isMethodAvailable = _interop.methods({ name: RegisterInstanceMethodName }).length > 0;\r\n                        if (!isMethodAvailable) return [3, 4];\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4, _interop.invoke(RegisterInstanceMethodName, { appName: userConfig === null || userConfig === void 0 ? void 0 : userConfig.application, pid: process.pid })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        typedError = error_1;\r\n                        _logger.error(\"Cannot register as an instance: \" + JSON.stringify(typedError.message));\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () { return registerInstanceIfNeeded(); })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version$2;\r\nGlueCore.default = GlueCore;\n\nconst glueWebFactory = createFactoryFunction(GlueCore);\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\nif (!window.glue42gd && !window.glue42core) {\r\n    window.glue42core = { webStarted: false };\r\n}\r\nglueWebFactory.version = version$1;\n\nexport default glueWebFactory;\n//# sourceMappingURL=web.es.js.map\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig,\r\n    FrameBoundsResult,\r\n    GetWorkspaceIconResult,\r\n    PinWorkspaceConfig,\r\n    SetWorkspaceIconConfig,\r\n    FrameInitializationConfigProtocol,\r\n    WorkspaceSelector,\r\n    ShortcutClickedData,\r\n    ShortcutConfig,\r\n    FrameSnapshotConfig,\r\n    FrameBounds,\r\n    SetMaximizationBoundaryConfig,\r\n    LoadingAnimationConfig\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { SetMaximizationBoundaryConfig as APISetMaximizationBoundaryConfig } from \"../../temp\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nexport const positiveNumberDecoder: Decoder<number> = number().where((num) => num > 0, \"Expected a positive number\");\r\n\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const loadingAnimationTypeDecoder: Decoder<\"workspace\"> = oneOf<\"workspace\">(\r\n    constant(\"workspace\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowDefinitionConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    allowReorder: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const groupDefinitionConfigDecoder: Decoder<Glue42Workspaces.GroupDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    allowReorder: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean())\r\n});\r\n\r\nexport const rowDefinitionConfigDecoder: Decoder<Glue42Workspaces.RowDefinitionConfig> = object({\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean()),\r\n    maximizationBoundary: optional(boolean())\r\n});\r\n\r\nexport const columnDefinitionConfigDecoder: Decoder<Glue42Workspaces.ColumnDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean()),\r\n    maximizationBoundary: optional(boolean())\r\n});\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(anyJson())\r\n}));\r\n\r\n\r\nexport const strictColumnDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"column\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(columnDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictRowDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"row\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(rowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictGroupDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"group\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(groupDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = oneOf(strictGroupDefinitionDecoder, strictColumnDefinitionDecoder, strictRowDefinitionDecoder);\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    })),\r\n    frameId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    applicationName: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    isPinned: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    positionIndex: optional(nonNegativeNumberDecoder)\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        strictParentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder),\r\n        allowDrop: optional(boolean()),\r\n        allowDropLeft: optional(boolean()),\r\n        allowDropTop: optional(boolean()),\r\n        allowDropRight: optional(boolean()),\r\n        allowDropBottom: optional(boolean()),\r\n        allowExtract: optional(boolean()),\r\n        allowWindowReorder: optional(boolean()),\r\n        showSaveButton: optional(boolean()),\r\n        allowWorkspaceTabReorder: optional(boolean()),\r\n        allowWorkspaceTabExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        allowSplitters: optional(boolean()),\r\n        showWindowCloseButtons: optional(boolean()),\r\n        showEjectButtons: optional(boolean()),\r\n        showAddWindowButtons: optional(boolean()),\r\n        icon: optional(nonEmptyStringDecoder),\r\n        isPinned: optional(boolean()),\r\n        isSelected: optional(boolean()),\r\n        positionIndex: optional(nonNegativeNumberDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        applicationName: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const restoreWorkspaceDefinitionDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceDefinition> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const emptyFrameDefinitionDecoder: Decoder<Glue42Workspaces.EmptyFrameDefinition> = optional(object({\r\n    applicationName: optional(string()),\r\n    frameConfig: optional(newFrameConfigDecoder),\r\n    context: optional(object())\r\n}));\r\n\r\nexport const frameInitConfigDecoder: Decoder<Glue42Workspaces.FrameInitializationConfig> = object({\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        optional(workspaceDefinitionDecoder),\r\n        optional(restoreWorkspaceDefinitionDecoder)\r\n    ))\r\n});\r\n\r\nexport const frameInitProtocolConfigDecoder: Decoder<FrameInitializationConfigProtocol> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        restoreWorkspaceDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameInitializationContextDecoder: Decoder<Glue42Workspaces.FrameInitializationContext> = object({\r\n    context: optional(object())\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isFocused: optional(boolean()),\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"restored\" | \"minimized\" | \"normal\" | \"selected\" |\"lock-configuration-changed\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"restored\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\"),\r\n    constant(\"lock-configuration-changed\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowWindowReorder: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowWorkspaceTabReorder: optional(boolean()),\r\n    allowWorkspaceTabExtract: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    widthInPx: optional(number()),\r\n    heightInPx: optional(number()),\r\n    isPinned: optional(boolean()),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number())\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        isSelected: optional(boolean()),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        allowReorder: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeight: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        widthInPx: optional(number()),\r\n        heightInPx: optional(number()),\r\n        context: optional(anyJson())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder,\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        context: optional(anyJson()),\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        allowReorder: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeight: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        isMaximized: optional(boolean())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        application: optional(string()),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isFocused: optional(boolean()),\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder,\r\n    applicationName: optional(string())\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const frameBoundsDecoder: Decoder<FrameBounds> = object({\r\n    top: number(),\r\n    left: number(),\r\n    width: nonNegativeNumberDecoder,\r\n    height: nonNegativeNumberDecoder\r\n});\r\n\r\nexport const frameBoundsResultDecoder: Decoder<FrameBoundsResult> = object({\r\n    bounds: frameBoundsDecoder\r\n});\r\n\r\nexport const getWorkspaceIconResultDecoder: Decoder<GetWorkspaceIconResult> = object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(positiveNumberDecoder),\r\n    height: optional(positiveNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameSnapshotConfigDecoder: Decoder<FrameSnapshotConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    excludeIds: optional(boolean())\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const setMaximizationBoundaryConfigDecoder: Decoder<SetMaximizationBoundaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    enabled: boolean()\r\n});\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder,\r\n    frameBounds: optional(frameBoundsDecoder)\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder,\r\n    workspaceSnapshot: optional(workspaceSnapshotResultDecoder),\r\n    frameBounds: optional(frameBoundsDecoder)\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean()),\r\n    metadata: optional(object())\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowWindowReorder: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowWorkspaceTabReorder: optional(boolean()),\r\n    allowWorkspaceTabExtract: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowReorder: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const elementResizeConfigDecoder: Decoder<Glue42Workspaces.ElementResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<Glue42Workspaces.RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<Glue42Workspaces.ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<Glue42Workspaces.GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowReorder: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n\r\nexport const pinWorkspaceDecoder: Decoder<PinWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const setWorkspaceIconDecoder: Decoder<SetWorkspaceIconConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder) // to enable the user to remove the icon from the workspace altogether\r\n});\r\n\r\nexport const workspacePinOptionsDecoder: Decoder<Glue42Workspaces.WorkspacePinOptions> = optional(object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n}));\r\n\r\nexport const shortcutConfigDecoder: Decoder<ShortcutConfig> = object({\r\n    shortcut: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const shortcutClickedDataDecoder: Decoder<ShortcutClickedData> = object({\r\n    shortcut: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const setMaximizationBoundaryAPIConfigDecoder: Decoder<APISetMaximizationBoundaryConfig> = object({\r\n    enabled: boolean()\r\n});\r\n\r\nexport const loadingAnimationConfigDecoder: Decoder<LoadingAnimationConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: loadingAnimationTypeDecoder\r\n})\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder,\r\n    frameBoundsResultDecoder,\r\n    getWorkspaceIconResultDecoder,\r\n    pinWorkspaceDecoder,\r\n    setWorkspaceIconDecoder,\r\n    frameSummaryResultDecoder,\r\n    emptyFrameDefinitionDecoder,\r\n    frameInitProtocolConfigDecoder,\r\n    shortcutClickedDataDecoder,\r\n    shortcutConfigDecoder,\r\n    frameSnapshotConfigDecoder,\r\n    setMaximizationBoundaryConfigDecoder,\r\n    loadingAnimationConfigDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"setMaximizationBoundary\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"getFrameBounds\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\" |\r\n    \"pinWorkspace\" |\r\n    \"unpinWorkspace\" |\r\n    \"getWorkspaceIcon\" |\r\n    \"setWorkspaceIcon\" |\r\n    \"createFrame\" |\r\n    \"registerShortcut\" |\r\n    \"unregisterShortcut\" |\r\n    \"initFrame\" |\r\n    \"showLoadingAnimation\" |\r\n    \"hideLoadingAnimation\";\r\ntype OutgoingMethodTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\nexport type IncomingMethodTypes = \"control\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const OUTGOING_METHODS: { [key in OutgoingMethodTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const INCOMING_METHODS: { [key in IncomingMethodTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Client.Control\", isStream: false },\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\ninterface ShortcutClicked {\r\n    operation: \"shortcutClicked\",\r\n    data: {\r\n        shortcut: string;\r\n        frameId: string;\r\n    }\r\n}\r\n\r\nexport type ClientOperations = ShortcutClicked;\r\n\r\nexport type OnOperationsTypes = \"shortcutClicked\";\r\n\r\nexport const CLIENT_OPERATIONS: { [key in OnOperationsTypes]: ControlOperation } = {\r\n    shortcutClicked: { name: \"shortcutClicked\", argsDecoder: shortcutClickedDataDecoder, resultDecoder: voidResultDecoder },\r\n}\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    createFrame: { name: \"createFrame\", resultDecoder: frameSummaryResultDecoder, argsDecoder: emptyFrameDefinitionDecoder },\r\n    initFrame: { name: \"initFrame\", resultDecoder: voidResultDecoder, argsDecoder: frameInitProtocolConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    setMaximizationBoundary: { name: \"setMaximizationBoundary\", argsDecoder: setMaximizationBoundaryConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameBoundsResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: frameSnapshotConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder },\r\n    pinWorkspace: { name: \"pinWorkspace\", argsDecoder: pinWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    unpinWorkspace: { name: \"unpinWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    getWorkspaceIcon: { name: \"getWorkspaceIcon\", argsDecoder: workspaceSelectorDecoder, resultDecoder: getWorkspaceIconResultDecoder },\r\n    setWorkspaceIcon: { name: \"setWorkspaceIcon\", argsDecoder: setWorkspaceIconDecoder, resultDecoder: voidResultDecoder },\r\n    registerShortcut: { name: \"registerShortcut\", argsDecoder: shortcutConfigDecoder, resultDecoder: voidResultDecoder },\r\n    unregisterShortcut: { name: \"unregisterShortcut\", argsDecoder: shortcutConfigDecoder, resultDecoder: voidResultDecoder },\r\n    showLoadingAnimation: { name: \"showLoadingAnimation\", argsDecoder: loadingAnimationConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hideLoadingAnimation: { name: \"hideLoadingAnimation\", argsDecoder: loadingAnimationConfigDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","export class PromiseWrapper<T> {\r\n    public resolve: (value: T | PromiseLike<T>) => void;\r\n    public reject: (err: string) => void;\r\n    public readonly promise: Promise<T>;\r\n    constructor() {\r\n        this.promise = new Promise<T>((res, rej) => {\r\n            this.resolve = res;\r\n            this.reject = rej;\r\n        });\r\n    }\r\n}","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope, PendingSubscription } from \"../types/subscription\";\r\nimport { ClientOperations, CLIENT_OPERATIONS, STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { PromiseWrapper } from \"../shared/promiseWrapper\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n    private readonly pendingSubScriptions: PendingSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                container: args.containerSummary?.itemId,\r\n                window: args.windowSummary?.itemId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        try {\r\n            const operationResult = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n\r\n            operationDefinition.resultDecoder.runWithException(operationResult);\r\n\r\n            return operationResult;\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const pendingSub = this.getPendingSubscription(config);\r\n        if (pendingSub) {\r\n            await pendingSub.promise;\r\n        }\r\n\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const pendingPromise = new PromiseWrapper<void>();\r\n            const pendingSubscription = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                promise: pendingPromise.promise\r\n            };\r\n            this.pendingSubScriptions.push(pendingSubscription);\r\n            try {\r\n                const stream = STREAMS[config.eventType];\r\n                const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n                gdSub.onData((streamData) => {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    const data = streamData.data as { action: string; payload: any };\r\n\r\n                    // important to decode without exception, because we do not want to throw an exception here\r\n                    const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                    const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                    if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                        return;\r\n                    }\r\n\r\n                    const streamType = requestedArgumentsResult.result.type;\r\n                    const branch = requestedArgumentsResult.result.branch;\r\n\r\n                    const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                    const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n                    if (!validatedPayload.ok) {\r\n                        return;\r\n                    }\r\n\r\n                    this.registry.execute(keyToExecute, validatedPayload.result);\r\n                });\r\n\r\n                activeSub = {\r\n                    streamType: config.eventType,\r\n                    level: config.scope,\r\n                    levelId: config.scopeId,\r\n                    callbacksCount: 0,\r\n                    gdSub\r\n                };\r\n\r\n                this.activeSubscriptions.push(activeSub);\r\n\r\n                pendingPromise.resolve();\r\n            } catch (error) {\r\n                pendingPromise.reject(error);\r\n\r\n                throw error;\r\n            } finally {\r\n                this.removePendingSubscription(pendingSubscription);\r\n            }\r\n\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    public onOperation(callback: (operation: ClientOperations, caller: Glue42Core.Interop.Instance) => void) {\r\n\r\n        const wrappedCallback = (payload: ClientOperations, caller: Glue42Core.Interop.Instance) => {\r\n            const operationName = payload.operation;\r\n            const operationArgs = payload.data;\r\n            const operationDefinition = Object.values(CLIENT_OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n            if (!operationDefinition) {\r\n                throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n            }\r\n\r\n            if (operationDefinition.argsDecoder) {\r\n                try {\r\n                    operationDefinition.argsDecoder.runWithException(operationArgs);\r\n                } catch (error) {\r\n                    throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n                }\r\n            }\r\n\r\n            callback(payload, caller);\r\n        }\r\n        return this.transport.onInternalMethodInvoked(\"control\", wrappedCallback)\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; container: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"container\" && scope.id === receivedIds.container) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n\r\n    private getPendingSubscription(config: SubscriptionConfig): PendingSubscription {\r\n        return this.pendingSubScriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n\r\n    private removePendingSubscription(pendingSubscription: PendingSubscription): void {\r\n        const index = this.pendingSubScriptions.indexOf(pendingSubscription);\r\n\r\n        if (index >= 0) {\r\n            this.pendingSubScriptions.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { ClientOperations, IncomingMethodTypes, INCOMING_METHODS, OUTGOING_METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { CallbackRegistry } from \"callback-registry\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI,\r\n        private readonly registry: CallbackRegistry) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(OUTGOING_METHODS).map((method) => {\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            await Promise.all(\r\n                Object.keys(INCOMING_METHODS).map((method: IncomingMethodTypes) => {\r\n                    return this.registerMethod(method);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        const systemId = (window as any).glue42core.communicationId;\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName, systemId),\r\n            this.verifyMethodLive(webPlatformWspStreamName, systemId)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        const systemId = (window as any).glue42core.communicationId;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName, systemId ? { target: { instance: systemId } } : undefined);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? OUTGOING_METHODS.control.name : webPlatformMethodName;\r\n\r\n        const platformTarget = window.glue42gd ? undefined : (window as any).glue42core.communicationId;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, platformTarget ? { instance: platformTarget } : \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    public onInternalMethodInvoked(key: IncomingMethodTypes, callback: (operation: ClientOperations, caller: Glue42Core.Interop.Instance) => void) {\r\n        return this.registry.add(key, callback);\r\n    }\r\n\r\n    private verifyMethodLive(name: string, systemId?: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => {\r\n                    const nameMatch = method.name === name;\r\n    \r\n                    const serverMatch = systemId ?\r\n                        method.getServers().some((server) => server.instance === systemId) :\r\n                        true;\r\n    \r\n                    return nameMatch && serverMatch;\r\n                });\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                const unSub = this.agm.serverMethodAdded((data) => {\r\n                    const method = data.method;\r\n                    const server = data.server;\r\n    \r\n                    const serverMatch = systemId ?\r\n                        server.instance === systemId :\r\n                        true;\r\n    \r\n                    if (method.name === name && serverMatch) {\r\n                        unSub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n\r\n    private registerMethod(key: IncomingMethodTypes) {\r\n        const method = INCOMING_METHODS[key];\r\n        return this.agm.register(method.name, (args, caller) => {\r\n            this.registry.execute(key, args, caller);\r\n        })\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { checkThrowCallback, nonNegativeNumberDecoder, rowLockConfigDecoder, setMaximizationBoundaryAPIConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { SetMaximizationBoundaryConfig } from \"../../temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public get maximizationBoundary(): boolean {\r\n        return getBase(this).getMaximizationBoundary(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.RowLockConfig | ((config: Glue42Workspaces.RowLockConfig) => Glue42Workspaces.RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setHeight(height: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(height);\r\n        return getBase(this).setHeight(this, height);\r\n    }\r\n\r\n\r\n    public async onLockConfigurationChanged(callback: (config: Glue42Workspaces.RowLockConfig) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getBase(this).getId(this);\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback({\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            });\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"lock-configuration-changed\",\r\n            eventType: \"container\",\r\n            scope: \"container\"\r\n        };\r\n        const unsubscribe = await getBase(this).processLocalSubscription(this, config);\r\n        return unsubscribe;\r\n    }\r\n    public async setMaximizationBoundary(config: SetMaximizationBoundaryConfig): Promise<void> {\r\n       const validatedConfig = setMaximizationBoundaryAPIConfigDecoder.runWithException(config);\r\n        return getBase(this).setMaximizationBoundary(this, validatedConfig);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { checkThrowCallback, columnLockConfigDecoder, nonNegativeNumberDecoder, setMaximizationBoundaryAPIConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { SetMaximizationBoundaryConfig } from \"../../temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public get maximizationBoundary(): boolean {\r\n        return getBase(this).getMaximizationBoundary(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.ColumnLockConfig | ((config: Glue42Workspaces.ColumnLockConfig) => Glue42Workspaces.ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setWidth(width: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(width);\r\n        return getBase(this).setWidth(this, width);\r\n    }\r\n\r\n\r\n    public async onLockConfigurationChanged(callback: (config: Glue42Workspaces.ColumnLockConfig) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getBase(this).getId(this);\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback({\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            });\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"lock-configuration-changed\",\r\n            eventType: \"container\",\r\n            scope: \"container\"\r\n        };\r\n        const unsubscribe = await getBase(this).processLocalSubscription(this, config);\r\n        return unsubscribe;\r\n    }\r\n    public async setMaximizationBoundary(config: SetMaximizationBoundaryConfig): Promise<void> {\r\n        const validatedConfig = setMaximizationBoundaryAPIConfigDecoder.runWithException(config);\r\n        return getBase(this).setMaximizationBoundary(this, validatedConfig);\r\n\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { checkThrowCallback, elementResizeConfigDecoder, groupLockConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowReorder():boolean{\r\n        return getBase(this).getAllowReorder(this);\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getBase(this).getAllowDropLeft(this);\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getBase(this).getAllowDropRight(this);\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getBase(this).getAllowDropTop(this);\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getBase(this).getAllowDropBottom(this);\r\n    }\r\n\r\n    public get allowDropHeader(): boolean {\r\n        return getBase(this).getAllowDropHeader(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.GroupLockConfig | ((config: Glue42Workspaces.GroupLockConfig) => Glue42Workspaces.GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropHeader: this.allowDropHeader,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowReorder: this.allowReorder,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n\r\n        return getBase(this).setSize(this, config.width, config.height);\r\n    }\r\n\r\n    public async onLockConfigurationChanged(callback: (config: Glue42Workspaces.GroupLockConfig) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getBase(this).getId(this);\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback({\r\n                allowDrop: this.allowDrop,\r\n                allowDropHeader: this.allowDropHeader,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom:this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowReorder: this.allowReorder,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            });\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"lock-configuration-changed\",\r\n            eventType: \"container\",\r\n            scope: \"container\"\r\n        };\r\n        const unsubscribe = await getBase(this).processLocalSubscription(this, config);\r\n        return unsubscribe;\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder, workspacePinOptionsDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\ntype SaveLayoutConfig = Omit<Omit<Glue42Workspaces.WorkspaceLayoutSaveConfig, \"name\">, \"workspaceId\">;\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean | undefined {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get isSelected(): boolean {\r\n        return getData(this).config.isSelected;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get allowWindowReorder(): boolean {\r\n        return getData(this).config.allowWindowReorder;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public get allowWorkspaceTabReorder(): boolean {\r\n        return getData(this).config.allowWorkspaceTabReorder;\r\n    }\r\n\r\n    public get allowWorkspaceTabExtract(): boolean {\r\n        return getData(this).config.allowWorkspaceTabExtract;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get showWindowCloseButtons(): boolean {\r\n        return getData(this).config.showWindowCloseButtons;\r\n    }\r\n\r\n    public get showEjectButtons(): boolean {\r\n        return getData(this).config.showEjectButtons;\r\n    }\r\n\r\n    public get showAddWindowButtons(): boolean {\r\n        return getData(this).config.showAddWindowButtons;\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getData(this).config.isPinned;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\") as Promise<Glue42Workspaces.WorkspaceSnapshot>;\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: SaveLayoutConfig): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext, metadata: config?.metadata });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public async getIcon(): Promise<string> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceIcon(this.id);\r\n    }\r\n\r\n    public async setIcon(icon: string): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceIcon(this.id, icon);\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceLockConfig | ((config: Glue42Workspaces.WorkspaceLockConfig) => Glue42Workspaces.WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowWindowReorder: this.allowWindowReorder,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton,\r\n                allowWorkspaceTabReorder: this.allowWorkspaceTabReorder,\r\n                allowWorkspaceTabExtract: this.allowWorkspaceTabExtract,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async pin(options: Glue42Workspaces.WorkspacePinOptions): Promise<void> {\r\n        workspacePinOptionsDecoder.runWithException(options);\r\n        await getData(this).controller.pinWorkspace(this.id, options?.icon);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async unpin(): Promise<void> {\r\n        await getData(this).controller.unpinWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async showLoadingAnimation(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"Not supported in Glue42 Core\");\r\n        }\r\n\r\n        await getData(this).controller.showWorkspaceLoadingAnimation(this.id);\r\n    }\r\n\r\n    public async hideLoadingAnimation(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"Not supported in Glue42 Core\");\r\n        }\r\n        \r\n        await getData(this).controller.hideWorkspaceLoadingAnimation(this.id);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: Glue42Workspaces.WorkspaceClosedData) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id, frameBounds: payload.frameBounds });\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.elementId === payload.windowSummary.itemId;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowMaximized(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.elementId === payload.windowSummary.itemId;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"maximized\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRestored(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.elementId === payload.windowSummary.itemId;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"restored\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onLockConfigurationChanged(callback: (config: Glue42Workspaces.WorkspaceLockConfig) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            callback({\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                allowWindowReorder: this.allowWindowReorder,\r\n                allowWorkspaceTabExtract: this.allowWorkspaceTabExtract,\r\n                allowWorkspaceTabReorder: this.allowWorkspaceTabReorder,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showCloseButton: this.showCloseButton,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showSaveButton: this.showSaveButton,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"lock-configuration-changed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder, elementResizeConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get isSelected(): boolean {\r\n        return getData(this).config.isSelected;\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        // Should return undefined in core, because focus state cannot be monitored reliably\r\n        return this.isLoaded ? this.getGdWindow().isFocused : false;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get allowReorder(): boolean {\r\n        return getData(this).config.allowReorder;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceWindowLockConfig | ((config: Glue42Workspaces.WorkspaceWindowLockConfig) => Glue42Workspaces.WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                allowReorder: this.allowReorder,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.resizeItem(myId, {\r\n            height: verifiedConfig.height,\r\n            width: verifiedConfig.width,\r\n            relative: false\r\n        });\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onLockConfigurationChanged(callback:(config:Glue42Workspaces.WorkspaceWindowLockConfig)=>void): Promise<Glue42Workspaces.Unsubscribe>{\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback({\r\n                allowExtract: this.allowExtract,\r\n                allowReorder: this.allowReorder,\r\n                showCloseButton: this.showCloseButton\r\n            });\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"lock-configuration-changed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder, frameInitConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\nimport { FrameFocusChangedData } from \"../../temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public async registerShortcut(shortcut: string, callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        nonEmptyStringDecoder.runWithException(shortcut);\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n        const unsubscribe = await getData(this).controller.registerShortcut(shortcut, myId, callback);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public get isInitialized(): boolean {\r\n        return getData(this).summary.isInitialized;\r\n    }\r\n\r\n    public getBounds(): Promise<Glue42Workspaces.FrameBounds> {\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.getFrameBounds(myId);\r\n    }\r\n\r\n    public async resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public async move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\") as Promise<Glue42Workspaces.FrameSnapshot>;\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspacesByFrameId(this.id);\r\n    }\r\n\r\n    public async getConstraints(): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const controller = getData(this).controller;\r\n        const myId = getData(this).summary.id;\r\n\r\n        return controller.getFrameConstraints(myId);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async init(config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        frameInitConfigDecoder.runWithException(config);\r\n\r\n        if (getData(this).summary.isInitialized) {\r\n            throw new Error(\"The frame has already been initialized\");\r\n        }\r\n        return getData(this).controller.initFrame(this.id, config);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: Glue42Workspaces.FrameClosedData) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, frameBounds: payload.frameBounds });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.transformStreamPayloadToWorkspace(payload);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspaceById(payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: Glue42Workspaces.WorkspaceClosedData) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id, frameBounds: payload.frameBounds });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onInitializationRequested(callback: (context?: Glue42Workspaces.FrameInitializationContext) => Promise<void>): Promise<void> {\r\n        checkThrowCallback(callback);\r\n\r\n        if (!this.isInitialized) {\r\n            await callback(getData(this).summary.initializationContext);\r\n        }\r\n    }\r\n\r\n    public async onFocusChanged(callback: (data: FrameFocusChangedData) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myData = getData(this);\r\n        const { id } = myData.summary;\r\n\r\n        const wrappedCallback = (args: FrameStreamData): void => {\r\n            callback({ isFocused: args.frameSummary.isFocused });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"focus\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await myData.controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\nimport { Row } from \"../row\";\r\nimport { Column } from \"../column\";\r\nimport { ColumnSnapshotConfig, GroupSnapshotConfig, RowSnapshotConfig } from \"../../types/protocol\";\r\nimport { SubscriptionConfig } from \"../../types/subscription\";\r\nimport { SetMaximizationBoundaryConfig } from \"../../../temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return model;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return model;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: SubParentTypes): Promise<void> {\r\n        const { controller, id } = getData(this, model);\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.getMyWorkspace(model.parent).refreshReference();\r\n    }\r\n\r\n    public async restore(model: SubParentTypes): Promise<void> {\r\n        const { controller, id } = getData(this, model);\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.getMyWorkspace(model.parent).refreshReference();\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes): boolean {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowDropLeft(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropLeft is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropLeft;\r\n    }\r\n\r\n    public getAllowDropRight(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropRight is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropRight;\r\n    }\r\n\r\n    public getAllowDropTop(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropTop is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropTop;\r\n    }\r\n\r\n    public getAllowDropBottom(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropBottom is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropBottom;\r\n    }\r\n\r\n    public getAllowDropHeader(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropHeader is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropHeader;\r\n    }\r\n\r\n    public getAllowSplitters(model: Row | Column): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        if (privateData.type === \"group\") {\r\n            throw new Error(`Cannot get allow splitters from private data ${privateData.type}`);\r\n        }\r\n\r\n        return privateData.config.allowSplitters;\r\n    }\r\n\r\n    public getAllowExtract(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data ${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getAllowReorder(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data ${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowReorder;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    public getMinWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minWidth;\r\n    }\r\n\r\n    public getMaxWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxWidth;\r\n    }\r\n\r\n    public getMinHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minHeight;\r\n    }\r\n\r\n    public getMaxHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxHeight;\r\n    }\r\n\r\n    public getWidthInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.widthInPx;\r\n    }\r\n\r\n    public getHeightInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.heightInPx;\r\n    }\r\n\r\n    public getIsPinned(model: Column | Row): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig).isPinned;\r\n    }\r\n\r\n    public getIsMaximized(model: Column | Row | Group): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig | GroupSnapshotConfig).isMaximized;\r\n    }\r\n\r\n    public getMaximizationBoundary(model: Column | Row): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig).maximizationBoundary;\r\n    }\r\n\r\n    public async setHeight(model: Row, height: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller, id } = modelData;\r\n\r\n        await controller.resizeItem(id, {\r\n            height\r\n        });\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public async setWidth(model: Column, width: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller, id } = modelData;\r\n\r\n        await controller.resizeItem(id, {\r\n            width\r\n        });\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public async setSize(model: Group, width?: number, height?: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller, id } = modelData;\r\n\r\n        await controller.resizeItem(id, {\r\n            width,\r\n            height\r\n        });\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public async setMaximizationBoundary(model: Row | Column, config: SetMaximizationBoundaryConfig): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller, id } = modelData;\r\n\r\n        await controller.setMaximizationBoundary(id, config);\r\n\r\n        await this.getMyWorkspace(modelData.parent).refreshReference();\r\n    }\r\n\r\n    public async processLocalSubscription(model: SubParentTypes, subscriptionConfig: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return getData(this, model).controller.processLocalSubscription(subscriptionConfig, this.getId(model))\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { SetMaximizationBoundaryConfig } from \"../../temp\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.createFrame.name, definition);\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.initFrame.name, { frameId, ...config });\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n\r\n            return Object.assign(\r\n                {},\r\n                { id: summary.id, width: summary.config.widthInPx, height: summary.config.heightInPx },\r\n                summary.config\r\n            );\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: payload.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const snapshot = payload.workspaceSnapshot || (await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: payload.workspaceSummary.id }));\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        const workspace = this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n        return workspace;\r\n    }\r\n\r\n    public async fetchWorkspace(itemId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async setMaximizationBoundary(itemId: string, config: SetMaximizationBoundaryConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setMaximizationBoundary.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async showWorkspaceLoadingAnimation(workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.showLoadingAnimation.name, { itemId: workspaceId, type: \"workspace\" });\r\n    }\r\n\r\n    public async hideWorkspaceLoadingAnimation(workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.hideLoadingAnimation.name, { itemId: workspaceId, type: \"workspace\" });\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n\r\n    public async pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.pinWorkspace.name, { workspaceId, icon });\r\n    }\r\n\r\n    public async unpinWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.unpinWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        const result = await this.bridge.send<{ icon: string }>(OPERATIONS.getWorkspaceIcon.name, { workspaceId });\r\n        return result.icon;\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.bridge.send<void>(OPERATIONS.setWorkspaceIcon.name, { workspaceId, icon });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult, FrameBoundsResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { ShortcutsController } from \"./shortcuts\";\r\nimport { SetMaximizationBoundaryConfig } from \"../../temp\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController,\r\n        private readonly shortcutsController: ShortcutsController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        return await this.base.createEmptyFrame(definition);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        return this.base.initFrame(frameId, config);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public getWorkspaceById(workspaceId: string): Promise<Workspace> {\r\n        return this.base.fetchWorkspace(workspaceId);\r\n    }\r\n\r\n    public async getWorkspaceByWindowId(itemId: string): Promise<Workspace> {\r\n        if(!window.glue42gd){\r\n            // workspace-ui-core doesn't accept an itemId for getWorkspaceSnapshot, but GD does and getWorkspaceSnapshot is significantly faster\r\n            return (await this.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === itemId)))[0];\r\n        }\r\n        return this.base.fetchWorkspace(itemId);\r\n    }\r\n\r\n    public transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        return this.base.transformStreamPayloadToWorkspace(payload);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getWorkspacesByFrameId(frameId: string): Promise<Workspace[]> {\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n        const summariesForFrame = workspaceSummaries.filter((s) => s.frameId === frameId);\r\n\r\n        const workspacesForFrame = await Promise.all(summariesForFrame.map((summary) => {\r\n            return this.base.fetchWorkspace(summary.id);\r\n        }));\r\n\r\n        return workspacesForFrame;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameBounds(frameId: string): Promise<Glue42Workspaces.FrameBounds> {\r\n        const frameResult = await this.bridge.send<FrameBoundsResult>(OPERATIONS.getFrameBounds.name, { itemId: frameId });\r\n        return frameResult.bounds;\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async setMaximizationBoundary(itemId: string, config: SetMaximizationBoundaryConfig): Promise<void> {\r\n        return await this.base.setMaximizationBoundary(itemId, config);\r\n    }\r\n\r\n    public async showWorkspaceLoadingAnimation(workspaceId: string): Promise<void> {\r\n        return await this.base.showWorkspaceLoadingAnimation(workspaceId);\r\n    }\r\n\r\n    public async hideWorkspaceLoadingAnimation(workspaceId: string): Promise<void> {\r\n        return await this.base.hideWorkspaceLoadingAnimation(workspaceId);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\"): Promise<WorkspaceSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"frame\"): Promise<FrameSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    public pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        return this.base.pinWorkspace(workspaceId, icon);\r\n    }\r\n\r\n    public unpinWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.unpinWorkspace(workspaceId);\r\n    }\r\n\r\n    public getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        return this.base.getWorkspaceIcon(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.base.setWorkspaceIcon(workspaceId, icon);\r\n    }\r\n\r\n    public async getFrameConstraints(frameId: string): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const frameSnapshot = await this.getSnapshot(frameId, \"frame\");\r\n\r\n        return {\r\n            minWidth: frameSnapshot.config.minWidth,\r\n            maxWidth: frameSnapshot.config.maxWidth,\r\n            minHeight: frameSnapshot.config.minHeight,\r\n            maxHeight: frameSnapshot.config.maxHeight,\r\n        };\r\n    }\r\n\r\n    public registerShortcut(shortcut: string, frameId: string, callback: () => void): Promise<UnsubscribeFunction> {\r\n        return this.shortcutsController.registerShortcut(shortcut, frameId, callback);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","import { UnsubscribeFunction } from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { CLIENT_OPERATIONS, OPERATIONS } from \"../communication/constants\";\r\nimport CallbackRegistry from \"callback-registry\";\r\n\r\n\r\nexport class ShortcutsController {\r\n    private _shortcuts = CallbackRegistry();\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n    ) {\r\n        this.bridge.onOperation((payload, caller) => {\r\n            if (payload.operation === CLIENT_OPERATIONS.shortcutClicked.name) {\r\n                const data = payload.data;\r\n                this._shortcuts.execute(`${data.frameId}-${data.shortcut}`);\r\n            }\r\n        })\r\n    }\r\n\r\n    public async registerShortcut(shortcut: string, frameId: string, callback: () => void): Promise<UnsubscribeFunction> {\r\n        await this.bridge.send<void>(OPERATIONS.registerShortcut.name, { shortcut, frameId });\r\n        const un = this._shortcuts.add(`${frameId}-${shortcut}`, callback);\r\n        return () => {\r\n            un();\r\n            this.bridge.send<void>(OPERATIONS.unregisterShortcut.name, { shortcut, frameId });\r\n        }\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\nimport { ShortcutsController } from \"../controllers/shortcuts\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n    private _shortcutsController: ShortcutsController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController, this.shortcutsController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get shortcutsController(): ShortcutsController {\r\n        if (!this._shortcutsController) {\r\n            this._shortcutsController = new ShortcutsController(this.bridge);\r\n        }\r\n        return this._shortcutsController;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm, CallbackFactory());\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition as Glue42Workspaces.BoxDefinition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder, emptyFrameDefinitionDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { API } from \"./../temp\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\nimport { version } from \"../package.json\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return await controller.getWorkspaceByWindowId(myId);\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getWorkspaceById = async (workspaceId: string): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(workspaceId);\r\n\r\n        return controller.getWorkspaceById(workspaceId);\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const createEmptyFrame = async (definition?: Glue42Workspaces.EmptyFrameDefinition): Promise<Glue42Workspaces.Frame> => {\r\n        const validatedDefinition = emptyFrameDefinitionDecoder.runWithException(definition);\r\n\r\n        return controller.createEmptyFrame(validatedDefinition ?? {});\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: Glue42Workspaces.FrameClosedData) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, frameBounds: payload.frameBounds });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await controller.transformStreamPayloadToWorkspace(payload);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: Glue42Workspaces.WorkspaceClosedData) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id, frameBounds: payload.frameBounds });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.elementId === payload.windowSummary.itemId);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowMaximized = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.elementId === payload.windowSummary.itemId);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"maximized\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRestored = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.elementId === payload.windowSummary.itemId);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"restored\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const waitForFrame = async (id: string): Promise<Glue42Workspaces.Frame> => {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return new Promise<Glue42Workspaces.Frame>((res, rej) => {\r\n            let unsub: Glue42Workspaces.Unsubscribe = () => {\r\n                // do nothing\r\n            };\r\n            onFrameOpened((f) => {\r\n                if (f.id === id) {\r\n                    res(f);\r\n                    unsub();\r\n                }\r\n            }).then((u) => {\r\n                unsub = u;\r\n                return getAllFrames();\r\n            }).then((frames) => {\r\n                const myFrame = frames.find((f) => f.id === id);\r\n                if (myFrame) {\r\n                    res(myFrame);\r\n                    unsub();\r\n                }\r\n            }).catch(rej);\r\n        });\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getWorkspaceById,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        createEmptyFrame,\r\n        waitForFrame,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n        onWindowMaximized,\r\n        onWindowRestored,\r\n        version\r\n    };\r\n};\r\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue from \"@glue42/desktop\";\r\nimport GlueWeb from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider settings={{\r\n      web: {\r\n        config: { libraries: [GlueWorkspaces] },\r\n        factory: (config) => {\r\n          return GlueWeb(config);\r\n        }\r\n      },\r\n      desktop: {\r\n        config: { libraries: [GlueWorkspaces], appManager: \"skipIcons\" },\r\n        factory: (config) => {\r\n          return Glue(config);\r\n        }\r\n      }\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","MetricTypes","STRING","NUMBER","TIMESTAMP","OBJECT","getMetricTypeByValue","metric","type","getTypeByValue","Date","serializeMetric","serializedMetrics","values","keys","reduce","memo","key","innerType","composite","defineNestedComposite","description","context","name","normalizeMetricName","path","join","getMetricValueByType","now","publishNestedComposite","getTime","Boolean","toString","flatten","arr","flat","toFlatten","concat","isArray","getHighestState","sort","state","aggregateDescription","msg","forEach","m","idx","slice","composeMsgForRootStateMetric","system","merged","root","getAggregateState","highestState","gw3","connection","config","joinPromise","session","_this","Error","init","repo","resolveReadyPromise","domain","onJoined","reconnect","undefined","defineRootMetricsMsg","metrics","Description","Value","send","replayRepo","service","instance","replaySystem","createSystem","createMetric","subSystems","ss","createMetricsMsg","_a","parent","updateSystem","shadowedUpdateMetric","stateObj","rootMetric","timestamp","peer_id","peerId","metricClone","cloneMetric","updateMetricCore","updateMetric","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","_b","Helpers","validate","definition","transport","BaseMetric","defineProperty","get","enumerable","configurable","update","newValue","NumberMetric","_super","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","protocol","_transport","_name","_description","_repo","_parent","_path","_buildPath","_state","id","_arrayToString","_subSystems","_metrics","subSystem","nameSystem","descriptionSystem","match","filter","_system","me","setState","stateDescription","stringMetric","_getOrCreateMetric","metricDef","numberMetric","objectMetric","timestampMetric","metricObject","expectedType","matching","shadowedMetric","existing","catch","shadowedSystem","separator","aggState","shadowedSubSystem","getState","Repository","options","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","document","clickStream_1","documentClickHandler","target","className","getAttribute","tagName","toLowerCase","href","title","page","window","location","addEventListener","attachEvent","urlMetric","appNameMetric","startUrl","glue42gd","appName","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","setTimeout","collect","setInterval","collectMemory","collectEntries","memory","performance","JSON","stringify","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","map","toJSON","disableAutoAppSystem","addFAVSupport","initPerf","pagePerformanceMetrics","perfConfig","enabled","featureMetric","reportingSystem","def","featureMetricFunc","action","payload","createRegistry","errorHandling","_userErrorHandler","callbacks","add","callback","replayArgumentsArr","callbacksForKey","replayArgument","includes","err","_handleError","allForKey","acc","element","index","execute","argumentsArr","_i","results","exceptionArtifact","errParam","stack","console","error","clear","clearKey","default","lib","InProcTransport","settings","logger","registry","gw","facade","connect","_client","message","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","close","open","SharedWorkerTransport","workerFile","worker","SharedWorker","port","onmessage","data","postMessage","Utils","getGDMajorVersion","glueDesktop","version","ver","Number","substr","isNaN","isNode","_isNode","global","process","PromiseWrapper","resolved","promise","delay","time","timers","getAllTimers","timer","timerName","marks","endTime","period","startTime","stop","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","_registry","wsRequests","ws","waitForSocketConnection","info","pw","failed","readyState","openSocket","retryInterval","retriesLeft","reconnectInterval","reconnectAttempts","notifyForSocketState","debug","initiateSocket","retries","onerror","reason","seen_1","WeakSet","replacer","has","notifyStatusChanged","onclose","onopen","identity","application","wsRequest","status","createCommonjsModule","fn","module","exports","seed","getNextValue","setSeed","_seed_","alphabet","previousSeed","shuffled","randomFromSeed","nextValue","ORIGINAL","reset","setCharacters","_alphabet_","unique","split","item","ind","lastIndexOf","characters","setSeed$1","shuffle","characterIndex","sourceArray","targetArray","Math","floor","splice","getShuffled","lookup","alphabet_1","crypto","msCrypto","randomByte","getRandomValues","random","dest","Uint8Array","randomByteBrowser","encode","number","loopCounter","str","pow","encode_1","decode","indexOf","decode_1","isShortId","len","isValid","lib$1","counter","previousSeconds","REDUCE_TIME","clusterWorkerId","generate","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","handleConnectionDisconnected","loggedIn","handleConnectionLoggedIn","on","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","handleJoined","leave","wasReconnect","onLeft","requestId","request_id","entry","success","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","warn","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","parse","substring","milliseconds","parseInt","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","_c","loginConfig","username","password","gatewayToken","getNewGWToken","method","flowName","provider","flowCallback","sessionId","secret","providerContext","globalDomain","subLogger","maxRetries","Buffer","from","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","clearTimeout","all","domainName","domainLogger","bind","authToken","createTokenReq","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","off","PromisePlus","executor","timeoutMilliseconds","timeoutMessage","timeout","WebPlatformTransport","iAmConnected","parentReady","children","extContentAvailable","extContentConnecting","extContentConnected","parentInExtMode","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handle","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","extConnectionResponse","handleExtConnectionResponse","extSetupRequest","handleExtSetupRequest","gatewayDisconnect","handleGatewayDisconnect","gatewayInternalConnect","handleGatewayInternalConnect","glue42ext","setUpMessageListener","setUpUnload","setupPlatformUnloadListener","opener","top","parentType","manualSetReadyState","publicWindowId","_communicationId","glue42ExtOut","glue42core","clientId","myClientId","ownWindowId","windowId","initiateInternalConnection","waitParent","requestConnectionPermissionFromExt","initiateRemoteConnection","event","connectionResolve","connectionReject","bridgeInstanceId","request","clientType","parentWindowId","connectionNotPossibleMsg","parentCheck","isIframe","self","parentPingResolve","parentPingInterval","clearInterval","checkMessageTypeValid","messageType","extMode","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","isPreferredActivated","processExtContentConnection","applicationName","communicationId","extData","glue42ExtInc","child","find","c","grandChildId","source","origin","rejectConnectionRequest","typeToValidate","rejection","waitForContentScript","extConnectionResolve","extConnectionReject","approved","content","waitForInvocations","invocations","left","AsyncSequelizer","minSequenceInterval","queue","isExecutingQueue","enqueue","executeQueue","operation","actionResult","error_1","shift","intervalBreak","Connection","messageHandlers","ids","_connected","isTrace","_swapTransport","_switchInProgress","_transportSubscriptions","_sequelizer","inproc","sharedWorker","webPlatform","canPublish","unsubConnectionChanged","handleConnectionChanged","unsubOnMessage","handleTransportMessage","_defaultTransport","switchTransport","switchTargetTransport","verifyPromise","isSwitchSuccess","trace","getNewSecondaryTransport","_targetTransport","_targetAuth","getNewSecondaryAuth","_defaultAuth","verifyConnection","onLibReAnnounced","setLibReAnnounced","isObjectBasedTransport","strMessage","isLoggedIn","currentServer","authRequest","newAuth","error_2","transportSwap","prepareDefaultSwap","distributeMessage","handlers","handlerId","handler","loggerError","log","replaySpecs","replayer","msgObj","unsub","ready","transportConfig","url","auth","order","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","level","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","interop","Interop","methods","InteropMethodName","invoke","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","prepareConfig","configuration","ext","_d","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_e","getConnection","_f","instanceId","pid","environment","region","gwConfig","gateway","defaultWs","gwURL","getApplication","uniqueAppName","env","appInstanceId","glue42electron","getContexts","contexts","reAnnounceKnownContexts","uid","applicationConfig","getAuth","gwToken","getLogger","gdConsoleLevel","defaultLevel","consoleLogLevel","publish","windowAsAny","containerApplication","htmlContainer","containerName","bus","libs","customLogger","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","obj","hash","WeakMap","Set","RegExp","flags","set","Map","val","what","withWhat","right","deepEqual","x","pathArr","isSubset","superObj","subObj","every","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_contextsTempCache","_contextsSubscriptionsCache","_connection","_logger","_trackAllContexts","trackAllContexts","_reAnnounceKnownContexts","_gw3Session","resetState","reInitiateState","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","dispose","contextName","createContext","lifetime","createContextMsg","context_id","contextData","hasReceivedSnapshot","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","subscribe","_r","un","unsubscribe","subscriptionKey","thisCallbackSubscriptionNumber","subscription","subKey","clone","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","sendUnsubscribe","destroy","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","_systemContextsSubKey","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","cacheSoFar","ctxName","lastKnownData","flushQueue","ContextsModule","_bridge","checkName","checkData","checkPath","paths","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayStep","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","servers","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","getInvokePromise","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","methodResponseTimeoutMs","tryToAwaitForMethods","supportsStreaming","objectTypes","metadata","called_with","executed_by","returned","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","interval","filterByTarget","matches","myMatches","serverMethodPair","instanceMatch","localMachine","isLocal","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","prop","isMatch","filterValue","repoMethodValue","filterValueEl","String","matchingServers","resultMethodsObject","methodKey","identifier","prev","current","matchingMethods","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","accepts","displayName","returns","unregister","updateRepoMethod","Server","serverRepository","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","some","serverMethod","protocolState","streamUserObject","repoId","remove","register","wrappedCallbackFunction","resultCallback","resultValue","args","userCallback","registerCore","registerAsync","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","methodName","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","unwrap","user","machine","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","wrapper","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","getById","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","br","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","eventName","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","errorMessage","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","TimedCache","cache","timeoutIds","timeoutId","elementIdx","findIndex","ELEMENT_TTL_MS","flush","elements","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ERR_MSG_SUB_REJECTED","ON_CLOSE_MSG_SERVER_INIT","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","timedCache","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","drainSubscriptionsCache","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","handleReconnect","reconnectionPromises","existingSubscriptions","existingSubscriptions_1","registeredMethods","_loop_2","registeredMethods_1","handleInitialJoin","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","response","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupConnection","initTimer","authPromise","authConfig","setupLogger","setupMetrics","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","setupExternalLib","createCallback","waitForLibs","libsReadyPromises","constructGlueObject","feedbackFunc","feedbackInfo","coreVersion","glue","feedback","agm","glueVer","glueConfig","browser","timing","initTimes","duration","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","registerInstanceIfNeeded","RegisterInstanceMethodName","typedError","ActivityEntity","_id","other","_updateCore","isNumber","arg","isString","isObject","isUndefined","isUndefinedOrNull","isNullOrWhiteSpace","test","isBoolean","isFunction","array","predicate","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","_manager","initiate","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","eventType","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","ActivityState","ActivityAGM","_activity","_ensureHasAgm","AGM","util.isUndefinedOrNull","windows","w","methodNames","methodsForWindow","currentWindowMethod","activityServers","util.isString","potentialTargets","util.isArray","firstElem","_isInstance","_isActivityWindow","win","parameters","AttachedActivityDescriptor","manager","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","descriptor","detachActivities","nextTick","cb","nodeify","util.isFunction","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","windowTypes","createStackedWindows","leaveWindowFromActivity","setActivityContext","updateActivityContext","subscribeActivityEvents","ns","os","subscribeWindowEvents","subscribeActivityContextChanged","act","stopActivity","attachActivities","subscribeActivitiesAttached","newActId","oldActId","subscribeActivitiesDetached","newAct","originalActivity","allStates","_attached","color","callbacksToWait","underlyingWindow","setFrameColor","LogLevel","GlueLogger","_glueLogger","Level","Trace","_getMessage","Debug","Info","Warn","owner","GetTypeName","object","exec","ActivityWindow","windowGetter","hcWindowId","Get","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getWindowBounds","getWindowType","util.isUndefined","getActivityById","isVisible","setWindowVisibility","focus","activateWindow","bounds","setWindowBounds","closeWindow","_subscribeForActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityStatus","gwMmessageError","gwMessageAddActivityTypes","gwMmessageActivityTypesAdded","gwMessageRemoveActivityTypes","gwMessageActivityTypesRemoved","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMmessageJoinActivity","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageLeaveActivity","gwMessageActivityLeft","gwNmessageMergeActivities","gwMessageSplitActivities","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessageRemovePeerFactories","gwMessagePeerFactoriesRemoved","gwMessageCreateActivity","gwMessageCreatePeer","gwMessagePeerRequested","gwMessageReady","gwMessagePeerCreated","gwMessageDestroyActivity","gwMessageDisposePeer","gwMessageDestroyPeer","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_config","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","activityInfo","addRefreshHandler","setGWToken","addWillNavigateHandler","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","my","exit","mode","activity_types","typesToTrack","activityTypeName","toActivityPeerConfig","windowDefinition","owner_type","helper_types","activityType","activityTypeGwMessageEntityToActivityType","invokeCallbacks","Added","Removed","factory","peer_type","factories","peerFactoryGwMessageEntityToWindowType","factory_ids","initiateMsg","activity_type","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","activityWindowId","independent","shouldSendReady","getAgmInstance","generateWindowGetter","layout","width","height","cellSize","joinPeer","joinActivity","peer_name","created_id","destroy_peer_id","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","search","URLSearchParams","searchParams","maybeName","target_id","Updated","windowDefinitions","visible","cloneOptions","into","merge","newActivityInfo","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","getEntityEvent","ent","h","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","listenForRecreates","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","getRandomRequestId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","recreated","msg1","msg2","msg3","toReturn","factoryId","peerType","subscribeToContext","unsubscribeContext","owner_id","forwardAddedAndRemovedMessagesToEventHandler","activityCreatedMessage","participants","createdMessage","activityGwMessageToActivity","activityToActivityStatusChangeEvent","peerFactoryIdAndOwnerIdToWindowType","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","list","nameToWindowType","windowName","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","updateContext","setContext","attached","getFrameColor","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","detached","_notifyAttachedTo","_notifyAttached","oldAct","_notifyDetached","_notifyDetachedFrom","ReadyMarker","signalsToWait","_signals","_callbacks","isSet","isError","_error","EntityObservableCollection","processNew","_items","_listeners","_processNew","items","internalEntity","_updateInternalCollections","_notifyListeners","entityAddedHandler","getByName","listener","entityAsAny","isActivityDestroy","Destroyed","isWindowClose","Closed","oldEntity","_beforeDelete","_update","ActivityManager","bridge","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","setCallback","dataErr","announceWindow","signal","errCatch","refreshDescriptors","onActivitiesAttached","_handleActivitiesAttached","onActivitiesDetached","_handleActivitiesDetached","onActivityAttachedDescriptorsRefreshed","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","initReady","aw","_getInitialData","bridgeType","getError","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","registerActivityType","unregisterActivityType","initiateActivity","actId","getOrWait","at","factoryMethod","util.isObject","getName","registerWindowFactory","unregisterWindowFactory","util.some","getAnnouncementInfo","registerWindow","currentWindow","windowEventHandler","unsubscribeWindowEvents","wt","wrappingHandler","found","windowTypeOrConfiguration","relativeToWindow","invalidKeys","filteredWindowTypeOrConfiguration","wid","relativeWindowTypes","stackedWindow","tasks","leaveActivity","removedKey","cloneActivity","descriptors","_updateDescriptors","stateWrapped","u","getActivityTypes","getWindowTypes","getActivities","ac","getActivityWindows","onActivityTypeStatusChange","onWindowTypeStatusChange","onActivityWindowChange","onActivityStatusChange","descriptorAsObjectFromAPI","oldActivityId","newActivityId","getAttachedDescriptors","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","subscribeActivityTypeEvents","_getWindowTypesWrapper","registerFactory","unregisterFactory","subscribeWindowTypeEvents","announce","instances","subscribeActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","My","_api","_readyPromise","ShutdownMethodName","OnGDShutdownMethodName","RestartMethodName","GetConfigurationRegionMethodName","SetConfigurationRegionMethodName","GetUserMethodName","GetBranchesMethodName","GetCurrentBranchMethodName","SetCurrentBranchMethodName","GetFunctionalEntitlementMethodName","CanIMethodName","StartApplicationMethodName","StopApplicationMethodName","ActivateApplicationMethodName","OnEventMethodName","GetApplicationsMethodName","objectValues","objectClone","ApplicationImpl","_appManager","CallbackRegistryFactory","onInstanceStarted","onInstanceStopped","onAppRemoved","app","onAppChanged","onAppAvailable","_props","IsReady","onAppUnavailable","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","Icon","IconUrl","SortOrder","UserProperties","Keywords","autoStart","caption","hidden","container","allowMultiple","Type","Mode","isActivity","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","style","props","Name","startTimeout","waitForAGMInstance","waitForAGMReady","waitForApplicationInstance","waitFunc","onInstanceAgmServerReady","AgmNames.StartApplicationMethodName","Context","Options","acsResult","waitForInterop","Id","handleInstanceStarted","ActivityId","IsActivityOwner","AgmServers","InstanceImpl","_appName","startFailed","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","onWindowAdded","updateAgmInstanceFromProps","agmInstances","AgmNames.StopApplicationMethodName","handleInstanceStopped","AgmNames.ActivateApplicationMethodName","AppManagerImpl","_gdMajorVersion","_apps","_instances","applications","getMyInstance","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","updateFromProps","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","EntitlementsImpl","_isMethodRegistered","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","AgmNames.GetConfigurationRegionMethodName","Region","getBranches","AgmNames.GetBranchesMethodName","Branches","getCurrentBranch","AgmNames.GetCurrentBranchMethodName","Branch","setRegion","AgmNames.SetConfigurationRegionMethodName","ResultMessage","setCurrentBranch","AgmNames.SetCurrentBranchMethodName","currentUser","AgmNames.GetUserMethodName","getFunctionalEntitlement","funct","AgmNames.GetFunctionalEntitlementMethodName","Entitlement","Function","getFunctionalEntitlementBranch","canI","func","AgmNames.CanIMethodName","Result","canIBranch","onBranchesChanged","onBranchChanged","AgmNames.ShutdownMethodName","onShuttingDown","registerMethod","restart","AgmNames.RestartMethodName","transformFunction","errHandler","prevent","snapshot","appManager","AgmNames.GetApplicationsMethodName","skipIcon","OnBranchChangedEvent","OnBranchesModifiedEvent","OnApplicationAddedEvent","OnApplicationRemovedEvent","OnApplicationChangedEvent","OnApplicationReadyEvent","OnApplicationStartedEvent","OnApplicationAgmServerReadyEvent","OnApplicationUpdatedEvent","OnApplicationStoppedEvent","OnApplicationStartFailedEvent","createDataSubscription","entitlements","skipIcons","initiated","start","resolveFunc","rejectFunc","resultPromise","AgmNames.OnEventMethodName","streamData","events","onApplicationAddedEventArgs","EventNames.OnApplicationAddedEvent","EventNames.OnApplicationChangedEvent","EventNames.OnApplicationRemovedEvent","EventNames.OnApplicationReadyEvent","onApplicationStartedEventArgs","EventNames.OnApplicationStartedEvent","EventNames.OnApplicationStartFailedEvent","EventNames.OnApplicationStoppedEvent","EventNames.OnApplicationUpdatedEvent","EventNames.OnApplicationAgmServerReadyEvent","EventNames.OnBranchChangedEvent","EventNames.OnBranchesModifiedEvent","hasMyAppInSnapShot","hasMyInstanceInSnapShot","InMemoryStoreCommandMethodName","InMemoryStore","apps","details","START_ONLY","SKIP_ICONS","FULL","subscriptionFactory","myInstance","inMemory","build","require$$0","T42JumpListAction","JumpListManager","_groupActionCallbacks","_registered","_executor","registerCallbackMethod","updateJumpList","actions","validateActions","category","toUpdateActions","manageActionCallback","categoryTitle","catgoryTitle","getJumpListSettings","currentCategory","categories","actionCallback","getActionCallback","callbackId","icon","singleInstanceTitle","multiInstanceTitle","getJumpList","updateAction","categoryActionCallbacks","accCal","delete","caller","callbackAction","cal","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","CallbackFactory","remote","urlChanged","targetWindowState","markReadyToShow","onReadyWindow","fail","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","display","max","workArea","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","min","JumpListActions","_categoryTitle","jumpListManager","getActions","createActions","removeActions","JumpListCategories","getCategories","createCategory","removeCategory","cat","JumpList","_categories","setEnabled","appManagerGetter","displayAPIGetter","channelsAPIGetter","resultWindow","_group","getChannels","channels","_mode","_bounds","_url","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_applicationName","_isVisible","_isSticky","isSticky","_isCollapsed","isCollapsed","_windowState","_tabGroupId","tabGroupId","_tabIndex","tabIndex","_frameId","frameId","_isLocked","isLocked","_frameButtons","frameButtons","_zoomFactor","zoomFactor","_placementSettings","placementSettings","_jumpList","utils","callbackifyPromise","navigate","newUrl","optionsOrCallback","util.isNullOrWhiteSpace","setStyle","styleAsAny","util.isNumber","resetButtons","buttons","setOnTop","onTop","setSizeConstraints","constraints","setTitle","newTitle","setSticky","moveResize","addFrameButton","buttonInfo","buttonId","imageBase64","removeFrameButton","activate","maximizeRestore","maximize","restore","minimize","collapse","expand","toggleCollapse","snap","direction","windowStore","attachTab","tab","opt","sourceWindow","attachOptions","selected","detachTab","argsForSend","isDetachRelative","o","hideTabHeader","setVisible","toBeVisible","center","getDisplay","resultDisplay","getDisplayCenterOfScreen","showLoader","loader","hideLoader","lock","unlock","getIcon","setIcon","base64Image","setTabHeaderVisible","toBeTabHeaderVisible","setTabTooltip","tooltip","showPopup","createFlydown","setModalState","isModal","zoomIn","zoomOut","setZoomFactor","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","print","printOptions","printToPDF","printToPDFOptions","ungroup","ungroupOptions","unGroupChanged","onGroupChanged","newGroup","oldGroup","place","ignoreCache","download","opts","configure","configureWindow","onTitleChanged","onEventCore","onClose","onUrlChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onAttached","onDetached","onVisibilityChanged","onContextUpdated","onLockingChanged","onBoundsChanged","onFocusChanged","onStickyChanged","onFrameColorChanged","onTabHeaderVisibilityChanged","onWindowAttached","onWindowDetached","onTabSelectionChanged","onClosing","callbackWrap","onRefreshing","onZoomFactorChanged","onPlacementSettingsChanged","onNeighboursChanged","replayArguments","onNavigating","goBack","goForward","handleUpdate","handleTitleChanged","finished","finally","handleUrlChanged","handleVisibilityChanged","handleWindowSettingsChanged","handleContextUpdated","handleWindowClose","handleFrameButtonAdded","frameButton","buttonObj","btn","handleFrameButtonRemoved","frameButtonId","button","handleFrameButtonClicked","handleWindowChangeState","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","isFocused","handleIsStickyChanged","handleFrameColorChanged","handleFrameAttached","handleCompositionChanged","neighbors","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleFrameSelectionChanged","newWindow","prevWindow","selectedWindow","previousWindow","handleAttached","newTabGroupId","newFrameId","tabHeaderVisible","winsToBeNotified","Events","handleWindowAttached","handleDetached","handleWindowDetached","handleZoomFactorChanged","handlePlacementSettingsChanged","copy","displayAPI","handleGroupChanged","getAllTabs","allWindows","w1","w2","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","mapWindowIdsToWindowObjects","windowIdArr","winId","getNeighboursByDirection","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","hostInstance","agmInstance","minHeight","maxHeight","minWidth","maxWidth","opened","group","topNeighbours","leftNeighbours","rightNeighbours","bottomNeighbours","screen","getMonitor","monitors","jumpList","show","hide","getChannel","getWindowsWithChannels","wins","channel","tabs","getURL","getTitle","getBounds","getContext","getByWindowId","resizeTo","moveTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","joinChannel","leaveChannel","GDExecutor","_finished","unsubCallbacks","agmTarget","startsWith","finishedResolve","waitFor","urlLoadOptions","stylePromises","wait","tabTooltip","tabToolTip","toolTip","tabTitle","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","buttonsConfig","versionNum","rej","resolveImmediately","areBoundsEqual","unsubscribeBoundsChanged","resolveTimeout","targetWindow","targetWindowId","snappingEdge","sourceWindowId","eventKeys","replace","contextWithoutUndefinedValues","swapUndefinedToNull","dataURL","toShow","optionsCopy","targetLocation","reformatedOptions","popupBounds","size","targetId","popupId","horizontalOffset","verticalOffset","fullOptions","reformatFlydownOptions","zoneIds","zones","z","flydownSize","cancel","clearFlydownArea","cancelCallback","callbackData","zoneId","flydownId","flydownWindowBounds","flydownWindowId","responses","defaultResponse","responseOptions","prevented","base64screenshot","groupWindowIds","filePath","enableDownloadBar","silent","fullPath","fileSize","executeWithoutToken","executeWithToken","addCloseHandler","nodeHandlers","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","uns","executed","requested","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","getWindowsByTabGroupId","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","_displayAPIGetter","_channelsAPIGetter","respondToEvent","streamResolve","streamReject","updateWindow","handleEvent","copyOptions","windowState","handleFlydownBoundsRequested","handleOnEventRequested","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","existingWindow","mapToWindowConstructorOptions","windowInfoCreatedEvent","setReadyState","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","setUrlChangedState","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","groupHeaderVisible","windowInfoFocusChanged","focusChanged","oldTabGroupId","newWindowId","prevWindowId","windowObjAndEvents","windowFactory","isActiveTab","jumpListOptions","streamEvent","charAt","toUpperCase","GD","gdPromise","callbackRegistry","_windowsId","addWindow","groupObject","removeWindow","_mapToWindowObject","mappedWindows","_mapToWindowObjects","winObjects","windowObject","_getGroupHeaderVisibility","onHeaderVisibilityChanged","onWindowRemoved","isHeaderVisible","showHeader","hideHeader","captureGroup","groupAPI","groupInternal","_groups","heardForWindowsCounter","findGroupByWindow","groupObj","onWindowMoved","createOrGet","createdGroup","groupFactory","deleteIfEmpty","currentGroup","findGroupWrapperByWindow","moveWindow","fromGroup","toGroup","onRemoved","onCompositionChanged","onGroupHeaderVisibilityChanged","groupEvents","groupsAPI","groupsEvents","channelsGetter","groups","isReady","envDetector","groupsFactory","myWindow","getIfReady","optionsAsAny","errMessage","windowsForListing","findById","windowAdded","windowRemoved","tabAttached","unsubFunc","unsubscribed","tabDetached","onWindowGotFocus","onWindowLostFocus","onEvent","handleWindowAdded","handleWindowRemoved","onTabAttached","onTabDetached","LayoutStore","layouts","condition","where","SaveContextMethodName","ContextProvider","activitiesGetter","registerRequestMethods","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","initial","accumulator","convertedValue","LayoutImpl","components","LayoutsAPIImpl","activityGetter","isSlimMode","l","gotSnapshot","verifyNotSlimMode","layoutObject","ignoreInstances","invokeMethodAndTrack","activityIdToJoin","closeRunningInstance","closeRunningInstances","closeMe","restoreOptions","activityToJoin","ignoreActivityWindowTypes","reuseExistingWindows","reuseWindows","excludeFromClosing","store","layoutType","handleResult","getObjectValues","Layouts","newName","oldName","onSaveRequested","skipStreamEvent","agmResult","streamEventReceived","responseHandler","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","transform","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","layoutData","removedLayouts","removedLayout","removeWhere","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","first","layout1","layout2","restoredLayouts","acsStream","DisplayCommand","T42DisplayCommand","T42DisplayOnEvent","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","primary","isPrimary","Capture","screenshot","captureAll","CaptureAll","screenshots","getMousePosition","GetMousePosition","point","invocationResult","original","decoratedDisplay","workAreaAsAny","GetByWindowId","setupAGM","interopLib","leaveNoSelectorSwitch","joinNoSelectorSwitch","swId","switchChannel","newChannel","CONTEXT_PREFIX","LATEST_FDC3_TYPE","SharedContextSubscriber","isChannel","createContextName","___","channelContextName","latest_fdc3_type","rest","fdc3Type","getFDC3Type","channelName","fdc3PropsArr","ChannelsImpl","shared","subsKey","changedKey","isInitialJoin","pendingReplays","initialChannel","lastUpdate","subscribeFor","updateData","channelNames","channelContexts","getContextData","joinCore","leaveCore","changed","updateChannel","windowInfos","changeSelector","doesChannelExist","channelExistsPromise","intervalId","sharedContexts","onChanged","getWindowsOnChannel","getMy","CommandMethod","InvokeMethod","RegisterCommand","UnregisterCommand","UnregisterAllCommand","HotkeysImpl","firstHotkey","hotkeys","hotkey","hkToLower","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","getLibConfig","defaultMode","trueMode","getModeAsString","appDefaultMode","appDefaultTrueMode","activitiesDefaultMode","layoutsDefaultMode","Glue42Notification","badge","dir","image","lang","renotify","requireInteraction","PanelAPI","STARTING_INDEX","Notifications","methodsRegistered","NOTIFICATIONS_CONFIGURE_METHOD_NAME","methodNameRoot","notifications","panel","bunchOfPromises","maxActions","handleNotificationAction","notification","severity","glueRoutingDetailMethodName","sourceId","validActions","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","attributes","dataAsString","panelExpiry","toastExpiry","g42notification","onaction","actionInterop","dispatchEvent","sourceNotificationId","onclick","clickInterop","ThemesConfigurationMethodName","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getAll","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","themes","getCurrent","select","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","myIntents","intentFilter","intents","intent","contextType","ctToLower","contextTypes","ct","intentName","intentDef","isDynamicIntent","intentDefHandler","anAppHandler","intentHandler","anInstanceHandler","startApp","raiseIntentToInstance","withIntentsInfo","appsWithIntents","applicationTitle","applicationDescription","applicationIcon","serverWindowIds","serverWindowId","T42WndGetInfo","windowsInfos","appWithIntents","appIntent","appDefIntent","windowsIdToTitle","instanceTitle","registerPromise","intentFlag","registeredIntent","interopServer","registeredMethod","addedMethod","windowsInfo","FactoryCallInfo","initialized","addCall","Prefs","interopMethodRegistered","verifyDataObject","verifyApp","verifyCallback","unsubscribeFn","registerInteropIfNeeded","Cookies","cookies","cookie","verifyCookieObject","callInfo","firstRun","factoryCore","createWindows","createActivities","createAppManager","createLayouts","createChannels","createHotkeys","createIntents","createNotifications","createDisplaysApi","createThemes","createPrefs","createCookies","getLibLogger","debugLog","currentLog","newLogger","loggerConfig","T42GDExecuteMethod","prefs","themesAPI","displaysLogger","_displays","notificationsAPI","intentsAPI","hotkeysAPI","_channels","layoutsConfig","lay","LayoutsFactory","AppManagerFactory","activityLogger","windowsLogger","WindowsFactory","glueFactoryLog","CoreFactory","glueApi","libraries","calls","whatToExpose","CreateGlue","shouldSetToWindow","autoInjected","Glue","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","fromCharCode","test3","letter","shouldUseNative","symbols","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","getShim","isRequired","ReactPropTypes","bigint","bool","string","symbol","any","arrayOf","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","aa","encodeURIComponent","ba","ca","da","ea","fa","createElement","ha","ia","ja","ka","B","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","D","oa","pa","qa","ma","na","la","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ra","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","for","E","Ma","Ka","La","Na","trim","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","render","_render","Ra","$$typeof","_payload","_init","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","ownerDocument","eb","Children","db","fb","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","ob","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeType","nodeValue","qb","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","setProperty","ub","menuitem","area","base","col","embed","hr","img","input","keygen","link","param","track","wbr","vb","wb","is","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","removeEventListener","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","return","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","pointerId","tc","vc","wc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","transition","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","F","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","bd","cd","LN2","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","code","repeat","locale","which","Rd","Td","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","datetime","email","month","range","tel","text","week","ne","oe","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","De","Ee","Fe","He","Ie","Je","Ke","Le","offset","nextSibling","Me","contains","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","end","selectionEnd","anchorNode","defaultView","getSelection","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","G","$e","af","bf","cf","df","passive","Nb","q","ef","ff","parentWindow","gf","hf","J","K","Q","L","je","char","ke","unshift","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","H","I","Cf","M","N","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","O","eg","fg","gg","hg","ig","jg","kg","ReactCurrentBatchConfig","lg","defaultProps","mg","ng","og","pg","qg","rg","_currentValue","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","A","C","Dg","Eg","Fg","Component","refs","Gg","Kg","isMounted","_reactInternals","enqueueSetState","Hg","Ig","Jg","enqueueReplaceState","enqueueForceUpdate","Lg","shouldComponentUpdate","isPureReactComponent","Mg","updater","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","ref","_owner","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","documentElement","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","th","uh","_workInProgressVersionPrimary","vh","ReactCurrentDispatcher","wh","xh","R","S","T","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","U","useState","getSnapshot","useEffect","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useCallback","useContext","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","ReactCurrentOwner","fi","gi","hi","ii","ji","compare","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","fallback","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","last","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onClick","createElementNS","createTextNode","V","Hi","Ii","W","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","insertBefore","_reactRootContainer","ij","jj","kj","lj","mj","nj","ceil","oj","pj","X","Y","qj","rj","sj","tj","uj","vj","Infinity","wj","ck","Z","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","extend","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","onCommitFiberRoot","fk","gk","ik","isReactComponent","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","ok","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","_calculateChangedBits","unstable_observedBits","unmount","querySelectorAll","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","__REACT_DEVTOOLS_GLOBAL_HOOK__","yk","isDisabled","supportsFiber","inject","createPortal","findDOMNode","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","checkDCE","__self","__source","jsx","Fragment","StrictMode","Profiler","Suspense","forceUpdate","escape","_result","IsSomeRendererActing","count","toArray","only","PureComponent","cloneElement","_currentValue2","_threadCount","Provider","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","async","iter","reverse","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","MapShim","getIndex","class_1","__entries__","ctx","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","MAX_LENGTH","parseOptions","compareIdentifiers","SemVer","loose","includePrerelease","LOOSE","raw","major","minor","patch","prerelease","format","compareMain","comparePre","release","inc","SEMVER_SPEC_VERSION","MAX_SAFE_COMPONENT_LENGTH","NODE_DEBUG","numeric","anum","bnum","rcompareIdentifiers","src","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","arr2","__esModule","arrayLikeToArray","ReferenceError","asyncGeneratorStep","gen","_next","_throw","Constructor","_defineProperties","protoProps","staticProps","unsupportedIterableToArray","allowArrayLike","it","normalCompletion","didErr","_e2","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","superPropBase","_get","property","receiver","desc","_getPrototypeOf","subClass","superClass","sham","Proxy","_s","_arr","_n","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptors","defineProperties","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","sourceKeys","_typeof","assertThisInitialized","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","chunkId","miniCssF","globalThis","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","charset","onScriptComplete","onload","doneFns","head","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","chunkLoadingGlobal","_arrayLikeToArray","_unsupportedIterableToArray","_defineProperty","_classCallCheck","_createClass","GlueContext","GlueProvider","setGlue","web","desktop","factoryResult","_g","_h","_j","_k","GlueWeb","GlueWebPlatform","useGlueInit","React","propTypes","__rest","throw","ApplicationItem","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isShell","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","workspaceWindow","onWindowLoaded","workspace","addGroup","ContainerSwitch","setInLane","wordInLabel","labelToPut","htmlFor","role","withGlueInstance","WrappedComponent","workspaceId","boxId","resizePopup","setParent","setSearchTerm","containerRef","shouldUpdate","workspaces","getWorkspaceById","myWorkspace","getBox","getAllWorkspaces","allWorkspaces","refreshPopupHeight","containerHeight","getBoundingClientRect","placeholder","onChange","Feedback","regexResult","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","filterLayouts","layoutSummaries","setLayoutSummaries","getSummaries","filtered","summary","layoutName","restoreWorkspace","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","operationArguments","downloadElement","append","click","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","controls","errors","createObject","contructor","objectKeys","getHashValue","getQueryStringParam","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","fnBind","removeFromArray","moveInArray","getUniqueId","filterXss","stripTags","idAsString","isCustomWorkspaceTab","_layoutManager","_componentFactory","createWorkspaceTabs","EventEmitter","_mSubscriptions","ALL_EVENT","emit","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizedItemsInTargetContainer","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_ignorePinned","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","Stack","component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","dimensions","labels","workspacesOptions","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","_createSubWindows","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","_maximizeContainers","callDownwards","contentItem","maximizationContainer","_dragListener","_element","_itemConfig","createContentItem","Root","createPopout","isRoot","addId","screenLeft","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","_$maximiseItem","_findItemToMaximizeIn","_$minimiseItem","isMaximized","after","prepend","_$maximiseInContainer","_$minimiseInContainer","hasId","removeId","workspacesConfig","maximizationBoundary","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","allowDrop","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","side","_$calculateItemAreas","_getAllContentItems","isStack","_contentAreaDimensions","header","highlightArea","_dropSegment","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","_findAllStackContainers","_addChildContentItemsToContainer","getItemsByFilter","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","restoreMaximizedContainers","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","workspaceInnerDrag","borderWidth","borderGrabWidth","minItemHeight","maxItemHeight","maxItemWidth","dragProxyWidth","dragProxyHeight","popout","tabDropdown","itemDefaultConfig","isClosable","ItemContainer","layoutManager","isHidden","_contentElement","getElement","setSize","isColumn","_calculateRelativeSizes","componentState","extendState","emitBubblingEvent","_$setSize","offsetWidth","_dimensions","_parentId","_indexInParent","_popoutWindow","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","_positionWindow","_onClose","_onInitialised","setItem","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_dragProxy","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","createBeforeGroupTabs","elementId","createAfterGroupTabs","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_isDestroyed","_createControls","createTab","Tab","before","moveTab","_syncContentItemOrder","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","outerHeight","z-index","margin-left","[object Object]","isPinned","_action","Splitter","_isVertical","_size","_grabSize","_createElement","_customTabTemplate","_elementOffset","_xOfLastReorder","titleElement","closeElement","TabDragListener","_onReorderStart","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","createWorkspaceTabsOptions","pin","_getLastIndexOfPinnedTab","unpin","allowExtract","allowWorkspaceTabReorder","allowReorder","_onReorder","_onReorderStop","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","_extendItemNode","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","_$hide","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","_scheduleEventPropagationToLayoutManager","_propagateEventToLayoutManager","_$shown","shown","_containerElement","getMinWidth","getMaxWidth","getMinHeight","getMaxHeight","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","pinnedSize","_respectItemWidthConstraints","_respectItemHeightConstraints","_isRow","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","horizontal","vertical","_getMaximumDimensions","_setMinMaxSplitterPosition","allowSplitters","_activeContentItem","_dropZones","_dropIndex","createId","_$validateClosability","realHeight","_getItemToFocusAfterRemove","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","allowDropHeader","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","initEvent","createEventObject","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_destroy","ReactDOM","_getReactComponent","_onUpdate","glEventHub","glContainer","reorderTimeout","_startReorder","_inReorder","_stopReorder","_idToLayout","workspaceIds","workspaceLayout","_workspaceLayout","workspaceLayoutHeader","getByContainerIdCore","mergeWindows","hibernatedWindows","lastActive","getWorkspaceContentItem","containerElement","setupEvents","visibleTabs","getTabWidth","refreshTabClasses","classList","handleTabCountChanged","removedNodes","addedNodes","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","isTabPinned","visibilityState","logo","workspaceTabs","addWorkspace","systemButtons","workspaceContents","beforeGroupTabs","afterGroupTabs","componentsFactory","_decoratedFactory","getWorkspaceIdFromContents","decoratedFactory","isSelected","changeSelectedState","onWorkspaceClosed","removeWorkspaceTabs","createWorkspaceContents","removeWorkspaceContents","subscribeForWorkspaceContentsVisibility","removeBeforeGroupTabs","onGroupClosed","removeAfterGroupTabs","updateWorkspaceTabs","showSaveButton","showCloseButton","getElementById","lastSelectedWorkspaceTab","stateResolver","windowContentItem","isTabless","getSummaryCore","isWorkspaceSelected","cachedBounds","getUserFriendlyParent","itemId","isLoaded","positionIndex","widthInPx","heightInPx","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtract","populateChildrenAllowReorder","populateChildrenAllowSplitters","showMaximizeButton","showEjectButton","showAddWindowButton","getByContainerId","getUserFriendlyType","findElementInConfig","workspaceContentItem","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","isHibernated","hibernateConfig","allowWindowReorder","showAddWindowButtons","showEjectButtons","showWindowCloseButtons","transformComponentsToWindowSummary","transformParentsToContainerSummary","getPropertyFromConfig","populateChildrenShowAddWindowButtons","populateChildrenShowEjectButtons","populateChildrenShowWindowCloseButtons","parentElement","hasMaximizedItems","maximizedItemsInContainer","getWindowSummarySync","getContainerSummary","hibernatedWorkspaceIconLabel","workspaceTab","getWorkspaceTabElement","hasClass","HibernationIconClass","hideWorkspaceSaveButton","showWorkspaceIconButton","hideWorkspaceIconButton","showWorkspaceSaveButton","SaveWorkspaceButtonLabel","getWindowContentItem","getContainer","showWindowCloseButton","hideWindowCloseButton","hideEjectButton","hideAddWindowButton","refreshTabsMaxWidth","hasTransition","getPropertyValue","mt","_maximizedId","_workspaceLayoutElementId","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","getImmediateChildEmptyWindow","_options","_emitter","_stateResolver","_configFactory","emitter","_showLoadingIndicator","showLoadingIndicator","_tabObserver","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","raiseEvent","setupOuterLayout","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","resetWorkspace","getContainerConfig","getWorkspaceLayoutComponentName","getWorkspaceTitle","getWorkspaceTitles","registerWorkspaceComponent","hideWorkspaceCloseButton","replaceWorkspaceSaveButtonWithIcon","waitForTransition","removeLayout","reuseWorkspaceId","setWorkspaceTitle","getWorkspaceLayoutItemById","removeById","showAddButton","getDragElement","setDragElementSize","waitForWindowContainer","getElementsByClassName","showWorkspaceCloseButton","hideWindowCloseButtons","hideEjectButtons","hideAddWindowButtons","hideMaximizeButton","validateRowHeight","resizeComponentCore","validateColumnWidth","validateStackWidth","validateStackHeight","unpinWorkspace","pinWorkspace","hideWorkspaceRootItem","showWorkspaceRootItem","validateComponentWidth","validateComponentHeight","addOrUpdate","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","getElementByClass","waitForLayout","composedPath","blur","syncWorkspaceOrder","onOuterLayoutContainerResized","onContentContainerResized","_idToFrame","_glue","startCore","getMaximizedFrameZIndex","platformVersion","loading","URL","waitForWindow","LAST_SESSION_KEY","sessionStorage","emptyFrame","workspaceNames","cleanUpUrl","removeQueryParams","history","replaceState","pathname","resolver","_configConverter","_constraintsValidator","_platformCommunicator","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","export","fixWorkspace","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","getWindowLayoutState","noAppWindowState","requestOnLayoutSaveContexts","getWorkspaceConfig","convertToAPIConfig","removeWorkspaceItemIds","applyWindowLayoutState","applySavedContexts","windowSummariesToWindowLayout","workspaceSummaryToWorkspaceLayout","createArgs","_layoutEventEmitter","frameController","converter","waitForWindowContentItem","getWorkspaceSnapshotSync","layoutsManager","removeWorkspaceWindowWindowIds","getFrameSummary","frameSummary","getWorkspaceSnapshot","getFrameConstraints","getFrameSnapshot","hasFrame","visualViewport","offsetLeft","offsetTop","getRendererWindowBounds","_pattern","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getDefaultWorkspaceConfig","loadingStrategy","tt","convertToRendererConfigCore","convertToApiConfigCore","et","ot","nt","st","rt","lt","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","interopId","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","_frameController","_delayedExecutor","_systemSettings","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","defaultStrategy","getComponentsByVisibility","visibleComponents","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","initialDelay","initialOffsetInterval","onLoaded","getTitleByAppName","validateTitle","getUrlByAppName","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","maximizeTab","selectionChanged","raiseFailed","closeTab","actionsInProgress","splitInBatches","executeBatch","askForSettings","getAllItemsFromWorkspace","areConstraintsValid","getConstraintsFromItem","validateWorkspace","windowsOnSaveData","dt","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","extractWindowSummariesFromSnapshot","getWorkspaceSummary","notifyFrameWillClose","raiseWorkspaceEvent","workspaceSummary","frameBounds","getFrameBounds","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","initPromise","_initialized","_facade","loadConfig","_applicationFactory","_popupManager","initLayout","reInitialize","setInitialWorkspaceConfig","getActiveWorkspace","reinitializeWorkspace","maximizeContainer","maximizeWindow","restoreContainer","restoreWindow","closeWorkspace","closeContainer","cleanIsPinned","addContainer","refreshWorkspaceSize","applyIsPinned","setWindowTitle","closeItem","reuseId","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","isInitialized","initializationContext","removeLayoutElement","generateLayout","hideHibernatedIcon","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableWorkspaceWindowReorder","enableWorkspaceWindowReorder","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","disableWorkspaceReorder","enableWorkspaceReorder","disableWorkspaceAddWindowButtons","enableWorkspaceAddWindowButtons","disableWorkspaceEjectButtons","enableWorkspaceEjectButtons","disableWorkspaceWindowCloseButtons","enableWorkspaceWindowCloseButtons","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","windowPlacementId","disableWindowExtract","enableWindowExtract","disableWindowReorder","enableWindowReorder","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","resizeWorkspaceItem","isWindowMaximized","resizeRow","resizeColumn","resizeStack","resizeComponent","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onItemDropped","onSelectionChanged","onWorkspaceAdded","handleOnWorkspaceAdded","onWorkspaceSelectionChanged","selectionChangedDeep","isWindowVisible","onAddButtonClicked","onContentLayoutInit","getMaximizedItemInRoot","onWorkspaceAddButtonClicked","onWorkspaceSaveRequested","onContainerMaximized","onContainerRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","onContentItemRemoved","notifyGroupClosed","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","checkForEmptyWorkspace","notifyWorkspaceClosed","startDelayed","startDirect","startLazy","isPlatformFrame","handleOnWorkspaceAddedWithSnapshot","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupReorder","enableGroupReorder","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableRowSplitters","enableRowSplitters","disableColumnDrop","enableColumnDrop","disableColumnSplitters","enableColumnSplitters","workspaceSnapshot","ht","doesContainerContainLockingProperties","lockContainer","doesWorkspaceContainLockingProperties","lockWorkspace","doesWindowContainLockingProperties","lockWindow","getItemFromWorkspace","isLockingPropertySet","showExtractButton","showExtractButtons","ut","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","_controlPromise","handleControlCore","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleResizeItem","handlePinWorkspace","handleUnpinWorkspace","handleGetWorkspaceIcon","handleSetWorkspaceIcon","handleInitFrame","handleCreateFrame","handleInitFrameFromSnapshot","handleGetWorkspaceLayouts","handleSetMaximizationBoundary","handleControl","_converter","_locker","_constraintValidator","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","openWorkspace","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","fixNewContainer","applyContainerLockConfiguration","fixNewWindow","applyWindowLockConfiguration","convertCreateWorkspaceArgumentsToWorkspaceItem","applyLockConfiguration","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","move","excludeIds","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","resizeItem","getWorkspaceIcon","setWorkspaceIcon","convertLayoutOptionsToWorkspaceItem","initFrameLayout","getAllWorkspacesLayouts","setMaximizationBoundary","setFrameContext","pt","nonce","noModule","jquery","pushStack","prevObject","each","eq","even","grep","odd","expando","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","needsContext","charCodeAt","_t","childNodes","qsa","scope","yt","cacheLength","attrHandle","sourceIndex","ft","gt","isXML","setDocument","createComment","getElementsByName","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","sortDetached","specified","uniqueSort","detectDuplicates","sortStable","getText","selectors","createPseudo","relative",">"," ","+","~","preFilter","uniqueID","pseudos","setFilters","not","hasFocus","selectedIndex","empty","nth","radio","checkbox","file","submit","vt","Ct","It","kt","bt","filters","tokenize","compile","selector","expr","isXMLDoc","escapeSelector","parseHTML","contents","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","Callbacks","once","stopOnFalse","disable","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","tr","_default","tbody","tfoot","colgroup","optgroup","htmlPrefilter","xt","Wt","Et","St","namespace","isTrigger","special","delegateType","stopImmediatePropagation","Event","triggered","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","isSimulated","offsetX","offsetY","mouseenter","mouseleave","pointerenter","pointerleave","Tt","Bt","Dt","Mt","At","Rt","Pt","Lt","Ot","_evalUrl","zt","cleanData","detach","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ft","Ht","$t","Nt","jt","pixelBoxStyles","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Gt","Vt","Ut","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","Kt","getClientRects","cssHooks","isFinite","border","Tween","easing","propHooks","run","pos","fx","linear","swing","cos","PI","tick","tweeners","prefilters","tweens","specialEasing","originalProperties","originalOptions","createTween","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","removeAttr","attrHooks","removeProp","propFix","class","toggleClass","valHooks","focusin","simulate","triggerHandler","parseXML","DOMParser","parseFromString","serialize","serializeArray","dataTypes","ajaxSettings","flatOptions","active","lastModified","etag","processData","contentType","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","xhr","XMLHttpRequest","0","1223","cors","xhrFields","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","scriptCharset","Ge","jsonp","jsonpCallback","createHTMLDocument","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","undelegate","hover","holdReady","parseJSON","isWindow","camelCase","isNumeric","jQuery","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","_extends","useIsomorphicLayoutEffect","Style","popupContent","modal","popupArrow","background","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","arrowTop","arrowLeft","popupIdCounter","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","contentRef","arrowRef","focusedElBeforeOpen","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","contentBox","calculatePosition","scrollY","scrollX","els","firstFocusableEl","lastFocusableEl","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","Portal","templateId","shouldInit","template","onCreateLogoRequested","onCreateWorkspaceTabRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateBeforeGroupTabsRequested","createGroupTabs","onCreateGroupTabRequested","onCreateAfterGroupTabsRequested","createGroupHeaderButtons","onCreateGroupHeaderButtonsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","createWorkspaceLoadingAnimation","onCreateWorkspaceLoadingAnimationRequested","onUpdateWorkspaceTabsRequested","onRemoveWorkspaceTabsRequested","onRemoveWorkspaceContentsRequested","onRemoveBeforeGroupTabsRequested","removeGroupTab","onRemoveGroupTabRequested","onRemoveAfterGroupTabsRequested","removeGroupHeaderButtons","onRemoveGroupHeaderButtonsRequested","removeWorkspaceLoadingAnimation","onRemoveWorkspaceLoadingAnimationRequested","onHideSystemPopupsRequested","externalPopupApplications","beforeGroupTabsZones","afterGroupTabsZones","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","workspaceLoadingAnimations","workspaceTabsObj","previousObj","beforeTabsZonesObj","afterTabsZonesObj","workspaceLoadingAnimationsObj","newTabElementsObj","newLoadingAnimationElementsObj","WorkspacesStore","afterUpdateCallback","additionalProperties","useSyncExternalStore","workspacesStore","_0","setShouldInit","WorkspaceContentsComponent","addApplicationComponent","popups","AddApplicationComponent","AddApplicationPopup","saveWorkspaceComponent","SaveWorkspaceComponent","SaveWorkspacePopup","addWorkspaceComponent","AddWorkspaceComponent","AddWorkspacePopup","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","LogoCustomElement","LogoComponent","TabComponent","WorkspaceTabComponent","onSaveClick","AddWorkspaceCustomComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContents","BeforeGroupTabsComponent","containers","BeforeTabs","AfterGroupTabsComponent","AfterTabs","SaveWorkspaceCustomComponent","AddApplicationCustomComponent","LoadingAnimationComponent","loadingAnimation","Workspace","WorkspacesWrapper","onCreateBeforeGroupTabsComponentRequested","onCreateAfterGroupTabsComponentRequested","onUpdateWorkspaceTabRequested","onRemoveWorkspaceTabRequested","onRemoveBeforeTabsComponentRequested","onRemoveAfterTabsComponentRequested","onRemoveWorkspaceLoadingAnimation","onHideSystemPopups","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","_createForOfIteratorHelper","parseConfig","isPlatformInternal","combined","systemLogger","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","asPromise","withDefault","withException","map2","ar","mapError","andThen","freeze","isOk","isErr","successes","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","prependAt","newAt","__rest$1","Decoder","kind","runPromise","runWithException","succeed","boolean","constant","decoders","decoder","err$$1","decodeValue_1","tuple","union","ad","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","mkDecoder","nonEmptyStringDecoder","nonNegativeNumberDecoder","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","notificationsOperationTypesDecoder","windowRelativeDirectionDecoder","windowBoundsDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","frameWindowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDetailsDecoder","intentDefinitionDecoder","customConfig","fdc3AppDefinitionDecoder","appId","manifest","manifestType","contactEmail","supportEmail","publisher","images","icons","applicationDefinitionDecoder","customProperties","allApplicationDefinitionsDecoder","appRemoveConfigDecoder","definitions","appsExportOperationDecoder","applicationDataDecoder","baseApplicationDataDecoder","appDirectoryStateChangeDecoder","appsAdded","appsChanged","appsRemoved","appHelloSuccessDecoder","basicInstanceDataDecoder","applicationStartConfigDecoder","forceChromeTab","layoutTypeDecoder","componentTypeDecoder","windowComponentStateDecoder","restoreState","restoreSettings","groupZOrder","windowLayoutComponentDecoder","componentType","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutComponentStateDecoder","workspaceLayoutComponentDecoder","workspaceFrameComponentStateDecoder","selectedWorkspace","workspaceFrameComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","layoutSummaryDecoder","simpleLayoutConfigDecoder","saveLayoutConfigDecoder","restoreLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","importModeDecoder","layoutsImportConfigDecoder","allLayoutsSummariesResultDecoder","simpleLayoutResultDecoder","optionalSimpleLayoutResult","intentsOperationTypesDecoder","intentHandlerDecoder","intentDecoder","intentTargetDecoder","intentContextDecoder","wrappedIntentsDecoder","intentFilterDecoder","findFilterDecoder","wrappedIntentFilterDecoder","intentRequestDecoder","raiseRequestDecoder","intentResultDecoder","addIntentListenerRequestDecoder","addIntentListenerIntentDecoder","channelNameDecoder","channelContextDecoder","interopActionSettingsDecoder","glue42NotificationActionDecoder","notificationDefinitionDecoder","vibrate","glue42NotificationOptionsDecoder","focusPlatformOnDefaultClick","raiseNotificationDecoder","permissionRequestResultDecoder","permissionGranted","permissionQueryResultDecoder","permission","notificationEventPayloadDecoder","platformSaveRequestConfigDecoder","saveRequestClientResponseDecoder","permissionStateResultDecoder","simpleAvailabilityResultDecoder","isAvailable","operations","openWindow","dataDecoder","resultDecoder","windowHello","getUrl","WebWindowModel","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","ioc","actualWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationName","operationData","windowSuccess","buildWebWindow","projection","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","promiseActive","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","systemId","passMessageController","pkg","transmitMessage","operationResult","nameMatch","serverMatch","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","baseErrorMessage","invocationErrorMessage","operations$1","appHello","appDirectoryStateChange","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","baseApplicationsTimeoutMS","appImportTimeoutMS","addOperationsExecutors","startOptions","forceTab","openResult","buildInstance","getApplications","getInstances","handleAppDirectoryStateChange","handleInstanceStartedMessage","handleInstanceStoppedMessage","handleApplicationAddedMessage","handleApplicationChangedMessage","handleApplicationRemovedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","parseResult","soFar","valid","invalid","responseTimeout","imported","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","startApplication","operations$2","layoutAdded","layoutChanged","layoutRemoved","clientSaveRequest","getGlobalPermissionState","requestGlobalPermission","checkGlobalActivated","LayoutsController","defaultLayoutRestoreTimeoutMS","windowsController","onAdded","subscribeOnSaveRequested","getMultiScreenPermissionState","requestMultiScreenPermission","getGlobalTypeState","handleOnAdded","handleOnChanged","handleOnRemoved","handleSaveRequest","layoutsToImport","validLayout","saveResult","invocationTimeout","saveRequestSubscription","onSaveRequestResponse","currentState","activated","operations$3","raiseNotification","requestPermission","notificationShow","notificationClick","getPermission","bytes","format_browser","mask","generate_1","build_1","basedir","commonjsRequire","NotificationsController","notificationsSettings","buildNotificationFunc","buildNotification","addOperationExecutors","raise","queryResult","permissionResult","handleNotificationShow","handleNotificationClick","onshow","defaultClick","actionClicks","actionDef","operations$4","getIntents","findIntent","raiseIntent","IntentsController","GlueWebIntentsPrefix","addIntentListener","requestObj","intentFilterObj","Glue42CoreMessageTypes","webPlatformTransportName","latestFDC3Type","operations$5","addChannel","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","getAllChannelNames","switchToChannel","currentChannelName","channelContext","operations$6","getEnvironment","getBase","SystemController","setEnvironment","Notification","operations$7","clientHello","widget","ExtController","contentCommands","widgetVisualizationPermission","handleWidgetVisualizationPermission","changeChannel","handleChangeChannel","channelsController","eventsDispatcher","onContentMessage","handleContentMessage","sendContentMessage","foundHandler","allowed","currentChannel","EventsDispatcher","glue42CoreEventName","notifyStarted","handleNotifyStarted","contentInc","handleContentInc","wireCustomEventListener","announceStarted","glue42Event","CustomEvent","PreferredConnectionController","transactionTimeout","transactionLocks","reconnectCounter","coreConfig","webPlatformTransport","webPlatformMessagesUnsubscribe","handleWebPlatformMessage","getCurrentPlatformTransportState","transportState","checkSwitchTransport","isConnectedToPlatform","transactionId","handleTransportSwitchRequest","handleGetCurrentTransportResponse","handleCheckPreferredLogic","handleCheckPreferredConnection","handlePlatformUnload","reEstablishPlatformPort","myCurrentTransportName","transportName","setConnected","transaction","setTransaction","sendPlatformMessage","transactionLock","transactionLive","lift","switchSettings","checkPreferredConnection","IoC","appManagerController","layoutsController","notificationsController","intentsController","systemController","extension","extensionController","_publicWindowId","_actualWindowId","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_notificationsControllerInstance","_intentsControllerInstance","_systemControllerInstance","_channelsControllerInstance","_extensionController","_eventsDispatcher","_bridgeInstance","_coreGlue","_preferredConnectionController","_webConfig","applicationInstances","version$1","__assign$1","__awaiter$1","aggregateDesc","createRegistry$1","lib$2","seed$1","alphabet$1","previousSeed$1","shuffled$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","isValid$1","lib$1$1","createCommonjsModule$1","shortid$1","PromisePlus$1","webNamespace","version$2","allRejected","coreFactoryFunction","glueWebFactory","defineGlue","preferredConnectionController","defineConfig","windowAny","positiveNumberDecoder","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","loadingAnimationTypeDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","windowDefinitionConfigDecoder","groupDefinitionConfigDecoder","rowDefinitionConfigDecoder","columnDefinitionConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictColumnDefinitionDecoder","strictParentDefinitionDecoder","strictRowDefinitionDecoder","strictGroupDefinitionDecoder","newFrameConfigDecoder","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","allowWorkspaceTabExtract","workspaceSelectorDecoder","restoreWorkspaceDefinitionDecoder","emptyFrameDefinitionDecoder","frameConfig","frameInitConfigDecoder","frameInitProtocolConfigDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameInitializationContextDecoder","frameSummaryDecoder","eventTypeDecoder","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","frameBoundsDecoder","frameBoundsResultDecoder","getWorkspaceIconResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameSnapshotConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","setMaximizationBoundaryConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","elementResizeConfigDecoder","lockWindowDecoder","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","pinWorkspaceDecoder","setWorkspaceIconDecoder","workspacePinOptionsDecoder","shortcutConfigDecoder","shortcut","shortcutClickedDataDecoder","setMaximizationBoundaryAPIConfigDecoder","loadingAnimationConfigDecoder","webPlatformMethodName","webPlatformWspStreamName","OUTGOING_METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","INCOMING_METHODS","STREAMS","payloadDecoder","CLIENT_OPERATIONS","shortcutClicked","argsDecoder","OPERATIONS","createFrame","initFrame","getAllFramesSummaries","getAllWorkspacesSummaries","getAllLayoutsSummaries","importLayout","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","registerShortcut","unregisterShortcut","showLoadingAnimation","hideLoadingAnimation","Bridge","activeSubscriptions","pendingSubScriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","getPendingSubscription","activeSub","getActiveSubscription","getRegistryKey","pendingPromise","pendingSubscription","streamType","levelId","getBranchKey","gdSub","requestedArgumentsResult","keyToExecute","validatedPayload","callbacksCount","removePendingSubscription","onInternalMethodInvoked","verifiedAction","verifiedType","verifiedPayload","InteropTransport","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","platformTarget","privateData","ParentBuilder","wrapChildren","serializeChildren","BaseBuilder","getBuilder","validatedDefinition","childBuilder","WorkspaceBuilder","Row","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","getAllowSplitters","getWidthInPx","getHeightInPx","getIsPinned","getIsMaximized","getMaximizationBoundary","addParent","lockConfigResult","verifiedConfig","setHeight","refreshReference","processLocalSubscription","validatedConfig","Column","setWidth","Group","getAllowExtract","getAllowReorder","getAllowDropLeft","getAllowDropRight","getAllowDropTop","getAllowDropBottom","getAllowDropHeader","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","getWorkspaceData","getDataManager","dataManager","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","bundleTo","currentLockConfig","showWorkspaceLoadingAnimation","hideWorkspaceLoadingAnimation","windowParent","foundWindow","getWindowData","Window","checkIsWindowLoaded","getGdWindow","myId","getGDWindow","getParent","foundParent","getFrameData","Frame","getWorkspacesByFrameId","validatedOptions","transformStreamPayloadToWorkspace","myData","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","subscriptionConfig","BaseController","privateDataManager","createConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","remapChild","foundChild","foundChildren","grandChildren","innerFound","MainController","shortcutsController","createEmptyFrame","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","fetchWorkspace","getWorkspaces","iterateWorkspaces","foundWorkspace","matchingWorkspaces","getAllWorkspaceSummaries","workspaceSummaries","summariesForFrame","workspacesForFrame","allSummariesResult","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","frameSnapshot","createCoreEventSubscription","originalCB","wrappedCB","handleCoreSubscription","ended","ShortcutsController","_shortcuts","CallbackRegistry","onOperation","_baseController","_controllerInstance","baseController","_shortcutsController","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","frameData","setFrameData","windowPrivateData","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","composeAPI","getAllFrames","exportLayout","onSaved","onFrameOpened","processGlobalSubscription","checkIsInSwimlane","getWorkspaceByWindowId","getWorkspace","waitForFrame","myFrame","onFrameClosed","onWorkspaceOpened","onWindowMaximized","onWindowRestored","factoryFunction","GlueWorkspaces","reportWebVitals"],"sourceRoot":""}